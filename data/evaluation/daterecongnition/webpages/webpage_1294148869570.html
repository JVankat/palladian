<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2010" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2010" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="IBM WebSphere Portlet Factory 7 Documentation" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="migratingtowebsphereportalversion7.0" />
<meta name="DC.Language" content="en-us" />
<!-- Licensed Materials Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="./ibmdita.css" />
<link rel="stylesheet" type="text/css" href="./swg_info_common.css" />
<title>IBM WebSphere Portlet Factory 7 Documentation</title>
<link rel="stylesheet" type="text/css" href="xlation-alt.css" title="style" /></head>
<body>
<style type="text/css">
	  html, body{padding:0;margin:0;height:100%;}
          body{
  	      padding: 5px 20px 0 20px;
	      font: normal .9em/1.5em Helvetica, Arial, sans-serif;
	      line-height: 1;
          }
	
	  .nav{
              width: 275px;
              height: 600px;
              overflow: auto;
              position: fixed;
              top: 0;
              left: 0;
              border-width: 1px;
              border-style: solid; 
              margin-left: 10px; 
              margin-right: 10px;
          }
          .nav .currentTopic{
              color: #FF7F00;
          }
          .nav ul{
              margin-left: 0px;
              padding-left: 2px;
          }
          .nav li{
              list-style: none;
              padding-bottom: 4px;
              padding-left: 6px;
              padding-right: 4px;
          }
          .nav a{
              font-size: .9em;
              color: #105cb6;
              text-decoration: none;
              line-height: .9em;
          }
          .nav a:visited{
              text-decoration: none;
          }		
          .nested0{
              padding-left: 300px;
          }
    </style><style type="text/css" media="print">
        .nav {
	    visibility: hidden;
            float: none;
            height: 1px;
        }
        .nested0{
            padding: 0px;
        }
    </style><script type="text/javascript">
	var body;	
	var currentTopic;
		
	function init(){
		body = getBodyContent();		
		var toptoc = getElementsByClassName("toptoc", null, body)[0];
		var tocLinks = toptoc.getElementsByTagName("a");
		//modify the onclick for each toc entry to
		//handle style setting (used to highlight the current topic in nav)
            for(var i=0; i < tocLinks.length; i++){
			if(i==0){
				currentTopic = tocLinks[i];
				styleCurrentTopic(tocLinks[i]);
			}
			tocLinks[i].onclick = handleLinkClick;
		}
		
	}
	
	function styleCurrentTopic(topicLink){
		//set the style back to normal on currentTopic
		//currentTopic.style.color = "#105cb6";
		if(currentTopic){
			currentTopic.className = "";
		}
		//set the style of this topic to "currentTopic"
		//topicLink.style.color = "orange";
		topicLink.className = "currentTopic";
		//set this topic as currentTopic
		currentTopic = topicLink;		
	}
	
	function handleLinkClick(){
		styleCurrentTopic(this);
	}	
	
/*
	Developed by Robert Nyman, http://www.robertnyman.com
	Code/licensing: http://code.google.com/p/getelementsbyclassname/
*/
var getElementsByClassName = function (className, tag, elm){
if (document.getElementsByClassName) {
getElementsByClassName = function (className, tag, elm) {
elm = elm || document;
var elements = elm.getElementsByClassName(className),
nodeName = (tag)? new RegExp("\\b" + tag + "\\b", "i") : null,
returnElements = [],
current;
for(var i=0, il=elements.length; i<il; i+=1){
current = elements[i];
if(!nodeName || nodeName.test(current.nodeName)) {
returnElements.push(current);
}
}
return returnElements;
};
}
else if (document.evaluate) {
getElementsByClassName = function (className, tag, elm) {
tag = tag || "*";
elm = elm || document;
var classes = className.split(" "),
classesToCheck = "",
xhtmlNamespace = "http://www.w3.org/1999/xhtml",
namespaceResolver = (document.documentElement.namespaceURI === xhtmlNamespace)? xhtmlNamespace : null,
returnElements = [],
elements,
node;
for(var j=0, jl=classes.length; j<jl; j+=1){
classesToCheck += "[contains(concat(' ', @class, ' '), ' " + classes[j] + " ')]";
}
try	{
elements = document.evaluate(".//" + tag + classesToCheck, elm, namespaceResolver, 0, null);
}
catch (e) {
elements = document.evaluate(".//" + tag + classesToCheck, elm, null, 0, null);
}
while ((node = elements.iterateNext())) {
returnElements.push(node);
}
return returnElements;
};
}
else {
getElementsByClassName = function (className, tag, elm) {
tag = tag || "*";
elm = elm || document;
var classes = className.split(" "),
classesToCheck = [],
elements = (tag === "*" && elm.all)? elm.all : elm.getElementsByTagName(tag),
current,
returnElements = [],
match;
for(var k=0, kl=classes.length; k<kl; k+=1){
classesToCheck.push(new RegExp("(^|\\s)" + classes[k] + "(\\s|$)"));
}
for(var l=0, ll=elements.length; l<ll; l+=1){
current = elements[l];
match = false;
for(var m=0, ml=classesToCheck.length; m<ml; m+=1){
match = classesToCheck[m].test(current.className);
if (!match) {
break;
}
}
if (match) {
returnElements.push(current);
}
}
return returnElements;
};
}
return getElementsByClassName(className, tag, elm);
};
    
    function getBodyContent(){
        var body = document.getElementsByTagName("body")[0];
        return body;
    }

    window.onload = init;
</script><div id="nav" class="nav"><ul class="toptoc"><li><a href="#migratingtowebsphereportalversion7.0">IBM WebSphere Portlet Factory 7 Documentation</a></li><li><a href="#aboutthisedition">About this edition</a></li><li><a href="#c_designer_getting_started">Overview of IBM WebSphere Portlet Factory Designer</a><ul><li><a href="#c_whats_new">What's new in this release</a></li><li><a href="#relnotes">Release notes - IBM WebSphere Portlet Factory Version 7.0</a></li><li><a href="#getting_started_wpf">Getting started</a></li><li><a href="#continuedlearning">Continued learning</a></li><li><a href="#highleveloverviewofibmwebsphereportletfactorydesigner">High level overview of IBM WebSphere Portlet Factory Designer</a></li><li><a href="#new_project_welcome">Welcome to your new project</a></li><li><a href="#r_designer_ui">The IBM WebSphere Portlet Factory interface</a><ul><li><a href="#c_using_project_explorer">The Project Explorer and the Model Navigator views</a><ul><li><a href="#c_filter_project_explorer">Filtering the display in the Project Explorer</a><ul><li><a href="#t_dsply_model_nav">Displaying the Model Navigator view</a></li></ul></li><li><a href="#c_invoke_project_explorer">Invoking the Project Explorer</a></li></ul></li><li><a href="#c_profile_editor">Profile Editor</a></li><li><a href="#c_outline_view">About the Outline view</a><ul><li><a href="#c_builder_call_list">Builder call list</a><ul><li><a href="#c_builder_call_list_orgnz">About altering the organization of the builder call list</a></li><li><a href="#c_builder_palette">About using the builder picker</a><ul><li><a href="#c_update_builder_list">About updating the list of builders</a><ul><li><a href="#t_updt_bldrlist">Updating the list of builders</a></li></ul></li><li><a href="#t_dsply_bldrhelp">Displaying builder help</a></li><li><a href="#c_manage_favorites_dialog">About the Manage Favorites dialog</a></li></ul></li></ul></li><li><a href="#r_builder_call_right_click">Builder call popup menu</a></li></ul></li><li><a href="#c_using_model_views">About the model editor</a><ul><li><a href="#c_webapptree">About the Application Tree</a></li><li><a href="#t_preview_design">Previewing and interacting with your design</a><ul><li><a href="#c_working_designvw">Working with the Design and Pages panels</a></li></ul></li><li><a href="#c_working_sourcevw">Working with the Source panel</a><ul><li><a href="#t_mk_source_avail">Working with Source View and the Application Tree</a></li></ul></li><li><a href="#c_webapp_tree_rclick">Model editor popup menu</a></li><li><a href="#c_model_xml_view">The Model XML panel</a></li></ul></li><li><a href="#c_builder_call_editor">About using the builder call editor</a><ul><li><a href="#c_builder_call_naming">About builder call naming</a></li><li><a href="#c_choose_reference">About using the Choose Reference dialog</a><ul><li><a href="#c_builder_input">Specifying values for builder inputs</a></li><li><a href="#c_combine_indirect_reftypes">Combining indirect reference types</a></li><li><a href="#c_using_java_express">Using Java expressions for builder input</a></li><li><a href="#r_predefined_java">Pre-Defined Java Expressions</a></li><li><a href="#t_nest_concat_indirect_refs">Nesting and concatenating indirect references</a></li></ul></li><li><a href="#c_reference_chooser">The reference chooser</a><ul><li><a href="#c_theme_indirectref">Indirect references to theme property data</a></li><li><a href="#c_refchsr_spcfy_page_controls">Specifying page controls</a></li><li><a href="#c_refchsr_refmethods">References to methods</a></li><li><a href="#c_refchsr_refnest_concat">Indirect reference nesting and concatenation</a></li><li><a href="#c_refchsr_javaexpress_use">Java expression usage</a></li><li><a href="#c_refchsr_combotypes">Combinations of indirect reference types</a></li><li><a href="#c_refchsr_spec_lists">Specification of lists</a></li><li><a href="#t_add_expressions_choose_ref_dialog">Adding expressions to the Choose Reference dialog</a></li></ul></li><li><a href="#c_model_chooser">The model chooser</a></li><li><a href="#dataref">About data referencing techniques</a><ul><li><a href="#c_java_execute_actions">Executing model actions</a></li><li><a href="#c_java_processing_forms">Processing form submissions</a></li><li><a href="#c_java_session">Interacting with the session object</a></li><li><a href="#c_writing_methods">Writing methods</a></li><li><a href="#r_java_generate_urls">Generating URLs to model actions</a></li><li><a href="#r_java_get_properties">Getting system properties</a></li><li><a href="#java_getset_variables">Getting and setting variable values</a></li><li><a href="#c_java_request">About getting data from the request</a></li><li><a href="#c_java_response">Modifying the response</a></li></ul></li><li><a href="#r_ui_type_chooser">Choosing a Variable Type</a></li><li><a href="#t_cre_indrctnestref">Creating a nested indirect reference</a></li><li><a href="#t_del_rowbldrtbl">Deleting a row in a builder table</a></li><li><a href="#t_opn_bldrce_window">Opening the builder call editor in a separate window</a></li></ul></li><li><a href="#c_bestpractices_view">The  WebSphere Portlet
Factory Wiki view</a></li><li><a href="#c_resource_log_view">The Resource Log view</a><ul><li><a href="#r_resource_log_eventtypes">Types of Events Logged</a></li></ul></li><li><a href="#t_cre_run_configs">Creating run configurations</a><ul><li><a href="#c_run_config_dialog">Run Configuration dialog</a><ul><li><a href="#r_run_config_values">Run Configuration Field Values</a></li></ul></li></ul></li><li><a href="#t_del_run_configs">Deleting run configurations</a></li></ul></li><li><a href="#c_overview_packaging">About sharing project resources</a><ul><li><a href="#c_export_import">About using export and import</a></li><li><a href="#c_howdoi_team_dev">Your team development environment</a><ul><li><a href="#c_manage_code_distro">Management of code for distribution</a></li><li><a href="#c_source_control_management">Locating and laying-out a project for source control management</a></li><li><a href="#c_version_artifacts">Versioning artifacts</a><ul><li><a href="#c_files_excludescm">Files that are excluded from source control</a></li></ul></li></ul></li></ul></li><li><a href="#c_generating_webapps">Web application model execution</a><ul><li><a href="#c_webapp_exec">WebApp execution</a><ul><li><a href="#c_webapp_exec_actions">WebApp execution time actions</a></li><li><a href="#c_webapp_exec_path">WebApp Execution Path</a></li></ul></li><li><a href="#webapp_access">WebAppAccess</a><ul><li><a href="#c_java_using">Using Java and the WebAppAccess object</a></li><li><a href="#c_webappaccess_webapp">WebAppAcess with WebApps</a></li><li><a href="#c_webappaccess_linked_models">Linked models</a><ul><li><a href="#c_linked_model_nonsingleton">Linked models: non-session singleton</a></li><li><a href="#c_linked_model_singleton">Linked models: session singleton</a></li><li><a href="#c_webappaccess_of_linkedmodel">WebAppAccess of a linked model</a></li><li><a href="#c_webappaccess_free_linkedmodel">Freeing linked models</a></li></ul></li></ul></li><li><a href="#c_webapp_method_ljo">Method and LJO method calls</a><ul><li><a href="#c_call_ljo_method">Calling linked Java objects methods</a></li><li><a href="#c_call_ljomethod_model">Calling an LJO method on a linked model</a></li><li><a href="#c_call_webapp_method">Calling WebApp methods</a></li><li><a href="#c_call_webappmethod_model">Calling a WebApp method on a linked model</a></li></ul></li><li><a href="#c_overview_comm">Overview: communicating between models</a><ul><li><a href="#c_comm_events">Using events for inter-model communication</a></li><li><a href="#c_comm_session">About using the session for inter-model communication</a></li><li><a href="#c_comm_linked_model">About using linked models for inter-model communication</a></li></ul></li></ul></li><li><a href="#c_accessibility">Accessibility in IBM WebSphere Portlet Factory</a><ul><li><a href="#c_accessibility_wpfd">Accessibility features for IBM WebSphere Portlet Factory Designer</a></li><li><a href="#t_navkb_infocenter">Navigating the information center by keyboard commands</a></li></ul></li><li><a href="#contactingibmsupport">Contacting IBM Support</a></li><li><a href="#t_srch_infocenter">Improving the information center search</a></li><li><a href="#t_strt_pfdesigner">Starting IBM WebSphere Portlet Factory Designer</a></li></ul></li><li><a href="#c_installing">Installing IBM WebSphere Portlet Factory </a><ul><li><a href="#websphereportletfactoryproductinstallationguide"> WebSphere Portlet Factory Product Installation Guide</a><ul><li><a href="#wpf_install_over">1. Installation overview</a><ul><li><a href="#installationsteps">1.1 Installation steps</a></li><li><a href="#preinstall">1.2 Pre-installation information</a></li><li><a href="#existinginstallations">1.3 Existing installations of  WebSphere Portlet
Factory</a></li></ul></li><li><a href="#wpf_install_install">2. Installing  WebSphere Portlet
Factory</a><ul><li><a href="#step1-install">Step 1 - Installing  WebSphere Portlet
Factory on
Windows</a></li><li><a href="#installingonlinux">Step 1 - Installing  WebSphere Portlet
Factory on
Linux</a></li><li><a href="#installingwpfintoradrsaonlinux">Installing  WebSphere Portlet
Factory into Rational Application Developer/Rational Software Architect
on Linux</a></li><li><a href="#silentinstall">Installing silently from the command line</a></li><li><a href="#step2-run">Step 2 - Run the tutorial: creating a Web application project</a></li></ul></li><li><a href="#wpf_install_notes">3. Installation notes</a><ul><li><a href="#additionalconfigurationsfor">3.1 WebSphere Portal configuration</a></li><li><a href="#apachetomcat">3.2 Apache Tomcat</a></li><li><a href="#nativelangsupport">3.3 Native language support for Eclipse</a></li><li><a href="#doublebytelanguageissuesonlinux">3.4  Eclipse Double byte language issues on Linux</a></li></ul></li><li><a href="#wpf_install_remove">4. Removing IBM WebSphere Portlet Factory</a><ul><li><a href="#rmv_dsgnr">4.1 Removing  WebSphere Portlet
Factory Designer
for Windows</a></li><li><a href="#removingdesignerforlinux">4.1.1 Removing WebSphere Portlet
Factory Designer
for Linux</a></li><li><a href="#rmv_prjwarfls">4.2 Removing project WAR files</a></li></ul></li><li><a href="#wpf_install_upgrade">5. Upgrading plug-in files, projects, and portlets</a><ul><li><a href="#upgrdprjct">5.1 Upgrading a project from versions 5.12, 6.0.0, 6.0.1, 6.0.2,
6.1.0, 6.1.2, and 6.1.5</a></li><li><a href="#upgrdjsr168">5.1 Upgrading portlets to the  Java Portlet
Standard API</a></li><li><a href="#t_upgrd_portsrctgt">5.2 Regenerating a portlet model</a></li><li><a href="#wpf_install_license">6. Enabling IBM Tivoli License Manager tracking</a></li></ul></li><li><a href="#wpf_install_jaws">7. Using JAWS For Windows during installation</a></li></ul></li><li><a href="#t_install_expeditor">IBM Lotus Expeditor 6.1.1
install and setup</a></li><li><a href="#c_getstart_int_ext">Getting started with integration extensions</a><ul><li><a href="#lcx_getting_started">Lotus Collaboration
Extension</a></li><li><a href="#peoplesoft_getting_started">PeopleSoft Extension</a></li><li><a href="#sap_getting_started"> SAP Extension</a></li><li><a href="#siebel_getting_started">Siebel Extension </a></li></ul></li></ul></li><li><a href="#c_configuring">Configuring IBM WebSphere Portlet Factory</a><ul><li><a href="#t_change_prefs">Changing IBM WebSphere Portlet Factory Designer
preferences</a><ul><li><a href="#t_display_factory_pref">Displaying IBM WebSphere Portlet Factory preferences</a></li><li><a href="#t_restore_prefs">Restoring the IBM WebSphere Portlet Factory Designer
default preferences</a></li><li><a href="#c_setting_props">About preferences</a><ul><li><a href="#c_override_files">override.properties files</a></li><li><a href="#r_designer_editing_prefs">IBM WebSphere Portlet Factory Designer editing
preferences</a></li></ul></li></ul></li><li><a href="#t_mod_jdk">Modifying the server JDK</a></li><li><a href="#t_mod_server_props">Modifying server.properties</a><ul><li><a href="#r_setting_factory_properties">Setting IBM WebSphere Portlet Factory properties</a></li></ul></li><li><a href="#t_mod_start_script_app_server">Modifying the start script for the application server</a></li><li><a href="#t_cnfg_consolewin">Configuring a console window for IBM WebSphere Portlet Factory</a><ul><li><a href="#devenv_config">Configuration of a development environment</a></li></ul></li><li><a href="#devenv_adding_jars">Using existing JAR files with IBM WebSphere Portlet Factory projects</a></li><li><a href="#t_cnfg_dynclssloading">Configuring dynamic class loading</a><ul><li><a href="#c_configure_dynamic_class_loading">About configuring dynamic class loading</a></li><li><a href="#c_devenv_eclipse_cload">Dynamic class loading</a></li></ul></li><li><a href="#t_devenv_access_javadoc">Accessing Javadoc in Eclipse-based IDEs</a><ul><li><a href="#devenv_eclipse">Eclipse-based IDEs</a></li></ul></li><li><a href="#t_cnfgr_pfhelp">Configuring Help Display</a></li><li><a href="#t_chng_jre_wasce">Changing JRE in IBM WebSphere Application Server Community
Edition (WAS CE)</a></li></ul></li><li><a href="#c_samples">Samples for IBM WebSphere Portlet Factory</a></li><li><a href="#c_learning_wpf">Tutorials for IBM WebSphere Portlet Factory</a><ul><li><a href="#TutorialBasics_Quick_Start_WASCE">Quick Start for using IBM WebSphere Portlet Factory with IBM WebSphere Application
Server CE</a></li><li><a href="#TutorialBasics_Create_Project">Tutorial – Creating a  WebSphere Portlet
Factory Project</a></li><li><a href="#TutorialBasics_Simple_Portlet">Tutorial – Creating your first application</a></li><li><a href="#tutorial-usingprofilinginyournewapplication">Tutorial - Using profiling in your new application</a></li><li><a href="#tutorial-creatingadatabaseapplication">Tutorial - Creating a database application</a></li><li><a href="#QS_LWF_Mashup_Local">Quick Start: Publishing your first widget</a></li><li><a href="#QS_LWF_Mashup_Remote">Quick Start: Your first widget with production publishing</a></li></ul></li><li><a href="#c_dev_web_app">Developing Web applications with IBM WebSphere Portlet Factory </a><ul><li><a href="#t_bld_soaapp">Building a service-oriented application</a><ul><li><a href="#c_build_present_layer">Building a presentation layer</a></li><li><a href="#t_cre_service_provider_model">Creating a service provider model</a><ul><li><a href="#c_build_service_layer">About building a service layer</a></li><li><a href="#c_data_service_models">The data service models</a></li></ul></li><li><a href="#c_soa_app_example">Example – building an SOA application</a></li><li><a href="#c_addtl_soa_features">Additional SOA features available</a></li></ul></li><li><a href="#c_working_with_projects">Working with IBM WebSphere Portlet Factory projects</a><ul><li><a href="#t_cre_portlet_factory_project">Creating an IBM WebSphere Portlet Factory project</a><ul><li><a href="#c_bld_portlet_factory_project">Building an IBM WebSphere Portlet Factory project</a></li><li><a href="#c_cre_project_finished">About creating your project</a></li><li><a href="#c_mod_project">Modification of an IBM WebSphere Portlet Factory project</a></li><li><a href="#c_working_remote_project">About working with a remote project</a></li></ul></li><li><a href="#t_move_resources">Moving resources</a></li><li><a href="#t_rename_builder_profile_entry">Renaming a builder or profile entry</a></li><li><a href="#t_rename_resources">Renaming resources</a><ul><li><a href="#c_refactoring">Refactoring</a><ul><li><a href="#c_project_explorer_refactor">Refactoring from the Project Explorer</a></li></ul></li></ul></li><li><a href="#t_cre_pfarchive">Creating an archive</a></li><li><a href="#t_mprt_archive">Importing an archive file</a></li><li><a href="#addingafeaturesettoanibmwebsphereportletfactoryproject">Adding a feature set to a project </a></li><li><a href="#t_del_portlet_factory_featureset">Deleting IBM WebSphere Portlet Factory feature
sets</a></li><li><a href="#t_set_bfileencode">Setting file character encoding</a></li></ul></li><li><a href="#c_working_with_models">Creating and opening models</a><ul><li><a href="#t_ui_new_model">Creating a new model</a><ul><li><a href="#c_opn_model">About opening a model</a></li></ul></li><li><a href="#t_test_service_provider">Testing a service provider</a></li><li><a href="#t_adding_builder_calls">Adding builder calls to a model</a></li><li><a href="#t_run_bldrclleditor">Running a builder call editor</a></li><li><a href="#t_cvt_builder">Converting a builder call to another type</a></li><li><a href="#t_sort_bldrcalllst">Sorting and filtering in the builder call list</a></li><li><a href="#t_close_model">Closing a model</a></li><li><a href="#t_del_model">Deleting a model</a></li><li><a href="#t_rename_model">Renaming a model</a></li><li><a href="#t_save_model">Saving a model</a></li><li><a href="#r_running_models">Running models</a><ul><li><a href="#c_exec_method_in_model">About executing a specific method in the model</a></li><li><a href="#t_run_model_active_model_editor"> Running the model in the active model editor</a></li><li><a href="#t_run_model_from_browser">Running a model from a browser</a></li><li><a href="#t_run_model_with_profiles">Running a model with profiles</a></li><li><a href="#t_run_named_model">Running a named model</a></li></ul></li><li><a href="#t_cmpr_models">Comparing models</a></li><li><a href="#t_place_model_container">Placing a model within a container</a><ul><li><a href="#c_model_container_overview">About using models within containers</a></li><li><a href="#c_model_container_error_handling">Using error handling with models in containers</a></li></ul></li></ul></li><li><a href="#overview_pages_forms">Creating pages and forms</a><ul><li><a href="#c_creating_pages_forms">Importing existing pages and forms</a><ul><li><a href="#c_import_html_jsp">Importing HTML and JSP pages into the model</a></li><li><a href="#c_display_data">Displaying data</a></li></ul></li><li><a href="#t_mod_layout_page">Modifying the layout of data page elements</a></li><li><a href="#c_data_entry_validation">Validating data fields</a><ul><li><a href="#t_mod_fldvalidtnset">Modifying field validation settings</a></li></ul></li><li><a href="#t_mod_flddsplyset">Modifying field display settings</a><ul><li><a href="#c_data_def_files">About rich data definition files</a><ul><li><a href="#r_data_def_props">Data definition properties</a></li><li><a href="#c_cre_lookup">Creating a Lookup Table</a></li><li><a href="#c_data_def_create_groups">Groups of data definition fields</a></li><li><a href="#c_data_def_inherit">Inheriting data definitions from a base definition file</a></li></ul></li><li><a href="#t_hidshow_colfld">Hiding and showing a column or field</a></li><li><a href="#t_mod_colsortyp">Modifying column sorting</a></li><li><a href="#t_merge_colfld">Merging columns or fields</a></li><li><a href="#t_chng_date_format_other_field">Changing the format of a date or other type of field</a></li><li><a href="#t_cre_data_def_file_reuse">Creating a data definition file for reuse</a></li></ul></li><li><a href="#c_overview_pages">Creating pages</a><ul><li><a href="#t_use_on_named_tag_technique"> Using the On Named Tag technique</a></li><li><a href="#t_use_relative_to_named_tag_technique">Using the relative to named tag technique</a></li><li><a href="#r_locating_builders">Locating control builder calls on pages</a><ul><li><a href="#r_locating_builders_advanced">Using the advanced technique for locating builders</a></li><li><a href="#r_profiling_builder_location">Profiling Builder Location Inputs</a></li></ul></li><li><a href="#c_guidelines_javascript">JavaScript guidelines: coding defensively</a></li><li><a href="#c_guidelines_jsp">JavaServer pages guidelines</a><ul><li><a href="#c_process_redirect">Processing redirections</a></li></ul></li><li><a href="#t_replace_html_with_builder">Replacing HTML controls with builder calls</a></li></ul></li><li><a href="#t_cre_form">Creating forms</a><ul><li><a href="#c_forms_css_styles">About specifying CSS styles for form elements</a><ul><li><a href="#r_gen_style_names">Use of the generated style names</a></li></ul></li><li><a href="#t_cre_inputform">Creating an input form</a><ul><li><a href="#c_overview_forms">Overview: creating forms</a></li><li><a href="#c_forms_input">Creation of input forms</a></li><li><a href="#c_forms_override_builders">About overriding form behavior with additional builder calls</a></li><li><a href="#c_forms_using_html">About using your own HTML form pages</a></li></ul></li><li><a href="#t_mod_inputform">Modifying the input form</a><ul><li><a href="#c_forms_altering_layout">About altering form layout</a></li></ul></li></ul></li><li><a href="#t_forms_multivar_forms">Creating forms from multiple variables</a></li><li><a href="#t_forms_initialize">Resetting a form</a></li><li><a href="#t_dsply_iformxmlvar">Displaying an input form based on an XML variable</a><ul><li><a href="#c_example_simple_forms">Example: simple forms</a></li><li><a href="#c_example_forms_xml">Simple forms: sample XML</a></li></ul></li><li><a href="#t_dsply_xmlvarblcont">Displaying the contents of an XML variable</a></li><li><a href="#t_mk_formronly">Making form fields read-only</a></li><li><a href="#t_add_bldrcallsubmit">Adding a builder call to submit the form</a></li><li><a href="#t_add_datapgbldrcall">Adding the Data Page builder call to the model</a></li><li><a href="#t_cre_smplpgform">Creating a sample HTML page for the form</a></li><li><a href="#t_cre_propfileformfld">Creating a properties file for all form fields</a></li><li><a href="#t_mod_labeloneform">Modifying the label for a single form element</a><ul><li><a href="#c_forms_input_labels">About setting labels for form fields</a></li></ul></li><li><a href="#t_gen_htmlpgfrdata">Generating an HTML page from the data</a></li><li><a href="#t_use_tblinform">Using tables in forms</a><ul><li><a href="#t_use_tblinform1">Allowing the Data Page builder to construct the table</a></li><li><a href="#t_use_tblinform2">Creating the HTML table yourself</a></li><li><a href="#t_use_tblinform3">Allowing the HTML page to determine the elements to display in the
table and the table's appearance</a></li></ul></li><li><a href="#forms_display_data">Displaying data with the Data Page builder</a><ul><li><a href="#c_determine_data_to_display">About determining the data to display</a></li></ul></li><li><a href="#t_set_dattimappwide">Setting up an application-wide date and time format</a></li><li><a href="#t_valdt_datetimedfield">Validating with the Data Field Modifier builder</a></li><li><a href="#t_valdt_datetimedpage">Validating date and time with the Date/Time Formatter builder</a></li><li><a href="#t_forms_format_translate">Formatting and validating form values</a><ul><li><a href="#c_howdoi_format_datetime">Formatting Date and Time values</a><ul><li><a href="#c_valid_datetime">Validate Date or Time user input</a></li></ul></li><li><a href="#c_cre_formatter_class">Creating a formatter class</a><ul><li><a href="#c_iinputfieldformatter">The IInputFieldFormatter interface</a></li><li><a href="#r_formatter_implement">A format method implementation</a></li><li><a href="#r_formatter_infrastructure">Formatter infrastructure</a></li><li><a href="#r_translate_implement">A Translate Method Implementation</a></li><li><a href="#r_validate_implement">A Validate Method Implementation</a></li><li><a href="#r_source_forms_simpleformatter">SimpleFormatter source</a></li></ul></li></ul></li></ul></li><li><a href="#t_cre_tbladdrows">Creating a table that supports adding rows</a><ul><li><a href="#t_cre_tbldeleterows">Creating a Table That Incorporates Delete Rows</a></li><li><a href="#t_add_tblcolumns">Adding Columns to a Table</a></li><li><a href="#t_add_othersrctotbl">Adding data from another source to a table on which a
data page operates</a></li></ul></li><li><a href="#t_chng_themeprop">Changing a theme property for a project</a><ul><li><a href="#t_edit">Edit the current default theme file</a></li><li><a href="#t_extend">Extend the current default theme file</a></li><li><a href="#c_themes">Themes and user interface control</a></li><li><a href="#t_cre_themefile">Creating a theme file</a></li><li><a href="#t_set_theme">Setting the global theme</a></li></ul></li><li><a href="#c_overview_data_services">Working with data services</a><ul><li><a href="#c_howdoi_data_services">Using data services</a><ul><li><a href="#c_operation_add_custom_input">Adding custom input or result processing to an operation</a></li><li><a href="#c_service_mapping_registry_file">Usage of a Service Mapping Registry File</a></li><li><a href="#c_smrf_mappings">Registry mapping file mappings</a></li><li><a href="#c_smrf_redirect_refs">Redirecting service provider references</a></li><li><a href="#c_smrf_selectors">Registry mapping file selectors</a></li><li><a href="#c_transform_service_data">Transforming data returned by a service</a></li></ul></li><li><a href="#t_add_action_method_ljo_to_operation">Using an action list, method, or LJO method in an operation</a></li><li><a href="#t_cre_op_integration_builder">Creating an operation based on an integration builder</a></li><li><a href="#t_doc_data_service">Data service documentation</a></li><li><a href="#t_work_disconnected_backend">Working disconnected from back-end data</a></li></ul></li><li><a href="#c_services_overview">Using web services</a><ul><li><a href="#t_add_service_call">Adding a web service call to a model</a><ul><li><a href="#c_service_call">Web service calls in a model</a></li><li><a href="#c_service_publish">Publishing web services</a></li></ul></li><li><a href="#t_call_web_service">Calling a web service</a></li><li><a href="#t_create_composite_services">Creating composite web services</a><ul><li><a href="#c_creating_services">About creating web services</a><ul><li><a href="#c_create_schema_complex_argreturn">Creating schemas for complex argument and return types</a></li><li><a href="#c_find_wsdl_docs">About finding WSDL documents for services</a></li></ul></li></ul></li><li><a href="#t_find_web_services">Finding a web service</a></li></ul></li><li><a href="#c_howdoi_database">Working with a database</a><ul><li><a href="#t_cfg_smp_datasource">Configuring a sample datasource</a><ul><li><a href="#taskWedOct221401582008">Configuring a sample datasource onWebSphere Application
Server  Community Edition
(WAS CE)</a></li><li><a href="#forwas">Configuring a sample datasource on WebSphere Application
Server </a></li></ul></li><li><a href="#t_bld_sqlsttmntdbexplrr">Building an SQL statement</a><ul><li><a href="#r_sql_builders">The SQL Builders</a></li><li><a href="#c_db_connect">Connecting to a database</a></li><li><a href="#c_exec_sql_statement">Execution of an SQL statement</a></li><li><a href="#c_db_cache_query">Caching query results</a></li><li><a href="#c_db_init_transaction">Initiate a transaction and display the results</a></li><li><a href="#c_db_optimize">Optimization of database operations</a></li></ul></li><li><a href="#t_add_sqlcallbldrxstmdl">Adding an SQL Call builder to an existing model</a><ul><li><a href="#c_add_sqldatsrcbldxstmdl">About adding an SQL Datasource builder to an existing model</a></li></ul></li><li><a href="#t_cre_reltnldb">Creating a relational database model</a></li><li><a href="#t_dsply_resultset_oracle">Displaying result sets from Oracle stored procedures</a></li><li><a href="#t_edt_sqlsttmntpreprd">Working with a prepared SQL statement</a></li><li><a href="#t_imp_dbtransaction">Implementing a database transaction</a></li><li><a href="#t_set_cachngdbquery">Setting up caching for a database query</a></li><li><a href="#t_trnsfrm_stmntres_sqlst">Transforming statement results with the SQL statement builder</a></li></ul></li><li><a href="#c_overview_events">Handling events</a><ul><li><a href="#t_events_declaring">Declaring events</a><ul><li><a href="#c_events_handling">About handling events</a></li></ul></li><li><a href="#t_fire_evntmdl">Firing an event at a specific model</a><ul><li><a href="#c_events_firing">About firing events</a></li></ul></li><li><a href="#t_fire_evnttrgt">Firing an event at a specified target</a></li><li><a href="#t_events_passing_args">Passing arguments to an event handler</a><ul><li><a href="#c_passing_arguments">Passing arguments to actions</a></li></ul></li></ul></li><li><a href="#c_error_handling_about">Handling errors in web applications</a><ul><li><a href="#t_hndl_errormodel">Catching and handling an error in a model</a><ul><li><a href="#c_howdoi_errors">Catch and handle an error in a model</a></li><li><a href="#c_handle_errors_ljo">Handling errors in linked Java object (LJO) methods</a></li><li><a href="#c_log_errors">Logging errors</a></li><li><a href="#c_mod_unhandled_error_page">About modifying IBM WebSphere Portlet Factory's
unhandled error page</a></li><li><a href="#r_log4j_categories">Log4j categories</a></li></ul></li><li><a href="#r_replace_the_default_error_page">Replacing the Default Error Page</a></li><li><a href="#t_dsply_errorpgcustom">Displaying a custom error page for unhandled errors</a></li><li><a href="#t_catch_timeout">Catching a timeout exception</a><ul><li><a href="#c_handle_errors_advanced">Advanced error handling techniques</a></li><li><a href="#c_example_catching_timeout">Example: catching a timeout exception</a></li></ul></li></ul></li><li><a href="#c_overview_ws_portlets">Developing portlets</a><ul><li><a href="#t_cre_coopprtltsrcmdl">Creating a cooperative portlet source model</a><ul><li><a href="#c_howdoi_coop">How do I use cooperative portlets?</a></li><li><a href="#c_overview_ibmportlet">Introduction to portlets</a><ul><li><a href="#c_overview">IBM WebSphere Portlet Factory overview</a><ul><li><a href="#c_cre_portlets">Creating portlets</a></li><li><a href="#c_dev_portlets">Developing portlets with IBM WebSphere Portlet Factory</a></li><li><a href="#c_portlet_adapter">IBM WebSphere Portlet adapter</a></li></ul></li><li><a href="#c_portlet_appearance">Designing the appearance of portlet pages</a></li><li><a href="#c_access_portlet_api">Access to portlet APIs from a model</a></li><li><a href="#c_develop_portlets">Development and Production WAR files</a></li><li><a href="#c_restrict_modelsasportlets">Restrictions on models used as portlets</a></li></ul></li></ul></li><li><a href="#t_cre_coopprtlttgtmdl">Creating a Cooperative Portlet Target Model</a></li><li><a href="#t_snd_coopprtltevnttgt">Sending cooperative portlet events to target portlets</a><ul><li><a href="#c_implement_interportlet_comm">Implementing inter-portlet communication</a></li></ul></li><li><a href="#t_change_portlet_title">Changing a portlet title or description</a></li><li><a href="#t_cre_c2arcvrprtlt">Creating a Click to Action receiver portlet</a><ul><li><a href="#c_howdoi_c2a">How do I use Click-to-Action portlets?</a><ul><li><a href="#c_ibmportlet_c2a_enable">Enabling Click-to-Action</a><ul><li><a href="#c_create_c2a_source_model">About creating a C2A source model</a></li><li><a href="#c_create_c2a_target_model">About creating a C2A target model</a></li><li><a href="#c_view_c2a_portlet">Viewing the C2A portlet</a></li><li><a href="#publishingclick-to-actionandcooporativeportlets">Publishing Click-to-action and Cooperative portlets</a></li></ul></li></ul></li></ul></li><li><a href="#t_crec2asndrprtlt">Creating a Click to Action sender portlet</a></li><li><a href="#t_snd_c2aevnttgt">Sending a Click to Action event to multiple portlets</a></li><li><a href="#c_develop_websphere_portlet">Development of a WebSphere portlet</a><ul><li><a href="#c_portlet_dply_summary">Summary of development steps</a></li><li><a href="#c_develop_jsr_portlet">Development of JSR 286 and JSR 168 portlets on IBM WebSphere Portal server</a></li><li><a href="#c_build_portlet_war">About exporting a portlet WAR file</a></li><li><a href="#c_rebuild_dev_war">Rebuilding application server WAR files</a></li></ul></li><li><a href="#c_portlet_config_edit">Providing configure and edit functionality</a></li><li><a href="#c_ibmportlet_profiling">Profiling a portlet</a><ul><li><a href="#t_cre_config_edit_model">Creating a custom model for configure and edit modes</a><ul><li><a href="#c_config_edit_config_bc">Configuring the Portlet Adapter builder call</a><ul><li><a href="#c_config_edit_implement">Implementing portlet Configure and Edit modes</a></li><li><a href="#c_config_edit_override">Overriding the default Configure and Edit display</a><ul><li><a href="#c_config_edit_override_model">Using a different model for the Configure or Edit mode</a></li><li><a href="#c_config_edit_override_page">Using a different HTML page for the Configure and Edit modes</a></li></ul></li></ul></li></ul></li><li><a href="#t_profiling_group">Profiling based on the group</a><ul><li><a href="#c_profiling_execmode">Profiling based on execution-mode with the WPS Execution Mode
handler</a></li></ul></li><li><a href="#t_profiling_userlocale">Profiling based on a user's locale</a></li></ul></li><li><a href="#c_overview_rich_client_platforms">Overview of IBM WebSphere Portlet
Factory support
for rich client platforms</a><ul><li><a href="#overviewofbuildingwpfbasedwebapplicationbundleswabforrichclientplatformsrcp">About Building IBM WebSphere Portlet
Factory-based
Web Application Bundles (WAB) for Rich Client Platforms (RCP)</a><ul><li><a href="#c_install_notes">IBM Lotus
Notes 8 install
and setup</a></li><li><a href="#c_wab_add_with_notes_cae">Adding a IBM WebSphere Portal WAB
to your IBM Lotus
Notes 8
installation with the Lotus
Notes Composite
Application Editor (CAE)</a></li><li><a href="#c_wab_addtl_info">Additional information</a></li><li><a href="#c_wab_build_compapps_provis">Building IBM WebSphere Portal composite
applications and provisioning to IBM Lotus Expeditor/IBM Lotus
Notes 8</a></li><li><a href="#c_wab_build_script_gen_rcp">IBM WebSphere Portlet Factory build script
and templates for generating the RCP WAB/Feature/UpdateSite</a></li><li><a href="#c_wab_deploy_to_expeditor">Publishing IBM WebSphere Portlet Factory-built
WABs directly to IBM Lotus Expeditor</a></li><li><a href="#c_wab_deploy_to_notes">Publishing IBM WebSphere Portlet Factory-built WABs and other
local updates directly to IBM Lotus
Notes 8 standard
clients</a></li><li><a href="#c_wab_enbl_updateui_notes">Enabling the update manager UI in IBM Lotus
Notes 8
to develop or test directly against it</a></li><li><a href="#c_wab_fact_gen_update_site">IBM WebSphere Portlet Factory generated
update site for the Rich Client WAB and feature</a></li><li><a href="#c_wab_proj_build_menu_action">IBM WebSphere Portlet Factory Project
Build menu action</a></li><li><a href="#c_wab_rcpprops_enable_gen">IBM WebSphere Portlet Factory project
properties for RCP – enable RCP WAB generation for a project</a></li><li><a href="#c_wab_troubleshoot">Troubleshooting</a></li><li><a href="#c_rcp_limits_diffs">Known Rich Client Platform limitations and differences</a></li><li><a href="#c_rcp_migrate_apps">Caveats on migrating applications from WebSphere Portal to IBM Lotus Expeditor/Lotus
Notes 8</a></li><li><a href="#c_rcp_wed_dom_reqs">IBM Lotus Expeditor and Lotus
Notes 8 platform
requirements and pre-requisites</a></li></ul></li></ul></li></ul></li><li><a href="#unique_227257649">Developing widgets with IBM WebSphere Portlet Factory</a><ul><li><a href="#t_cre_widget_events">Using widget events</a><ul><li><a href="#c_overview_ibmwidget">Introduction to widgets</a></li><li><a href="#c_config_edit_implement_widget">Implementing Widget Customize mode</a></li><li><a href="#c_implement_interwidget_comm">Implementing inter-widget communication</a></li><li><a href="#c_overview_war">Server configurations for widgets</a></li></ul></li><li><a href="#t_cre_config_edit_model_widget">Creating a custom model for Customize mode</a><ul><li><a href="#c_config_edit_config_widget">Configuring the Widget Adapter builder call</a><ul><li><a href="#c_config_edit_override_widget">Overriding the default Customize display</a><ul><li><a href="#c_config_edit_override_model_widget">Using a different model for customization</a></li></ul></li></ul></li></ul></li><li><a href="#c_ibmwidget_profiling">Profiling a widget</a></li><li><a href="#t_cre_condit_code">Creating conditional code based on execution mode</a></li></ul></li><li><a href="#c_overview_localization">Localizing applications</a><ul><li><a href="#t_import_localized_pages_into_app">Import localized pages into my application</a><ul><li><a href="#c_localization_content">About localizing content</a></li></ul></li><li><a href="#t_import_localized_pages_into_web_apps">Importing localized pages into the web application</a></li><li><a href="#t_export_resbundle">Exporting a resource bundle</a></li><li><a href="#t_localize_data_def_props">Localizing data definition properties</a></li><li><a href="#t_localize_ui">Localizing user interface controls</a></li><li><a href="#t_localize_portlettitle">Localizing portlet titles</a></li></ul></li><li><a href="#profiling_overview">Profiling IBM WebSphere Portlet Factory applications</a><ul><li><a href="#t_opn_appldprofvw">Opening the applied profiles view</a><ul><li><a href="#r_profiling_view_dialogs">IBM WebSphere Portlet Factory Designer
Profiling View and Dialogs</a></li></ul></li><li><a href="#t_cre_prof">Creating a profile</a><ul><li><a href="#c_create_profile">About profile creation</a><ul><li><a href="#c_create_delete_profile">Create and delete profiles</a></li><li><a href="#c_create_profile_hierarch">About creating hierarchical profiles</a></li><li><a href="#c_generated_file_names">About generated file names</a></li></ul></li></ul></li><li><a href="#t_del_prof">Deleting a profile</a></li><li><a href="#t_edt_prof">Editing a profile</a></li><li><a href="#t_aply_proftomdl">Applying profiles to a model</a></li><li><a href="#t_profile_builder_call_input">Profiling a builder call input</a><ul><li><a href="#c_profiling_bc_inputs">Profiling builder call inputs</a></li><li><a href="#c_profiles">Profiles</a></li><li><a href="#c_profile_enable">About profiling your builder inputs</a><ul><li><a href="#r_mod_profile_entry_values">Modifying profile entry values</a></li></ul></li><li><a href="#c_associate_model_request_profile">Associating model requests with profiles</a></li></ul></li><li><a href="#t_removing_profile">Removing profiling</a></li><li><a href="#t_add_profile_entry">Adding a profile entry</a><ul><li><a href="#c_profile_entries">Profile entries</a><ul><li><a href="#c_profile_entries_exec_time">Using execution time profile entries</a></li><li><a href="#r_profile_entry_values">Values for profile entries</a></li><li><a href="#c_spec_choices_profiles">About specifying choices in profile manager</a><ul><li><a href="#r_psm_values">Populating Profile Controls with Values</a></li></ul></li><li><a href="#c_cre_prof_value_setter">Creating profile entry value setters</a></li><li><a href="#c_prof_api_manip">Profile API manipulation</a></li><li><a href="#c_preview_prof_enable">Previewing the effects of profile-enablement</a></li><li><a href="#c_profile_child_retrieval">Profile child retrieval</a></li><li><a href="#r_profiling_access_profile">Accessing profiles from linked Java object methods</a></li><li><a href="#c_profile_retrieval">Profile retrieval</a></li><li><a href="#c_using_execution_time_profile_data">Using execution time profile data</a><ul><li><a href="#c_profile_runtime">Builder inputs that can use runtime profile values</a></li></ul></li><li><a href="#c_container_node_flag">Container node flag</a></li></ul></li></ul></li><li><a href="#t_view_profile_entry_inherit">View profile entry value and inheritance</a><ul><li><a href="#c_customize_profile">Customization of profiles</a><ul><li><a href="#c_display_selected_profile_entry">Display of selected profile entries</a></li><li><a href="#c_edit_profile_entry">Edit a profile entry</a></li><li><a href="#c_effect_profiling_model">The effects of profiling on a model</a></li><li><a href="#c_manage_profiles_editor">Manage Profiles editor</a></li><li><a href="#c_profile_data_table">Profile data table</a></li></ul></li></ul></li><li><a href="#t_del_profile_entry">Deleting a profile entry</a></li><li><a href="#t_mod_profile_entry">Modifying a profile entry</a></li><li><a href="#t_see_profsetcombntn">Seeing how the profiles affect the generated web application</a><ul><li><a href="#c_activate_profile">About previewing the effects of profiles</a></li></ul></li><li><a href="#t_cre_profsetcombntn">Creating a profile set combination</a></li><li><a href="#t_aply_profsetcombntn">Applying a profile set combination</a></li><li><a href="#t_rem_profsetcombntn">Removing a profile combination set</a></li><li><a href="#t_cre_profile_set_designer"> Creating a profile set from the IBM WebSphere Portlet Factory Designer
toolbar</a><ul><li><a href="#c_profile_set">Profile sets</a><ul><li><a href="#c_new_profileset">Creating and opening profile sets</a></li><li><a href="#c_profile_set_structure">Profile set structure</a></li><li><a href="#c_fully_qual_prof_name">Using a fully qualified profile name in a profile set</a></li><li><a href="#c_specify_value_setter">Specifying a value setter for the profile set</a><ul><li><a href="#c_localize_value_setter">Localization and the Profile Custom Value class</a></li></ul></li></ul></li></ul></li><li><a href="#t_cre_profile_set_profile">Creating a profile set from the Profile Input dialog</a></li><li><a href="#t_del_profile_set">Deleting a profile set</a></li><li><a href="#t_list_avail_profile_sets">Listing available profile sets</a></li><li><a href="#t_open_profile_set">Opening a profile set</a></li><li><a href="#t_sav_profile_set">Saving a profile set</a></li><li><a href="#t_set_prof_select_handler">Setting the profile selection handler for a profile set</a><ul><li><a href="#r_prof_select_handler">Profile selection handlers</a></li><li><a href="#c_profile_selection_handlers">Profile selection and storage management</a><ul><li><a href="#c_profile_selection_handler">About setting the profile selection handler</a></li><li><a href="#c_profselhandlers_defs">Handler definition files</a></li><li><a href="#c_profileselection_interface">Using the ProfileSelection interface</a><ul><li><a href="#r_profileselection_class_xmp">Example: Profile Selection Class</a></li><li><a href="#r_profileselection_example">Example: Profile Selection Interface</a></li></ul></li><li><a href="#c_segmentlist_interface">The SegmentList interface</a><ul><li><a href="#c_cre_segmentlist_class">Creating a class that implements the SegmentList interface.</a></li><li><a href="#r_segmentlist_example">Example: SegmentList Interface</a></li></ul></li></ul></li></ul></li><li><a href="#t_cre_handler_definition">Creating a handler definition</a><ul><li><a href="#c_cre_prof_select_handler">Creating profile selection handlers</a><ul><li><a href="#c_replace_def_select_handler">Replacing the default profile selection handler</a></li><li><a href="#c_sample_profileselectionhandler">Sample profile selection handler</a></li><li><a href="#c_extend_selectionhandlerbase_class">Extending the SelectionHandlerBase class</a></li><li><a href="#c_impl_segmentlist_interface">Implementing the SegmentList interface</a></li></ul></li></ul></li><li><a href="#t_setting_up_db_storage">Setting up database storage</a><ul><li><a href="#t_config_pfuser_oracle">Configuring an IBM WebSphere Portlet Factory user
on Oracle</a></li><li><a href="#t_mod_factory_props_db">Modifying IBM WebSphere Portlet Factory properties
for database operation</a></li><li><a href="#t_verify_jbdc_path">Verifying JDBC driver paths</a></li><li><a href="#t_migrate_profile_set">Migrating profile sets to and from a database</a><ul><li><a href="#c_prop_file_migrate">Use of a property file to migrate profile sets</a></li></ul></li><li><a href="#c_profile_selection_and_storage">Profile selection and storage mechanisms</a><ul><li><a href="#c_factory_wide_profile_selection_handler">Default profile selection handler</a><ul><li><a href="#c_userdef_profvals">User defined profile values</a></li><li><a href="#r_custvalclass_xmp">Example: custom value class implementation</a></li><li><a href="#r_profileupdatevalue_xmp">Example: ProfileUpdateValue Interface</a></li></ul></li><li><a href="#c_db_storage_profile">Database storage of profile information</a><ul><li><a href="#r_srvr_prop_config_xmp">Example: Properties that Configure the Server</a></li></ul></li><li><a href="#c_using_sample_handlers">Using sample handlers</a><ul><li><a href="#c_ignore_explicit_val">Ignoring explicit profile selection validation</a></li><li><a href="#c_selectionhandlerbase">SelectionHandlerBase</a></li><li><a href="#c_explicitselectionhandler">ExplicitSelectionHandler</a></li><li><a href="#c_filesegmentselectionhandler">FileSegmentSelectionHandler</a></li><li><a href="#c_j2eeroleprofileselectionhandler">J2EERoleProfileSelectionHandler</a></li><li><a href="#c_ldapselectionhandler">LDAPSelectionHandler</a></li><li><a href="#c_userattributeprofileselectionhandler">User Attribute Handler</a></li><li><a href="#c_wpcairoleprofileselectionhandler">WebSphere Portal Composite Application Selection Handler</a></li></ul></li></ul></li><li><a href="#websphereportalpersonalizationprofilerulesandtheprofileselectionhandler">WebSphere Portal Personalization Profile Rules and the Profile
selection handler</a></li></ul></li></ul></li><li><a href="#t_bld_mdlbasedbldr">Creating a custom builder</a><ul><li><a href="#t_group_input">Grouping inputs</a><ul><li><a href="#r_group_def_syntax">Creating your own builder input groups</a></li></ul></li><li><a href="#t_cre_new_model_wiz">Creating a new model wizard</a></li><li><a href="#c_overview_builder_architecture">Overview of builder architecture</a><ul><li><a href="#r_builder_base_class_interface">Choosing builder base classes and interfaces</a></li><li><a href="#c_builder_widgets">Builder input widgets</a><ul><li><a href="#r_builderwidget_abstract_classes">Builder input widget abstract classes</a></li><li><a href="#r_builderwidget_concrete_classes">Builder input widget concrete classes</a></li></ul></li><li><a href="#c_generation_class">Generation class</a><ul><li><a href="#c_runtime_logic_classes">Runtime logic classes</a></li></ul></li><li><a href="#c_coord_classes">Coordinator class</a><ul><li><a href="#creating_a_coordinator">About implementing a coordinator</a></li></ul></li><li><a href="#c_creating_builderdefs">About creating builder definitions</a><ul><li><a href="#c_builder_def_files">Builder definition files</a><ul><li><a href="#r_builder_def_structure">Builder definition structure</a></li></ul></li></ul></li><li><a href="#r_builder_inputs">Defining inputs for your builder</a><ul><li><a href="#c_inherit_input_coord_behav">Inheriting input and coordinator behavior</a><ul><li><a href="#r_inherit_input_defs">Inheriting input definitions from the Base builder definition</a></li><li><a href="#r_inherit_input_defs_webappbase">Inheriting input definitions from the WebAppBase builder definition</a></li></ul></li><li><a href="#c_suppress_input_display">Suppressing the display of an input</a></li></ul></li><li><a href="#c_add_elements_pages">About adding elements to pages in the web application</a><ul><li><a href="#c_add_elements_webapp">About adding elements to the web application</a></li><li><a href="#c_input_widgets">Input widgets</a></li></ul></li><li><a href="#c_builders_create_from_models">About model-based builder creation</a><ul><li><a href="#c_builder_inputs_table">Builder inputs table</a></li><li><a href="#c_builder_name_conflicts">Dealing with name conflicts</a></li><li><a href="#c_builder_skeleton">Usage of the builder skeleton tool</a></li><li><a href="#c_generate_builder">Generate your builder</a></li><li><a href="#c_maintain_builder">Maintaining your builder</a></li><li><a href="#c_modelbuild_cre_inputs">Creating inputs for your builder</a></li><li><a href="#c_modelbuild_simple_complex">Simple versus complex</a></li></ul></li><li><a href="#c_multiphase_builder_gen">Multi-phase builder generation behavior</a><ul><li><a href="#c_builders_calling_builders">Builders calling builders</a></li><li><a href="#r_defer_builder">Deferring a builder call to another phase</a></li></ul></li><li><a href="#c_setting_autoproperties">Setting properties for page automation elements</a><ul><li><a href="#r_autoproperties">Page Automation element properties</a></li></ul></li><li><a href="#c_builders_in_genclass">Using other builders in the generation class</a><ul><li><a href="#c_builders_in_genclass_api">About using the builder API</a></li><li><a href="#c_builders_in_genclass_obj">About using the WebApp object</a></li><li><a href="#c_extract_inputs">Extraction of input values specified in the builder call editor</a></li><li><a href="#c_impl_gen_behavior">Implementation of generation behavior</a></li><li><a href="#c_naming_genobjects">Naming generated objects for high-level builders</a></li></ul></li></ul></li></ul></li></ul></li><li><a href="#c_overview_debugging">Debugging a IBM WebSphere Portlet Factory application</a><ul><li><a href="#t_enbl_debugtrace">Enabling debug tracing</a><ul><li><a href="#c_error_messages">IBM WebSphere Portlet Factory Designer
Task view error messages</a></li><li><a href="#c_tuning_for_performance">Tuning for performance</a></li><li><a href="#c_debug_setting_log4j_property">The log4j debug property</a></li></ul></li><li><a href="#t_prnt_variablevalue">Print the value of a variable</a></li><li><a href="#t_strt_bldrcalltrc">Starting builder call timing tracing</a></li><li><a href="#t_start_sys_trace">Starting system tracing</a><ul><li><a href="#c_system_tracing">About using system tracing</a></li><li><a href="#r_decipher_error_log">Deciphering error logging displayed in the command prompt window:
example</a></li></ul></li><li><a href="#t_set_diagtraceprops">Setting diagnostic trace properties</a></li><li><a href="#r_debug_interpreting_log">Interpreting a debug log file</a></li><li><a href="#t_fact_model_debug.dita">Debug with Eclipse/RAD using Factory Model Execution Debugging</a><ul><li><a href="#t_cnfg_srvrdebug">Configuring a server for debugging a model</a></li><li><a href="#t_run_modeldebug">Running a model in debug mode</a></li></ul></li><li><a href="#c_overview_logging">Using application logging</a><ul><li><a href="#t_set_loggingmdlbsdbldr">Setting up logging in a model-based builder</a><ul><li><a href="#c_howdoi_logging">Logging application behavior</a><ul><li><a href="#c_logging_prevent_overwrite">Preventing log4j properties from being overwritten</a></li><li><a href="#c_logging_view_log">About viewing a log file</a></li><li><a href="#c_logging_viewandform">About logging with the View and Form builders</a></li></ul></li></ul></li><li><a href="#t_chng_loglevel">Changing the default logging level</a><ul><li><a href="#c_default_logging_level">Default logging level</a></li></ul></li><li><a href="#t_set_loggingsvccllsql">Setting up logging in service call and SQL builders</a><ul><li><a href="#c_logging_servicecall_sql">About using built-in logging in Web Service Call and SQL Call builders</a></li></ul></li><li><a href="#t_vw_logfile">Viewing a log</a></li><li><a href="#t_vw_consolemsg">Viewing Console Messages</a></li></ul></li></ul></li><li><a href="#c_deploying">Publishing a project</a><ul><li><a href="#t_cre_server_deploy_config">Creating a server configuration</a><ul><li><a href="#overviewdeployment">Overview: publishing and exporting</a><ul><li><a href="#deploying_to_a_remote_server">About publishing a project to a remote server</a></li><li><a href="#permissionsissueswithpublishingportletanddevelopmentwarsinunixenvironments">Publishing portlet and development wars in UNIX environments
and permissions issues</a></li></ul></li><li><a href="#c_war_at_create">WAR interactions at project creation</a><ul><li><a href="#c_auto_war_deploy_was">Automatic Project Synchronization</a></li></ul></li></ul></li><li><a href="#t_dply_app">Export for production</a></li><li><a href="#automationandscriptingofpublishingandexporting">Automation and scripting of publishing and exporting</a><ul><li><a href="#generatingawarfileusingthecommandline">Generating a WAR file using the command line</a></li><li><a href="#automatingadeployment">Automating the generation of WAR files</a></li><li><a href="#c_extending_a_deployment">Extending your published application</a><ul><li><a href="#c_url_callout_through_proxy">Redirecting URL access through an outbound proxy server</a><ul><li><a href="#c_prepostdeploy_scripts">Implementing Pre and Post Publishing actions</a></li></ul></li></ul></li></ul></li><li><a href="#t_bld_portletwar">Building a portlet WAR</a></li><li><a href="#t_bld_portletwar_prod_deploy">Building a portlet WAR for production</a></li><li><a href="#t_dply_was_jsr168">Publishing to the IBM WebSphere Application Server JSR 168
and JSR 286 Portlet containers</a><ul><li><a href="#c_war_exclude_files">Excluding files from a published WAR</a><ul><li><a href="#c_war_exclude_excludefromserver">Using the .excludeFromServer file</a></li><li><a href="#c_war_exclude_nodeploy">Using the **/nodeploy** directory</a></li></ul></li><li><a href="#r_war_jar_files">JAR files in a WAR</a></li><li><a href="#web.xmlprocessingandtemplates">web.xml processing and templates</a></li></ul></li><li><a href="#t_run_precompiletool">Running the precompile tool</a><ul><li><a href="#c_jsp_precompile">Pre-compiling model JSPs</a></li><li><a href="#c_jsp_precompile_how">How pre-compilation works</a></li></ul></li><li><a href="#t_precomp_jsp">Precompiling JSPs in a WAR file</a></li><li><a href="#publishingawebsphereprotletfactoryapplicationtoaremoteamiinstance">Publishing an application to a remote AMI instance</a></li><li><a href="#t_add_was_portal_jar_files">Adding IBM WebSphere Portal JAR
Files</a></li><li><a href="#t_dply_WAR_remote">Replacing a Development WAR on a remote Mashups Server</a></li></ul></li><li><a href="#c_testing">Testing a  WebSphere Portlet
Factory application</a><ul><li><a href="#t_enab_log_request_input">Enabling the log request/response input</a><ul><li><a href="#r_testing_services">Testing services</a></li><li><a href="#t_using_apache_axis_tcp_monitor">Using Apache AXIS TCP Monitor</a></li></ul></li></ul></li><li><a href="#t_troubleshooting">Troubleshooting applications</a></li><li><a href="#c_reference_wpf">Reference information</a><ul><li><a href="#dev_guide_overview">About APIs</a></li><li><a href="#c_about_properties_duplicated_in_multiple_files">IBM WebSphere Portlet Factory properties
files</a><ul><li><a href="#r_factory_properties">Properties</a></li><li><a href="#c_about_evntlog_props">About event log properties</a><ul><li><a href="#c_evntlog_rules">Logging rules</a></li><li><a href="#r_evntlog_filters">Event log filters</a></li><li><a href="#r_event_log_properties">Event log properties</a></li></ul></li><li><a href="#c_stat_log_properties">Statistics log properties file entries and format</a><ul><li><a href="#c_webapprequests_webappsoaprequests">About WebAppRequests and WebAppSOAPRequests</a></li><li><a href="#r_statlog_sample_entries">Statistics Log Properties Sample Entries</a></li></ul></li><li><a href="#r_setting_statisics_log_properties">Statistics log properties</a></li><li><a href="#r_log4j_properties">log4j properties</a></li><li><a href="#r_pageautomation_properties">Page Automation properties</a></li><li><a href="#r_property_changes_which_require_a_server_restart">Property changes which require a server restart</a></li><li><a href="#dominorichtextfunctionalityanddisplayingforeignkeycodes">Domino Rich Text functionality and displaying foreign keycodes</a></li></ul></li><li><a href="#c_overview_dev_env">IBM WebSphere Portlet Factory Designer components</a><ul><li><a href="#devenv_dir_structure">Directory structure for IBM WebSphere Portlet Factory Web applications</a></li><li><a href="#devenv_genned_files">File names and limitations</a></li></ul></li><li><a href="#c_overview_security">Overview: security methodologies</a><ul><li><a href="#c_security_best_practices">Security best practices</a></li><li><a href="#c_security_close_browser">Security trick: encourage closing the browser</a></li><li><a href="#c_security_custom_login_pages">Custom login pages</a></li><li><a href="#c_security_dummy_jsp">Security trick: dummy JSP page</a></li><li><a href="#c_security_dynamic_cookies">Using dynamic cookies</a></li><li><a href="#c_security_gather_user_info">Gathering user information</a><ul><li><a href="#c_security_userinfo_handlers">UserInfo handlers</a></li><li><a href="#c_security_userinfo_interfaces">UserInfo interfaces</a></li><li><a href="#c_userinfo_interface">The UserInfo.java interface</a></li><li><a href="#c_userinfohandler_interface">The UserInfoHandler.java interface</a></li></ul></li><li><a href="#c_security_logout">Logout – session cleanup</a></li><li><a href="#r_security_example_appserver">Example application server security scenario</a></li><li><a href="#r_security_example_j2ee">Security example – J2EE</a></li><li><a href="#r_security_example_loginrole">Configuration Example – Login/Role</a></li><li><a href="#r_security_example_webxml">Example WEB.XML security components</a></li></ul></li><li><a href="#c_wps_anonyms_mode">Using IBM WebSphere Portlet Factory portlets
in an anonymous IBM WebSphere Portal page</a></li><li><a href="#r_wpf_additional_sources">Additional information sources</a><ul><li><a href="#c_infosource_devworks_forums">wiki and developerWorks forums</a></li><li><a href="#c_infosource_devworks_resources">IBM WebSphere Portlet Factory resources
on developerWorks</a></li><li><a href="#c_infosource_infocenter">Product documentation on the Web</a></li><li><a href="#c_infosource_prodinfo">IBM WebSphere Portlet Factory product
information</a></li><li><a href="#c_infosource_prodsupppage">Product support page</a></li><li><a href="#c_infosource_wp_infocenter">IBM WebSphere Portal information
center</a></li></ul></li><li><a href="#c_overview_admin">Overview: administration and statistics</a><ul><li><a href="#c_j2ee_deployment_handler">J2EEDeploymentHandler servlet</a></li><li><a href="#r_server_statistics">Server statistics and performance analysis</a><ul><li><a href="#r_models_and_methods_status">Models/Methods status</a></li></ul></li></ul></li></ul></li><li><a href="#r_glossary">Glossary</a></li><li><a href="#notices">Notices</a><ul><li><a href="#d10e94">Trademarks</a></li></ul></li><li><a href="#endofdocument">End of document</a></li></ul></div><div class="nested0" id="migratingtowebsphereportalversion7.0"><a name="migratingtowebsphereportalversion7.0"><!-- --></a><h1 class="title topictitle1 coverpage-title"><div class="image"><img class="image swoosh" src="designer/images/swoosh_websphere_top.jpg" alt="" /></div><div class="image"><img class="image logo" src="designer/images/2pxblue_ibm_logo.gif" alt="" /></div><span class="ph">IBM WebSphere Portlet Factory</span> 7 Documentation</h1>
<div class="body"><p class="p coverpage-edition">First Edition </p>
<p class="p coverpage-date">August 2010</p>
<p class="p"></p>
<p class="p"></p>
<p class="p"></p>
<p class="p"></p>
<p class="p"></p>
<p class="p"></p>
<div class="image"><img class="image swoosh" src="designer/images/swoosh_websphere_bottom.jpg" alt="" /></div><p class="p coverpage-copyright">© Copyright IBM Corporation 2000,
2010</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested0" xml:lang="en-us" id="aboutthisedition"><a name="aboutthisedition"><!-- --></a><h1 class="title topictitle1">About this edition</h1>
<div class="body conbody"><p class="shortdesc">In keeping with IBM's commitment to accessibility,
this edition of the product documentation is accessible. </p>
<div class="section"><h2 class="title sectiontitle">Printing</h2><div class="p">When you print this document, some
of the style elements are removed to create a better print output.
Here are a few tips about printing: <ul class="sl simple"><li class="sli">The document length may exceed the browser's print capability.
Microsoft Internet Explorer has demonstrated the ability to print
large files successfully. </li>
<li class="sli">This document is long. Use print preview to determine the printed
page length. </li>
<li class="sli">You can highlight sections of the document and then choose to
only print the selected content</li>
</ul>
</div>
</div>
<div class="section"><h2 class="title sectiontitle">Working offline</h2><p class="p">You can save a local copy
of this document from your browser. Each browser has different menus
and menu options. Consult the browser help if you need assistance
saving the document locally. </p>
</div>
<div class="section"><h2 class="title sectiontitle">Submitting feedback</h2><p class="p">If
you would like to provide feedback about this document, see the <a class="xref" href="http://www.lotus.com/ldd/doc/cct/nextgen.nsf/feedback_choice?OpenForm&amp;Context=wikihtml+wpf+noTitle+7.0">Submit
Feedback</a> Web site. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested0" xml:lang="en-us" id="c_designer_getting_started"><a name="c_designer_getting_started"><!-- --></a><h1 class="title topictitle1">Overview of <span class="ph">IBM WebSphere Portlet Factory</span> Designer</h1>
<div class="body conbody"><p class="shortdesc"><span class="ph"> WebSphere® Portlet
Factory</span> Designer
is integrated in to the Eclipse development environment. </p>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer is
a tool for developing <span class="ph">Java 2 Platform, Enterprise
Edition (J2EE) Web applications, portlets, and </span>widgets to be
published to <span class="ph">IBM® Lotus® Mashups</span>. </p>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer is
a plugin to Eclipse-based integrated development environments (IDEs).
Working in the <span class="ph"> WebSphere Portlet
Factory</span> perspective
in Eclipse, you create projects, under which you use builders and
profile sets to develop models and generate the resulting Web applications
from those models. </p>
<p class="p">Each builder has a wizard user interface through which you specify
input. The builder automatically generates or modifies part of the
application. Profiles in profile sets let you tailor one application
and generate multiple versions, for example, a different version for
different human languages or different user groups. </p>
<p class="p">You assemble builders in models to implement a user interface or
a data service. If you make a change in the inputs to a builder in
a model, the application code is regenerated. The regeneration lets
you iteratively develop an application. The builders generate all
the necessary application code, including JSPs, Java classes, and
XML documents.  You use builders to implement design patterns to facilitate
iterative development. </p>
<p class="p">The <span class="ph">IBM WebSphere Portal</span> server
framework provides multiple services, for example, page navigation
and collaboration features. </p>
<p class="p">The <span class="ph"> WebSphere Portlet
Factory</span> Designer
also facilitates the creation of new builders and profiles.</p>
<div class="section"><h2 class="title sectiontitle">Using the <span class="ph"> WebSphere Portlet
Factory</span> wiki</h2><p class="p">On
the <span class="ph"> WebSphere Portlet
Factory</span> wiki you can
find supplemental content about installation and developing applications.
This wiki is very active, so you should check it out regularly.</p>
<dl class="dl"><dt class="dt dlterm"></dt>
<dd class="dd"><a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> wiki</a></dd>
</dl>
<p class="p">We need you to share you expertise! <a class="xref" href="http://www-10.lotus.com/ldd/reg" target="_blank">Sign up</a> and
start contributing to this vibrant developer community.</p>
</div>
<div class="section"><h2 class="title sectiontitle">About using <span class="ph"> WebSphere Portlet
Factory</span> Designer
help</h2><p class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer
provides context-sensitive help for all features and functions. You
can access help in several ways:</p>
<ul class="ul"><li class="li"><span class="ph uicontrol">F1</span> key<p class="p">All <span class="ph"> WebSphere Portlet
Factory</span> Designer windows and
dialogs provide context-sensitive help that describes the tasks supported
by the window or dialog. To view this help, place the pointer in a
window or dialog to establish context and press the <span class="ph uicontrol">F1</span> key. </p>
</li>
<li class="li"> <span class="ph uicontrol">Help</span> button <p class="p">Builder call editors provide
a <span class="ph uicontrol">Help</span> button that you can use to access configuration
help for the builder. </p>
</li>
<li class="li"> Eclipse <span class="ph uicontrol">Help</span> menu item<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> installs a documentation
plugin into the Eclipse Help system. This plugin runs within the context
of the Eclipse help engine, and can be accessed from the Eclipse <span class="ph uicontrol">Help</span> menu.
To access <span class="ph"> WebSphere Portlet
Factory</span> help
from the Eclipse <span class="ph uicontrol">Help</span> menu, click <span class="ph menucascade"><span class="ph uicontrol">Help</span> &gt; <span class="ph uicontrol">Help Contents</span></span>. The Eclipse SDK Help window opens. Under <span class="ph uicontrol">Contents</span>,
click <span class="ph uicontrol">IBM WebSphere Portlet Factory Designer</span>. </p>
 </li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested1" xml:lang="en-us" id="c_whats_new"><a name="c_whats_new"><!-- --></a><h2 class="title topictitle2">What's new in this release</h2>
<div class="body conbody"><p class="shortdesc">This version of <span class="ph">IBM WebSphere Portlet Factory</span> provides
many new features.</p>
<div class="section"><h3 class="title sectiontitle">Builders</h3><p class="p">The following are new builders
in this release.</p>
<ul class="sl simple"><li class="sli"><a class="xref" href="designer/wdf_b_web_charts_plus2_ov.htm" title="Use this builder to add charts and graphs to a page.">Charts builder</a></li>
<li class="sli"><a class="xref" href="designer/c_datafieldmerge_builder.htm" title="This builder lets you merge fields so that they are presented as a single field and lets you merge columns so that they are presented as a single column.">Data Field Merge builder</a></li>
<li class="sli"><a class="xref" href="designer/c_datafieldsettings_builder.htm" title="The Data Field Settings builder lets you control all the page automation fields in a model.">Data Field Settings builder</a></li>
<li class="sli"><a class="xref" href="designer/c_data_servicesui_builder.htm" title="This builder creates a complete application based on a well-defined service.">Data Services User Interface builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_accordioncon_builder.htm" title="Use this builder to place a Dojo AccordionContainer widget on a page that you specify.">Dojo Accordion Container builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_bordercon_builder.htm" title="The Dojo Border Container builder adds a Dojo BorderContainer widget to a page location that you specify.">Dojo Border Container builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_checkbox_builder.htm" title="The Dojo Check Box builder creates a single Dojo Dijit check box on a page.">Dojo Check Box builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_enhancedtblmod_builder.htm" title="The Dojo Enhanced Table Modifier builder lets your HTML table be modified at runtime.">Dojo Enhanced Table Modifier builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_hovertab_builder.htm" title="The Dojo Hover Tab Container builder adds a dojox.layout.RadioGroup widget to a page element that you specify.">Dojo Hover Tab Container builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_lightbox_builder.htm" title="The Dojo Lightbox builder adds a Dojo Lightbox widget to a specified page element.">Dojo Lightbox builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_radiobgroup_builder.htm" title="This builder creates a set of radio buttons in a Dojo Radio Button Group at a named tag or other location on a page or pages.">Dojo Radio Button Group builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_select_builder.htm" title="This builder creates a Dojo Select input at a named tag or other location on a page or pages.">Dojo Select builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_slider_builder.htm" title="Use the Dojo Slider builder to add either a dijit.form.HorizontalSlider or a dijit.form.VerticalSlider widget to a page location that you specify.">Dojo Slider builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_tabcontainer_builder.htm" title="The Dojo Tab Container builder adds a Dojo TabContainer widget to a page element that you specify.">Dojo Tab Container builder</a></li>
<li class="sli"><a class="xref" href="designer/c_dojo_titlepane_builder.htm" title="The Dojo Title Pane builder makes the specified section of a page collapsible and adds an associated title pane above the specified area to describe the collapsible section.">Dojo Title Pane builder</a></li>
<li class="sli"><a class="xref" href="designer/c_page_loadind_builder.htm" title="This builder arranges for a wait page to be displayed while a lengthy action runs.">Page Loading Indicator builder</a></li>
<li class="sli"><a class="xref" href="designer/c_sql_dataservices_builder.htm" title="This builder automatically generates basic search, create, retrieve, update, and delete operations for a relational database.">SQL Data Services builder</a></li>
<li class="sli"><a class="xref" href="designer/c_sql_tablecreate_builder.htm" title="This builder lets you create a database table, either from IBM WebSphere Portlet Factory Designer or at runtime during the regeneration phase on the server.">SQL Table Create builder</a></li>
</ul>
<div class="p">The following model wizards are new in this release.<ul class="sl simple"><li class="sli">Data Services UI Service Consumer</li>
<li class="sli">Database View and Update</li>
<li class="sli">Spreadsheet View and Form</li>
<li class="sli">SQL Data Services Provider</li>
</ul>
</div>
<div class="p">The following builders have new names in this release.<ul class="sl simple"><li class="sli">Excel Export builder is now Spreadsheet Export</li>
<li class="sli">Excel Import builder is now Spreadsheet Import</li>
<li class="sli">XML/JavaScript Converter builder is now XML to JSON Converter </li>
</ul>
</div>
<dl class="dl"><dt class="dt dlterm">New builder features</dt>
<dd class="dd">The following builders support new features.<dl class="dl"><dt class="dt dlterm">Button, Client Event Handler, Form Submit Action, HTML Event Action,
Link, and Timed Action</dt>
<dd class="dd">In the <span class="ph uicontrol">Post-Action Behavior</span> input, a new
option (<span class="ph uicontrol">Smart Refresh</span>) updates part of the
user interface without reloading the entire page. </dd>
<dt class="dt dlterm">Data Page</dt>
<dd class="dd">A new input asks the builder to have the labels inserted as a
runtime access to the resource bundle. </dd>
<dt class="dt dlterm">Dojo Data Grid</dt>
<dd class="dd">A new option lets the grid height be automatically set. </dd>
<dt class="dt dlterm">Dojo Enable, Dojo Page Element</dt>
<dd class="dd">A new input lets you specify Dojo Cascading Style Sheet (CSS)
files to be added to the target page. </dd>
<dt class="dt dlterm">Dojo Inline Edit</dt>
<dd class="dd">One new input allows more than one field to be in edit mode simultaneously
and another new input allows a field to become editable when the user
clicks the field text. Also, if multiple edits are not allowed, the
builder generates a new client-side event when a user cancels an ongoing
edit in the current field and selects another field to edit.</dd>
<dt class="dt dlterm">Dojo Page Element</dt>
<dd class="dd">A new input lets you associate Cascading Style Sheet (CSS) files
with the page. </dd>
<dt class="dt dlterm">Dojo Progress Indicator</dt>
<dd class="dd">A new input lets the builder derive some of the user interface
inputs from the default WebApp theme file. </dd>
<dt class="dt dlterm">Dojo Rich Text Editor</dt>
<dd class="dd">A new input automatically decodes the content when the form is
submitted and the builder is used in a portlet. New inputs let you
enable font and color capabilities in the widget. </dd>
<dt class="dt dlterm">File Upload</dt>
<dd class="dd">A new input controls whether an existing file with the same name
is overwritten. </dd>
<dt class="dt dlterm">Localized Resource</dt>
<dd class="dd">A new input lets the resource variable be updated at runtime rather
than during model generation. </dd>
<dt class="dt dlterm">REST Service Call</dt>
<dd class="dd">The <span class="ph uicontrol">URL</span> input is no longer required. </dd>
<dt class="dt dlterm">Sort</dt>
<dd class="dd">A new input lets end users see the current sort information by
adding displayed sort controls. Other inputs let you specify the images
and CSS file to be used. Also, a new input lets you control partial
page refresh. </dd>
<dt class="dt dlterm">Spreadsheet Export, Spreadsheet Import</dt>
<dd class="dd">A new input lets you decide the format of the spreadsheet that
you want to work with. </dd>
<dt class="dt dlterm">SQL Call</dt>
<dd class="dd">A new input lets the builder retrieve automatically generated
keys and update counts for INSERT, UPDATE, and DELETE SQL statements.
If this new input is used, the builder generates two new variables
to hold the returned data. </dd>
<dt class="dt dlterm">SQL Call, SQL Statement</dt>
<dd class="dd">A new input lets you specify the name of the column that contains
the automatically generated key to be returned from an INSERT operation.
Another input lets you use indirect references in the SQL Statement
input.  </dd>
<dt class="dt dlterm">Theme</dt>
<dd class="dd">New inputs let you control the appearance in a model for more
builders. </dd>
<dt class="dt dlterm">Web Service Multiple Operations</dt>
<dd class="dd">New buttons lets you enable and disable all operations in the
WSDL document that you fetched. </dd>
<dt class="dt dlterm">Widget Adapter</dt>
<dd class="dd">You can use a new input to change the default widget template
definition file used in a model. </dd>
</dl>
</dd>
</dl>
<dl class="dl"><dt class="dt dlterm">Deprecated builders</dt>
<dd class="dd">The Tree builder is deprecated in this release. </dd>
</dl>
</div>
<div class="section"><h3 class="title sectiontitle">User experience</h3><p class="p">The following features have
been added to <span class="ph"> WebSphere Portlet
Factory</span> Designer. </p>
<dl class="dl"><dt class="dt dlterm">Model editor</dt>
<dd class="dd">You can use the <samp class="ph codeph">Ctrl</samp> key and clicking to select
multiple objects of the same type in the Design panel. <p class="p">Options
on a new command (<span class="ph uicontrol">Data Field Settings</span>) on the
popup menu let you modify display and validation settings for fields
and columns from the Design panel; show or hide a column; and change
the sort setting on a column. </p>
<p class="p">A new command (<span class="ph uicontrol">Merge
Fields</span>) on the popup menu combines selected fields for
display. </p>
<p class="p">A new command (<span class="ph menucascade"><span class="ph uicontrol">Methods</span> &gt; <span class="ph uicontrol">Override</span></span>) on the popup menu facilitates
adding special processing to the selected method and replacing the
selected method with your changed method. </p>
</dd>
<dt class="dt dlterm">Project creation</dt>
<dd class="dd">During project creation, an <span class="ph filepath">override.properties</span> file
is created. The file enables the smart refresh feature and specifies
a default base Rich Data Definition (RDD) file for the project. The
Data Field Settings builder can be used to change the base RDD file
for a model. </dd>
<dt class="dt dlterm">Properties view</dt>
<dd class="dd">The standard Eclipse Properties view displays selected builder
inputs and their current settings for a generated element selected
in the Application Tree or in the Design panel. In the view, you can
change display and validation settings for selected columns or fields
in the model. </dd>
<dt class="dt dlterm">WebApp tree</dt>
<dd class="dd">A standard Eclipse tree filter is now available to let you search
in the Application Tree. </dd>
<dt class="dt dlterm">WebSphere Portlet Factory view</dt>
<dd class="dd">This new view displays a default Eclipse browser that lets you
access selected pages of the <span class="ph"> WebSphere Portlet
Factory</span> wiki while you are
still in the development environment. A drop-down list in the browser
lets you select the wiki category page to be displayed. </dd>
</dl>
</div>
<div class="section"><h3 class="title sectiontitle">General</h3><dl class="dl"><dt class="dt dlterm">Eclipse</dt>
<dd class="dd">The <span class="ph"> WebSphere Portlet
Factory</span> Designer
installation contains Eclipse Version 3.5.1. </dd>
<dt class="dt dlterm">Server configurations and Portal APIs</dt>
<dd class="dd">The following server configurations are no longer supported. <ul class="sl simple"><li class="sli">IBM WebSphere Application Server 6.0</li>
<li class="sli">IBM WebSphere Portal 6.0</li>
</ul>
The following Portal API is no longer supported.<ul class="sl simple"><li class="sli">WebSphere Native</li>
</ul>
</dd>
<dt class="dt dlterm">Axis 1 JAR not installed by default</dt>
<dd class="dd">To obtain the Axis 1 JAR, you must add to your project the Axis
1 Extension feature set (under Integration Extensions in the Feature
Info dialog).</dd>
<dt class="dt dlterm">Dynamic changes to properties files are not automatically recognized</dt>
<dd class="dd">To have property file changes take effect while the WAR is running,
you now need to set the <samp class="ph codeph">bowstreet.properties.enableObserverThreads</samp> property
to true in the <span class="ph filepath">override.properties</span> file and restart
the WAR. </dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested1" xml:lang="en-us" id="relnotes"><a name="relnotes"><!-- --></a><h2 class="title topictitle2">Release notes - <span class="ph">IBM WebSphere Portlet Factory</span> Version <span class="ph" id="version_wpf"><a name="version_wpf"><!-- --></a>7.0</span></h2>
<div class="body refbody"><p class="shortdesc"><span class="ph"> WebSphere Portlet
Factory</span> Version <span class="ph">7.0</span> is available. </p>
<div class="section"><h3 class="title sectiontitle">Contents</h3><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#relnotes__description">Description</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#relnotes__announce">Announcement</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#relnotes__system">System requirements</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#relnotes__install">Installing WebSphere Portlet Factory Version 7.0</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#relnotes__problems">Known problems</a></li>
</ul>
</div>
<div class="section" id="relnotes__description"><a name="relnotes__description"><!-- --></a><h3 class="title sectiontitle">Description</h3><div class="p"><span class="ph"> WebSphere Portlet
Factory</span> Version <span class="ph">7.0</span> offers the
following:<ul class="ul"><li class="li">New builders for richer user interface elements</li>
<li class="li">Performance improvements</li>
<li class="li">User interface improvements</li>
</ul>
For more information, refer to the <a class="xref" href="designer-html-wrapper.htm#c_whats_new" title="This version of IBM WebSphere Portlet Factory provides many new features.">What's new in this release</a> topic. </div>
<p class="p">For
a list of the APARs that <span class="ph"> WebSphere Portlet
Factory</span> Version <span class="ph">7.0</span>  has resolved,
refer to the list of fixes at the following location. </p>
<p class="p"><a class="xref" href="http://www.ibm.com/support/docview.wss?rs=3044&amp;uid=swg27018547" target="_blank">APARs fixed for <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph">7.0</span></a></p>
</div>
<div class="section" id="relnotes__announce"><a name="relnotes__announce"><!-- --></a><h3 class="title sectiontitle">Announcement</h3><div class="p">The <span class="ph"> WebSphere Portlet
Factory</span> Version <span class="ph">7.0</span> announcement
is available at <a class="xref" href="http://www.ibm.com/common/ssi/index.wss" target="_blank">www.ibm.com/common/ssi/index.wss</a>.
Refer to the announcement for the following information. <ul class="ul"><li class="li">Detailed product description, including a description of new functions</li>
<li class="li">Product-positioning statement</li>
<li class="li">Packaging and ordering details</li>
<li class="li">International compatibility information</li>
</ul>
</div>
</div>
<div class="section" id="relnotes__system"><a name="relnotes__system"><!-- --></a><h3 class="title sectiontitle">System requirements</h3><p class="p">For
information about hardware and software compatibility, refer to the
detailed system requirements document at the following location. </p>
<p class="p"><a class="xref" href="http://www.ibm.com/support/docview.wss?rs=3044&amp;uid=swg27018546" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> Version <span class="ph">7.0</span> detailed system
requirements</a></p>
</div>
<div class="section" id="relnotes__install"><a name="relnotes__install"><!-- --></a><h3 class="title sectiontitle">Installing <span class="ph"> WebSphere Portlet
Factory</span> Version <span class="ph">7.0</span></h3><p class="p">For
step-by-step installation instructions, refer to the following topic
in the information center. </p>
<p class="p"><span class="ph"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></span></p>
</div>
<div class="section" id="relnotes__problems"><a name="relnotes__problems"><!-- --></a><h3 class="title sectiontitle">Known problems</h3><p class="p">Known problems are documented
in the IBM Support portal at the following location.</p>
<p class="p"><a class="xref" href="http://www.ibm.com/support/entry/portal/Overview/Software/WebSphere/WebSphere_Portlet_Factory" target="_blank">http://www.ibm.com/support/entry/portal/Overview/Software/WebSphere/WebSphere_Portlet_Factory</a></p>
<p class="p">As
problems are discovered and resolved, the IBM Support team updates
the knowledge base. By searching the knowledge base, you can quickly
find workarounds or solutions to problems.</p>
<p class="p"> The following link
launches a customized query of the Support knowledge base. </p>
<p class="p"><a class="xref" href="http://www.ibm.com/support/search.wss?rs=3044&amp;tc=SSRUWN&amp;rank=8&amp;dc=DB520+D800+D900+DA900+DA800&amp;dtm;" target="_blank">View all known problems for <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph">7.0</span></a></p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="getting_started_wpf"><a name="getting_started_wpf"><!-- --></a><h2 class="title topictitle2">Getting started</h2>
<div class="body conbody"><p class="shortdesc">Refer to these getting started guidelines to begin using <span class="ph">IBM WebSphere Portlet Factory</span>.</p>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> is a rapid
application development environment that radically simplifies and
accelerates the development, publishing, maintenance, and reuse of
enterprise-ready, rich, Web 2.0 style portlets, rich client and web
applications, and widgets for leading IBM platforms,
including the following:</p>
<div class="p"><ul class="ul"><li class="li"><span class="ph">IBM WebSphere Portal</span></li>
<li class="li"><span class="ph">IBM WebSphere Application
Server</span></li>
<li class="li"> <span class="ph">IBM Lotus Notes®</span></li>
<li class="li"><span class="ph">IBM InfoSphere MashupHub</span> </li>
<li class="li"><span class="ph">IBM Lotus Expeditor</span></li>
</ul>
</div>
<p class="p">Quickly start application development by completing the <a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Quick_Start_WASCE" title="This quick start guides you through the steps to create a project and run an application using the WebSphere Application Server Community Edition (WAS CE).">Quick Start for using IBM WebSphere Portlet Factory with IBM WebSphere Application Server CE</a> tutorial to create your first project. </p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 1. Resources to get started</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" width="26.13065326633166%" id="d52e965">Resource type</th>
<th class="entry" valign="bottom" width="73.86934673366834%" id="d52e967">Material available</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" width="26.13065326633166%" headers="d52e965 "><strong class="ph b">Tutorials</strong></td>
<td class="entry" valign="top" width="73.86934673366834%" headers="d52e967 "><strong class="ph b">Your first tutorial</strong><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Quick_Start_WASCE" title="This quick start guides you through the steps to create a project and run an application using the WebSphere Application Server Community Edition (WAS CE).">Quick Start for using IBM WebSphere Portlet Factory with IBM WebSphere Application Server CE</a></li>
</ul>
<strong class="ph b">Getting down to business - complete these four next</strong><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Create_Project" title="This is the first of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial you will learn how to create a WebSphere Portlet Factory project for WebSphere Portal.">Tutorial – Creating a WebSphere Portlet Factory Project</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Simple_Portlet" title="This is the second of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial, you will build a simple &#34;hello world&#34; application.">Tutorial – Creating your first application</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#tutorial-creatingadatabaseapplication" title="In this tutorial you will create a service provider model against a sample database using the SQL Table Create builder, which creates a database table and provides full CRUD (create, retrieve, update and delete) capability, exposed as service operations, and then create a user interface service consumer model, using the Service Consumer and Data Services UI builder.">Tutorial - Creating a database application</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#tutorial-usingprofilinginyournewapplication" title="Continuing from the &#34;hello world&#34; application tutorial you add the power of profiling to your application.">Tutorial - Using profiling in your new application</a></li>
</ul>
<strong class="ph b">Getting started with widgets</strong><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#QS_LWF_Mashup_Local" title="This quick start guides you through the steps to create a widget.">Quick Start: Publishing your first widget</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#QS_LWF_Mashup_Remote" title="This quick start guides you through the steps to create and test a widget locally, then remotely upload the widget to IBM InfoSphere MashupHub.">Quick Start: Your first widget with production publishing</a></li>
</ul>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="26.13065326633166%" headers="d52e965 "><strong class="ph b">Documentation</strong></td>
<td class="entry" valign="top" width="73.86934673366834%" headers="d52e967 "><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#relnotes" title="WebSphere Portlet Factory Version 7.0 is available.">Release notes - IBM WebSphere Portlet Factory Version 7.0</a></li>
<li class="li"><a class="xref" href="../api/index.html" target="_blank">Java™ API Doc</a></li>
</ul>
<div class="note tip"><span class="tiptitle">Tip:</span> Context sensitive help is always available by
the F1 key in <span class="ph"> WebSphere Portlet
Factory</span> Designer.</div>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="26.13065326633166%" headers="d52e965 "><strong class="ph b"><span class="ph"> WebSphere Portlet
Factory</span> Documentation,
Wiki and Developers Zone</strong></td>
<td class="entry" valign="top" width="73.86934673366834%" headers="d52e967 "><ul class="ul"><li class="li">Download over sixty best practice samples from the <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> wiki</a>. </li>
<li class="li">Post questions to <a class="xref" href="http://www.ibm.com/developerworks/forums/wsdd_forums.jsp" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> forums</a> and
get answers from <span class="ph"> WebSphere Portlet
Factory</span> experts. </li>
<li class="li">View current version and past release documentation posted on
the <a class="xref" href="http://www.ibm.com/software/genservers/portletfactory/" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> product
documentation page</a>. </li>
<li class="li">Review information about IBM Redbooks®, white papers, and
other documentation on the <a class="xref" href="http://www-306.ibm.com/software/genservers/portletfactory/library/" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> library</a> page.</li>
<li class="li">Use the <a class="xref" href="http://www.ibm.com/developerworks/websphere/zones/portal/portletfactory/" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> Developers
Zone</a> for developer discussions on  installation, use, publishing,
best practices, and general usage of <span class="ph"> WebSphere Portlet
Factory</span>. </li>
</ul>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="26.13065326633166%" headers="d52e965 "><strong class="ph b">Additional Builders</strong></td>
<td class="entry" valign="top" width="73.86934673366834%" headers="d52e967 ">Find new and third-party builders by searching
for <span class="ph"> WebSphere Portlet
Factory</span> in the <a class="xref" href="http://catalog.lotus.com/wps/portal/portal/" target="_blank"><span class="ph">WebSphere Portal</span> Business Solutions
Catalog</a>. </td>
</tr>
</tbody>
</table>
</div>
<p class="p">If you are upgrading from a previous release, read the instructions
for <a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">upgrading your project</a>. Refer to <a class="xref" href="designer-html-wrapper.htm#contactingibmsupport" title="IBM Support provides assistance with IBM WebSphere Portlet Factory product defects.">Contacting IBM Support</a> for information
on how to get support.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="continuedlearning"><a name="continuedlearning"><!-- --></a><h2 class="title topictitle2">Continued learning</h2>
<div class="body conbody"><p class="shortdesc">More links to <span class="ph">IBM WebSphere Portlet Factory</span> learning
resources.</p>
<div class="section"><h3 class="title sectiontitle">Builder help</h3><ul class="ul"><li class="li"><a class="xref" href="designer/r_builders.htm" title="This section lists the main help topics for the supported builders.">Builder Reference</a> - Find information about builders</li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#r_glossary" title="This topic presents a glossary of terms.">Glossary</a> - Glossary</li>
<li class="li"><a class="xref" href="http://catalog.lotus.com/wps/portal/portal/" target="_blank">WebSphere
Portal Business Solutions Catalog</a> - Find new and third-party
builders in the WebSphere Portal Business Solutions Catalog</li>
</ul>
</div>
<div class="section"><h3 class="title sectiontitle">Other documentation</h3><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#relnotes" title="WebSphere Portlet Factory Version 7.0 is available.">Release notes - IBM WebSphere Portlet Factory Version 7.0</a> - Release notes - <span class="ph"> WebSphere Portlet
Factory</span> </li>
<li class="li"><a class="xref" href="../api/index.html" target="_blank"> Java API Doc</a> </li>
<li class="li"><a class="xref" href="http://www-306.ibm.com/software/genservers/portletfactory/library/" target="_blank">The WebSphere Portlet Factory Library</a> - IBM
Redbooks, white papers, and more</li>
</ul>
</div>
<div class="section"><h3 class="title sectiontitle">Integration with other products</h3><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started" title="This Getting Started guide describes the Lotus Collaboration Extension.">Lotus Collaboration Extension</a> </li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#peoplesoft_getting_started" title="This Getting Started guide describes PeopleSoft Extension.">PeopleSoft Extension</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#sap_getting_started" title="This Getting Started guide describes the SAP Extension.">SAP Extension</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#siebel_getting_started" title="This Getting Started guide describes Siebel Extension.">Siebel Extension</a></li>
</ul>
</div>
<div class="section"><h3 class="title sectiontitle">Related resources for product information and wikis</h3><div class="p"><strong class="ph b">Product
information and wikis</strong><ul class="ul"><li class="li"><a class="xref" href="feed.htm" target="_blank">WebSphere
Portlet Factory Web feeds</a> </li>
<li class="li"><a class="xref" href="http://www.ibm.com/software/genservers/portletfactory/" target="_blank">Product information </a></li>
<li class="li"><a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewCategories.xsp?lookupName=Best%20practices" target="_blank">Best Practices wiki </a></li>
<li class="li"><a class="xref" href="http://catalog.lotus.com/wps/portal/portal/" target="_blank">WebSphere
Portal Catalog </a></li>
<li class="li"><a class="xref" href="http://www-10.lotus.com/ldd/portal" target="_blank">WebSphere Portal wiki</a></li>
</ul>
</div>
<div class="p"><strong class="ph b">developerWorks</strong><ul class="ul"><li class="li"><a class="xref" href="http://www.ibm.com/developerworks/websphere/zones/portal/portletfactory/proddoc.html" target="_blank">Documentation page</a> </li>
<li class="li"><a class="xref" href="http://www.ibm.com/developerworks/forums/wsdd_forums.jsp" target="_blank">WebSphere Forums </a></li>
</ul>
</div>
<div class="p"><strong class="ph b">Support and assistance</strong><ul class="ul"><li class="li"><a class="xref" href="http://www.ibm.com/software/genservers/portletfactory/support" target="_blank">Product support</a> </li>
<li class="li"><a class="xref" href="http://www.ibm.com/support/fixcentral" target="_blank">Fix central</a></li>
</ul>
</div>
<div class="p"><strong class="ph b">Related information centers</strong><ul class="ul"><li class="li"><a class="xref" href="http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1m0/index.jsp" target="_blank">WebSphere Portal Version 6.1</a></li>
<li class="li"><a class="xref" href="http://www.ibm.com/software/webservers/appserv/was/library/" target="_blank">WebSphere Application Server</a></li>
<li class="li"><a class="xref" href="http://publib.boulder.ibm.com/wasce/Front_en.html" target="_blank">WebSphere
Application Server Community Edition</a></li>
<li class="li"><a class="xref" href="http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/index.jsp" target="_blank">Lotus Domino and Notes</a></li>
</ul>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="highleveloverviewofibmwebsphereportletfactorydesigner"><a name="highleveloverviewofibmwebsphereportletfactorydesigner"><!-- --></a><h2 class="title topictitle2">High level overview of <span class="ph">IBM WebSphere Portlet Factory</span> Designer</h2>
<div class="body conbody"><p class="p">Discover what <span class="ph"> WebSphere Portlet
Factory</span> can
do for your portal development team. Learn key Portlet Factory concepts,
and how to perform primary tasks, create data services, develop portlet
user interfaces, techniques for debugging, and best practices for
publishing. Put it all together to expedite and automate much of the
production of the components in your portal interface.   The 7.0.0
release of this guide includes information on the new features of
the 7.0.0 and 6.1.5 releases, such as using themes and user interface
controls, REST service support, enhanced Rich UI, and the new graphical
Design view.</p>
<div class="section"><h3 class="title sectiontitle">Product overview</h3><p class="p"><span class="ph"> WebSphere Portlet
Factory</span> is a powerful and
flexible tool for rapidly building portlets on top of a service-oriented
architecture. Developers are able to quickly and easily leverage their
company's core assets, automatically assembling them into custom,
high-value portlets. Portlets created with <span class="ph"> WebSphere Portlet
Factory</span> are dynamic, robust
Java 2 Enterprise Edition (J2EE) applications that react automatically
to change, and can be further modified by business users in real time,
to meet changing business requirements without requiring any coding,
duplicating or versioning of assets. By eliminating the need to code
all of these implementations and their variations, <span class="ph"> WebSphere Portlet
Factory</span> simplifies the development,
publishing, and change management process, saving companies time and
money. </p>
<p class="p">The primary features of <span class="ph"> WebSphere Portlet
Factory</span> are as follows:</p>
<ul class="ul"><li class="li"><strong class="ph b">Supports rapid development of portlets by running them stand-alone
in <span class="ph">WebSphere Application
Server</span> CE. </strong> This
development environment reduces the modify-test cycle from several
minutes to seconds, enhancing developer productivity.</li>
<li class="li"><strong class="ph b">Automates the creation of Multi-page custom portlets.</strong> The <span class="ph"> WebSphere Portlet
Factory</span> rapid application
development (RAD) capabilities and ease of use enable developers of
all skill sets to create multi-page, complex portlets. Developers
build portlets by defining a sequence of highly adaptive software
components called builders, which have an easy-to-use interface. Developers
assemble builders into models, which then generate the application
code. In this way, developers can capture and automate the process
of building dynamic portlets, instead of explicitly coding each portlet.
Many portlets and patterns may be built using the existing WPF builders
with little to no coding necessary, while coding is still
possible for those that wish to build <span class="ph"> WebSphere Portlet
Factory</span> wizard-like builders
encapsulating custom business patterns and logic.</li>
<li class="li"><strong class="ph b">Robust integration capabilities with enterprise applications
and data.</strong> <span class="ph"> WebSphere Portlet
Factory</span> provides
automatic integration with existing applications and data including
SAP, Lotus Domino, PeopleSoft, Siebel, Web Services, relational databases,
and Excel. Developers can quickly create composite, high-value portlets
that leverage existing investment in your existing applications and
data.</li>
<li class="li"><strong class="ph b">Automatic integration with <span class="ph">IBM WebSphere Portal</span>. </strong>With <span class="ph"> WebSphere Portlet
Factory</span>, you have direct integration
with IBM WebSphere Portal features such as portlet wiring, Click-to-Action,
business user configuration, people awareness, WebSphere Portal groups,
and the credential vault. Portlets are published automatically to <span class="ph">WebSphere Portal</span> software.</li>
<li class="li"><strong class="ph b">Support for SOA development. </strong><span class="ph"> WebSphere Portlet
Factory</span> provides powerful
technology for speeding the creation of service-oriented applications
and portlets. It includes data services builders along with data integration
builders that together automate the process of creating services from
systems such as SAP and <span class="ph">IBM Lotus Domino®</span>.
This services approach provides a clean way to separate the back end
services of an application from the presentation layer. It also automatically
creates testing support for back end services, and it enables front
end presentation development and testing without requiring a back
end connection.</li>
<li class="li"><strong class="ph b">Creates many portlet variations from a single code base. </strong>With
the profiling capability of <span class="ph"> WebSphere Portlet
Factory</span>,
developers can easily create multiple portlet variations from one
code base, without requiring any additional code changes or republishing.</li>
<li class="li"><strong class="ph b">Automates frequently occurring development tasks.</strong> By creating
new builders, developers and architects can capture commonly used
design patterns and company-specific business processes as reusable
components for all developers, enforcing application architecture
and development best practices.</li>
<li class="li"><strong class="ph b">Automatic Integration with Lotus Mashups.</strong> With <span class="ph"> WebSphere Portlet
Factory</span>, you have direct integration
with Lotus Mashups features such as Widget Customizer and Widget Events.
Widgets are easily published to a Lotus Mashups toolbox.</li>
</ul>
</div>
<div class="section"><h3 class="title sectiontitle">Architectural overview</h3><p class="p">This section provides
a technology overview of <span class="ph"> WebSphere Portlet
Factory</span> ,
starting with the architecture.</p>
<p class="p">The first layer of the architecture
stack are the data sources. Data can be sourced from a number of different
systems, including databases, enterprise applications such as SAP,
collaborative platforms like <span class="ph">Domino</span>, and historical
or analytical data from products such as SAP Business Warehouse. </p>
<p class="p">The
next two layers – services and portlets – can both be developed with <span class="ph"> WebSphere Portlet
Factory</span> Designer. The Designer
tool is an Eclipse plug-in and runs seamlessly in Eclipse-based products,
such as Rational Application Developer.</p>
<p class="p">The last layer is the <span class="ph">WebSphere Portal</span> server framework,
which provides key services such as page navigation and creation tools,
single-sign-on capabilities, user management, built-in process server,
and collaboration features such as instant messaging. </p>
</div>
<div class="section"><h3 class="title sectiontitle">Key concepts: builders, models, and profiles</h3><p class="p">With <span class="ph"> WebSphere Portlet
Factory</span>, developers build
portlets by snapping together a sequence of components called builders.
Each builder has a simple wizard-like user interface and does the
work of automatically generating or modifying part of an application.
 A builder implements an application design pattern. </p>
<p class="p">Builders
are assembled in models, which are like application production lines.
 Each time a change is made to any of the builders in a model, the
application code is regenerated, allowing the developer to iteratively
develop a custom portlet application. Some builders create webapp
artifacts such as a page or a table, while other builders modify the
artifacts created by previous builders by rearranging, hiding or adding
columns to a table. The builders generate all the application code,
including JSPs, Java classes, and XML documents.   </p>
<p class="p">In addition,
developers can create multiple variations of a portlet from one code
base, without requiring additional code changes or republishing. This
is done with the profiling feature of <span class="ph"> WebSphere Portlet
Factory</span>.   Different profiles
can be created for different user constituencies, based on any characteristics
such as region, role, or group membership.   The profiling technology
is also used to support runtime configuration, so that business users
can control application functionality through a simple browser interface.
The net result is that <span class="ph"> WebSphere Portlet
Factory</span> allows
companies to rapidly create adaptive applications that respond to
change on demand – something traditional tools and technologies simply
cannot provide.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="new_project_welcome"><a name="new_project_welcome"><!-- --></a><h2 class="title topictitle2">Welcome to your new project</h2>
<div class="body conbody"><p class="shortdesc">After you create your new project or upgrade a current
project, you need to complete a few more steps to see your <span class="ph">Web application or </span>widget in action.</p>
<div class="p"><dl class="dl"><dt class="dt dlterm">1. Build the model</dt>
<dd class="dd"><p class="p">To
create a new model, click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet
Factory Model</span></span>.</p>
<p class="p">To work with sample <span class="ph">Web applications or </span>widgets, use the Project Explorer
to open one of the files in the <span class="ph filepath">models/samples</span> folder.</p>
</dd>
<dt class="dt dlterm">2. Run to test</dt>
<dd class="dd">To run a model on your test server:<ol class="ol"><li class="li">In Project Explorer, select the model to test.</li>
<li class="li">Double click to open the model.</li>
<li class="li">Click the <span class="ph uicontrol">Run</span> icon <img class="image" src="designer/images/runIcon.jpg" alt="The Run icon, a white triangle inside a green circle" />.</li>
</ol>
<p class="p"></p>
</dd>
<dt class="dt dlterm">3. Publish<span class="ph"> or Export</span> to use</dt>
<dd class="dd"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="void" border="0"><tbody class="tbody"><tr class="row" valign="top"><td class="entry" align="left" valign="top" width="100%"><p class="p">To <span class="ph">publish a project to
the target </span> server,
right click the project and click <span class="ph">the Publish Application</span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested1" xml:lang="en-us" id="r_designer_ui"><a name="r_designer_ui"><!-- --></a><h2 class="title topictitle2">The <span class="ph">IBM WebSphere Portlet Factory</span> interface</h2>
<div class="body refbody"><p class="shortdesc"><span class="ph"> WebSphere Portlet
Factory</span> provides
a rich user interface for editing models and profiles and developing
web applications.</p>
<div class="section"><p class="p">You use the <span class="ph">IBM WebSphere Portlet Factory</span> perspective
when you run <span class="ph"> WebSphere Portlet
Factory</span> Designer.
This perspective provides special menus and other features to support
editing your models and constructing web applications. Click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Open Perspective</span> &gt; <span class="ph uicontrol">Other</span> &gt; <span class="ph uicontrol">WebSphere Portlet
Factory</span></span> to activate this perspective. The title of the window
indicates that the <span class="ph"> WebSphere Portlet
Factory</span> perspective
is in use. </p>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> uses
the Eclipse Problems view to display warnings and error messages related
to model generation and behavior. When an error is caused by a specific
builder call, double-clicking on the error in the Problems list opens
the related builder call for editing in the builder call editor.</p>
<dl class="dl"><dt class="dt dlterm">Applied Profiles view</dt>
<dd class="dd">The Applied Profiles view provides access to apply one or more
profiles to a model. <p class="p">This view also allows you to manage combinations
of profiles when multiple profiles are applied to the same model.
It has content only when an open model is selected in the edit area.
Click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show View</span> &gt; <span class="ph uicontrol">Applied Profiles</span></span> to display the
view. </p>
</dd>
<dt class="dt dlterm">Properties view</dt>
<dd class="dd">The Properties view displays selected builder inputs and their
current settings for a generated element selected in the Application
Tree or in the Design panel.<p class="p">You can use the standard Eclipse Properties
view to examine and change display and validation settings for fields
in the model. Click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show View</span> &gt; <span class="ph uicontrol">Other</span> &gt; <span class="ph uicontrol">General</span> &gt; <span class="ph uicontrol">Properties</span></span> to display the view. </p>
</dd>
<dt class="dt dlterm">Best Practices (Wiki) view</dt>
<dd class="dd">The Best Practices (Wiki) view displays a default Eclipse browser
that is set to display the home page of the <span class="ph"> WebSphere Portlet
Factory</span> wiki. <p class="p">This wiki
is the repository for both IBM and community content related to the
best practices in the product. Click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show View</span> &gt; <span class="ph uicontrol">Other</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory</span> &gt; <span class="ph uicontrol">Best Practices (Wiki)</span></span> to display the view. </p>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_using_project_explorer"><a name="c_using_project_explorer"><!-- --></a><h3 class="title topictitle3">The Project Explorer and the Model Navigator views</h3>
<div class="body conbody"><p class="shortdesc">Project Explorer is an enhanced version of the standard
Navigator. </p>
<div class="section"><p class="p">The Project Explorer provides project-level folder access
to some of the primary project artifacts: Java source, models, and
profiles. These project-level folders are provided as a convenience
for working with files that are located in folders in the <span class="ph filepath">WEB-INF</span> directory.
This arrangement of folders lets you access the artifacts without
your having to drill down in that directory. You can work with the
files in these folders by navigating to them from the special project-level
folders, or from the folders under <span class="ph filepath">WEB-INF</span> where
the resources are actually located in the project file structure.</p>
<p class="p">The
Project Explorer view presents a tree-based directory hierarchy that
displays all the objects that comprise the current project. The Project
Explorer allows you to display the complete tree of an <span class="ph">IBM WebSphere Portlet Factory</span> project, specify a
subset of the project components to display in that tree, and perform
refactoring on selected elements in the tree. You can open an object,
such as a model or profile set, by navigating to it and double-clicking
on it. The object is displayed in an appropriate editor. </p>
<p class="p">The
Model Navigator view presents a subset of the Project Explorer to
let you more easily access models and profile sets defined in your
projects. Click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show
View</span> &gt; <span class="ph uicontrol">Model Navigator</span></span> to
display the view. </p>
<p class="p">In both views, you can expand the hierarchy
and filter the display. </p>
<div class="note note"><span class="notetitle">Note:</span> Do not use the Project Explorer
or Model Navigator view to rename project artifacts (for example,
models or profile sets). Because <span class="ph"> WebSphere Portlet
Factory</span> references some artifacts
(such as profile sets) by ID rather than by name, renaming an artifact
in either the Project Explorer or Model Navigator causes problems
when a model is regenerated or run.<p class="p">To rename a model or profile
set, use the <span class="ph menucascade"><span class="ph uicontrol">Refactor</span> &gt; <span class="ph uicontrol">Rename</span></span> command. </p>
</div>
<p class="p">Project Explorer is supported
in Eclipse and Rational Application Developer. Link folders for models,
profiles, and Java source are provided for earlier versions of Eclipse
and Rational Application Developer to allow the user to quickly locate
and navigate to these resources in the standard Navigator. </p>
<div class="note note"><span class="notetitle">Note:</span> <span class="ph"> WebSphere Portlet
Factory</span> content is only displayed
in <span class="ph"> WebSphere Portlet
Factory</span> projects.</div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_filter_project_explorer"><a name="c_filter_project_explorer"><!-- --></a><h4 class="title topictitle4">Filtering the display in the Project Explorer</h4>
<div class="body conbody"><p class="shortdesc">You can control the types of elements that the Project
Explorer displays by filtering the types that are not of interest.</p>
<div class="section">For example, you can display a list of only the models that
the project uses.<div class="note note"><span class="notetitle">Note:</span> For the project tree to be displayed in Project
Explorer, both <span class="ph uicontrol">Portlet Factory</span> and either <span class="ph uicontrol">Java
Elements</span> or <span class="ph uicontrol">Resources</span> must be selected.</div>
<p class="p">To
restrict or expand the list of resources displayed in the Project
Explorer tree, click the menu icon (<img class="image" src="designer/images/view_menu.gif" alt="menu" />) in the Project Explorer navigation bar, then
click <span class="ph uicontrol">Filters</span>, and select or clear the check
box from the <span class="ph uicontrol">Available Filters</span> options. Selecting
a filter turns off the visibility of that filter type. For example,
to display only the models that the project uses, select <span class="ph uicontrol">non-models</span> to
turn off the visibility of all resources that are not models.</p>
<p class="p">You
can also limit the inventory of resources to be displayed by clicking <span class="ph uicontrol">Available
Content</span> in the <span class="ph uicontrol">Filters</span> dialog and
selecting resources that you want to appear in the Project Explorer
and clearing resources that you do not want to appear. </p>
</div>
</div>
<div class="related-links"></div><div class="topic task nested4" xml:lang="en-us" id="t_dsply_model_nav"><a name="t_dsply_model_nav"><!-- --></a><h5 class="title topictitle5">Displaying the Model Navigator view</h5>
<div class="body taskbody"><p class="shortdesc">A way to filter what is displayed is to use the Model Navigator
view. </p>
<div class="section context"><p class="p">The Model Navigator view allows you to display only project
models and profile sets rather than the complete inventory of the
project components.</p>
</div>
<div class="li step"><span class="ph cmd">In Eclipse, click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show View</span> &gt; <span class="ph uicontrol">Model Navigator</span></span>.</span></div>
<div class="section result"><p class="p">A project tree that contains only models and profile set
folders appears in a separate pane. You can work with models and profile
sets from the Model Navigator just as you would from the Project Explorer
view but without having to navigate the full tree.</p>
<div class="note note"><span class="notetitle">Note:</span> If you
filter out models or profile sets from the Project Explorer, these
folders are still displayed in the Model Navigator. The purpose of
the Model Navigator is to display project models and profile sets
regardless of the contents of Project Explorer view.</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_invoke_project_explorer"><a name="c_invoke_project_explorer"><!-- --></a><h4 class="title topictitle4">Invoking the Project Explorer</h4>
<div class="body conbody"><p class="shortdesc">The Project Explorer is displayed by default. </p>
<div class="section"><p class="p">If you close the Project Explorer, you can display it
again by clicking <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show
View</span> &gt; <span class="ph uicontrol">Other</span></span> and then
selecting <span class="ph menucascade"><span class="ph uicontrol">General</span> &gt; <span class="ph uicontrol">Project
Explorer</span></span>.</p>
<p class="p">When you open a resource
in the Project Explorer, information about that resource appears in
an editor in a separate pane. You open a resource by right clicking
it and choosing <span class="ph uicontrol">Open</span> from the resulting popup.
For example, when you open a model, the Model Editor appears. It contains
the following tabs.</p>
<dl class="dl"><dt class="dt dlterm">Source</dt>
<dd class="dd">Displays model source code and useful related information, for
example, properties and associations.</dd>
<dt class="dt dlterm">Design</dt>
<dd class="dd">Displays graphically the construction of a user interface element
selected in the Application Tree or Pages panel. </dd>
<dt class="dt dlterm">Model XML</dt>
<dd class="dd">Displays the XML code that defines the model.</dd>
<dt class="dt dlterm">Builder Call Editor</dt>
<dd class="dd">Displays information about the open builder. </dd>
</dl>
<p class="p">If you open a profile set, the Profile Editor appears
with its own set of tabs and a set of buttons that allow you to add,
edit, or delete a profile in the set. To open an individual profile,
you have to open the profile set and display its contents in the <span class="ph uicontrol">Outline</span>.</p>
<p class="p">You
can rename builder calls in the editor. </p>
<div class="note note"><span class="notetitle">Note:</span> It is strongly recommended
that you not take advantage of this capability because your changes
will not be reconciled throughout the system. If you want to rename
a builder call, you should do so from the <span class="ph uicontrol">Outline</span> rather
than the editor.</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_profile_editor"><a name="c_profile_editor"><!-- --></a><h3 class="title topictitle3">Profile Editor</h3>
<div class="body conbody"><p class="shortdesc">In <span class="ph">IBM WebSphere Portlet Factory</span>,
the profile editor lets you create and manage profile sets. </p>
<p class="p">The tabs with the profile set icon (<img class="image" src="designer/images/profile_set.gif" alt="Profile set image" />) at the top of the Editor area of the <span class="ph"> WebSphere Portlet
Factory</span> perspective provide
access to the project profile sets that are open for editing. The
tab with focus displays an <span class="ph uicontrol">X</span> and populates
the content of all the views. </p>
<div class="p">When a tab displays an asterisk (<samp class="ph codeph">*</samp>), there are
unsaved changes in the profile set. The profile editor contains the
following tabbed panels:<dl class="dl"><dt class="dt dlterm">Manage Profiles</dt>
<dd class="dd">This panel lets you edit profile entries.</dd>
<dt class="dt dlterm">Entries</dt>
<dd class="dd">This panel lets you define profile entries in a profile set. </dd>
<dt class="dt dlterm">Select Handler</dt>
<dd class="dd">This panel lets you edit profile selection settings and choose
a profile selection handler. </dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_outline_view"><a name="c_outline_view"><!-- --></a><h3 class="title topictitle3">About the Outline view</h3>
<div class="body conbody"><p class="shortdesc">The Outline view in the <span class="ph">IBM WebSphere Portlet Factory</span> perspective displays
the builder call list for the model that you selected in the edit
area. </p>
<p class="p">The builder call list for the currently selected model is a listing
by number, name, or type, of each builder call in the model. Builder
calls that are profiled display a profile icon. With icons in the
view toolbar, you can readily generate the current model or add a
builder call to the model. </p>
<p class="p">The Outline view supports a popup menu that lets you manage a builder
call in the list by selecting it and using the available commands
(for example, cut, copy, and paste). </p>
<p class="p">In the builder call list, you can drag and drop the builder calls
to reorder them. The number sign (<samp class="ph codeph">#</samp>) in the builder
call list indicates the numeric order of the builder call. The order
of builder calls in the list is important because, if a builder call
is dependent on another builder call later in the list, the call fails.
Disabled builder calls are greyed-out.</p>
<p class="p">Under <span class="ph uicontrol">Name</span> is the designation that you can
enter as the <span class="ph uicontrol">Name</span> input in the builder. If
you do not enter a name, one is generated based on the page location
or displayed as <samp class="ph codeph">&lt;No Name&gt;</samp>. Under <span class="ph uicontrol">Type</span> is
the designation of the actual builder as selected in the builder picker.
Another column indicates whether the builder call has an associated
profile. </p>
<div class="section"><h4 class="title sectiontitle">View menu</h4><div class="p">In the Outline view toolbar, a
View menu provides commands to manage the builder call list. The <span class="ph uicontrol">Expand
All</span> command displays all builder call entries. The <span class="ph uicontrol">Collapse
All</span> command hides builder call entries under their categories.
This is useful for shortening lengthy lists. The following commands
are available. <ul class="sl simple"><li class="sli"><a class="xref" href="designer-html-wrapper.htm#c_outline_view__groupby">Group By</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#c_outline_view__sortby">Sort by</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#c_outline_view__search">Search</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#c_outline_view__linkwapptree">Link with Application Tree</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#c_outline_view__columns">Columns</a></li>
</ul>
</div>
<p class="p">At the end of the View menu, a list of names suggests
builders that you might want to add to your model. Simply clicking
the builder name adds the builder to your model and opens the builder
call editor in the editor area. </p>
</div>
<div class="section" id="c_outline_view__groupby"><a name="c_outline_view__groupby"><!-- --></a><h4 class="title sectiontitle">Group By</h4><div class="p">Use the <span class="ph uicontrol">Group
By</span> command in the View menu to select an arrangement of
builder calls in the list. You have the following options. <dl class="dl"><dt class="dt dlterm">Category</dt>
<dd class="dd">You select the category. You can hide all the builder calls in
that category. Drag and drop of builder calls assigns category values.
    </dd>
<dt class="dt dlterm">Comment</dt>
<dd class="dd">Similar to group by Category but any Comment builders in the list
are used as the categories. </dd>
<dt class="dt dlterm">Dependency</dt>
<dd class="dd">Order is based on the dependency information in the Application
Tree. For example, Service Operations appear under their Service Definition.
Drag and drop are disabled. </dd>
<dt class="dt dlterm">None</dt>
<dd class="dd">Use default ordering by inserted position. Drag and drop are enabled
only if sorting is by number. </dd>
<dt class="dt dlterm">Type</dt>
<dd class="dd">Similar to Sort by type, except that you can hide entire groups.
Drag and drop are disabled.     </dd>
</dl>
</div>
</div>
<div class="section" id="c_outline_view__sortby"><a name="c_outline_view__sortby"><!-- --></a><h4 class="title sectiontitle">Sort by</h4><p class="p">The <span class="ph uicontrol">Sort
by</span> command lets you arrange the list display in various
ways. The default is numerical order. You can also click the column
titles to sort the builder call list. </p>
</div>
<div class="section" id="c_outline_view__search"><a name="c_outline_view__search"><!-- --></a><h4 class="title sectiontitle">Search</h4><div class="p">The <span class="ph uicontrol">Search</span> command
opens a Search Builder Call List dialog in which you specify a criterion
and a string to use to search inputs in builders. You can specify
one of the following criteria. <ul class="sl simple"><li class="sli"><span class="ph uicontrol">start with</span></li>
<li class="sli"><span class="ph uicontrol">contain</span></li>
<li class="sli"><span class="ph uicontrol">does not contain</span></li>
</ul>
Select <span class="ph uicontrol">Perform case sensitive search?</span> to
have the search match the case of letters in the text that you specify.
Use the icon to the right of the text box to clear the content of
the search string. </div>
<p class="p">The command finds the builders that have
inputs matching your criterion and string and displays
only their calls in the builder call list. To restore the full builder
call list when you are done, specify <span class="ph uicontrol">start with</span> and
an empty string and click <span class="ph uicontrol">OK</span>. </p>
</div>
<div class="section" id="c_outline_view__linkwapptree"><a name="c_outline_view__linkwapptree"><!-- --></a><h4 class="title sectiontitle">Link with Application Tree</h4><p class="p">The
column that contains an arrow icon for each listed builder call lets
you link to related elements in other views. Click this arrow to highlight
related elements in the Application Tree and Pages views. This feature
also displays and highlights code in the Source view and the related
object in the Design view. If you set <span class="ph uicontrol">Link with Application
Tree</span> in the View pull-down menu, the Application Tree
view, Pages view, Source view, and Design view highlighting changes
each time you select a different builder call in the list. With the
command set, the arrow icon does not appear in the column. The command
is not set by default, because it adds performance overhead to the <span class="ph">IBM WebSphere Portlet Factory</span> Designer. </p>
</div>
<div class="section" id="c_outline_view__columns"><a name="c_outline_view__columns"><!-- --></a><h4 class="title sectiontitle">Columns</h4><p class="p">Use the <span class="ph uicontrol">Columns</span> command
in the View menu to control the order and appearance of the columns
in the builder call list. </p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_builder_call_list"><a name="c_builder_call_list"><!-- --></a><h4 class="title topictitle4">Builder call list</h4>
<div class="body conbody"><p class="shortdesc">The builder call list contains all the builder calls that
define your model. </p>
<p class="p">The builder call list is rendered in the Outline view of your development
environment when a model is opened for editing. The builder call list
displays the sequence number, name, and type of each builder call
in the model, and indicates whether or not the builder call is profiled.</p>
<p class="p">You can use the builder call list to sort, filter and categorize
builder calls. You can manage a builder call in the list by selecting
it and using the commands (cut, copy, paste, and so on) available
in the context (right-click) menu.</p>
<p class="p">Disabled builder calls are greyed-out.</p>
<p class="p"><span class="ph">IBM WebSphere Portlet Factory</span> executes these
builder calls in the numeric order in which they appear in the builder
call list. As each builder call executes, it adds elements to, or
modifies elements in, the WebApp object.</p>
<p class="p">When you generate the web application from the model, <span class="ph"> WebSphere Portlet
Factory</span> resolves any indirect
references you have used for builder call inputs and supplies any
profiled builder call inputs with values from the appropriate profile.</p>
<p class="p">As a result of the linear execution of builder calls, the order
in which you place builder calls in the list is important. For example,
to reference the value returned by a method in a builder call input,
add that method to the WebApp prior to the current builder call.</p>
<p class="p">As you develop your model, you may add a builder call that cannot
access the objects that it needs. For example, if you add or move
a Data Field Modifier builder call before the Data Page builder call
on whose elements it operates, the <span class="ph"> WebSphere Portlet
Factory</span> Designer displays
a warning similar to the following:</p>
<pre class="pre codeblock">Field selector "[page1]ShowEmployeeData/RowSet/Row/EMPNO" did not evaluate to any fields.
Ensure that this BuilderCall follows the corresponding Data Page BuilderCall.</pre>
<p class="p">In this case, once you drag the Data Field Modifier builder call
below the Data Page builder call, the error is eliminated.</p>
<p class="p">In general, as you add builder calls to the builder call list,
be aware of the dependencies one call has on another. Make sure that
you do not place a call in the list that depends on a call (or call
artifact) that is yet to be created. Populate the builder call list
in a top down manner and make sure that any call you add to the list
depends only on the builder calls above it.</p>
<div class="note note"><span class="notetitle">Note:</span> Regardless of how the builder call list is sorted (for example,
alphabetically by name or by type), builder execution is based on
the numeric order of builder calls within the builder call list.</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_builder_call_list_orgnz"><a name="c_builder_call_list_orgnz"><!-- --></a><h5 class="title topictitle5">About altering the organization of the builder call list</h5>
<div class="body conbody"><p class="shortdesc">You can alter the display of the builder calls in the model by
using the following builder call list view options.</p>
<dl class="dl"><dt class="dt dlterm">drag and drop</dt>
<dd class="dd">change the relative position of a builder call by dragging it to another
location within the list.</dd>
<dt class="dt dlterm">sort</dt>
<dd class="dd">arrange the builder call list in alphanumerical sequence by clicking a
number, name, or type column head.</dd>
<dt class="dt dlterm">filter</dt>
<dd class="dd">suppress the display of builder calls displayed in the builder call list
view by filtering in the graphic user interface (gui).</dd>
</dl>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_builder_palette"><a name="c_builder_palette"><!-- --></a><h5 class="title topictitle5">About using the builder picker</h5>
<div class="body conbody"><p class="shortdesc">The builder picker lists builders available in your environment
and provides you with a way to select a builder that you can add to your model. </p>
<div class="p">The builder picker shows the following panes by default:<ul class="ul"><li class="li"><span class="ph uicontrol">Category name</span><p class="p">This pane provides folders to help
you manage builders and find related builders. All supplied builders are assigned
at least one category, and you can view the builders according to their category
in the builder picker. Some builders appear in multiple categories. Categories
provide a way to organize builders. For example, clicking <span class="ph uicontrol">Page
Elements</span> under <span class="ph uicontrol">Category name</span> lists all
the builders that involve creating and manipulating pages.</p>
<dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Recommended</span></dt>
<dd class="dd">Click <span class="ph uicontrol">Recommended</span> to display under <span class="ph uicontrol">Builder</span> the
names of all recommended builders in any category. Expand <span class="ph uicontrol">Recommended</span> to
list the recommended categories. A recommended category is one that is associated
with whatever object is selected in the Application Tree view. Click one of
these recommended categories to limit the list under <span class="ph uicontrol">Builder</span> to
builder names that are in the selected category. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">All</span></dt>
<dd class="dd">Lists available builders. If you do not see a builder on the list, you
may have to upgrade your project version or use project properties to add
a feature set. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">Most Recently Used</span></dt>
<dd class="dd">Lists names of builders that you accessed from the builder picker while
you were working in the current workspace. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">Favorites</span></dt>
<dd class="dd">Lists builder names that you selected. To add to the list, click a builder
name and click <span class="ph uicontrol">Add to Favorites</span> or click <span class="ph uicontrol">Manage
Favorites</span> and use the dialog that displays all builder names. <p class="p">Use <span class="ph uicontrol">Manage
Favorites</span> to remove entries from the list. </p>
</dd>
<dt class="dt dlterm"><span class="ph uicontrol">Search Results</span></dt>
<dd class="dd">Click <span class="ph uicontrol">Search Results</span> to list under <span class="ph uicontrol">Builder</span> the
names of all builders associated with the keywords that you saved from the
search box. <p class="p">For example, if you enter the letter <samp class="ph codeph">p</samp> in
the search box at the top of the builder pane, a scrollable dropdown list
shows all keywords containing <samp class="ph codeph">p</samp>. If you enter the keyword <samp class="ph codeph">page</samp>,
all keywords containing <samp class="ph codeph">page</samp> are shown. </p>
<p class="p">Click a keyword
to have it appear in the text box and be saved in <span class="ph uicontrol">Search Results</span>.
The names of the builders associated with that keyword are shown under <span class="ph uicontrol">Builder</span>.
Click the last entry in the dropdown list (<span class="ph uicontrol">All builder keywords
containing</span> and your search term) to add the keywords
to <span class="ph uicontrol">Search Results</span> and list under <span class="ph uicontrol">Builder</span> the
associated builder names. </p>
<p class="p">Expand <span class="ph uicontrol">Search Results</span> to
list saved keywords. Click a keyword to limit the list under <span class="ph uicontrol">Builder</span> to
the names of builders associated with that keyword. </p>
<p class="p"><span class="ph uicontrol">Search
Results</span> is cleared when the Builder Picker dialog closes. </p>
</dd>
<dt class="dt dlterm">Assorted categories</dt>
<dd class="dd">The names of categories currently in <span class="ph">IBM WebSphere Portlet Factory</span> Designer
are listed. If you add a builder with a new category, its category is listed
here too. <p class="p"></p>
</dd>
</dl>
</li>
<li class="li"><span class="ph uicontrol">Builder</span><p class="p">This pane lists builder names in alphabetical
order based on your selection in <span class="ph uicontrol">Category name</span> or by
keyword entered in the search box. You add a builder to your model by selecting
the name and clicking <span class="ph uicontrol">OK</span>. </p>
</li>
<li class="li">Help tray<p class="p">By default, this pane displays information about the selected
builder so that you can decide whether it is the builder to add. The pane
provides links to further information about the builder. </p>
<p class="p">If you selected
to not show the help tray by default, press <tt class="ph tt">F1</tt> or click the question
mark icon to display it again. </p>
</li>
</ul>
</div>
<p class="p">The builder picker lets you add any builder included in, or added to, your <span class="ph"> WebSphere Portlet
Factory</span> installation.</p>
<p class="p">If you select a builder and click <span class="ph uicontrol">OK</span>, the builder
picker closes and runs the builder call editor for that builder. </p>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_update_builder_list"><a name="c_update_builder_list"><!-- --></a><h6 class="title topictitle6">About updating the list of builders</h6>
<div class="body conbody"><p class="shortdesc">You can update the list of builders available to <span class="ph">IBM WebSphere Portlet Factory</span> Designer.</p>
<div class="section"><p class="p">Your list of builders in the builder picker can be updated to
include other builders. Builders defined by builder definitions that are added
to the <span class="ph filepath">WEB-INF/builders</span> directory are listed in the All
category and any other category defined in the builder definition. The following
are causes for builder names not appearing in the list of builders. </p>
<ul class="ul"><li class="li">The builder is associated with a feature set and the feature set is not
part of the project.<p class="p">You can modify the project and add the feature set.
The builders then are listed in the builder picker. </p>
</li>
<li class="li">You added a new version or patch to <span class="ph"> WebSphere Portlet
Factory</span> Designer. <p class="p">You
need to upgrade the project version to update the list of builders. </p>
</li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic task nested6" xml:lang="en-us" id="t_updt_bldrlist"><a name="t_updt_bldrlist"><!-- --></a><h6 class="title topictitle6">Updating the list of builders</h6>
<div class="body taskbody"><p class="shortdesc">You can update the list of builders.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the Project Explorer, right-click the project and click <span class="ph uicontrol">Upgrade
Project Version</span>.</span></li>
<li class="li step"><span class="ph cmd">If you have just added a builder definition to the <span class="ph filepath">WEB-INF/builders</span> directory,
you may need to restart <span class="ph">IBM WebSphere Portlet Factory</span> Designer
to see the new builder in the builder picker.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested5" xml:lang="en-us" id="t_dsply_bldrhelp"><a name="t_dsply_bldrhelp"><!-- --></a><h6 class="title topictitle6">Displaying builder help</h6>
<div class="body taskbody"><p class="shortdesc">You can open the main help topic for a builder without
opening the builder call editor.</p>
<div class="section context">This can help you decide whether it is the correct builder
to add to your model. Do one of the following:</div>
<ul class="ul steps-unordered"><li class="li step stepexpand"><span class="ph cmd">In the builder picker, under <span class="ph uicontrol">Builder</span>,
move the cursor over a builder name.</span> <p class="p">Hover text
appears to describe the purpose of the builder. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the builder picker, under <span class="ph uicontrol">Builder</span>,
click the name of the builder for which you want to display the help.</span> <p class="p">The help tray is displayed by default in dialogs. </p>
 <p class="p">In the help tray on the right side of the dialog, text
appears that summarizes the purpose of the builder and contains a
link to the main builder help topic.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">If you selected to not show the help tray by default, in
the builder picker, do one of the following actions.</span><ul class="ul choices"><li class="li choice">Click the question mark icon in the bottom left corner. </li>
<li class="li choice">Under <span class="ph uicontrol">Builder</span>, click the name of the
builder for which you want to display the help and press <tt class="ph tt">F1</tt>.</li>
</ul>
 <p class="p">The help tray displays with the summary text and links. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Help</span> &gt; <span class="ph uicontrol">Help
contents</span> &gt; <span class="ph uicontrol">IBM WebSphere Portlet
Factory Designer</span> &gt; <span class="ph uicontrol">Reference</span> &gt; <span class="ph uicontrol">Builder help</span></span> and the builder
name from the list. </span> <p class="p">The main builder help topic
opens in the Details pane. </p>
</li>
</ul>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_manage_favorites_dialog"><a name="c_manage_favorites_dialog"><!-- --></a><h6 class="title topictitle6">About the Manage Favorites dialog</h6>
<div class="body conbody"><p class="shortdesc">In the Builder Picker dialog, click <span class="ph uicontrol">Manage Favorites</span> to
maintain a list of builders that you frequently use. </p>
<p class="p">This list is stored in the <span class="ph uicontrol">Favorites</span> folder under <span class="ph uicontrol">Category
name</span> in the builder picker. </p>
<dl class="dl"><dt class="dt dlterm">Add</dt>
<dd class="dd">Click to move a selected entry from <span class="ph uicontrol">Builders</span> to <span class="ph uicontrol">Favorites</span>.
Under <span class="ph uicontrol">Builders</span> are listed the same names that appear
in the <span class="ph uicontrol">All</span> folder. </dd>
<dt class="dt dlterm">Remove</dt>
<dd class="dd">Click to delete a selected entry from <span class="ph uicontrol">Favorites</span>. </dd>
<dt class="dt dlterm">Close</dt>
<dd class="dd">Click to dismiss the window.  </dd>
</dl>
<p class="p">Click the question mark icon to display in the help tray context information
about the dialog. </p>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic reference nested3" xml:lang="en-us" id="r_builder_call_right_click"><a name="r_builder_call_right_click"><!-- --></a><h4 class="title topictitle4">Builder call popup menu</h4>
<div class="body refbody"><p class="shortdesc">If you right-click in the Outline view, you open a popup
menu that lets you manage the builder call list and perform other
operations on builder calls. </p>
<div class="section"><p class="p">Some of the options in this menu are available only when
a builder call is selected. This menu provides access to the following
commands and actions.</p>
<dl class="dl"><dt class="dt dlterm">Open</dt>
<dd class="dd">Opens a builder call and displays the builder call editor page.</dd>
<dt class="dt dlterm">Cut</dt>
<dd class="dd">Removes a builder call from the list and saves it to the clipboard</dd>
<dt class="dt dlterm">Copy</dt>
<dd class="dd">Saves a copy of the builder call to the clipboard.</dd>
<dt class="dt dlterm">Paste</dt>
<dd class="dd">Writes a copy of a builder call to another location.</dd>
<dt class="dt dlterm">Undo</dt>
<dd class="dd">Removes the effect of the last action performed in the menu.</dd>
<dt class="dt dlterm">Redo</dt>
<dd class="dd">Repeats the effect of the last action performed in the menu.</dd>
<dt class="dt dlterm">Rename</dt>
<dd class="dd">Changes the name of the selected builder call. You are given a
list of resources that are affected by the name change and the option
to change those resources. </dd>
<dt class="dt dlterm">Insert</dt>
<dd class="dd">Places a builder call in the list once the builder call editor
is configured and saved by clicking <span class="ph uicontrol">Apply</span> or <span class="ph uicontrol">OK</span>. </dd>
<dt class="dt dlterm">Insert comment</dt>
<dd class="dd">Adds a Comment builder to your model. This is a good way to document
the different parts of your model. If the list is grouped by comment,
any items below this comment and the next comment are grouped by this
added comment.</dd>
<dt class="dt dlterm">Select all</dt>
<dd class="dd">Selects all builder calls in the list (usually for copying and
pasting).</dd>
<dt class="dt dlterm">Delete</dt>
<dd class="dd">Removes a builder call from the list in the Outline view. </dd>
<dt class="dt dlterm">Enable</dt>
<dd class="dd">Activates a builder call that is disabled.</dd>
<dt class="dt dlterm">Disable</dt>
<dd class="dd">Deactivates a builder call. The builder call remains in the list
in the Outline view, but the builder that it represents does not operate
on the model during regeneration.</dd>
<dt class="dt dlterm">Change builder categories</dt>
<dd class="dd">Displays a dialog in which you can choose from existing categories
that are used in the model or enter a new category. This category
affects all builder calls that are selected.</dd>
<dt class="dt dlterm">Refresh</dt>
<dd class="dd">Displays the current state of the builder call list. </dd>
<dt class="dt dlterm">Show Elements in Application Tree</dt>
<dd class="dd">For the selected builder call, highlights the location of the
associated elements in the Application Tree so that you can easily
locate them. </dd>
<dt class="dt dlterm">Convert</dt>
<dd class="dd">Changes a builder call from one type of builder to another type
of builder. Multiple choices can appear. <dl class="dl"><dt class="dt dlterm"><var class="keyword varname">builder-name</var></dt>
<dd class="dd">Names of builders appear as separate choices if the system can
readily convert to that type of builder or the builders were classified
as likely targets for the conversion.<p class="p">This menu choice is useful
to convert a builder to a similar type of builder that has nearly
equivalent inputs. For example, to convert a Button builder to a Link
builder, or a Page builder to an Imported Page builder. </p>
</dd>
<dt class="dt dlterm">Convert to</dt>
<dd class="dd">Opens the Builder Picker window, in which you can select a builder. <p class="p">In
general, builder conversions should involve builders in the same category.
For example, between converting from one type of builder to another
within the Pages category or within the Page Elements category. Do
not attempt to convert builders that are radically different in nature
or design.</p>
</dd>
</dl>
<p class="p">Inputs of the original builder are preserved and,
where appropriate, intelligently applied to the new builder. For example,
the <span class="ph uicontrol">Button Label</span> input value is applied to
the <span class="ph uicontrol">Link Text</span> input. All inputs of the original
builder are added to the new builder call editor.</p>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_using_model_views"><a name="c_using_model_views"><!-- --></a><h3 class="title topictitle3">About the model editor</h3>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> uses
several panels in the editor area of the <span class="ph"> WebSphere Portlet
Factory</span> perspective to create
and develop models for a web application.</p>
<div class="section"><p class="p">Use the Project Explorer or Model Navigator view to access
and open a model in the model editor. The tabs with the model icon
(<img class="image" src="designer/images/model.gif" alt="Model image" />) at the top of the Editor area of the <span class="ph"> WebSphere Portlet
Factory</span> perspective provide
access to the project models that are open for editing. The tab with
focus displays an <span class="ph uicontrol">X</span> and populates the content
of all the views. </p>
<p class="p">When a tab displays an asterisk (<samp class="ph codeph">*</samp>),
there are unsaved changes in the model. </p>
</div>
<div class="section" id="c_using_model_views__panels"><a name="c_using_model_views__panels"><!-- --></a><h4 class="title sectiontitle">Panels</h4><p class="p">You can use the panels
in the model editor to understand the effect of a builder call on
the model, to change builder calls, or to examine the relationships
among elements within the model. The panels include:</p>
<dl class="dl"><dt class="dt dlterm">Application Tree</dt>
<dd class="dd">This panel displays under the <span class="ph uicontrol">WebApp</span> folder
all the elements that builder calls have created and added to the
model. This includes data services, Events, linked Java objects, methods,
pages, variables, schemas and more. By navigating to and selecting
an object, you can examine the object and its contents. <p class="p">The WebApp
tree is updated each time the model is regenerated. </p>
</dd>
<dt class="dt dlterm">Pages</dt>
<dd class="dd">This panel provides alternate representations of pages and forms
in the model. Use the <span class="ph uicontrol">Large Icon</span> format to
more readily locate a particular page or form. </dd>
<dt class="dt dlterm">Source</dt>
<dd class="dd">This panel displays source code related to objects in the model
and provides useful information about the source code itself. </dd>
<dt class="dt dlterm">Design</dt>
<dd class="dd">This panel shows a visual representation of a visible element
that is selected in either the Application Tree or Pages panel. This
panel lets you quickly and conveniently see visible elements in your
model without having to run the model. Using this panel, you can also
change the page automation fields and display appearance. <dl class="dl"><dt class="dt dlterm">Palette</dt>
<dd class="dd">In the upper right corner of the Design panel is a palette icon.
Click the icon to alternately show and hide a palette of design tools
and commands to add builders to your model. A popup menu in the title
bar lets you resize and move the docking location of the palette.
Using drag and drop, you can also make layout changes in your model.
These changes add a Display Manager builder to your model. </dd>
</dl>
</dd>
<dt class="dt dlterm">Model XML</dt>
<dd class="dd">This panel displays the underlying XML code for the model. This
panel is useful for developers who are creating builders. </dd>
<dt class="dt dlterm">Builder Call Editor</dt>
<dd class="dd">This panel displays the editor used to configure or change a builder
call in the model. </dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_webapptree"><a name="c_webapptree"><!-- --></a><h4 class="title topictitle4">About the Application Tree</h4>
<div class="body conbody"><p class="shortdesc">The Application Tree lists generated elements in the open
model selected in the editor area.</p>
<div class="section"><p class="p">You can use the Application Tree in the model editor to
navigate to and access a generated element. With an open model having
focus in the model editor, click the <span class="ph uicontrol">Application Tree</span> tab
to expose the panel and view the WebApp folder and subfolders in which
generated elements are listed by type. If the <span class="ph uicontrol">Application
Tree</span> tab is not visible, click the arrow icon on the left
side of the editor area to shrink the selected panel and expose the
Application Tree panel. </p>
<p class="p">The generated elements for a model
are displayed in tree form under the WebApp folder. Folders representing
element types can be expanded and collapsed. For example, all variables
in the WebApp are contained in the Variable folder. The same is true
for other types of elements. This organization of generated elements
allows you to easily visualize what the WebApp contains and how the
WebApp changes during regeneration. For example, you can use the Application
Tree to determine what a builder adds to the WebApp.</p>
<p class="p">Click the
companion <span class="ph uicontrol">Pages</span> tab to more readily access
page and form elements. </p>
<p class="p">For each type of generated element
that is selected in the Application Tree, the corresponding code is
displayed in the Source panel. </p>
<p class="p">Use the Source panel to examine
the related code generated by a builder call or a method. </p>
<p class="p">If
you expand a folder in the Application Tree and click on a WebApp
object, the builder responsible for creating the object is highlighted
in the builder call list. Likewise, if you select a builder call in
the Outline view and enable <span class="ph uicontrol">Link with WebApp Tree</span>,
the generated elements associated with that builder call are selected
in the Application Tree. </p>
<p class="p">The Application Tree operation is
closely coupled with the Source view and the Design view. </p>
</div>
<div class="section" id="c_webapptree__controls"><a name="c_webapptree__controls"><!-- --></a><h5 class="title sectiontitle">Controls in the Application Tree </h5><p class="p">A
standard Eclipse tree filter is available at the top of the Application
Tree. If you type text in the filter, an incremental search is performed.
Only those resources that have the filter characters at the start
of their names are displayed under the <span class="ph uicontrol">WebApp</span> folder
in their related sub-folders. If you type the asterisk character (<samp class="ph codeph">*</samp>)
first and text, those resources that have the text anywhere in their
names are displayed. An icon is available to clear the filter and
display all resources. </p>
<p class="p">The Application Tree supports a popup
menu that you can use to more readily open builders that created or
can modify the selected element. </p>
<div class="note note"><span class="notetitle">Note:</span> If you set <span class="ph uicontrol">Show
Hidden Object</span> in <span class="ph">IBM WebSphere Portlet Factory</span> Designer
preferences, you can see additional objects under the <span class="ph uicontrol">WebApp</span> folder. </div>
</div>
<div class="section" id="c_webapptree__typicalfolders"><a name="c_webapptree__typicalfolders"><!-- --></a><h5 class="title sectiontitle">Typical folders in the Application
Tree</h5><p class="p">Typically, you can see the following folders in the
Application Tree. </p>
<dl class="dl"><dt class="dt dlterm">Comments</dt>
<dd class="dd">Displays Comment builder calls. These calls are used to document
model construction or segments of builders in the builder call list.
They provide a handy means for documenting a model.</dd>
<dt class="dt dlterm">Data Services</dt>
<dd class="dd">Displays information about generated elements used to access <span class="ph">IBM WebSphere Portlet Factory</span> Data Service Layer.
This common layer is used to access the back end or external data,
and makes it possible to separate the user interface (UI) from the
data. For example, this layer allows you to have one model that is
used to access data and a linked model that provides the business
logic or user interface for accessing the data. Objects that might
be displayed as Data Services include: Service Calls, SQL Calls, and
data access requests made by various View and Form builders.</dd>
<dt class="dt dlterm">Events</dt>
<dd class="dd">Displays event handler information. (The Event Declaration itself
is not displayed.) When an Error Handler builder call is added to
a model, its information is displayed in the Source panel. Each event
in the WebApp is listed in the Event tree. User defined events (created
with an Event Declaration builder) are prefixed with <samp class="ph codeph">User</samp> and
displayed only when there is an Event Handler builder present that
handles the event. Event Declarations add two methods to the WebApp.
These methods show up under the methods folder. The following is a
typical event viewer display:<pre class="pre codeblock">Event: OnError.main
Action: showErrorPage</pre>
</dd>
<dt class="dt dlterm">Linked Java Objects</dt>
<dd class="dd">Displays information about each LJO in the model, including status
(persisted for failover) and the public methods within the LJO.</dd>
<dt class="dt dlterm">Methods</dt>
<dd class="dd">Displays highlighted Java code of selected method. The viewer
displays the entire generated methods class, and the selected method
is highlighted.</dd>
<dt class="dt dlterm">Pages</dt>
<dd class="dd">Displays information about each page in the WebApp. The upper
panel describes page name status (public) and properties. The lower
panel displays page HTML and JSP code and tags. Click on a node (page
control) listed under an individual page to jump to the code that
implements that node.<p class="p">Use the Pages panel for more direct access
to pages and forms in the model. </p>
</dd>
<dt class="dt dlterm">Properties</dt>
<dd class="dd">Displays information about properties that apply to the overall
WebApp. Various builders (for example, the Schema builder and File
Chooser builder) create and use WebApp properties. </dd>
<dt class="dt dlterm">Schemas</dt>
<dd class="dd">Displays the XSD and XML markup defining a schema and the generic
structure of elements and attributes (not actual schema data). The
upper panel displays schema source and caching information. The lower
panel displays schema XSD elements and references.</dd>
<dt class="dt dlterm">Variables</dt>
<dd class="dd">Displays information about each variable in the WebApp, whether
the variable was created manually or automatically by a builder. The
upper panel presents information about variable name, status, type,
and persistence and properties. For object types, the class name and
instantiate method is also listed.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_preview_design"><a name="t_preview_design"><!-- --></a><h4 class="title topictitle4">Previewing and interacting with your design</h4>
<div class="body taskbody"><p class="shortdesc">You can display a visual representation of your model. </p>
<div class="section prereq"><p class="p">If you click <span class="ph uicontrol">Design View</span> and a non-visible
item is selected in the Application Tree or no visible elements reside in
the model, you see this text. </p>
<p class="p">You need to have added to your model
builders that create page elements. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Ensure that you added builders that create page elements in your
model by doing one of the following:</span><ul class="ul choices"><li class="li choice">In the Application Tree, check that elements reside in the <span class="ph uicontrol">Pages</span> folder. </li>
<li class="li choice">In the builder call list, find a qualified builder (that is, one that
creates a page or a form). </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">If you find that you do not have page elements in your model, add
builders to create pages or forms. </span></li>
<li class="li step stepexpand"><span class="ph cmd">With pages or forms in your model, do one of the following:</span><ul class="ul choices"><li class="li choice">From the Application Tree, navigate to and expand the <span class="ph uicontrol">Pages</span> folder
and then select a page. </li>
<li class="li choice">Click the <span class="ph uicontrol">Pages</span> tab and click a page element. </li>
</ul>
</li>
</ol>
<div class="section result">In <span class="ph uicontrol">Design View</span>, you see a visual representation
of the visible element that you selected. </div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_working_designvw"><a name="c_working_designvw"><!-- --></a><h5 class="title topictitle5">Working with the Design and Pages panels</h5>
<div class="body conbody"><p class="shortdesc">The Design and related Pages panels in the model editor
provide a graphic representation of visual elements in a model. </p>
<p class="p">With the Design panel, you can change your fields and grouping
of fields on pages. </p>
<div class="section"><h6 class="title sectiontitle">The Pages panel</h6><p class="p">The Pages panel shows thumbnail
icons of all created pages and forms in the model. (The same generated
elements are listed in the Application Tree.) Click the <span class="ph uicontrol">Pages</span> tab
to expose the pane. The icons let you more easily select a visible
element in your model. The Views icon in the Pages toolbar lets you
also display both list and details formats of the visible elements. </p>
<p class="p">The
Pages panel supports a popup menu that lets you more readily open
builders that created or can modify the selected element. </p>
</div>
<div class="section"><h6 class="title sectiontitle">The Design panel</h6><p class="p">The Design panel shows
a visual representation of a visible element that is selected in either
the Application Tree or the Pages panel. Clicking the <span class="ph uicontrol">Design</span> tab
exposes the Design panel. This panel lets you quickly and conveniently
see visible elements in your model without having to generate the
web application and lets you make design changes. </p>
<p class="p">In the pane,
tags are represented visually as boxes on the page. Tags appear in
orange to indicate where to add a builder. The tag names are displayed
in the boxes. </p>
<p class="p">An arrow icon in the left side of the editor
panel can be toggled to hide or expose the Application Tree and Pages
panels. Hiding the other panels gives you more room on the screen
to work with the builder call editor. The visual representation includes
a red star and red text indicators. These show that the associated
elements have an error condition that you must remove in the builder
call editor. Also included are group icons that let you easily operate
on aggregate elements. </p>
<p class="p">The Design panel is tightly connected
to the Application Tree. If you select an element in the Design panel,
the corresponding element in the Application Tree is selected. Also,
the associated code in the Source panel is highlighted. </p>
<p class="p">The
Design panel supports popup menu options and a palette that help you
develop your web application. The popup menu options available depend
on the context of the element selected in the panel. Right-clicking
any element or the group icon in the pane displays the menu. </p>
<p class="p">In
the builder call editor of any builder that you add to your model
from the Design panel, page and tag fields are pre-filled based on
the context of the selected element. </p>
<dl class="dl"><dt class="dt dlterm">Show Palette</dt>
<dd class="dd">A Show Palette icon in the upper right corner of the Design panel
offers a palette dialog that lets you drag and drop design elements
onto pages in the model. Click the Show Palette icon to display the
dialog and click the Hide Palette icon to hide the dialog. The page
automation elements in the Design panel can be rearranged with the
mouse by dragging and dropping. Using the categories in the palette,
you can add builders to page locations by dragging and dropping. The <span class="ph uicontrol">Layout
Tools</span> group in the palette lets you modify and augment
your page design. Use <span class="ph uicontrol">Layout Grid</span> to add a
grid to the page. The <span class="ph uicontrol">Layout Row</span> and <span class="ph uicontrol">Layout
Column</span> tools let you add rows and columns to the page. <div class="note note"><span class="notetitle">Note:</span> Adding
and changing objects on a page by drag and drop causes a Display Manager
builder to be added to your model for that page. </div>
</dd>
<dt class="dt dlterm"><span class="ph"><span class="ph uicontrol">Merge
Fields</span></span></dt>
<dd class="dd">If you select multiple fields in the Design panel or the Application
Tree, you have available the <span class="ph"><span class="ph uicontrol">Merge
Fields</span></span> command
on the popup menu. This command lets you combine fields for display. <p class="p">You typically have a situation in which your data
needs to be in multiple fields. However, when you display the data,
you would like these multiple fields to line up on the display as
fields that they occupy only one column. For example, a person's address
could consist of separate city, state, and ZIP code fields. You can
use the Data Field Merge builder to treat separate fields as a single
field on a details page or as a single display column.  </p>
<p class="p">In the Design panel,  you can select multiple fields
to be merged, right-click, and click <span class="ph" id="c_working_designvw__d13911e2383"><a name="c_working_designvw__d13911e2383"><!-- --></a><span class="ph uicontrol">Merge
Fields</span></span> to merge the fields into the current column.
The multiple fields must all be in the same container field. After
you fill in the information related to the menu command, the Data
Field Merge builder is added to your model and the newly merged columns
are displayed. </p>
</dd>
<dt class="dt dlterm"><span class="ph"><span class="ph uicontrol">Data Field Settings</span></span></dt>
<dd class="dd">If you select a field or column in the Design panel or the Application
Tree, you have available the <span class="ph"><span class="ph uicontrol">Data Field Settings</span></span> command.
This command lets you control a limited number of display settings
for page automation fields in a model (and validation settings for
data entry fields). For some types of change, you can limit the changes
to one page in the model or have the change effect all pages in the
model on which the field appears. <p class="p">Right-click a page automation field in the Design
panel and click <span class="ph menucascade" id="c_working_designvw__d13911e2396"><a name="c_working_designvw__d13911e2396"><!-- --></a><span class="ph uicontrol">Data Field
Settings</span> &gt; <span class="ph uicontrol">Field</span></span> or <span class="ph menucascade"><span class="ph uicontrol">Data Field Settings</span> &gt; <span class="ph uicontrol">Validation</span></span>. (The <span class="ph uicontrol">Validation</span> command is
available on the menu only for data entry fields.) When you change
a setting, click <span class="ph uicontrol">Apply</span> or <span class="ph uicontrol">OK</span>. </p>
<p class="p"><span class="ph">If you right-click a column or a field in
a form or page, you can use <span class="ph menucascade" id="c_working_designvw__d13911e2420"><a name="c_working_designvw__d13911e2420"><!-- --></a><span class="ph uicontrol">Data
Field Settings</span> &gt; <span class="ph uicontrol">Hide</span></span> or <span class="ph menucascade" id="c_working_designvw__d13911e2426"><a name="c_working_designvw__d13911e2426"><!-- --></a><span class="ph uicontrol">Data Field Settings</span> &gt; <span class="ph uicontrol">Show</span></span> to quickly change its display setting. The command
lets you toggle the property that prevents the field or column from
being displayed or lets it be displayed. </span> </p>
<p class="p"><span class="ph">If you right-click a column or a field
in a form or page, you can use <span class="ph menucascade" id="c_working_designvw__d13911e2435"><a name="c_working_designvw__d13911e2435"><!-- --></a><span class="ph uicontrol">Data
Field Settings</span> &gt; <span class="ph uicontrol">Sort</span></span> or <span class="ph menucascade" id="c_working_designvw__d13911e2441"><a name="c_working_designvw__d13911e2441"><!-- --></a><span class="ph uicontrol">Data Field Settings</span> &gt; <span class="ph uicontrol">Remove
Sort</span></span> to quickly change the sort setting.
The command lets you toggle the property that allows the field or
column to be sorted or prevents it from being sorted. </span> </p>
<p class="p"><span class="ph">If the model does
not contain a related builder for this form or page, a recommended
builder is added to the model. If a related builder resides in the
model for this form or page, the related input in that builder is
updated with your change. </span></p>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_working_sourcevw"><a name="c_working_sourcevw"><!-- --></a><h4 class="title topictitle4">Working with the Source panel</h4>
<div class="body conbody"><p class="shortdesc">The Source panel in the model editor shows the application code
that is associated with a generated element that is selected in the Application
Tree, in the Design or Pages panel, or with a selected builder call in the
Outline view. </p>
<div class="section"><p class="p">Click the <span class="ph uicontrol">Source</span> tab to expose the panel.
Use the arrow icon on the left side of the editor area expand and shrink the
panel. For example, if the Application Tree and Pages tabs are not visible,
click the arrow to shrink the Source panel and expose the other panels. </p>
<div class="p">If
the Source panel is empty, you see a message <samp class="ph codeph">No Element Selected</samp>.
You can do one of the following: <ul class="ul"><li class="li">Use the Application Tree, Pages panel, or Design panel to select an element. <p class="p">In
the Application Tree, navigate to and select a generated element. In the Pages
panel, select a page or a form. In the Design panel, select a visible element. The
related source code in the Source panel is highlighted. </p>
</li>
<li class="li">Use the builder call list in the Outline view to select a builder call. <p class="p">If
you enable <span class="ph uicontrol">Link with WebApp Tree</span> in the Outline view,
selecting a builder call causes the associated elements in the Application
Tree to be selected and the related source code in the Source panel to be
highlighted. </p>
</li>
</ul>
</div>
<p class="p">In the Source panel, you see both information about the code and
the code itself. To collapse and expand the information about the element,
use the triangle icon to the left of the element name. Collapsing the information
gives you more space for the source code display. </p>
<div class="p">The information about
the code varies with the type of related elements. For example, for a method,
you can see, under <span class="ph uicontrol">Associations</span>, the following items:<ul class="ul"><li class="li"><span class="ph uicontrol">is called by</span><p class="p">Which method called the current
selection</p>
</li>
<li class="li"><span class="ph uicontrol">calls</span><p class="p">Which methods the selected code calls</p>
</li>
</ul>
</div>
<p class="p">Use the information about the code to more readily understand
the operation of the model. </p>
</div>
</div>
<div class="related-links"></div><div class="topic task nested4" xml:lang="en-us" id="t_mk_source_avail"><a name="t_mk_source_avail"><!-- --></a><h5 class="title topictitle5">Working with Source View and the Application Tree</h5>
<div class="body taskbody"><p class="shortdesc">The Source View and Design View tabs can show details of elements
that you select in the Application Tree.    </p>
<div class="section prereq"><p class="p">If you select the <span class="ph uicontrol">Source View</span> tab, and the
selected object in the Application Tree view does not have any source available,
you see this topic. You can make the source code for elements created by builders
in your model available to be displayed in the Source View.</p>
</div>
<div class="section context">Displaying source information for your model involves adding builders
and specifying inputs for the builder calls. </div>
<ol class="ol steps"><li class="li step stepexpand" id="t_mk_source_avail__ensure_add_bld_step"><a name="t_mk_source_avail__ensure_add_bld_step"><!-- --></a><span class="ph cmd">Ensure that you added builders to your
model. </span> <p class="p">In the Outline View, you see a builder call list; each
entry in the list describes a builder that you added to your model. </p>
<p class="p">If
the builder call list is empty, add builders to the model using the builder
picker. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">If you are adding a builder to the model,
in the builder call editor, specify the required and default inputs and click <span class="ph uicontrol">Apply</span>. </span> <p class="p">You see the builder added to the builder call list in the Outline
View. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Application Tree</span> and navigate to and
select any element in the WebApp folder. </span> <p class="p">Source information
is displayed in the Source View. </p>
</li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_webapp_tree_rclick"><a name="c_webapp_tree_rclick"><!-- --></a><h4 class="title topictitle4">Model editor popup menu</h4>
<div class="body conbody"><p class="shortdesc">The popup menu in the model editor (that is, in the Application
Tree, the Pages panel, and the Design panel) shows in the current
context both the builder that created the selected object and available
builders that can modify the selected generated element. </p>
<div class="p">The selections on the menu let you more readily start an appropriate
builder. If you right-click a folder or generated element in the Application
Tree, a generated element in the Pages panel, or a visual element
in the Design panel, you see a popup menu with the following types
of selections. <dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Create</span></dt>
<dd class="dd">Lets you add a builder call for the element type associated with
the selected folder. For example, if the selected folder is <span class="ph uicontrol">Events</span>,
you see <span class="ph menucascade"><span class="ph uicontrol">Create</span> &gt; <span class="ph uicontrol">Event
Declaration</span></span>. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">Toggle breakpoint</span></dt>
<dd class="dd">Enables and disables a breakpoint on the selected generated element.
Does not appear if you right-click a folder in the Application Tree. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">Open "<var class="keyword varname">name</var>(<var class="keyword varname">builder-name</var>)"</span></dt>
<dd class="dd">If you right-click the <span class="ph uicontrol">WebApp</span> folder, lets
you open the indicated builder call in the model. Typically, this
is the builder call that was responsible for the creation of the <span class="ph uicontrol">WebApp</span> folder. </dd>
</dl>
<dl class="dl"><dt class="dt dlterm">Builder Call Operations</dt>
<dd class="dd">These commands are also available in the builder call popup menu
in the Outline view. <dl class="dl"><dt class="dt dlterm">Open</dt>
<dd class="dd">Opens a builder call and displays the builder call editor page.</dd>
<dt class="dt dlterm">Disable</dt>
<dd class="dd">Deactivates a builder call. The builder call remains in the list
in the Outline view, but the builder that it represents does not operate
on the model during regeneration.</dd>
<dt class="dt dlterm">Delete</dt>
<dd class="dd">Removes a builder call from the list in the Outline view. </dd>
<dt class="dt dlterm">Show Elements in Application Tree</dt>
<dd class="dd">For the selected builder call, highlights the location of the
associated elements in the Application Tree so that you can easily
locate them. </dd>
<dt class="dt dlterm">Convert</dt>
<dd class="dd">Changes a builder call from one type of builder to another type
of builder. Multiple choices can appear. <dl class="dl"><dt class="dt dlterm"><var class="keyword varname">builder-name</var></dt>
<dd class="dd">Names of builders appear as separate choices if the system can
readily convert to that type of builder or the builders were classified
as likely targets for the conversion.<p class="p">This menu choice is useful
to convert a builder to a similar type of builder that has nearly
equivalent inputs. For example, to convert a Button builder to a Link
builder, or a Page builder to an Imported Page builder. </p>
</dd>
<dt class="dt dlterm">Convert to</dt>
<dd class="dd">Opens the Builder Picker window, in which you can select a builder. <p class="p">In
general, builder conversions should involve builders in the same category.
For example, between converting from one type of builder to another
within the Pages category or within the Page Elements category. Do
not attempt to convert builders that are radically different in nature
or design.</p>
</dd>
</dl>
<p class="p">Inputs of the original builder are preserved and,
where appropriate, intelligently applied to the new builder. For example,
the <span class="ph uicontrol">Button Label</span> input value is applied to
the <span class="ph uicontrol">Link Text</span> input. All inputs of the original
builder are added to the new builder call editor.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Open "<var class="keyword varname">element-name</var>(<var class="keyword varname">builder-creator</var>)"</span></dt>
<dd class="dd">Runs the builder call editor for the builder type that created
the selected element. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">Open "<var class="keyword varname">element-name</var>(<var class="keyword varname">builder-modifier</var>)"</span></dt>
<dd class="dd">Runs the builder call editor for a builder that can modify the
selected element. There can be multiple commands for this type of
selection. </dd>
<dt class="dt dlterm">Export HTML For Data Layout</dt>
<dd class="dd">Creates a file that contains the HTML code for the selected generated
element. </dd>
<dt class="dt dlterm">Export Resource Bundle</dt>
<dd class="dd">Generates a <span class="ph filepath">.properties</span> file to help you
localize user-visible text for display in multiple human languages.
If you right-click a page in the Application Tree or in the Pages
panel, this command is available. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">category-name</span></dt>
<dd class="dd">Offers a list of builders in a category of all builders that declare
they can modify the type of generated element or of the folder that
is selected. There can be multiple categories. <p class="p">In the submenu for
a category, click a builder name to run the builder call editor to
create in the model a new builder call that modifies the element. </p>
<p class="p">The
categories and list of builders are not exhaustive. Thus, a certain
builder might be able to create a particular element, but it would
not be on the list because it would not make sense in that context. </p>
<div class="p">The
following commands have specialized uses.<dl class="dl"><dt class="dt dlterm"><span class="ph"><span class="ph uicontrol">Data Field Settings</span></span></dt>
<dd class="dd">The following commands are available. <dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Field</span> or <span class="ph uicontrol">Validation</span></dt>
<dd class="dd"><p class="p">Right-click a page automation field in the Design
panel and click <span class="ph menucascade" id="c_webapp_tree_rclick__d13060e2396"><a name="c_webapp_tree_rclick__d13060e2396"><!-- --></a><span class="ph uicontrol">Data Field
Settings</span> &gt; <span class="ph uicontrol">Field</span></span> or <span class="ph menucascade"><span class="ph uicontrol">Data Field Settings</span> &gt; <span class="ph uicontrol">Validation</span></span>. (The <span class="ph uicontrol">Validation</span> command is
available on the menu only for data entry fields.) When you change
a setting, click <span class="ph uicontrol">Apply</span> or <span class="ph uicontrol">OK</span>. </p>
</dd>
<dt class="dt dlterm"><span class="ph uicontrol">Hide</span> or <span class="ph uicontrol">Show</span></dt>
<dd class="dd"><span class="ph">If you right-click a column or a field in
a form or page, you can use <span class="ph menucascade" id="c_webapp_tree_rclick__d13060e2420"><a name="c_webapp_tree_rclick__d13060e2420"><!-- --></a><span class="ph uicontrol">Data
Field Settings</span> &gt; <span class="ph uicontrol">Hide</span></span> or <span class="ph menucascade" id="c_webapp_tree_rclick__d13060e2426"><a name="c_webapp_tree_rclick__d13060e2426"><!-- --></a><span class="ph uicontrol">Data Field Settings</span> &gt; <span class="ph uicontrol">Show</span></span> to quickly change its display setting. The command
lets you toggle the property that prevents the field or column from
being displayed or lets it be displayed. </span></dd>
<dt class="dt dlterm"><span class="ph uicontrol">Sort</span> or <span class="ph uicontrol">Remove Sort</span></dt>
<dd class="dd"><span class="ph">If you right-click a column or a field
in a form or page, you can use <span class="ph menucascade" id="c_webapp_tree_rclick__d13060e2435"><a name="c_webapp_tree_rclick__d13060e2435"><!-- --></a><span class="ph uicontrol">Data
Field Settings</span> &gt; <span class="ph uicontrol">Sort</span></span> or <span class="ph menucascade" id="c_webapp_tree_rclick__d13060e2441"><a name="c_webapp_tree_rclick__d13060e2441"><!-- --></a><span class="ph uicontrol">Data Field Settings</span> &gt; <span class="ph uicontrol">Remove
Sort</span></span> to quickly change the sort setting.
The command lets you toggle the property that allows the field or
column to be sorted or prevents it from being sorted. </span> </dd>
</dl>
<p class="p"><span class="ph">If the model does
not contain a related builder for this form or page, a recommended
builder is added to the model. If a related builder resides in the
model for this form or page, the related input in that builder is
updated with your change. </span></p>
<p class="p">You
can use the <samp class="ph codeph">Ctrl</samp> key and clicking to select multiple
objects of the same type (either field or column) for the command. </p>
</dd>
<dt class="dt dlterm"><span class="ph"><span class="ph uicontrol">Merge
Fields</span></span></dt>
<dd class="dd"><p class="p">In the Design panel,  you can select multiple fields
to be merged, right-click, and click <span class="ph" id="c_webapp_tree_rclick__d13060e2383"><a name="c_webapp_tree_rclick__d13060e2383"><!-- --></a><span class="ph uicontrol">Merge
Fields</span></span> to merge the fields into the current column.
The multiple fields must all be in the same container field. After
you fill in the information related to the menu command, the Data
Field Merge builder is added to your model and the newly merged columns
are displayed. </p>
</dd>
<dt class="dt dlterm"><span class="ph uicontrol">Methods</span></dt>
<dd class="dd">If you right-click a method in the Application Tree, the following
options are available with this command.<dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Override</span></dt>
<dd class="dd">Adds a Method builder to your model and fills in the <span class="ph uicontrol">Method
Body</span> input with the code of the selected method. This
is useful for cases in which you need to add special processing to
a method like <samp class="ph codeph">main</samp>. Add your changes and click <span class="ph uicontrol">OK</span> in
the builder. The changed method replaces the selected method, which
is renamed. The changed method overrides the selected method.</dd>
<dt class="dt dlterm"><span class="ph uicontrol">Method</span></dt>
<dd class="dd">Adds a blank Method builder to the builder call list. </dd>
</dl>
</dd>
</dl>
</div>
</dd>
<dt class="dt dlterm"><span class="ph uicontrol">Add Builder Call</span></dt>
<dd class="dd">Displays the Builder Picker dialog so that you can select a builder
call to add to the model. </dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_model_xml_view"><a name="c_model_xml_view"><!-- --></a><h4 class="title topictitle4">The Model XML panel</h4>
<div class="body conbody"><p class="shortdesc">The Model XML panel in the model editor displays the XML for the
model as it is saved on disk.</p>
<div class="section"><p class="p">If you are creating builders, you can use the Model XML panel
to examine how indirect references are resolved. Also, you can examine the
schemas generated by various builders, such as the Data Page builders and
Database builders.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_builder_call_editor"><a name="c_builder_call_editor"><!-- --></a><h3 class="title topictitle3">About using the builder call editor</h3>
<div class="body conbody"><p class="shortdesc">The builder call editor allows you to specify all the input values
to a builder call.</p>
<p class="p">You can also reference elements in an XML structure and locate control
builder calls on one or more pages in the model.</p>
<p class="p">The following builder call input groups are common to many builders:</p>
<dl class="dl"><dt class="dt dlterm">Properties</dt>
<dd class="dd">Expanding the Properties input group displays the following inputs that
describe information about the builder call: <dl class="dl"><dt class="dt dlterm">Enable Builder</dt>
<dd class="dd">The <span class="ph uicontrol">Enable Builder</span> value, <kbd class="ph userinput">True</kbd> or <kbd class="ph userinput">False</kbd>,
marks the builder call to be included in generation or not. The default value
is <kbd class="ph userinput">True</kbd>. You can profile this input to enable or disable
a builder call for a particular profile.</dd>
<dt class="dt dlterm">Category</dt>
<dd class="dd">This input is no longer used.  </dd>
<dt class="dt dlterm">Comment</dt>
<dd class="dd">Enter a comment that describes some relevant information about how you
are using this builder call. When you open the builder call, these comments
are displayed in the properties section of the builder call editor.</dd>
</dl>
</dd>
<dt class="dt dlterm">Arguments</dt>
<dd class="dd">Expanding the Arguments group displays the following inputs that allow
you to pass arguments to the specified action: <dl class="dl"><dt class="dt dlterm">Name</dt>
<dd class="dd">Enter the name of the argument for the specified action.</dd>
<dt class="dt dlterm">Value</dt>
<dd class="dd">Enter the value for the argument. You can use the reference chooser to
select a value from one of the elements in the web application.</dd>
</dl>
</dd>
<dt class="dt dlterm">Advanced</dt>
<dd class="dd">Expanding the <span class="ph uicontrol">Advanced</span> group displays additional
inputs that you can set to fine tune the builder behavior according to your
requirements.</dd>
<dt class="dt dlterm">HTML Attributes</dt>
<dd class="dd">Expanding the <span class="ph uicontrol">HTML Attributes</span> group displays the
following inputs that describe how control builder calls (such as Button or
Text Input) should be rendered in HTML.<dl class="dl"><dt class="dt dlterm">Class</dt>
<dd class="dd">If the page on which this control uses a cascading style sheet (CSS),
enter the style class name to apply to this control.</dd>
<dt class="dt dlterm">Style</dt>
<dd class="dd">Enter HTML style syntax for the control that the builder adds to the page.</dd>
</dl>
<p class="p">Other options might be present, depending on the builder.</p>
</dd>
</dl>
<div class="section"><h4 class="title sectiontitle">About specifying input values</h4><p class="p">Most inputs to a builder
call can take a value derived from an indirect reference, a Java expression,
or directly from a String value. Some inputs that require a name to a specific
object like a variable or model use specific choosers that filter out inappropriate
elements.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_builder_call_naming"><a name="c_builder_call_naming"><!-- --></a><h4 class="title topictitle4">About builder call naming</h4>
<div class="body conbody"><p class="shortdesc">In general, name builders in models using the same conventions
as Java variables.</p>
<div class="section"><p class="p">(Initial lowercase character, then an uppercase character
for the first letter of each word.) For example:</p>
<ul class="sl simple"><li class="sli">orders</li>
<li class="sli">ordersList</li>
<li class="sli">OrdersListNorthEast</li>
<li class="sli">entryPage</li>
<li class="sli">result</li>
<li class="sli">registerUser</li>
</ul>
<p class="p">Sometimes the initial lowercase rule should not be followed.
For example, the <span class="ph uicontrol">Name</span> input of the <span class="ph">Portlet Adapter</span> builder
is used as the <span class="ph">portlet</span> name
in the <span class="ph">portal</span> (not
for generated web application objects), so using initial uppercase
letters for this builder call name makes more sense.</p>
<p class="p">The <span class="ph uicontrol">Name</span> input
for control builders (such as Button or Link builders) is generally
best left blank. When this input is blank, the control builder automatically
displays the name of the tag on which it is located.</p>
</div>
<div class="section"><h5 class="title sectiontitle">Duplicate name error</h5><div class="p">If you create an LJO
with the same name as an existing variable or LJO, <span class="ph"> WebSphere Portlet
Factory</span> throws an exception
(duplicate name error). Duplicate names can cause runtime issues that are
difficult to diagnose and fix. This error avoids runtime collisions
that could possibly cause obscure errors when the application runs.
You can see this error at either design time or runtime. The error
occurs in one of the following cases.<ul class="ul"><li class="li">If you incorrectly name an LJO directly with the Linked Java Object
builder. </li>
<li class="li">If you incorrectly name an LJO indirectly through the name of
a builder call that itself creates an LJO with that builder name. </li>
</ul>
To avoid this error, change the name of one of the builder calls
that creates the duplicate name error.  </div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_choose_reference"><a name="c_choose_reference"><!-- --></a><h4 class="title topictitle4">About using the Choose Reference dialog</h4>
<div class="body conbody"><p class="shortdesc">The <span class="ph uicontrol">Choose Reference</span> dialog allows you to
specify the value of a model entity as the value for a builder input.</p>
<div class="section">The <span class="ph uicontrol">Choose Reference</span> dialog displays model
elements as a tree, allowing you to navigate to the model element whose value
you want to supply to the builder input. The syntax that the <span class="ph uicontrol">Choose
Reference</span> dialog produces is displayed in the builder input's
text box and is called an indirect reference. You can also use indirect reference
syntax to specify the value returned by a Java expression as the value for
the builder input.<p class="p">The <span class="ph uicontrol">Choose Reference</span> dialog displays
all the variables, methods, inputs, and pages from which you can choose to
map the output value of the selected element to the input value for the builder
call. For references to XML structures associated with a schema, the <span class="ph uicontrol">Choose
Reference</span> dialog displays all the elements as well as any attributes
associated with those elements. Attributes are differentiated by an @ symbol
preceding their name in the dialog tree.</p>
<p class="p">The <span class="ph uicontrol">Choose Reference</span> dialog
does filter out non-valid possibilities. For example, you can set the <span class="ph uicontrol">Label</span> input
value for the button builder to be the output of a method, the value of a
variable, or the value from an input on the previously submitted page. When
you display the <span class="ph uicontrol">Choose Reference</span> dialog for the <span class="ph uicontrol">Label</span> input,
it does not show the pages in the model because they are not a valid means
of deriving a label for the button.</p>
</div>
<div class="section"><h5 class="title sectiontitle">Creating references to methods</h5><p class="p">The <span class="ph uicontrol">Choose
Reference</span> dialog only shows methods that do not take arguments.
When trying to supply an input with a value returned by a method, keep in
mind that some builders do not support specifying arguments to a method selected
in the <span class="ph uicontrol">Choose Reference</span> dialog. If you want to supply
a builder call input with the value returned from a method that takes arguments,
add a method call builder call to your model, calling the method and supplying
arguments there. Set the input value by using the <span class="ph uicontrol">Choose Reference</span> dialog
and selecting the method call that you just created.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_builder_input"><a name="c_builder_input"><!-- --></a><h5 class="title topictitle5">Specifying values for builder inputs</h5>
<div class="body conbody"><p class="shortdesc">You can specify values for builder inputs in multiple ways. </p>
<div class="section"><p class="p">For example, you can use the input select box or text
input control. Specifying values using these controls is straightforward.
The <span class="ph">IBM WebSphere Portlet Factory</span> Designer also
uses several types of chooser controls for specifying input values
for you to select resources.</p>
<p class="p">The following dialogs display selectable
elements as a tree from which you can choose. For example, the <span class="ph uicontrol">Choose
File</span> dialog displays a list of files or directories that
contain files. Use these dialogs to navigate to the appropriate resource.</p>
<dl class="dl"><dt class="dt dlterm">Select Action</dt>
<dd class="dd">Lets you select a method or page as the action to execute for
an input. The Select Action dialog in the action list builder also
allows you to select special actions.</dd>
<dt class="dt dlterm">Data Page Field Chooser</dt>
<dd class="dd">Lets you select the form elements whose fields will be formatted,
such as fields provided by a date/time formatter builder.</dd>
<dt class="dt dlterm">Choose File</dt>
<dd class="dd">Lets you select a file, for example in selecting a page to be
imported in an Imported Page builder call. The following options are
available in the dialog window.<dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Add file to project</span></dt>
<dd class="dd">You can add to the project a file anywhere in the file system
and select the destination in the project.</dd>
<dt class="dt dlterm"><span class="ph uicontrol">Make copy and reference file</span></dt>
<dd class="dd">Lets you copy and reference a file that is listed in the window.
 A dialog lets you pick the destination of copied file and then updates
the reference to this file in the window. This feature makes it easier
to modify files supplied with the project and maintain the changes
across software updates. </dd>
</dl>
</dd>
<dt class="dt dlterm">Choose Model</dt>
<dd class="dd">Lets you select a model, for example in selecting a model to be
imported in an Imported Model builder call.</dd>
<dt class="dt dlterm">Choose Reference</dt>
<dd class="dd">Lets you select a variety of input values. The sections in the
rest of this page provide instructions on how to use this dialog.</dd>
<dt class="dt dlterm">Profile Input</dt>
<dd class="dd">Lets you select a profile.</dd>
<dt class="dt dlterm">Choose Variable or Schema</dt>
<dd class="dd">Lets you select a schema.</dd>
<dt class="dt dlterm">Choose Class</dt>
<dd class="dd">Lets you select a fully qualified Java class name. This chooser
displays classes from jars in <span class="ph filepath">/WEB-INF/lib</span> that
are not created by <span class="ph">IBM WebSphere Portlet Factory</span>,
and from jars and directories contained in the directories specified
in the <samp class="ph codeph">bowstreet.dynamic.class.load.path</samp> property.</dd>
<dt class="dt dlterm">Choose Variable Type</dt>
<dd class="dd">Lets you select a variable type (String, XML, Object, Boolean,
Double, Float, Integer, Short, or Long) as a value for the variable
builder.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_combine_indirect_reftypes"><a name="c_combine_indirect_reftypes"><!-- --></a><h5 class="title topictitle5">Combining indirect reference types</h5>
<div class="body conbody"><p class="shortdesc">You can use combinations of indirect reference types.</p>
<p class="p">For example, you could combine a Java expression and a variable reference
to derive the URL for an image:</p>
<pre class="pre codeblock">${Java/webAppAccess.getRequestData().getContextURL()}/${Variables/ImageFileName}</pre>
<p class="p">The <var class="keyword varname">ImageFileName</var> variable contains the file name of
an image.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_using_java_express"><a name="c_using_java_express"><!-- --></a><h5 class="title topictitle5">Using Java expressions for builder input</h5>
<div class="body conbody"><p class="shortdesc">You can also enter Java syntax for the input to a builder.</p>
<div class="section">The <span class="ph">IBM WebSphere Portlet Factory</span> runtime
evaluates the Java expression at generation time, and supplies the input to
the builder call with the value. You can use a Java expression for indirect
references when you want to specify an element in the web application that
the chooser or builder call editor does not directly support. For example,
if you wanted to supply the input with the URL to the <span class="ph"> WebSphere Portlet
Factory</span> runtime,
you could use the following Java expression:<pre class="pre codeblock">${Java/webAppAccess.getRequestData().getContextURL()}</pre>
<p class="p">To
set a text input value to the value returned by a method that takes arguments:</p>
<pre class="pre codeblock">${Java/webAppAccess.callMethod("MethodName", arg1, arg2)}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_predefined_java"><a name="r_predefined_java"><!-- --></a><h5 class="title topictitle5">Pre-Defined Java Expressions</h5>
<div class="body refbody"><p class="shortdesc">The Java node of the <span class="ph uicontrol">Choose Reference</span> dialog
also offers you some pre-defined expressions you can use.</p>
<div class="section">To insert an expression you merely select one from
the chooser. The following expressions are available:<ul class="ul"><li class="li"><samp class="ph codeph">HttpServletRequest</samp> calls <samp class="ph codeph">webAppAccess.getHttpServletRequest()</samp></li>
<li class="li"><samp class="ph codeph">HttpServletResponse</samp> calls <samp class="ph codeph">webAppAccess.getHttpServletResponse()</samp></li>
<li class="li"><samp class="ph codeph">HTMLRoot</samp> calls <samp class="ph codeph">com.bowstreet.BSConfig.getHtmlRootDir()</samp></li>
<li class="li"><samp class="ph codeph">Request</samp> calls <samp class="ph codeph">webAppAccess.getRequestData()</samp></li>
<li class="li"><samp class="ph codeph">ServerURL</samp> calls <samp class="ph codeph">webAppAccess.getRequestData().getServerURL()</samp></li>
<li class="li"><samp class="ph codeph">ServletURL</samp> calls <samp class="ph codeph">webAppAccess.getRequestData().getServletURL()</samp></li>
<li class="li"><samp class="ph codeph">StaticContentURL</samp> calls <samp class="ph codeph">webAppAccess.getURLMapper().getStaticContentURL("","http")</samp></li>
<li class="li"><samp class="ph codeph">WEB-INF</samp> calls <samp class="ph codeph">com.bowstreet.BSConfig.getHomedir()</samp></li>
</ul>
<p class="p">Once you select an expression from the <span class="ph uicontrol">Choose Reference</span> dialog
it is placed in the builder input field. At this point you can edit the expression
if you need to add arguments or otherwise modify it.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested4" xml:lang="en-us" id="t_nest_concat_indirect_refs"><a name="t_nest_concat_indirect_refs"><!-- --></a><h5 class="title topictitle5">Nesting and concatenating indirect references</h5>
<div class="body taskbody"><p class="shortdesc">You can concatenate indirect references or nest them as needed.</p>
<div class="section context">For example, if the index of an XML element to use as the value for
the builder call input is determined by another variable, the nested indirect
reference would be:<pre class="pre codeblock">${Variables/MyXML/XmlElement[
<strong class="ph b">${Variables/IndexValue}</strong>]}</pre>
<p class="p">To create nested indirect references:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Use the <span class="ph uicontrol">Choose Reference</span> dialog to populate
the input box with the beginning of the indirect reference.</span></li>
<li class="li step"><span class="ph cmd">Place the cursor in the spot at which you want to insert another
indirect reference.</span></li>
<li class="li step"><span class="ph cmd">Click <img class="image" src="designer/images/chooser.jpg" alt="browse icon" /> to
display the <span class="ph uicontrol">Choose Reference</span> dialog.</span></li>
<li class="li step"><span class="ph cmd">Select the desired model element.</span></li>
</ol>
<div class="section result">The <span class="ph uicontrol">Choose Reference</span> dialog inserts the new
indirect reference at the cursor location.</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_reference_chooser"><a name="c_reference_chooser"><!-- --></a><h4 class="title topictitle4">The reference chooser</h4>
<div class="body conbody"><p class="shortdesc">The reference chooser allows you to assign the value of
an element in the model to a builder call input. </p>
<div class="section"><p class="p">The reference chooser displays all the variables, methods,
inputs, and pages from which you can derive a value. When you select
an item in the reference chooser, the value it returns is called an
indirect reference and defines the path to the selected element in
the model. For example, <samp class="ph codeph">${Variables/CustomerName}</samp> or <samp class="ph codeph">${MethodCall/GetCustomerName}</samp>.</p>
<div class="p">You
can combine and embed indirect references with one another to produce
highly flexible references to a value. For example, the following
indirect reference returns the value of a specific element in an XML
structure, using the value returned by a method as the index to the
element: <pre class="pre codeblock">${Variables/Customers/Customer[${MethodCall/GetIndexValue}]}</pre>
</div>
<p class="p">The
reference chooser displays the most likely model elements (for example,
variables, methods, inputs, and pages) from which you can choose to
map the output value of the selected element to the input value for
the builder call. By default, the reference chooser purposely
hides many elements that are not likely to be helpful. Click <span class="ph uicontrol">Show
more</span> in the dialog to display those elements that are
initially hidden by default. </p>
<p class="p">The reference chooser does filter
out invalid possibilities. For example, you can set the <span class="ph uicontrol">Label</span> input
value for the Button builder to be the output of a method, the value
of a variable, or the value from an input on the previously submitted
page. When you display the reference chooser for the <span class="ph uicontrol">Label</span> input,
it does not show the pages in the model because they are not a valid
means of deriving a label for the button.</p>
<p class="p">The following are
aspects of using the reference chooser:</p>
<ul class="ul"><li class="li">Specification of indirect references to theme property data</li>
<li class="li">Specifying page controls</li>
<li class="li">References to methods</li>
<li class="li">Indirect reference nesting and concatenation</li>
<li class="li">Java expression usage</li>
<li class="li">Combinations of indirect reference types</li>
<li class="li">Specification of lists</li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_theme_indirectref"><a name="c_theme_indirectref"><!-- --></a><h5 class="title topictitle5">Indirect references to theme property data</h5>
<div class="body conbody"><p class="shortdesc">You can directly enter an indirect reference in the reference
chooser to provide access to theme properties data. </p>
<div class="section"><div class="p">Use the following syntax.<pre class="pre codeblock">${Properties/bowstreet.Theme/<var class="keyword varname">property-name</var>}</pre>
This
reference is to be used in builder inputs that define user interface
(UI) elements. For example, in the Paging Buttons builder, you can
specify a <span class="ph uicontrol">Normal button image</span> input. Instead
of specifying a path to a file, you can use an indirect reference
to a theme property that defines the file. In this way, you can centralize
definitions for references to UI elements and eliminate the need to
modify multiple inputs in multiple builders if a change in elements
is required. </div>
<div class="p">You can establish a centralized reference by including
in the WebApp theme properties file a definition similar to the following
example. <pre class="pre codeblock">&lt;PagingButtons_NormalImage&gt;/myfiles/images/normal.jpg
  &lt;/PagingButtons_NormalImage&gt;</pre>
This definition specifies
the path in the <span class="ph filepath">WebContent</span> folder to your image
file. Ensure that the property is unique in the themes files. </div>
<div class="p">Take
advantage of the definition by entering the indirect reference in
builder inputs. For example, in the Paging Buttons builder <span class="ph uicontrol">Normal
button image</span> inputs, enter the following reference.<pre class="pre codeblock">${Properties/bowstreet.Theme/PagingButtons_NormalImage}</pre>
At
model generation time when the WebApp is constructed, the <span class="ph filepath">normal.jpg</span> image
is included on all pages whose inputs contain the indirect reference. </div>
<p class="p">This
syntax is available only to builder inputs that accept single values.
It is not available to inputs that accept a list of values. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_refchsr_spcfy_page_controls"><a name="c_refchsr_spcfy_page_controls"><!-- --></a><h5 class="title topictitle5">Specifying page controls</h5>
<div class="body conbody"><p class="shortdesc">You can use the reference chooser to specify the value
for a page control (for example, a text input or the label for a button).</p>
<div class="section"><p class="p">Do not choose an indirect reference to a
request input. For example, <samp class="ph codeph">${Inputs/someValue}</samp>.
If the application runs in a portlet environment, it may have to render
output as the result of a request to another portlet on the page.
However, any controls or labels that get their values from request
inputs do not have a value. </p>
<p class="p">A best practice in
this application is to use page automation builders, for example,
Data Page builder with Data Field Modifier and Data Column Modifier
builders. Alternatively, you can specify the value for the page control
from a variable. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_refchsr_refmethods"><a name="c_refchsr_refmethods"><!-- --></a><h5 class="title topictitle5">References to methods</h5>
<div class="body conbody"><p class="shortdesc">The reference chooser shows methods which can provide a value for
a builder input.</p>
<p class="p">If you select a method which requires arguments, a popup dialog will prompt
you to supply arguments to the method. The method arguments that you supply
may be hardcoded arguments, or may themselves be indirect references to other
methods or variables.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_refchsr_refnest_concat"><a name="c_refchsr_refnest_concat"><!-- --></a><h5 class="title topictitle5">Indirect reference nesting and concatenation</h5>
<div class="body conbody"><p class="shortdesc">You can concatenate indirect references or nest them as needed.</p>
<p class="p">For example, if the index of an XML element to use as the value for the
builder call input is determined by another variable, the nested indirect
reference would look like:</p>
<pre class="pre codeblock">${Variables/MyXML/XmlElement[<var class="keyword varname">${Variables/IndexValue}</var>]}</pre>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_refchsr_javaexpress_use"><a name="c_refchsr_javaexpress_use"><!-- --></a><h5 class="title topictitle5">Java expression usage</h5>
<div class="body conbody"><p class="shortdesc">You can enter Java syntax for the input to a builder.</p>
<div class="section">The <span class="ph">IBM WebSphere Portlet Factory</span> servlet
evaluates the Java expression at generation time, and supplies the input to
the builder call with the value. You can use a Java expression for indirect
references when you want to specify an element in the WebApp that the chooser
or builder call editor does not directly support. For example, if you wanted
to supply the input with the URL to <span class="ph"> WebSphere Portlet
Factory</span>,
you could use the following Java expression:<pre class="pre codeblock">${Java/webAppAccess.getRequestData().getContextURL()}</pre>
<p class="p">To call a method named <samp class="ph codeph">MethodName</samp> that takes
two arguments:</p>
<pre class="pre codeblock">${Java/webAppAccess.callMethod("MethodName", arg1,  arg2)}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_refchsr_combotypes"><a name="c_refchsr_combotypes"><!-- --></a><h5 class="title topictitle5">Combinations of indirect reference types</h5>
<div class="body conbody"><p class="shortdesc">You can use combinations of indirect reference types.</p>
<div class="section">For example, you could combine a Java expression and a variable reference
to derive the URL for an image:<pre class="pre codeblock">${Java/webAppAccess.getRequestData().getContextURL()}/${Variables/ImageFileName}</pre>
<p class="p">The <samp class="ph codeph">ImageFileName</samp> variable contains the file
name of an image.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_refchsr_spec_lists"><a name="c_refchsr_spec_lists"><!-- --></a><h5 class="title topictitle5">Specification of lists</h5>
<div class="body conbody"><p class="shortdesc">You can supply any builder input that accepts a comma-delimited
list with any object that implements <samp class="ph codeph">java.util.Collection</samp> or
extends <samp class="ph codeph">java.util.Iterator</samp>, thereby populating the builder
input value with the items in the underlying collection.</p>
<div class="section">For example, the following indirect reference uses a Java expression
to return an Iterator for an ArrayList that contains the values for the <samp class="ph codeph">myInput</samp> builder
call:<pre class="pre codeblock">${Java/webAppAccess.getRequestInputs().getInputValues("myInput")}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested4" xml:lang="en-us" id="t_add_expressions_choose_ref_dialog"><a name="t_add_expressions_choose_ref_dialog"><!-- --></a><h5 class="title topictitle5">Adding expressions to the Choose Reference dialog</h5>
<div class="body taskbody"><p class="shortdesc">You can add your own expressions to the Java node of the <span class="ph uicontrol">Choose
Reference</span> dialog.</p>
<div class="section context"><p class="p">You might want to do this to keep frequently used expressions
available from within the dialog. To populate the <span class="ph uicontrol">Choose
Reference</span> dialog with an expression, you must add a line
defining the expression to the <span class="ph filepath">../WEB-INF/config/IndirectJavaExpressions.config</span> file.
For example:</p>
</div>
<ul class="ul steps-unordered"><li class="li step stepexpand"><span class="ph cmd">To add your own expression that displays at the top level
of the Java node tree, add this line to the file:</span> <pre class="pre codeblock">MyExpressionName=webAppAccess.getMyExpressionData()</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">To add expressions that display one level down in the expression
tree, enter:</span> <pre class="pre codeblock">MyExpressionCollection/MyExpressionName1=webAppAccess.getMyExpressionData1()
MyExpressionCollection/MyExpressionName2=webAppAccess.getMyExpressionData2()</pre>
</li>
</ul>
<div class="section result"><div class="note note"><span class="notetitle">Note:</span> Because the <span class="ph filepath">WebContent/WEB-INF/config</span> directory
is by default an excluded resource, you need to override the team
file and directory exclusion to ensure that your new or modified file
is kept updated in source control storage. </div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_model_chooser"><a name="c_model_chooser"><!-- --></a><h4 class="title topictitle4">The model chooser</h4>
<div class="body conbody"><p class="shortdesc">You can use a dialog to help you specify a model as a builder input. </p>
<div class="section"><p class="p">Many builders have a <span class="ph uicontrol">Model</span> input that requires
you to specify a model. Clicking the ellipsis button (<img class="image" src="designer/images/chooser.jpg" alt="The chooser icon" />) displays the Model
Chooser dialog in which you can navigate to and select a model. By default,
the specification of the model location used in the builder is an absolute
reference to the model. </p>
<p class="p">There is an option (<span class="ph uicontrol">Use relative
model reference</span>) to make the model reference be a relative reference.
 Thus, the reference from model A to model B is based on the location of model
A within the models folder.  With a relative reference, if you move or copy
both models together from one folder to another, the new copy of model A refers
to the new copy of model B.  With an absolute reference, the new copy of model
A would still refer to the original copy of model B in its original location.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="dataref"><a name="dataref"><!-- --></a><h4 class="title topictitle4">About data referencing techniques</h4>
<div class="body conbody"><p class="shortdesc">Builder call editors support the most commonly used reference
methods and syntax. </p>
<p class="p">A Web application includes a set of runtime entities, for example,
variables, methods, and service calls. You interconnect these Web
application elements by building references from one to another. References
can be made in several ways. However, you may find that you need a
combination of indirect references to provide the appropriate input
value or that you need to get the value for an XML element using an
XPath-like notation.</p>
<p class="p">To use alternative forms of input, you need to know the correct
syntax to specify the builder inputs. The information in the following
sections describes the types of input available and provides examples
of the syntax you must follow to use a specific input type:</p>
<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__refer_varbledata">Variable data references and use of ${ ... } syntax</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__java_expression">Use of a Java expression</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__combining_types">Combinations of indirect reference types</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__refer_servable">References to servable resources</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__refer_mthdindrct">Indirect references to a method</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__concatenation">Concatenation of indirect reference values</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__refer_listindex">List index references and use of brackets</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__refer_xmlsubelement">Reference to a subelement in an XML structure</a></li>
</ul>
<div class="section" id="dataref__refer_varbledata"><a name="dataref__refer_varbledata"><!-- --></a><h5 class="title sectiontitle">Variable data references and
use of ${ ... } syntax</h5><p class="p">You can use an indirect data reference
in a model. For example, you can use as the input to a builder a value
that is entered by the user and that is stored in a variable. You
accomplish this with an indirect data reference to the variable.</p>
<p class="p">The
syntax for an indirect reference requires the dollar sign <samp class="ph codeph">$</samp> followed
by a pair of braces, as follows:</p>
<pre class="pre codeblock">${...} </pre>
<p class="p">The
braces surround the source of data. In the following button label
example, you can use the value of a variable named <samp class="ph codeph">ButtonLabel</samp> in
the <span class="ph uicontrol">Button Label</span> input by entering the following
data reference:</p>
<pre class="pre codeblock">${Variables/ButtonLabel}</pre>
</div>
<div class="section" id="dataref__java_expression"><a name="dataref__java_expression"><!-- --></a><h5 class="title sectiontitle">Use of a Java expression</h5><p class="p">You
can enter Java syntax for the input to a builder. <span class="ph">IBM WebSphere Portlet Factory</span> arranges for the Java
expression to be executed at runtime to provide the builder input
value. You can use a Java expression for indirect references to specify
an element in the Web application that the chooser or builder call
editor does not directly support. For example, to supply the input
with the URL to the <span class="ph"> WebSphere Portlet
Factory</span>,
you can use the following Java expression:</p>
<pre class="pre codeblock">${Java/webAppAccess.getRequestData().getContextURL()}</pre>
<p class="p">The
following expression sets a text input value to the value returned
by a method that takes arguments:</p>
<pre class="pre codeblock">${Java/webAppAccess.callMethod("MethodName", <var class="keyword varname">arg1</var>, <var class="keyword varname">arg2</var>)}</pre>
</div>
<div class="section" id="dataref__combining_types"><a name="dataref__combining_types"><!-- --></a><h5 class="title sectiontitle">Combinations of indirect reference
types</h5><p class="p">To derive the value for a page to import, you can
use combinations of indirect reference types with an indirect reference
similar to the following:</p>
<pre class="pre codeblock">${Java/webAppAccess.getRequestData().getContextURL()}/${Variables/PageToImport}</pre>
<p class="p">The <samp class="ph codeph">PageToImport</samp> variable
contains the name of a page to import.</p>
</div>
<div class="section" id="dataref__refer_servable"><a name="dataref__refer_servable"><!-- --></a><h5 class="title sectiontitle">References to servable resources</h5><p class="p">The
location in which you locate and create your project contains all
of the HTML pages, generated JSP pages, and other servable resources
and is referred to as the servable content root directory. When you
develop Web applications that may be published or exported in
multiple application contexts, use the<samp class="ph codeph">webAppAccess.getRequestData().getContextURL()</samp> method
to ensure that any references you make to servable resources are flexible
enough to allow for all application contexts. See <a class="xref" href="designer-html-wrapper.htm#dataref__java_expression">Use of a Java expression</a>. To make references to servable
resources flexible,  use the method <samp class="ph codeph">webAppAccess.getRequestData().getContextURL()</samp> when
referring to servable resources in methods or in builder call inputs.
For example, you could enter the following as the value for the <span class="ph uicontrol">Page
to Import</span> input for the Imported Page builder:</p>
<pre class="pre codeblock">${Java/webAppAccess.getRequestData().getContextURL()}/pages_to_import_dir/MyPage.htm</pre>
<p class="p">This
syntax always evaluates to the <span class="ph filepath">pages_to_import_dir</span> directory
regardless of the application context in which this model runs.</p>
</div>
<div class="section" id="dataref__refer_mthdindrct"><a name="dataref__refer_mthdindrct"><!-- --></a><h5 class="title sectiontitle">Indirect references to a method</h5><p class="p">To
access data that results from a method call, you can use an indirect
data reference. You can use any method call or method that takes no
arguments. However, the method must return a value so that you can
reference it. You can also concatenate the results of a method call
with other method calls or strings. The syntax for this type of indirection
is:</p>
<pre class="pre codeblock">${MethodCall/<var class="keyword varname">methodName</var>}</pre>
<p class="p">To
select a method to reference, use the reference chooser, which displays
a tree that includes a section called <span class="ph uicontrol">Method Call</span>.
The displayed section lists the action lists, methods, and method
calls of the model that can be used. </p>
<p class="p">Note that you cannot navigate
to the results of the method as you can with an XML variable. For
example: </p>
<pre class="pre codeblock">${Variables/Customers/customer[2]/name}</pre>
<p class="p">Consider
using an indirect data reference to a method if additional processing
on data is needed or if processing could not take place previously.
An example of the use of the indirect reference to a method is in
the Repeated Region builder. Normally, it is hard to do any processing
inside the execution of this builder. By using an indirect reference
to a method, however, you can do the processing. For example, you
can use a method call to alternate the background color of table rows.
Create a method called <samp class="ph codeph">getRowColor</samp> that returns each
color every other time. Then, to set the background color, make a
call to this method inside the property setter that you attach to
the table row.</p>
</div>
<div class="section" id="dataref__concatenation"><a name="dataref__concatenation"><!-- --></a><h5 class="title sectiontitle">Concatenation of indirect reference
values</h5><p class="p">To enter a string of text as a builder input, you
can type the string directly into the input area. In addition, for
any input that takes a string, you can concatenate multiple strings.
For example, in the <span class="ph uicontrol">Value</span> input for a Formatted
Text builder, you can enter the entire following line:</p>
<pre class="pre codeblock">The values of Foo and Bar are: ${Variables/Foo} and ${Variables/Bar}</pre>
<p class="p">When
the Text builder is regenerated, the two <samp class="ph codeph">${...}</samp> regions
are replaced with the appropriate string value from the variables
being referenced if they have values.</p>
<p class="p">Using a similar technique,
you can also nest the indirections. If you have a variable named <samp class="ph codeph">FooOrBar</samp> which
has either the text <samp class="ph codeph">Foo</samp> or the text <samp class="ph codeph">Bar</samp> as
its result, you can have the following line:</p>
<pre class="pre codeblock">The value of ${Variables/FooOrBar} is "${Variables/${Variables/FooOrBar}}"</pre>
<p class="p">The
quoted part evaluates to the string stored in either <samp class="ph codeph">Variables/Foo</samp> or <samp class="ph codeph">Variables/Bar</samp>,
depending on the value of <samp class="ph codeph">Variables/FooOrBar</samp>. Thus,
given the following values:</p>
<pre class="pre codeblock">Variables/Foo: dataVariables/Bar: stuff
Variables/FooOrBar: Bar</pre>
<p class="p">The result of the expression
in the line above is:</p>
<pre class="pre codeblock">The value of Bar is "stuff"</pre>
</div>
<div class="section" id="dataref__refer_listindex"><a name="dataref__refer_listindex"><!-- --></a><h5 class="title sectiontitle">List index references and use
of brackets</h5><p class="p">Often the one level of reference described in <a class="xref" href="designer-html-wrapper.htm#dataref__concatenation">Concatenation of indirect reference values</a> does not support your need for
data access and manipulation. The indirect referencing mechanism can
be further extended.</p>
<p class="p">You can refer to a component in a list
by using bracket characters <samp class="ph codeph">[</samp> and <samp class="ph codeph">]</samp> in
the syntax. See <a class="xref" href="designer-html-wrapper.htm#dataref__refer_xmlsubelement">Reference to a subelement in an XML structure</a>.
You can use this syntax in combination with the indirect referencing
mechanism to access a component in a list. For example, a variable
named <samp class="ph codeph">TableData</samp> has a number of children, which are
all named <samp class="ph codeph">Row</samp>. Each of the children has more data
below it, such as <samp class="ph codeph">Name</samp> and <samp class="ph codeph">Address</samp>.
You can access the name in the third row by specifying the following
code:</p>
<pre class="pre codeblock">${Variables/TableData/Row[2]}</pre>
<p class="p">Note
that indices are zero-based, so that index 0 is the first, and index
1 is the second. </p>
<p class="p">If the variable <samp class="ph codeph">TableData</samp> also
has other children, the above example can select the third row and
ignore any other children. To refer to the third child of <samp class="ph codeph">TableData</samp>,
use an asterisk (<samp class="ph codeph">*</samp>) to represent any child: </p>
<pre class="pre codeblock">${Variables/TableData/*[2]}</pre>
<p class="p">You
can also specify the index itself with another variable. For example,
a specific row of the table is specified by a variable of <samp class="ph codeph">RowIndex</samp>.
The current row can be specified by the following syntax: </p>
<pre class="pre codeblock">${Variables/TableData/*[${Variables/RowIndex}]}</pre>
</div>
<div class="section" id="dataref__refer_xmlsubelement"><a name="dataref__refer_xmlsubelement"><!-- --></a><h5 class="title sectiontitle">Reference to a subelement
in an XML structure</h5><p class="p">You can use the <samp class="ph codeph">/</samp> character
to walk down a tagged data string and access an element. You can also
combine this technique with an indirect reference to select a subelement,
the name of which is stored in a variable. For example, the variable <samp class="ph codeph">Data</samp> has
as subelements <samp class="ph codeph">Name</samp> and <samp class="ph codeph">Address</samp>,
and the variable <samp class="ph codeph">WhichOne</samp> has as its value either
the word <samp class="ph codeph">Name</samp> or the word <samp class="ph codeph">Address</samp>.
Thus, the following reference returns the value stored in <samp class="ph codeph">${Variables/Data/Name}</samp> or
the value stored in <samp class="ph codeph">${Variables/Data/Address}</samp>, depending
on which of the two values is in the variable <samp class="ph codeph">WhichOne</samp>.</p>
<pre class="pre codeblock">${Variables/Data/${Variables/WhichOne}}</pre>
<p class="p">These
techniques can be combined. Use the Table Data example in <a class="xref" href="designer-html-wrapper.htm#dataref__refer_listindex">List index references and use of brackets</a>. If you have an additional
variable <samp class="ph codeph">ColumnName</samp> which selects which column should
be accessed, the following syntax gets the cell data for the selected
column in the selected row: </p>
<pre class="pre codeblock">${Variables/TableData/*[${Variables/RowIndex]/@ColumnName}</pre>
</div>
<div class="section"><h5 class="title sectiontitle">Reference to an element in IXml objects</h5><p class="p">You
can walk the structure of an <span class="ph">IXml</span> object returned by a service
call or by a method and stored in variables. The following examples
illustrate techniques you can use to create filters that find elements
within an XML document. </p>
<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__ex1_fndspec">Example 1, find a specified element</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__ex2_fndsecond">Example 2, find a second instance of an element</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__ex3_fndspcfc">Example 3, find a specific value of an element</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__ex4_fndintatt">Example 4, find an instance and attribute</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__ex5_fndelewild">Example 5, find an element using a wildcard</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dataref__ex6_fndparent">Example 6, find a parent element</a></li>
</ul>
<p class="p">All the examples are based on the following example XML code
segment:</p>
<pre class="pre codeblock">&lt;Employees&gt;
  &lt;Employee age="25"&gt;
     &lt;Name&gt;John Smith&lt;/Name&gt;
     &lt;Address&gt;14 Park Lane&lt;/Address&gt;
     &lt;City&gt;Portsmouth&lt;/City&gt;
     &lt;State zip="03801"&gt;New Hampshire&lt;/State&gt;
  &lt;/Employee&gt;
  &lt;Employee age="21"&gt;
     &lt;Name&gt;Ted Jones&lt;/Name&gt;
     &lt;Address&gt;26 Harbor View&lt;/Address&gt;
     &lt;City&gt;Hampton&lt;/City&gt;
     &lt;State zip="03802"&gt;New Hampshire&lt;/State&gt;
  &lt;/Employee&gt;
  &lt;Employee age="35"&gt;
     &lt;Name&gt;Jill Jeffries&lt;/Name&gt;
     &lt;Address&gt;100 Oak Lane&lt;/Address&gt;
     &lt;City&gt;Exeter&lt;/City&gt;
     &lt;State zip="03803"&gt;New Hampshire&lt;/State&gt;
  &lt;/Employee&gt;
  &lt;Employee age="40"&gt;
     &lt;Name&gt;Josh Vanderwall&lt;/Name&gt;
     &lt;Address&gt;45 Maple Ave.&lt;/Address&gt;
     &lt;City&gt;Bedford&lt;/City&gt;
     &lt;State zip="03804"&gt;Massachusetts&lt;/State&gt;
  &lt;/Employee&gt;
&lt;/Employees&gt;</pre>
</div>
<div class="section" id="dataref__ex1_fndspec"><a name="dataref__ex1_fndspec"><!-- --></a><h5 class="title sectiontitle">Example 1, find a specified element</h5><p class="p">The
following reference finds a specified element name:</p>
<pre class="pre codeblock">${Employees/Employee/Name}</pre>
<p class="p">This
expression returns the first matching element. In this example, the
element returned is <samp class="ph codeph">&lt;Name&gt;John Smith&lt;/Name&gt;</samp>. </p>
</div>
<div class="section" id="dataref__ex2_fndsecond"><a name="dataref__ex2_fndsecond"><!-- --></a><h5 class="title sectiontitle">Example 2, find a second instance
of an element</h5><p class="p">The following reference finds the second instance
of an element with the name <samp class="ph codeph">Name</samp>:</p>
<pre class="pre codeblock">${Employees/Employee/Name[1]}</pre>
<p class="p">This
expression returns the matching element specified by the zero-based
index number. In this example, the element returned is <samp class="ph codeph">&lt;Name&gt;Ted
Jones&lt;/Name&gt;</samp>. </p>
<p class="p">Note that you can also use an indirect
reference in this situation. For example, you can enter:</p>
<pre class="pre codeblock">$Variables/Foo/Bar[${Variables/Index}]</pre>
<p class="p">The
expression locates an element stored in a variable at a particular
index.</p>
</div>
<div class="section" id="dataref__ex3_fndspcfc"><a name="dataref__ex3_fndspcfc"><!-- --></a><h5 class="title sectiontitle">Example 3, find a specific value
of an element</h5><p class="p">The following reference finds the element
instance of <samp class="ph codeph">Name</samp>, where the text value equals <samp class="ph codeph">Jill
Jeffries</samp>:</p>
<pre class="pre codeblock">${Employees/Employee/[Name=Jill Jeffries]}</pre>
<p class="p">This
expression returns the matching element specified by the element text.
In this example, the element returned is <samp class="ph codeph">&lt;Name&gt;Jill Jeffries&lt;/Name&gt;</samp>. </p>
</div>
<div class="section" id="dataref__ex4_fndintatt"><a name="dataref__ex4_fndintatt"><!-- --></a><h5 class="title sectiontitle">Example 4, find an instance and
attribute</h5><p class="p">The following expression finds the instance of <samp class="ph codeph">Employee</samp> where
a specified attribute value equals <samp class="ph codeph">40</samp>:</p>
<pre class="pre codeblock">${Employees/Employee[@age=40]}</pre>
<p class="p">This
expression returns the matching element specified by the attribute
text. In this example, the element returned is:</p>
<pre class="pre codeblock">&lt;Employee age="40"&gt;
  &lt;Name&gt;Josh Vanderwall&lt;/Name&gt;
  &lt;Address&gt;45 Maple Ave.&lt;/Address&gt;
  &lt;City&gt;Bedford&lt;/City&gt;
  &lt;State&gt;Massachusetts&lt;/State&gt;
&lt;/Employee&gt;</pre>
</div>
<div class="section" id="dataref__ex5_fndelewild"><a name="dataref__ex5_fndelewild"><!-- --></a><h5 class="title sectiontitle">Example 5, find an element using
a wildcard</h5><p class="p">To find the instance of <samp class="ph codeph">Name</samp> (where
the second-level element is unknown), use a wild card <samp class="ph codeph">*</samp> to
specify the element name.</p>
<div class="note note"><span class="notetitle">Note:</span> The wild card character is supported
for the entire element name only.</div>
<pre class="pre codeblock">${Employees/*[2]/Name}</pre>
<p class="p">This
expression returns the matching element specified by index number.
In this example, the element returned is:</p>
<pre class="pre codeblock">&lt;Name&gt;Jill Jeffries&lt;/Name&gt;</pre>
</div>
<div class="section" id="dataref__ex6_fndparent"><a name="dataref__ex6_fndparent"><!-- --></a><h5 class="title sectiontitle">Example 6, find a parent element</h5><p class="p">The
following syntax finds the parent element of <samp class="ph codeph">State</samp> where
a specified attribute <samp class="ph codeph">zip</samp> value equals <samp class="ph codeph">03804</samp>: </p>
<pre class="pre codeblock">${Employees/Employee/State[@zip=03804]/..}</pre>
<p class="p">This
expression returns the matching parent element specified by the attribute
text. In this example, the element returned is:</p>
<pre class="pre codeblock">&lt;Employee age="40"&gt; 
  &lt;Name&gt;Josh Vanderwall&lt;/Name&gt;
  &lt;Address&gt;45 Maple Ave.&lt;/Address&gt;
  &lt;City&gt;Bedford&lt;/City&gt;
  &lt;State zip="03804"&gt;Massachusetts&lt;/State&gt;
&lt;/Employee&gt;</pre>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_java_execute_actions"><a name="c_java_execute_actions"><!-- --></a><h5 class="title topictitle5">Executing model actions</h5>
<div class="body conbody"><p class="shortdesc">This information describes how to execute model actions.</p>
<dl class="dl"><dt class="dt dlterm">Running a Model</dt>
<dd class="dd"><p class="p">You can run another model by instantiating a model instance, retrieving
a WebAppAccess object for that model instance, and calling the model main
method. The <samp class="ph codeph">getModelInstance()</samp> method takes three arguments:</p>
<dl class="dl"><dt class="dt dlterm"><samp class="ph codeph">modelName</samp></dt>
<dd class="dd">A string specifying the path to the model relative from <span class="ph">IBM WebSphere Portlet Factory</span>'s <span class="ph filepath">WEB-INF/models</span> directory.</dd>
<dt class="dt dlterm"><samp class="ph codeph">profile</samp></dt>
<dd class="dd">A string specifying the explicit profiles to use when regenerating the
Web application from the model. You can name one profile to use with the following
syntax: <samp class="ph codeph">ProfileSetName!ProfileName</samp>. <p class="p">To name more than
one profile, separate the profile names with a plus sign (<samp class="ph codeph">+</samp>),
as shown:  <samp class="ph codeph">ProfileSetName!ProfileName+ProfileSetName!ProfileName</samp></p>
</dd>
<dt class="dt dlterm"><samp class="ph codeph">singleton</samp></dt>
<dd class="dd">A boolean value specifying whether the model should be instantiated as
singleton or not.<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> instantiates
singleton models once per session. For non-singleton models, <span class="ph"> WebSphere Portlet
Factory</span> instantiates
them for each request.</p>
<p class="p">The following code sample shows how to run another
model from a method:</p>
<pre class="pre codeblock">WebAppAccess remoteWebAppAccess =
webAppAccess.getModelInstance("myModels/ModelName", "Region!Southwest", "false");
remoteWebAppAccess.callMethod("main");</pre>
</dd>
</dl>
</dd>
<dt class="dt dlterm">Displaying a Page</dt>
<dd class="dd"><p class="p">You can display a page in the current model simply by calling the <samp class="ph codeph">processPage()</samp> method
on the current WebAppAccess object.</p>
<pre class="pre codeblock">webAppAccess.processPage("pageName");</pre>
<p class="p">To
display a page in a linked model, you make a call to processPage() similar
to:</p>
<pre class="pre codeblock">webAppAccess.processPage("LinkedModelName.pageName");</pre>
<p class="p">To
display a page in another model, see the code for running another model from
a method. Instead of calling <samp class="ph codeph">callMethod()</samp> on the <samp class="ph codeph">remoteWebAppAccess</samp> object,
call <samp class="ph codeph">processPage()</samp>, supplying the page name as the argument.</p>
</dd>
<dt class="dt dlterm">Executing a Service Call</dt>
<dd class="dd"><pre class="pre codeblock">webAppAccess.processAction("ServiceCallName.invoke");</pre>
</dd>
<dt class="dt dlterm">Executing an ActionList</dt>
<dd class="dd"><pre class="pre codeblock">webAppAccess.processAction("ActionListName");</pre>
</dd>
<dt class="dt dlterm">Calling Other Methods</dt>
<dd class="dd"><p class="p">You can call methods in the current model or linked model with the <samp class="ph codeph">callMethod()</samp> method.
You can pass arguments to the method as a comma-separated list after specifying
the method name, as shown below:</p>
<dl class="dl"><dt class="dt dlterm">Method in current model</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.callMethod("MethodName", arg1, arg2);</samp></dd>
<dt class="dt dlterm">Method in linked model</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.callMethod("LinkedModelName.MethodName");</samp></dd>
<dt class="dt dlterm">Method in LJO</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.callMethod("LJOName.MethodName");</samp></dd>
<dt class="dt dlterm">Method in an LJO in a linked model</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.callMethod("LinkedModelName.LJOName.MethodName");</samp></dd>
</dl>
</dd>
<dt class="dt dlterm">Passing Arguments to a Method Via URL</dt>
<dd class="dd"><p class="p">You cannot directly execute a method that takes arguments via a URL.
You can however, add the arguments as name and value pairs to the URL and
extract those argument values from the  WebApp's RequestData object. The code
sample below extracts the argument values passed in the following URL:</p>
<span class="ph filepath"> http://localhost:7001/Factory/webengine/URLTester/Action!MethodFielder?name=Tom&amp;id=111?method=MethodWithArgs</span><p class="p">Body of method in LJO class:</p>
<pre class="pre codeblock">public void MethodFielder(WebAppAccess webAppAccess) {
String name = webAppAccess.getRequestInputs().getInputValue("name");
String id = webAppAccess.getRequestInputs().getInputValue("id");
String method = webAppAccess.getRequestInputs().getInputValue("method");
webAppAccess.getVariables().setString("Name", name);
webAppAccess.getVariables().setString("ID", id);
webAppAccess.callMethod(method, name, id);
}</pre>
</dd>
</dl>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_java_processing_forms"><a name="c_java_processing_forms"><!-- --></a><h5 class="title topictitle5">Processing form submissions</h5>
<div class="body conbody"><p class="shortdesc">LJO Methods and Method builder calls access inputs submitted by
FORM POST or URL query parameters, by the RequestInputs interface, or direct
arguments to the method.</p>
<p class="p">Methods called via URL should take no (zero) arguments or just a WebAppAccess
argument, and should retrieve inputs from the HTTP Request via the <samp class="ph codeph">RequestInputs</samp> interface.</p>
<p class="p">To retrieve a reference to the current instance of <samp class="ph codeph">RequestInputs</samp> for
a WebApp request, you would call:</p>
<pre class="pre codeblock">RequestInputs requestInputs = webAppAccess.getRequestInputs();</pre>
<p class="p">For example, to get all inputs from a Checkbox Group input, you may do
something like the following:</p>
<pre class="pre codeblock">Iterator inputs = webAppAccess.getRequestInputs().getInputValues("MyCheckboxGroup");
while(inputs.hasNext()) {
//process input values here
}</pre>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_java_session"><a name="c_java_session"><!-- --></a><h5 class="title topictitle5">Interacting with the session object</h5>
<div class="body conbody"><p class="shortdesc">You can store objects in the session by setting attributes on the
session and specifying the value for those attributes as the objects that
you want to share between models.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">Storing objects in session</dt>
<dd class="dd">For example, if you wanted to share the value of a variable, <var class="keyword varname">companyname</var>,
with another model, you would use code similar to the following:<pre class="pre codeblock">webAppAccess.getHttpServletRequest().getSession().put("companyname", webAppAccess.getVariables().getText("companyname"));</pre>
</dd>
<dt class="dt dlterm">Retrieving objects from the session</dt>
<dd class="dd">To get objects out of the session for use in the current model, call the
get method on the Session object. For example, to retrieve the company name
stored by the code in the "Storing Objects in Session" section, implement
code similar to the following:<pre class="pre codeblock">String companyName = webAppAccess.getHttpServletRequest().getSession().get("companyname");</pre>
</dd>
<dt class="dt dlterm">Removing objects from the session</dt>
<dd class="dd">To remove objects from the session, call the remove method on the Session
object. For example, to remove the <samp class="ph codeph">company_name</samp> session attribute
created by the code in the "Storing Objects in Session" section, implement
code similar to the following:<pre class="pre codeblock">webAppAccess.getHttpServletRequest().getSession().remove("companyname");</pre>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_writing_methods"><a name="c_writing_methods"><!-- --></a><h5 class="title topictitle5">Writing methods</h5>
<div class="body conbody"><p class="shortdesc">Methods do the work of processing form inputs, executing other
parts of the web applications (even other web applications), and performing
any other logic that the WebApp requires to function the way you want it to.</p>
<p class="p">The primary object used in methods is the WebAppAccess object, which is
an instance of the <samp class="ph codeph">com.bowstreet.webapp.WebAppAccess</samp> class.
The WebAppAccess object serves as a proxy to the WebApp's structure, represented
by the WebApp object, which is an instance of the <samp class="ph codeph">com.bowstreet.webapp.WebApp</samp> class.</p>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_java_generate_urls"><a name="r_java_generate_urls"><!-- --></a><h5 class="title topictitle5">Generating URLs to model actions</h5>
<div class="body refbody"><p class="shortdesc">You can generate the URL for actions in the current model
or in another model. </p>
<div class="section"><div class="p">Call the <samp class="ph codeph">getActionURL()</samp> or <samp class="ph codeph">getURLMapper().getURL()</samp> method
on the <samp class="ph codeph">webAppAccess</samp> object.<div class="note note"><span class="notetitle">Note:</span> If you add parameters
to the URL, the URLMapper performs the encoding of parameters as needed. </div>
</div>
<dl class="dl"><dt class="dt dlterm">Generating the URL for an action in the current model</dt>
<dd class="dd">The following method call returns the URL for the <samp class="ph codeph">actionName</samp> method
in the current model: <pre class="pre codeblock">webAppAccess.getActionURL("actionName");</pre>
<div class="p">The
returned URL string has the form:<pre class="pre codeblock">/<var class="keyword varname">appcontext</var>/<var class="keyword varname">servletname</var>/models/<var class="keyword varname">path/to/models</var>/Action!<var class="keyword varname">actionName</var></pre>
where:<ul class="sl simple"><li class="sli"><var class="keyword varname">appcontext</var> is the application context root</li>
<li class="sli"><var class="keyword varname">servletname</var> is the name of the servlet</li>
<li class="sli"><var class="keyword varname">path/to/models</var> is the path to the model</li>
<li class="sli"><var class="keyword varname">actionName</var> is the action to run</li>
</ul>
</div>
<div class="p">For example: <pre class="pre codeblock">/MyApp/webengine/test/TestModel/Action!getCustomers</pre>
</div>
</dd>
<dt class="dt dlterm">Generating the URL for another model</dt>
<dd class="dd">The following method call returns the URL for the <samp class="ph codeph">GetCustomers</samp> action
in the <samp class="ph codeph">ModelName</samp> model with the Northeast and Gold
profiles explicitly applied to the model. <pre class="pre codeblock">webAppAccess.getURLMapper().getURL("ModelName", "GetCustomers", 
  "Region!Northeast$ServiceLevel!Gold", null);</pre>
<div class="note note"><span class="notetitle">Note:</span> The
last argument to the <samp class="ph codeph">getURL()</samp> method is the transport
protocol. You can also specify <samp class="ph codeph">http</samp> or <samp class="ph codeph">https</samp> to
force the protocol type or you can specify <samp class="ph codeph">null</samp> to
use the default protocol for the model.</div>
<div class="p">The returned URL
string has a form similar to the one returned from <samp class="ph codeph">getActionURL()</samp> except
that it includes the specified profile information as shown in the
following code. <pre class="pre codeblock">/MyApp/webengine/method/MethodTest2/
Action!main/<strong class="ph b">Profile!Region!Northeast$ServiceLevel!Gold</strong> </pre>
</div>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_java_get_properties"><a name="r_java_get_properties"><!-- --></a><h5 class="title topictitle5">Getting system properties</h5>
<div class="body refbody"><p class="shortdesc">You can get the values of <span class="ph">IBM WebSphere Portlet Factory</span> properties
stored in the <span class="ph filepath">cluster.properties</span> and <span class="ph filepath">bowstreet.properties</span> files. </p>
<div class="section"><p class="p"> Access the <samp class="ph codeph">com.bowstreet.util.SystemProperties</samp> object
returned by a call to <samp class="ph codeph">webAppAccess.getSystemProperties()</samp>.
Using the <samp class="ph codeph">SystemProperties</samp> object, you can access information
such as the directory path to the document root, the URL to the server, and
other information. Call the following methods:</p>
<dl class="dl"><dt class="dt dlterm">Directory path to document root</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.getSystemProperties().getDocumentRoot();</samp><div class="p">Returns
a string that specifies the directory path to <span class="ph"> WebSphere Portlet
Factory</span> servable
content root directory. For example: <pre class="pre codeblock"><var class="keyword varname">AppServerDeployDir</var>\MyApp.ear\MyApp.war</pre>
</div>
</dd>
<dt class="dt dlterm">Directory path to <span class="ph"> WebSphere Portlet
Factory</span> WEB-INF
directory</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.getSystemProperties().getWebInfDir();</samp><div class="p">Returns
a string that specifies the directory path to <span class="ph"> WebSphere Portlet
Factory</span> non-servable
content root directory. For example: <pre class="pre codeblock"><var class="keyword varname">AppServerDeployDir</var>\MyApp.ear\MyApp.war\WEB-INF</pre>
</div>
</dd>
<dt class="dt dlterm">URL to <span class="ph"> WebSphere Portlet
Factory</span> server</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.getRequestData().getContextURL();</samp><div class="p">Returns
a string that specifies the URL to <span class="ph"> WebSphere Portlet
Factory</span>.
For example: <pre class="pre codeblock">http://127.0.0.1:9080/MyApp</pre>
</div>
</dd>
<dt class="dt dlterm">URL to <span class="ph"> WebSphere Portlet
Factory</span> servlet</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.getRequestData().getServletURL();</samp> <div class="p">Returns
a string that specifies the URL to the current <span class="ph"> WebSphere Portlet
Factory</span> servlet.
For example: <span class="ph filepath"></span><pre class="pre codeblock">http://127.0.0.1:9080/MyApp/webengine</pre>
</div>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="java_getset_variables"><a name="java_getset_variables"><!-- --></a><h5 class="title topictitle5">Getting and setting variable values</h5>
<div class="body refbody"><p class="shortdesc">You can access all of the variables in the web application by calling
the <samp class="ph codeph">webAppAccess.getVariables()</samp> method.</p>
<div class="section">Typically, you get or set the value of one variable at a time.<dl class="dl"><dt class="dt dlterm">To get the value of a variable of a simple type (String, int, etc.)</dt>
<dd class="dd"><samp class="ph codeph">String valueOfMyVariable = webAppAccess.getVariables().getString("MyVariable");</samp></dd>
<dt class="dt dlterm">To get the XML structure stored in a variable of the XMLData type</dt>
<dd class="dd"><samp class="ph codeph">IXml valueOfMyXMLVariable = webAppAccess.getVariables().getXml("MyXMLVariable");</samp></dd>
<dt class="dt dlterm">To get the text value of an element in a variable of the XMLData type</dt>
<dd class="dd">You can get the text value for a particular element in the XML structure
contained in a variable by calling the <samp class="ph codeph">getXmlText()</samp> method
and supplying the variable name and the XPath to the element whose value you
want to return. The following code sample returns the text for the  <samp class="ph codeph">&lt;name
/&gt;</samp> element of the second <samp class="ph codeph">&lt;customer /&gt;</samp> element
in the <samp class="ph codeph">&lt;customers /&gt;</samp> structure:<samp class="ph codeph">webAppAccess.getVariables().getXmlText("VariableTest",
"customers/customer[1]/name");</samp></dd>
<dt class="dt dlterm">To get an element in a variable of the XMLData type</dt>
<dd class="dd">You can get a particular element in the XML structure contained in a variable
by calling the <samp class="ph codeph">getXmlElement()</samp> method and supplying the variable
name and the XPath to the element you want to return. The following code sample
returns the second  <samp class="ph codeph">&lt;customer /&gt;</samp> element in the <samp class="ph codeph">&lt;customers
/&gt;</samp> structure:<pre class="pre codeblock">webAppAccess.getVariables().getXmlElement("VariableTest", "customers/customer[1]");</pre>
</dd>
<dt class="dt dlterm">To set the value of a variable of a simple type</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.getVariables().setInt("MyIntVariable", 4);</samp></dd>
<dt class="dt dlterm">To modify the XML structure stored in a variable of the XMLData type</dt>
<dd class="dd">You can alter the XML structure stored in a variable by getting the XML
structure with the <samp class="ph codeph">getXML()</samp> method and then using the IXml
API to modify the structure. The <samp class="ph codeph">getXML()</samp> method returns
a reference to the structure, so once you make the modifications to the structure
returned by <samp class="ph codeph">getXML()</samp>, there is no need to "set" the structure
back into the variable.<p class="p">The following code sample removes the second <samp class="ph codeph">&lt;customer
/&gt;</samp> element from the <samp class="ph codeph">&lt;customers /&gt;</samp> structure:</p>
<pre class="pre codeblock">IXml customers = webAppAccess.getVariables().getXml("CustomerList");
customers.removeChildElement(customers.findElement("customers/customer[1]"));</pre>
</dd>
<dt class="dt dlterm">To set the text value of an element in a variable of the XMLData type</dt>
<dd class="dd"><pre class="pre codeblock">IXml customers = webAppAccess.getVariables().getXml("CustomerList");
customers.setText("customers/customer[2]/name", "NewName");</pre>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_java_request"><a name="c_java_request"><!-- --></a><h5 class="title topictitle5">About getting data from the request</h5>
<div class="body conbody"><p class="shortdesc">You can access the HttpServletRequest object by calling the <samp class="ph codeph">webAppAccess.getHttpServletRequest()</samp> method.</p>
<div class="section">You can retrieve the following information from the HttpServletRequest
object:<dl class="dl"><dt class="dt dlterm">User name</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.getHttpServletRequest().getUserPrincipal().getName();</samp></dd>
<dt class="dt dlterm">Server name</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.getHttpServletRequest().getServerName();</samp></dd>
<dt class="dt dlterm">ContentType</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.getHttpServletRequest().getContentType();</samp></dd>
<dt class="dt dlterm">Locale</dt>
<dd class="dd"><samp class="ph codeph">webAppAccess.getHttpServletRequest().getLocale();</samp></dd>
</dl>
<p class="p">See the Javadoc for the <samp class="ph codeph">javax.servlet.http.HttpServletRequest</samp> class
in your JDK installation for a complete description of the public methods.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_java_response"><a name="c_java_response"><!-- --></a><h5 class="title topictitle5">Modifying the response</h5>
<div class="body conbody"><p class="shortdesc">Use the <samp class="ph codeph">HttpServletResponse</samp> object
to modify the content type of the data returned by a method. </p>
<div class="section"><p class="p">This object sets the <samp class="ph codeph">ContentType</samp> of the response
to something other than text or html.</p>
<p class="p">You can also add headers to the
response or otherwise modify the response to the client.</p>
<p class="p">For example,
the following code sample sets the <samp class="ph codeph">ContentType</samp> of the response
to return an Microsoft Excel spreadsheet:</p>
<pre class="pre codeblock">public void setContentTypeXL(WebAppAccess webAppAccess) {
webAppAccess.getHttpServletResponse().<strong class="ph b">setContentType("application/msexcel")</strong> ;
try {
File excelSheet = new File(webAppAccess.getSystemProperties().getDocumentRoot()+
File.separator + "Schedule.xls");
int numFileBytes = (int)excelSheet.length();
byte[] fileBytes = new byte[numFileBytes];
BufferedInputStream bis = new BufferedInputStream(new FileInputStream(excelSheet));
int i = 0;
while(i &lt; numFileBytes){
fileBytes[i] = (byte)bis.read();
i++;
}
webAppAccess.getHttpServletResponse().getOutputStream().write(fileBytes);
}
catch (IOException ioe) {
System.out.println(ioe+"Cannot find file.");
}
}</pre>
<div class="note note"><span class="notetitle">Note:</span> You can find the supported MIME types by looking at the
 <samp class="ph codeph">&lt;mime-mapping /&gt;</samp> elements in <span class="ph">IBM WebSphere Portlet Factory</span>  <span class="ph filepath">WEB-INF/web.xml</span> file.</div>
<p class="p">See the Javadoc for the <samp class="ph codeph">javax.servlet.http.HttpServletResponse</samp> class
in your JDK installation for a complete description of the public methods.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic reference nested3" xml:lang="en-us" id="r_ui_type_chooser"><a name="r_ui_type_chooser"><!-- --></a><h4 class="title topictitle4">Choosing a Variable Type</h4>
<div class="body refbody"><p class="shortdesc">You can specify a variable to be one of the types in this file.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">String</dt>
<dd class="dd">Specifies this variable to contain one string value. For example, "customer
name."</dd>
<dt class="dt dlterm">XML</dt>
<dd class="dd">Specifies this variable to contain an XML structure. For example:<pre class="pre codeblock">&lt;customers&gt;
&lt;customer&gt;
&lt;name&gt;Jane&lt;/name&gt;
&lt;id&gt;1112&lt;/id&gt;
&lt;/customer&gt;
&lt;customer&gt;
&lt;name&gt;Jane&lt;/name&gt;
&lt;id&gt;1112&lt;/id&gt;
&lt;/customer&gt;
&lt;/customers&gt;</pre>
</dd>
<dt class="dt dlterm">Object</dt>
<dd class="dd">Specifies this variable to contain an instance of a Java class. For example,
if you had an instance of a Customer class, you could store that object as
the value of an object-typed variable.</dd>
<dt class="dt dlterm">Boolean</dt>
<dd class="dd">Specifies this variable to contain a boolean value. For example, <samp class="ph codeph">false</samp>.</dd>
<dt class="dt dlterm">Double</dt>
<dd class="dd">Specifies this variable to contain a double value. For example, 22.49.</dd>
<dt class="dt dlterm">Float</dt>
<dd class="dd">Specifies this variable to contain a float value. For example, 3.40282e+38.</dd>
<dt class="dt dlterm">Integer</dt>
<dd class="dd">Specifies this variable to contain an int value. For example, 1786.</dd>
<dt class="dt dlterm">Long</dt>
<dd class="dd">Specifies this variable to contain a long value. For example, 122546739499.</dd>
</dl>
<p class="p">In addition, you can specify a variable to be of a type
defined by a schema. These types are displayed in the Variable Type Chooser.
If you select a type defined by a schema, be sure to choose from the schema's
Type folder and not its Element folder.</p>
<div class="note note"><span class="notetitle">Note:</span> Schemas that define many
elements could cause an <tt class="ph systemoutput">Out of memory</tt> in the
chooser that lets you determine the type for a variable or method argument.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_cre_indrctnestref"><a name="t_cre_indrctnestref"><!-- --></a><h4 class="title topictitle4">Creating a nested indirect reference</h4>
<div class="body taskbody"><p class="shortdesc">Use the reference chooser to create a nested indirect reference.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the builder call editor in your model. </span></li>
<li class="li step"><span class="ph cmd">Use the reference chooser to populate the input box with the beginning
of the indirect reference.</span></li>
<li class="li step"><span class="ph cmd">Place the cursor in the spot at which you want to insert another
indirect reference.</span></li>
<li class="li step"><span class="ph cmd">Click the reference chooser button, <img class="image" src="designer/images/genericchooser.gif" alt="browse button" />.</span> The reference chooser window
opens.</li>
<li class="li step"><span class="ph cmd">Select the desired model element and click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
<div class="section result">The reference chooser inserts the new indirect reference at the cursor
location.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_del_rowbldrtbl"><a name="t_del_rowbldrtbl"><!-- --></a><h4 class="title topictitle4">Deleting a row in a builder table</h4>
<div class="body taskbody"><p class="shortdesc">Many builders provide inputs in tables, from which you
delete a row to remove the related input value. </p>
<div class="section context"><p class="p">If you remove a row from a table in a builder input, for
example, in an Action List builder, it is important to use the correct
technique so that the input related to the row is not
considered null. </p>
</div>
<div class="li step"><span class="ph cmd">Right click the row and click <span class="ph uicontrol">Delete Row</span>. </span> <p class="p">If you delete the contents of the row without removing the
row, the builder considers the input null. </p>
</div>
<div class="section result">The row is removed from the table and the related input is
not used. </div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_opn_bldrce_window"><a name="t_opn_bldrce_window"><!-- --></a><h4 class="title topictitle4">Opening the builder call editor in a separate window</h4>
<div class="body taskbody"><p class="shortdesc">You can have the builder call editor open in a separate
window from your <span class="ph">IBM WebSphere Portlet Factory</span> Designer
window. </p>
<div class="section context">Usually, the builder call editor runs in the Editor area
of the <span class="ph"> WebSphere Portlet
Factory</span> perspective
as a tabbed panel. You can use a preference to change this behavior.
The separate window gives you more room to work and displays text
in larger font sizes. </div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the <span class="ph"> WebSphere Portlet
Factory</span> perspective,
click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Preferences</span></span>. </span></li>
<li class="li step"><span class="ph cmd">In the Preferences window, click <span class="ph uicontrol">Websphere
Portlet Factory Designer</span>. </span></li>
<li class="li step"><span class="ph cmd">In <span class="ph uicontrol">Builder Call Editor</span>, set <span class="ph uicontrol">Dialog
Windows</span> and click <span class="ph uicontrol">OK</span>. </span></li>
</ol>
<div class="section result"><p class="p">The next time that you start the Workbench and add a builder
to your model, the builder call editor opens in a separate window. </p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_bestpractices_view"><a name="c_bestpractices_view"><!-- --></a><h3 class="title topictitle3">The <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph">Wiki</span> view</h3>
<div class="body conbody"><p class="shortdesc">The <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph" id="bpview_ph"><a name="bpview_ph"><!-- --></a>Wiki</span> view connects you to additional product information,
for example, guidelines for best practices. </p>
<p class="p">When you open the <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph">Wiki</span> view, an Eclipse browser
connects to the <span class="ph"> WebSphere Portlet
Factory</span> wiki
on the internet. By default, the browser opens at the Spotlight page.
On this page are links to articles that contain recommendations
to help you have the best experience with the <span class="ph"> WebSphere Portlet
Factory</span> family of products.
Links at the bottom of the page lead you to other wikis and product
information sources. </p>
<p class="p">In the view toolbar at the top, you have a list that lets you select
other parts of the wiki. For example, you can click <span class="ph uicontrol">Samples
and techniques</span>, the section of the wiki that contains
samples and articles on techniques that you can adapt for your applications.
Icons in toolbar let you navigate in the browser. </p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_resource_log_view"><a name="c_resource_log_view"><!-- --></a><h3 class="title topictitle3">The Resource Log view</h3>
<div class="body conbody"><p class="shortdesc">The Resource Log view displays significant events in current
project session. </p>
<div class="section"><p class="p">This view shows the results of the last Add or Remove
Feature Set (or WebApp) operation performed in this Eclipse session.
The view displays a list of all the files that have been removed,
modified, and added to a project, and any errors that occurred as
a result of those changes because of the most recent copy or remove
operation. Use this view to track the activities that have taken place
within the current development session. When Eclipse is restarted,
the view is cleared.</p>
<p class="p">Click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show View</span> &gt; <span class="ph uicontrol">Resource Log</span></span> to display the view. The view opens in the Task view
area of the <span class="ph"> WebSphere Portlet
Factory</span> perspective. </p>
<p class="p">The
View menu provides filtering and copy options. The set of events displayed
in this view is categorized into the following filtering types available
within the view menu. </p>
<dl class="dl"><dt class="dt dlterm">All Events</dt>
<dd class="dd">Shows everything. The majority of events displayed are successful
copy or deletion operations.</dd>
<dt class="dt dlterm">Exceptional Events (default)</dt>
<dd class="dd">Shows events that you would probably be interested in, including
errors, but also files that are found to be user-modified or are overwrite
candidates.</dd>
<dt class="dt dlterm">Errors</dt>
<dd class="dd">Shows only events like failures to remove or copy some file.</dd>
</dl>
</div>
<div class="section"><h4 class="title sectiontitle">Using copy</h4><p class="p">In addition to the event filtering
options, the Resource Log view popup menu provides a copy operation.
Copy places the view contents on the clipboard as text (lines separated
by a Return and Line Feed character combination). </p>
<div class="note note"><span class="notetitle">Note:</span> The copy
operation ignores any item selected in the view.</div>
<p class="p">Copy is
handy for providing a comprehensive record of project activities.
For example, if you have a situation that requires several files to
be overwritten and for some reason they are not, copy allows you to
get a list of those files for future reference. In addition, you can
manually copy and paste file names into other commands to complete
the overwrite process.</p>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested3" xml:lang="en-us" id="r_resource_log_eventtypes"><a name="r_resource_log_eventtypes"><!-- --></a><h4 class="title topictitle4">Types of Events Logged</h4>
<div class="body refbody"><p class="shortdesc">Here are all the types of events that are logged in the view, along
with how they are rendered in the view.</p>
<div class="section"><div class="note note"><span class="notetitle">Note:</span> A {0} is replaced by the file being copied/removed.
A {1} is the "from" directory and a {2} is the "to" directory:</div>
<dl class="dl"><dt class="dt dlterm">File was copied to the destination</dt>
<dd class="dd">"copied {0} from {1} to {2}"</dd>
<dt class="dt dlterm">File was not modified by user, and was removed from the destination</dt>
<dd class="dd">"removed {0} from {2}"</dd>
<dt class="dt dlterm">File was modified by user, but was removed from the destination anyway</dt>
<dd class="dd">"removed modified {0} from {2}" *</dd>
<dt class="dt dlterm">File was modified by user, and was not removed</dt>
<dd class="dd">"kept modified {0} in {2}" *</dd>
<dt class="dt dlterm">Existing file was overwritten</dt>
<dd class="dd">"overwrote existing {0} in {2} from {1}" *</dd>
<dt class="dt dlterm">Existing file was not overwritten</dt>
<dd class="dd">"kept existing {0} in {1} - new file in {1}" *</dd>
<dt class="dt dlterm">Tried to remove, but could not</dt>
<dd class="dd">"could not remove {0} from {2}" **</dd>
<dt class="dt dlterm">Unable to overwrite existing file</dt>
<dd class="dd">"error copying {0} to {1} - new file in {1}" **</dd>
</dl>
<div class="note note"><span class="notetitle">*:</span> Events marked by * are "Exceptional"</div>
<div class="note note"><span class="notetitle">**:</span> Events marked by ** are Error events (and also
Exceptional events).</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_run_configs"><a name="t_cre_run_configs"><!-- --></a><h3 class="title topictitle3">Creating run configurations</h3>
<div class="body taskbody"><p class="shortdesc">You can create a <span class="ph">IBM WebSphere Portlet Factory</span> Model
configuration type. </p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Run</span> &gt; <span class="ph uicontrol">Run
Configurations</span></span>. </span></li>
<li class="li step"><span class="ph cmd">In the dialog, select <span class="ph uicontrol">WebSphere
Portlet Factory Model</span> from the list and click the New icon.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Name</span> input field, enter a
name for this configuration type. </span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Main</span> tab, select <span class="ph uicontrol">run
named model</span>. </span></li>
<li class="li step"><span class="ph cmd">In <span class="ph uicontrol">Project</span>, click <span class="ph uicontrol">Browse</span> and
select the project in which the model resides. </span></li>
<li class="li step"><span class="ph cmd">In <span class="ph uicontrol">Model</span>, click <span class="ph uicontrol">Browse</span> and
select the model to be run. </span></li>
<li class="li step"><span class="ph cmd">For the other four tabs (<span class="ph uicontrol">Server</span>, <span class="ph uicontrol">Browsing</span>, <span class="ph uicontrol">Tracing</span>, <span class="ph uicontrol">Common</span>),
either accept the defaults or enter the required information.</span></li>
<li class="li step">Optional: <span class="ph cmd">In <span class="ph uicontrol">Common</span>,
under <span class="ph uicontrol">Display in favorites menu</span>, select the
option to have the name appear in the Run As icon drop-down
list. </span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Apply</span> to save the configuration.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Close</span> to exit the dialog.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_run_config_dialog"><a name="c_run_config_dialog"><!-- --></a><h4 class="title topictitle4">Run Configuration dialog</h4>
<div class="body conbody"><p class="shortdesc">In <span class="ph">IBM WebSphere Portlet Factory</span> Designer,
you can set the run configuration properties. </p>
<div class="section"><p class="p">These properties are used when you run a model from within <span class="ph"> WebSphere Portlet
Factory</span> Designer.</p>
<p class="p">The
standard Eclipse Run Configuration dialog lets you define the parameters that
are used when running (launching) a program from within Eclipse environment.
Running a model is a distinct run configuration type. Therefore, you must
define a new run configuration of type <samp class="ph codeph">Factory Model</samp> before
you can run a model.</p>
<div class="note note"><span class="notetitle">Note:</span> You can use the Run Configuration dialog only
from a <span class="ph"> WebSphere Portlet
Factory</span>, Java,
or Plug-in Development perspective.</div>
<p class="p">You can configure the <samp class="ph codeph">Factory
Model</samp> type to run as:</p>
<ul class="ul"><li class="li">The current model (that is, whatever model is in the currently open Model
Editor).</li>
<li class="li">A specifically-named model (that is, the model does not have to be in
the Model Editor).</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> You can create both types of Run modes.</div>
<p class="p">As part of the
Run configuration, you supply information about the <span class="ph"> WebSphere Portlet
Factory</span> server
on which to run the model, and the type of browser to use. You can also specify
whether you want <span class="ph"> WebSphere Portlet
Factory</span> server
tracing turned on.</p>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested4" xml:lang="en-us" id="r_run_config_values"><a name="r_run_config_values"><!-- --></a><h5 class="title topictitle5">Run Configuration Field Values</h5>
<div class="body refbody"><p class="shortdesc">This table describes the property values that you can set in the
various tabs of the Run Configurations dialog.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e6912">Main Tab</th>
<th class="entry" valign="bottom" id="d52e6914">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6912 ">Model to run</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6914 ">You can configure the Factory
Model type to run in one of two modes:<dl class="dl"><dt class="dt dlterm">Run model from current active editor</dt>
<dd class="dd">The model to be run is the model in the currently open Model Editor. <div class="note note"><span class="notetitle">Note:</span> A
run-time error will occur if there is no Model Editor open when the model
is later run.</div>
</dd>
<dt class="dt dlterm">Run named model</dt>
<dd class="dd"><span class="ph">The model to be run is a specific model that you name in the <span class="ph uicontrol">Name:</span> input
box. Use the <span class="ph uicontrol">Browse</span> button to select the model from
the <span class="ph uicontrol">Model to Run</span> chooser.</span></dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> When you choose a mode for the run named model you must
also select a project.</div>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e6912 "><strong class="ph b">Server Tab</strong></td>
<td class="entry" valign="top" headers="d52e6914 "><strong class="ph b">Description</strong></td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6912 ">Server Host</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6914 ">Enter the host name of the
server running the <span class="ph">IBM WebSphere Portlet Factory</span> servlet
to which you want to connect. You can use <samp class="ph codeph">localhost</samp> if the <span class="ph"> WebSphere Portlet
Factory</span> servlet and <span class="ph"> WebSphere Portlet
Factory</span> Designer
are on the same machine.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6912 ">Server Port</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6914 ">Enter the port number on
which <span class="ph"> WebSphere Portlet
Factory</span> listens
for requests.<p class="p">Example: <samp class="ph codeph">9080</samp></p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e6912 "><strong class="ph b">Browser Tab</strong></td>
<td class="entry" valign="top" headers="d52e6914 "><strong class="ph b">Description</strong></td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6912 ">Browser Command</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6914 ">Enter the path to the web
browser to run when running models.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e6912 "><strong class="ph b">Tracing Tab</strong></td>
<td class="entry" valign="top" headers="d52e6914 "><strong class="ph b">Description</strong></td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6912 ">Run with system tracing</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6914 ">Enable this checkbox to print
system tracing information about the method and page actions whenever you
run a model.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e6912 "><strong class="ph b">Common Tab</strong></td>
<td class="entry" valign="top" headers="d52e6914 "><strong class="ph b">Description</strong></td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6912 ">Type of Run configuration</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6914 ">This field defines the location
of the file with the Run configuration settings:<dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Local</span></dt>
<dd class="dd">Specifies that the Run configuration file is stored locally, thus making
the Run configuration private for a single user.</dd>
<dt class="dt dlterm"><span class="ph uicontrol">Shared</span></dt>
<dd class="dd">Specifies that the Run configuration file is stored in the workspace,
and can be shared in a repository via standard team mechanisms. Use the <span class="ph uicontrol">Browse</span> button
to select a folder from the <span class="ph uicontrol">Folder Selection</span> chooser.</dd>
</dl>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6912 ">Perspective to switch to
or open when Runed in</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6914 ">Models are Runed in run mode
(debug mode is not supported). In run mode, the program executes, but the
execution may not be suspended or examined.<p class="p">This field lets you choose which
perspective becomes active when the Run configuration is Runed.</p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6912 "> Display in favorites menu </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e6914 ">Check the <span class="ph uicontrol">Run</span> box
to specify that the Run configuration should appear in the Run favorites list. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_del_run_configs"><a name="t_del_run_configs"><!-- --></a><h3 class="title topictitle3">Deleting run configurations</h3>
<div class="body taskbody"><p class="shortdesc">To delete a <span class="ph">IBM WebSphere Portlet Factory</span> Model
configuration type:</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Choose <span class="ph uicontrol">Run...</span> from the <span class="ph uicontrol">Run</span> menu.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Run Configurations</span> dialog, choose
an existing configuration from the Run Configurations list.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Delete</span>.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Yes</span> at the <span class="ph uicontrol">Confirm Run
Configuration Deletion</span> dialog.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Close</span> to exit the dialog.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_overview_packaging"><a name="c_overview_packaging"><!-- --></a><h2 class="title topictitle2">About sharing project resources</h2>
<div class="body conbody"><p class="shortdesc">You can share the project resources among developers. </p>
<div class="section"><p class="p">You can create or install an <span class="ph">IBM WebSphere Portlet Factory</span> archive
file. An archive file is a special compressed file that you create using the <span class="ph"> WebSphere Portlet
Factory</span> Export/Import Wizard.
This wizard is integrated into the <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Export</span></span> and <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Import</span></span> menus in <span class="ph"> WebSphere Portlet
Factory</span> Designer.
An archive provides a way for you to easily collect and distribute project
components.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_export_import"><a name="c_export_import"><!-- --></a><h3 class="title topictitle3">About using export and import</h3>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> Designer provides
a wizard that you can use to export and import project resources.</p>
<p class="p">You might want to export and import project resources to share resources
with another developer. You can use this wizard to create a <span class="ph"> WebSphere Portlet
Factory</span> archive
Zip file.</p>
<p class="p">A <span class="ph"> WebSphere Portlet
Factory</span> archive is a Zip
file you use to package resources for sharing. This file is automatically
constructed by the <span class="ph"> WebSphere Portlet
Factory</span> Export
wizard. These special-purpose wizards are incorporated into the Eclipse <span class="ph uicontrol">Export/Import</span> menu.</p>
<p class="p">All resources that are saved to the archive file are relative to the project
servable content directory (the project root directory).</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_howdoi_team_dev"><a name="c_howdoi_team_dev"><!-- --></a><h3 class="title topictitle3">Your team development environment</h3>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> applications
are simply a coordinated set of files that are used to regenerate
applications at design time, when you publish to development servers,
or export a completed project to a production server.</p>
<div class="p">Like any development effort, the <span class="ph"> WebSphere Portlet
Factory</span> project and application
files should be placed under a source control system (for example,
CVS, SourceSafe, and Rational® ClearCase®). Placing these
files under source control allows you to version them and protect
them from loss. Placing files under source control consists of the
following activities. <ul class="ul"><li class="li">Locating and laying out a project for source control management.</li>
<li class="li">Deciding what artifacts to version.</li>
<li class="li">Managing code for distribution.</li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_manage_code_distro"><a name="c_manage_code_distro"><!-- --></a><h4 class="title topictitle4">Management of code for distribution</h4>
<div class="body conbody"><p class="shortdesc">Like most <span class="ph">portlets, </span>web applications
and widgets, <span class="ph"> WebSphere Portlet
Factory</span> applications
are distributed (or published) as WARs.</p>
<p class="p">Everything needed to run the application is packaged in the WAR
build process, including profile sets. The self-contained WAR file
can thus be distributed or published to any appropriate server and
expected to run.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_source_control_management"><a name="c_source_control_management"><!-- --></a><h4 class="title topictitle4">Locating and laying-out a project for source control management</h4>
<div class="body conbody"><p class="shortdesc">You can use two basic approaches when translating this project
structure to source control.</p>
<div class="section">You can locate a project anywhere in the file system, though it is
common to place it in the Eclipse workspace (<span class="ph filepath">.../eclipse/workspace/</span>).
When you create a <span class="ph">IBM WebSphere Portlet Factory</span> project
with <span class="ph"> WebSphere Portlet
Factory</span> Designer, all required
sub-directories and files are created for you with the proper structure. The
two approaches for translating a project structure to source control are:<dl class="dl"><dt class="dt dlterm">Individual project approach</dt>
<dd class="dd">Each team member has a separate area in source control for their project
artifacts (for example, models, Java classes and builders). The shape of this
area should mirror the project structure.<p class="p">This approach is useful if the
projects have only loose coupling (for example, http connections). Artifact
names should be chosen to avoid collisions if the created artifacts are to
be brought more close together (in a common build). If there is to be a common
build, a build process will be needed.</p>
</dd>
<dt class="dt dlterm">Shared Team project</dt>
<dd class="dd">There is one shared source control area that captures all the artifacts
created by the team members. This includes all source files, all generated
files, and all <span class="ph"> WebSphere Portlet
Factory</span> shipping
files (such as WARs). The shape of this area should mirror the project structure<p class="p">This
approach is useful when several people are working on different parts of one
application. Each developer has a copy of <span class="ph"> WebSphere Portlet
Factory</span> and
checks his work into a common source control area. Every team member can easily
populate their project with all artifacts if necessary, and name collisions
are easier to avoid.</p>
</dd>
</dl>
<p class="p">In both cases, mirroring the structure of the project in
source control allows easy traffic between your source control system and
the project.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_version_artifacts"><a name="c_version_artifacts"><!-- --></a><h4 class="title topictitle4">Versioning artifacts</h4>
<div class="body conbody"><p class="shortdesc">If you want the ability to recreate the application over
the long term, it is important to capture all of the artifacts used
by the project.</p>
<div class="section">There is obviously a continuum of software layers involved,
(operating system, JVM, Eclipse, and <span class="ph"> WebSphere Portlet
Factory</span> Designer, for example).
You should at least capture in some manner the critical software pieces
needed to enable a modification in the future. Creating a CD, DVD
or other media provides a way to capture a snapshot of most of these
underlying layers as well as the project artifacts.<p class="p">At a project
level, you have the following choices for what to place under version
control. </p>
<dl class="dl"><dt class="dt dlterm">Entire project</dt>
<dd class="dd">Check in the entire project. Here source control exactly mirrors
your working directory structure. This approach is easy, but depending
on the features and performance of your source control system, it
may prove to be too slow or cumbersome to use. Also, if you have a
very large development team, this approach consumes much space on
your server.</dd>
<dt class="dt dlterm">New and modified files</dt>
<dd class="dd">Check in only the files you create or modify in your project.
When you create a project, it includes <span class="ph"> WebSphere Portlet
Factory</span> shipping files, source
files, and all generated files. Create your own folders in which to
store the models, HTML files, Java classes, and other files that you
create for your projects.</dd>
</dl>
<p class="p">Only your source files and generated files remain
in the project. You can check in the generated files (not recommended)
or they can easily be created from the source later if you are trying
to reproduce this exact environment. Generated files are located in
the <span class="ph filepath">WEB-INF/factory/generated/</span> folder. Using
this technique, you can have source files in source control and have
each developer install the same version of <span class="ph"> WebSphere Portlet
Factory</span> and any other shipping
software needed for the project.</p>
<p class="p">If you use a Shared Team Project
in source control and check in only new or modified files, setup a
Proto-Project in your source control system that contains all the
artifacts you share across team members and do not expect to modify
(Jars, builder defs, properties). That way you can create a project
for a new team member by simply combining the Proto-Project and the
Shared Team Project. There are many variations across these two dimensions
(what to capture and how to shape it), of course.</p>
<p class="p">At the very
least, these are the project artifacts you should store in your source
control system. </p>
<ul class="ul"><li class="li"> Model files in <span class="ph filepath">WEB-INF/models/*.model</span></li>
<li class="li"> Profile set files in <span class="ph filepath">WEB-INF/profiles/*.xml</span></li>
<li class="li"> HTML files (<span class="ph filepath">*.htm</span>, <span class="ph filepath">*.html</span>)</li>
<li class="li"> JavaScript libraries, CSS and XSL stylesheets (<span class="ph filepath">*.js</span>, <span class="ph filepath">*.css</span>, <span class="ph filepath">*.xsl</span>)</li>
<li class="li"> Image files (<span class="ph filepath">*.jpg</span>, <span class="ph filepath">*.gif</span>)</li>
<li class="li"> Configuration files (<span class="ph filepath">*.properties</span>, <span class="ph filepath">*.xml</span>,
and Java resource bundles, for example) except at the top level of
the project.</li>
<li class="li"> Java source files in <span class="ph filepath">WEB-INF/work/source/*.java</span></li>
<li class="li"> Custom (client-specific) JAR files </li>
<li class="li"> Custom builder definitions in <span class="ph filepath">WEB-INF/builders/*.bdef</span></li>
<li class="li"> Custom Profile Selection Handler files in <span class="ph filepath">WEB- INF/config/selection_handlers/*.xml</span></li>
<li class="li"> Build scripts for the project</li>
<li class="li"> Project documentation</li>
</ul>
<p class="p">Do not capture or store in source control the following artifacts. </p>
<dl class="dl"><dt class="dt dlterm">Generated project artifacts</dt>
<dd class="dd"> It is not necessary and not recommended that you capture and
control artifacts that are generated by the<span class="ph"> WebSphere Portlet
Factory</span> regeneration process
(JSPs, Java classes, schemas). These are exactly like the binary outputs
of compilers. If you preserve the source files (models, profiles,
and builders, for example), the generated artifacts are always reproducible.
Generated Java files are located in <span class="ph filepath">WEB-INF/factory/generated</span>;
generated JSPpages are located in the <span class="ph filepath">/genjsp</span> directory;
generated Java classes are located in <span class="ph filepath">WEB-INF/factory/generated/genjava</span>.</dd>
<dt class="dt dlterm">Property files</dt>
<dd class="dd">For Shared Team Projects, do not store in source control the property
files at the top level of your project (<span class="ph filepath">.bowstreet</span>, <span class="ph filepath">.classpath</span>,
and <span class="ph filepath">.project</span>). These are user and system specific.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_files_excludescm"><a name="c_files_excludescm"><!-- --></a><h5 class="title topictitle5">Files that are excluded from source control</h5>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> provides
a default selection of files that are excluded from source control. </p>
<p class="p">The Eclipse development environment supports setting folders and
files that are by default excluded from source control. <span class="ph"> WebSphere Portlet
Factory</span> integrates with the
standard team function of Eclipse by providing a list of folders and
files to be excluded from source control. To see the list, in Eclipse,
click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Preferences</span> &gt; <span class="ph uicontrol">Team</span> &gt; <span class="ph uicontrol">Ignored Resources</span></span> and note the entries that begin with <span class="ph filepath">*/WebContent</span>. These entries are provided by default
by <span class="ph"> WebSphere Portlet
Factory</span>. </p>
<p class="p">Using the controls in the Preferences dialog, you can modify the
list according to your project needs. Also, you can override any entries
in the list through the source control commands that you use. </p>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_generating_webapps"><a name="c_generating_webapps"><!-- --></a><h2 class="title topictitle2">Web application model execution</h2>
<div class="body conbody"><p class="shortdesc">This document describes the structure and behavior of WebApp objects
in the <span class="ph">IBM WebSphere Portlet Factory</span> system.</p>
<p class="p"> The information in this document is useful for:</p>
<ul class="ul"><li class="li">Developers creating WebApp models: Regardless of which builders are used
when creating a model, the resulting application follows the WebApp structure
and execution behavior. Developers creating models can view the WebApp generated
for a Model by using the WebApp views in <span class="ph"> WebSphere Portlet
Factory</span> Designer. </li>
<li class="li"> Others wanting to understand the model generation and execution process. </li>
</ul>
<p class="p">A WebApp is the executable result of generation for a WebApp parametric
model. The WebApp elements are the fundamental building blocks that are available
for builders to use when generating an application.</p>
<p class="p">A WebApp represents all or part of a J2EE web application, and includes:</p>
<ul class="ul"><li class="li"> Pages (JSP) </li>
<li class="li"> State data (primitive, XML, and Java object) </li>
<li class="li"> Links to business objects and other supporting objects </li>
<li class="li"> Execution logic and generated Java code </li>
<li class="li"> Event handling </li>
<li class="li"> Links to other <span class="ph"> WebSphere Portlet
Factory</span> WebApps </li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> There are far more WebApp builders than there are types of WebApp elements,
because builders can use these fundamental building blocks in an unlimited
number of ways.</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_webapp_exec"><a name="c_webapp_exec"><!-- --></a><h3 class="title topictitle3">WebApp execution</h3>
<div class="body conbody"><p class="shortdesc">This information describes the WebApp runtime environment process
as well as the APIs that are to be used by a WebApp application developer.</p>
<div class="section">The primary API entry point for a developer is the WebAppAccess interface,
which contains all of the instance specific information for a running WebApp
application. The secondary API is the WebApp interface, which is more static
and contains structural information about a running or non-running WebApp
application. <p class="p">It is important to understand the WebApp execution path, and
the WebApp execution time actions.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_webapp_exec_actions"><a name="c_webapp_exec_actions"><!-- --></a><h4 class="title topictitle4">WebApp execution time actions</h4>
<div class="body conbody"><p class="shortdesc">Internally there are two types of actions that get processed in
the running of a WebApp.</p>
<div class="section">These two actions are page and method. When a WebApp is run it is
through these actions that the execution takes place.<dl class="dl"><dt class="dt dlterm">Method</dt>
<dd class="dd">All of the non-page execution code such as Method, ActionList/Action and
Method Call are converted to Java source code. The code is compiled to generate
a single java class for each unique variation of a WebApp. At runtime, the
class is instantiated and can then be executed by using the WebAppAccess callMethod
API. The same method action that runs the generated Java methods is also used
to invoke linked Java object methods. </dd>
<dt class="dt dlterm">Page</dt>
<dd class="dd">All Page execution goes through the page action, which will detect the
page type and pass the processing to the correct page processor. Currently
there are two types of page processor. One is the JSP page processor, which
will be executed by the host server, and the second is a static page processor,
which does no real processing, but does send the page directly back to the
client.</dd>
<dt class="dt dlterm">Action Lists</dt>
<dd class="dd">Action lists hold a list of action items such as method call, assignment
operations, process page calls, and return statements. ActionLists are converted
to Java methods, so as far as the runtime is concerned they are treated just
like any other method described above. </dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_webapp_exec_path"><a name="c_webapp_exec_path"><!-- --></a><h4 class="title topictitle4">WebApp Execution Path</h4>
<div class="body conbody"><p class="shortdesc">To get a better understanding of the WebApp runtime environment
it is good to have an understanding of the execution path for an individual
request.</p>
<div class="section">Here are the high level steps for a request to run a WebApp for the
first time for a given requester.<ol class="ol"><li class="li">The request is parsed to determine the WebApp Model to be run, as well
as an optionally specified action within the WebApp (defaults to action named
"main" if not specified).</li>
<li class="li">The InstanceDataStorage (abstract storage for instance data, which defaults
to session) is used to check if the requester is already executing an instance
of this WebApp. Since this is the first request, there will be no instance
data.</li>
<li class="li">Since there is no instance, a WebApp will either be retrieved from the
cache or generated using the appropriate profile data.</li>
<li class="li">The InstanceDataStorage is then used to save the instance data for subsequent
requests. The instance data contains state data such a Variables and Linked
Models.</li>
<li class="li">A new WebAppAccess object will be created with an instance specific copy
of the WebApp's variables, and linked model.</li>
<li class="li">Next some authorization checks are made to determine if the WebApp can
be run as an external request, instead of using a WebApp to WebApp request.</li>
<li class="li">The servlet then processes the WebApp's action. For example, if a WebApp's
"main" method was requested, that method would be invoked, which can in turn
invoke other actions, such as another method or page.</li>
<li class="li">The results of the action are then returned to the requester.</li>
</ol>
<p class="p">Here are the high level steps for a subsequent request to the WebApp
request made above for the same requester.</p>
<ol class="ol"><li class="li">The request is parsed to determine the WebApp to be run, as well as any
optionally specified action within the WebApp (defaults to action named "main"
if not specified).</li>
<li class="li">The InstanceDataStorage is used to check if the requester is already executing
an instance of this WebApp. Since this is the second request, there will be
instance data.</li>
<li class="li">A new WebAppAccess object will be created using the retrieved instance
data from the InstanceDataStorage. </li>
<li class="li">Next, authorization checks are made to determine if the WebApp can be
run via an external request. </li>
<li class="li">The servlet then processes the WebApp's action. For example, if a WebApp's
"main" method was requested, that method would be invoked, which can in turn
invoke other actions, such as another method or page.</li>
<li class="li">The results of the action are then returned to the requester.</li>
</ol>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="webapp_access"><a name="webapp_access"><!-- --></a><h3 class="title topictitle3">WebAppAccess</h3>
<div class="body conbody"><p class="shortdesc">The WebAppAccess is the programmer's interface into the running
application.</p>
<p class="p">Through this interface the programmer can access and modify
all of the runtime components that are instance specific such as variables,
linked Models and linked Java objects. Components that cannot be modified
(read-only) are pages, methods, system event listeners and error handlers,
which can be accessed through the WebApp interface. The WebAppAccess interface
API is available to the developer in methods, LJOs, and JSP pages. WebApps,
variables, and linked models can be accessed through the WebAppAccess API.</p>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_java_using"><a name="c_java_using"><!-- --></a><h4 class="title topictitle4">Using Java and the WebAppAccess object</h4>
<div class="body conbody"><p class="shortdesc">In <span class="ph">IBM WebSphere Portlet Factory</span>,
you can incorporate Java code into your application in multiple ways.</p>
<ul class="ul"><li class="li">The Method builder</li>
<li class="li">The Linked Java Object builder</li>
<li class="li">The <samp class="ph codeph">${Java/...}</samp> indirect reference</li>
</ul>
<p class="p">You use the WebAppAccess object to program the <span class="ph"> WebSphere Portlet
Factory</span> runtime and APIs.
For more information about Java use in<span class="ph"> WebSphere Portlet
Factory</span>, refer to the article <a class="xref" href="http://www.lotus.com/ldd/pfwiki.nsf/dx/Using_Java_in_your_Web_applications" target="_blank">Using Java in your Web applications</a> in the
product wiki. </p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_webappaccess_webapp"><a name="c_webappaccess_webapp"><!-- --></a><h4 class="title topictitle4">WebAppAcess with WebApps</h4>
<div class="body conbody"><p class="shortdesc">The WebApp is the result of the generation process. If the model
you created is profiled then a unique version of a WebApp will be created
as required. The WebApp contains all of the structural data required to run
the application.</p>
<div class="section"> At execution time, the WebApp is read-only, because
it is shared across multiple WebAppAccess instances. Sharing the WebApp give
us the ability to not have to regenerate a new one if a request come in for
the same WebApp with the same profile requirements.<p class="p">The components that
are contained on a WebApp are pages, methods, action lists, variables, linked
Java objects, linked models, system event listeners, and error handlers.</p>
<p class="p">When
a WebAppAccess is instantiated for the first time the runtime modifiable components
of the WebApp are copied from the WebApp to the WebAppAccess object. These
components are variables, linked models and linked Java objects. This allows
the WebAppAccess to modify those items without corrupting the shared WebApp
object.</p>
<div class="note note"><span class="notetitle">Note:</span> Linked Java objects are stored within variables as an object
type.</div>
<div class="p">The WebAppAccess has a reference to the WebApp and can be retrieved
by using the getWebApp method.<pre class="pre codeblock">WebApp webApp = webAppAccess.getWebApp();</pre>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_webappaccess_linked_models"><a name="c_webappaccess_linked_models"><!-- --></a><h4 class="title topictitle4">Linked models</h4>
<div class="body conbody"><p class="shortdesc">Linked models provide a mechanism for the WebApp developer
to reuse and share model functionality among other WebApps. </p>
<div class="section"><p class="p">By linking a model, you expose to the model requesting
the linking the linked-in model's public functionality, such as methods
or pages. </p>
<p class="p">To add a linked model, you use the Linked Model builder
to specify which model to link in. The Linked Model builder adds a
named slot into your model, which contains information about the model
being linked in. The example below shows model <samp class="ph codeph">A</samp> linking
in model <samp class="ph codeph">B</samp> using <samp class="ph codeph">LM1</samp> as the local
linked model reference name.</p>
<div class="note note"><span class="notetitle">Note:</span> Model <samp class="ph codeph">B</samp> does
not get instantiated until it is actually called.</div>
<p class="p">The name
of the builder is used as the prefix name that must be used to access
the linked model functionality. For example, if you added a linked
model where you have specified <samp class="ph codeph">LM1</samp> as the builder
name, you refer to a page in that model by using the Linked Model
builder name, a period (<samp class="ph codeph">.</samp>) separator, and the page
name.</p>
<pre class="pre codeblock">webAppAccess.processPage("LM1.HomePage");</pre>
<p class="p">You
also use a similar format for calling methods on the linked model.</p>
<pre class="pre codeblock">String value = webAppAccess.callMethod("LM1.doWork");</pre>
<p class="p">When
models are linked in, you can create a single instance of the model
that is shared within a session or specify that the linked model is
not shared within the session. If the linked model is not shared,
multiple instances of the model are created if it is used by more
than one Linked Model builder.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_linked_model_nonsingleton"><a name="c_linked_model_nonsingleton"><!-- --></a><h5 class="title topictitle5">Linked models: non-session singleton</h5>
<div class="body conbody"><p class="shortdesc">When a linked model is specified to be Non-Session Singleton,
multiple instances of this model are created for a given requester
session.</p>
<div class="section"><p class="p">Other linked models that reference the same model get
their own unique instance. In the non-singleton mode, the linked in
models are not stored in the requester's session but instead are held,
as a reference, in the model that linked them in. For example, if
model <samp class="ph codeph">A</samp> and model <samp class="ph codeph">B</samp> link in model <samp class="ph codeph">C</samp>,
there are two instances of model <samp class="ph codeph">C</samp> created for a
given session. The linked model slot in the parent model refers to
each instance.</p>
<p class="p">Because there are multiple instances of model <samp class="ph codeph">C</samp> and
there is not a reference to it in the user's session, links in the
pages of model <samp class="ph codeph">C</samp> need to point back to the highest
singleton parent model in the chain. For example, if <samp class="ph codeph">HomePage</samp> contained
a link to the model <samp class="ph codeph">doWork</samp> method, the link looks
like this: </p>
<pre class="pre codeblock"><span class="ph filepath">/webengin/A/Action:LM1.doWork</span></pre>
<p class="p">If
we add another linked model and model <samp class="ph codeph">C</samp> now links
in model <samp class="ph codeph">D</samp> and you want a page in model <samp class="ph codeph">D</samp> to
link to its main method, the link looks like this:</p>
<pre class="pre codeblock"><span class="ph filepath">/webengin/A/Action:LM1.LM2.main</span></pre>
<p class="p">In
this example, LM2 is the builder name of the linked model added to
model <samp class="ph codeph">C</samp>.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_linked_model_singleton"><a name="c_linked_model_singleton"><!-- --></a><h5 class="title topictitle5">Linked models: session singleton</h5>
<div class="body conbody"><p class="shortdesc">When a linked model is specified to be Session Singleton,
only one instance of this model is created for a given session.</p>
<div class="section">Other linked models can share this instance if they reference
the same model name. For example, if model <samp class="ph codeph">A</samp> and
model <samp class="ph codeph">B</samp> link in model <samp class="ph codeph">C</samp>, there is
only one instance of model <samp class="ph codeph">C</samp> created for a given
session.<p class="p">Because there is only one instance of model <samp class="ph codeph">C</samp> and
there is a reference to it in the requester's session, links in the
pages of model <samp class="ph codeph">C</samp> can point directly back to itself
for internal actions. For example, if <samp class="ph codeph">HomePage</samp> contained
a link back to the model <samp class="ph codeph">doWork</samp> method, the link
looks like this: </p>
<pre class="pre codeblock"><span class="ph filepath">/webengin/C/Action:doWork</span></pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_webappaccess_of_linkedmodel"><a name="c_webappaccess_of_linkedmodel"><!-- --></a><h5 class="title topictitle5">WebAppAccess of a linked model</h5>
<div class="body conbody"><p class="shortdesc">A WebAppAccess of a linked model can be used to set or change the
instantiated model that is associated with a linked model slot.</p>
<div class="section">For example, you can instantiate a model and reassign the linked
model using the new model, like so:<pre class="pre codeblock">// create or get a singleton instance of model "C"
WebAppAccess modelC = webAppAccess.getModelInstance("C", null, true);
// Get the linked model slot holder
LinkedModel linkedModel = webAppAccess.getLinkedModel("LM1");
// Now set the instance on the linked model slot
linkedModel.setLinkedModelInstance(modelC);</pre>
<p class="p">Now when calls to
LM1 are made they will go to the new model. This assumes that when you swap
out linked models you replace them with models that contain the same methods/pages
that may be called.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_webappaccess_free_linkedmodel"><a name="c_webappaccess_free_linkedmodel"><!-- --></a><h5 class="title topictitle5">Freeing linked models</h5>
<div class="body conbody"><p class="shortdesc">In some cases you may want to free the reference to a linked model
so that the JVM garbage collection will reclaim the memory used by the linked
model.</p>
<div class="section">The following is a list of a few rules when freeing linked model.<ul class="ul"><li class="li">All linked models as well as parent models will be freed when the session
times out.</li>
<li class="li">Non-singleton linked models will be automatically freed when the parent
model is explicitly freed.</li>
<li class="li">Singleton linked models will not be automatically freed when the parent
model is explicitly freed. This is because singleton models can be shared
across models in the session, and automatically freeing them with the parent
may cause undesired results. The application developer can use the <samp class="ph codeph">freeLinkedModel(..)</samp> method
to explicitly free singleton or non-singleton linked models (see API section).</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_webapp_method_ljo"><a name="c_webapp_method_ljo"><!-- --></a><h3 class="title topictitle3">Method and LJO method calls</h3>
<div class="body conbody"><p class="shortdesc">WebApp methods and action lists are converted into a generated
Java class that represents all the WebApp methods and action lists.</p>
<div class="section"><p class="p">There will be one Java class generated for each unique
instance of the WebApp. The name of the generated class will be the
WebApp name plus a unique suffix, which is used to identify the profile
data that was used to generate the WebApp.</p>
</div>
<div class="section"><h4 class="title sectiontitle">General rules for WebApp methods &amp; LJO methods</h4><ul class="ul"><li class="li"> All generated methods and action list methods take as the first
argument a WebAppAccess object. </li>
<li class="li"> Any LJO method that requires access to the WebApp through a WebAppAccess
object must declare its method with WebAppAccess as the first argument. </li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_call_ljo_method"><a name="c_call_ljo_method"><!-- --></a><h4 class="title topictitle4">Calling linked Java objects methods</h4>
<div class="body conbody"><p class="shortdesc">If you are in a WebApp method or another LJO you can make a call
to an LJO method in one of two ways.</p>
<div class="section">You can use WebAppAccess <samp class="ph codeph">callMethod(..)</samp> method just
as you would for a WebApp method, except that in the method name, you must
specify the name of the linked Java object builder call in your model. Here
is an example calling a method named doWork on an LJO that takes a webAppAccess
and a string argument.<pre class="pre codeblock">webAppAccess.callMethod("MyLJO.doWork", "foo");</pre>
<p class="p">In
this example the actual signature of doWork is as follows:</p>
<pre class="pre codeblock">public void doWork(WebAppAccess webAppAccess, String name);</pre>
<p class="p">Calling it through the <samp class="ph codeph">callMethod(..)</samp> automatically passes
the WebAppAccess as the first argument.</p>
<p class="p">You can also get an instance
of the LJO and make the call directly like so:</p>
<pre class="pre codeblock">SampleLJO myLJO = (SampleLJO)webAppAccess.getVariables().getObject("MyLJO");
myLJO.doWork(webAppAccess, "foo");</pre>
<div class="note note"><span class="notetitle">Note:</span> Because you made the call
directly you must pass in the WebAppAccess reference.</div>
<p class="p">If the LJO
has been specified to be used as the base class of the generated method class
then you may call the method directly without using the linked Java object
builder name as the prefix (without "MyLJO.").</p>
<pre class="pre codeblock">webAppAccess.callMethod("doWork", "foo");</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_call_ljomethod_model"><a name="c_call_ljomethod_model"><!-- --></a><h4 class="title topictitle4">Calling an LJO method on a linked model</h4>
<div class="body conbody"><p class="shortdesc">If you are in a WebApp method or an LJO you can make a call to
a linked model LJO method by using the WebAppAccess callMethod(..) method
just as you would for a WebApp method, except that in the method name, you
must specify the name of the linked model builder call, plus the name of the
LJO builder call in the linked model, as well as the method name on the LJO.</p>
<div class="section">Here is an example calling a method named doWork that takes a WebAppAccess
and a string argument that is on a LJO in a linked model.<pre class="pre codeblock">webAppAccess.callMethod("MyLinkedModel.MyLJO.doWork", "foo");</pre>
<p class="p">In
this example the actual signature of doWork is as follows:</p>
<pre class="pre codeblock">public void doWork(WebAppAccess webAppAccess, String name);</pre>
<p class="p">Calling it through callMethod(..) automatically passes the WebAppAccess as
the first argument.</p>
<p class="p">You can also get an instance of the Linked Model
and use callMethod(..) on the Linked Model WebAppAccess like so:</p>
<pre class="pre codeblock">WebAppAccess linkedWebAppAccess = webAppAccess.getLinkedModel("MyLinkedModel");
linkedWebAppAccess.callMethod("MyLJO.doWork", "foo");</pre>
<p class="p">Or you
can go directly to the LJO instance and make the call.</p>
<pre class="pre codeblock">WebAppAccess linkedWebAppAccess = webAppAccess.getLinkedModel("MyLinkedModel");
SampleLJO myLJO = (SampleLJO)linkedWebAppAccess.getVariables().getObject("MyLJO");
myLJO.doWork(linkedWebAppAccess, "foo");</pre>
<div class="note note"><span class="notetitle">Note:</span> In this situation
you must pass in the correct WebAppAccess from the linked model. In this case
it is the linkedWebAppAccess.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_call_webapp_method"><a name="c_call_webapp_method"><!-- --></a><h4 class="title topictitle4">Calling WebApp methods</h4>
<div class="body conbody"><p class="shortdesc">Calling a method from your java code can be done two ways depending
on where you are making the call from.</p>
<div class="section">If you are in an LJO, you must use WebAppAccess <samp class="ph codeph">callMethod(..)</samp> method.
Here is an example calling a method named doWork that takes a string argument:<pre class="pre codeblock">webAppAccess.callMethod("doWork", "foo");</pre>
<div class="p">In
this example the actual signature of doWork is as follows:<pre class="pre codeblock">public void doWork(WebAppAccess webAppAccess, String name);</pre>
</div>
<p class="p">Making a call through the callMethod(..) method automatically passes the
WebAppAccess as the first argument.</p>
<div class="p">If you are in a WebApp method you
can make the call directly since all methods of your WebApp are compiled into
a single Java class. Here is an example calling a method named doWork that
takes a WebAppAccess and a String argument:<pre class="pre codeblock">doWork(webAppAccess, "foo");</pre>
</div>
<div class="note note"><span class="notetitle">Note:</span> When
you make the call directly, you must pass in the WebAppAccess, as well as
the other arguments, yourself. However, you can still also use the callMethod(..)
method in this situation.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_call_webappmethod_model"><a name="c_call_webappmethod_model"><!-- --></a><h4 class="title topictitle4">Calling a WebApp method on a linked model</h4>
<div class="body conbody"><p class="shortdesc">If you are in a WebApp method or an LJO, you can make a call to
a linked model method by using the WebAppAccess <samp class="ph codeph">callMethod(..)</samp> method
just as you would for a WebApp method, except that in the method name, you
must specify the name of the Linked Model builder call as well as the method
name.</p>
<div class="section">Here is an example calling a method named doWork that takes a WebAppAccess
and a string argument that is on a linked model:<pre class="pre codeblock">webAppAccess.callMethod("MyLinkedModel.doWork", "foo");</pre>
<p class="p">In
this example the actual signature of doWork is as follows:</p>
<pre class="pre codeblock">public void doWork(WebAppAccess webAppAccess, String name);</pre>
<p class="p">Calling it through callMethod(..) automatically passes the WebAppAccess as
the first argument.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_overview_comm"><a name="c_overview_comm"><!-- --></a><h3 class="title topictitle3">Overview: communicating between models</h3>
<div class="body conbody"><p class="shortdesc">If your <span class="ph">IBM WebSphere Portlet Factory</span> application
utilizes more than one model for its functionality, you may need to
send data from one model to another.</p>
<div class="section"><p class="p">There are multiple ways to communicate between models. </p>
<dl class="dl"><dt class="dt dlterm">Using events</dt>
<dd class="dd">You can fire an event in one model and handle it in another. <span class="ph"> WebSphere Portlet
Factory</span> provides for sending
data as well.</dd>
<dt class="dt dlterm">Using the session</dt>
<dd class="dd">You can store information in the session object. Any models requested
by the same session have access to this information.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_comm_events"><a name="c_comm_events"><!-- --></a><h4 class="title topictitle4">Using events for inter-model communication</h4>
<div class="body conbody"><p class="shortdesc">Events are named broadcasts which arrive at any model in the session
(for example, for the same user) that is listening for them. There are two
types of events: general events and widget events.</p>
<p class="p">An event can be declared to have arguments, and the values are specified
when the event is fired. For general events, it is important that all users
of a given event declare it the same way.</p>
<p class="p">For general events, put your Event Declaration builders in a single model
and then import that model into any others that want to fire or handle the
events. Events are named broadcasts across the session. Any other model that
the same user is running at the time the event is fired can catch that event.</p>
<p class="p">When you include an Event Declaration builder in a model, either directly
or through an Imported Model builder, the builder creates, in your WebApp,
a method called <samp class="ph codeph">fire<var class="keyword varname">Xxx</var></samp>, where <var class="keyword varname">Xxx</var> is
the event name. This method has the correct arguments, as defined in the Event
Declaration builder.</p>
<p class="p">To handle an event, create a method with the same arguments as the Event
Declaration and then create an Event Handler builder to tell the system to
route that named event to that method. If your model is instantiated, it listens
for any model (including your own) that fires that event. Events are a good
technique for communication when you know that a certain model (or type of
model) exists, but you do not have a direct link to it.</p>
<p class="p">For widget events, use the Widget Event builder input to specify whether
the widget fires, handles, or both fires and handles the event. Specify how
to handle the event in the same dialog box. </p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_comm_session"><a name="c_comm_session"><!-- --></a><h4 class="title topictitle4">About using the session for inter-model communication</h4>
<div class="body conbody"><p class="shortdesc">You can store session data in a simple map, so two different models
can share the same object just by using the same key.</p>
<p class="p">Models can store data in the session by using the getWebAppData method
on the WebAppAccess object. The data is stored in a simple map, so two different
models can share the same object just by using the same key.</p>
<div class="note note"><span class="notetitle">Note:</span> The default behavior of <span class="ph">IBM WebSphere Portlet Factory</span> is
to store this data directly in the J2EE session object, and most J2EE platforms
recommend keeping this storage to a minimum. However, the actual storage for
this data is through a pluggable interface, so you could, for example, actually
store the data in a persistent Java Bean. Applications that work using
one technique automatically work with the other.</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_comm_linked_model"><a name="c_comm_linked_model"><!-- --></a><h4 class="title topictitle4">About using linked models for inter-model communication</h4>
<div class="body conbody"><p class="shortdesc">Use the methods in the linked model to send data from the primary
model to the linked model or to retrieve data from the linked model.</p>
<p class="p">When one model refers to another model by using a Linked Model builder,
the first model can access the public methods of the linked-to model in the
same way that it accesses its own methods.</p>
<div class="note note"><span class="notetitle">Note:</span> Other builders also create a linked model in the WebApp, for example,
the Model Container builder. These other builders have the same effect.</div>
<p class="p">The primary model invokes, either in an Action List or in a Method, the
public method by specifying it as <samp class="ph codeph">&lt;<var class="keyword varname">Linked Model Name</var>&gt;.&lt;<var class="keyword varname">Public
Method Name</var>&gt;</samp>.</p>
<p class="p">You can use the methods in the linked model to send data from the primary
model to the linked model or to retrieve data from the linked model.</p>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_accessibility"><a name="c_accessibility"><!-- --></a><h2 class="title topictitle2">Accessibility in <span class="ph">IBM WebSphere Portlet Factory</span></h2>
<div class="body conbody"><p class="shortdesc">IBM strives to provide products with usable access for
everyone,  regardless of age or ability.</p>
<p class="p">This product uses standard Microsoft Windows navigation keys. </p>
<p class="p">For more information about IBM and accessibility, see the <a class="xref" href="http://www.ibm.com/able" target="_blank">IBM
Accessibility Center</a>.</p>
<div class="section"><h3 class="title sectiontitle">Accessibility of generated Web applications</h3><div class="p">To
have an accessible Web application, the beginning of each page must
include a document type declaration (DTD) that refers to a published
DTD. <span class="ph"> WebSphere Portlet
Factory</span> Designer
does not add DTDs to pages because it is unknown to which DTD (if
any) your application adheres. To obtain an accessible Web application
that is generated by <span class="ph"> WebSphere Portlet
Factory</span> Designer,
add a DTD in the following format to the application page. <pre class="pre codeblock">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</pre>
The
DTD should refer to the document type declaration that is supported. </div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_accessibility_wpfd"><a name="c_accessibility_wpfd"><!-- --></a><h3 class="title topictitle3">Accessibility features for <span class="ph">IBM WebSphere Portlet Factory</span> Designer</h3>
<div class="body conbody"><p class="shortdesc">Accessibility features help users who have a physical disability,
such as restricted mobility or limited vision, to use information
technology products successfully. </p>
<div class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer supports
the following accessibility features. <ul class="ul"><li class="li">Keyboard-only operation</li>
<li class="li">Interfaces that are commonly used by screen readers</li>
</ul>
</div>
<div class="section"><h4 class="title sectiontitle">High contrast settings</h4><p class="p">Use the High Contrast
mode setting if you want Windows to use color and fonts that are designed
for easy reading. Eclipse was tested for High Contrast using 1152
x 864 resolution in Microsoft Windows XP High Contrast mode. You can
use the tested resolution or higher for High Contrast mode. </p>
<p class="p">To
use the High Contrast mode, open the Windows Control Panel,  double-click <span class="ph uicontrol">Accessibility
Options</span> to open the Accessibility Options dialog box,
click the <span class="ph uicontrol">Display</span> tab, and then select <span class="ph uicontrol">Use
High Contrast</span>.</p>
<div class="p">In high contrast mode, you can encounter
a problem using keys to navigate in a multiple-line edit field, for
example, in the <span class="ph uicontrol">Method Body</span> input of the Method
builder. If you navigate to the <span class="ph uicontrol">Method Body</span> input,
you can use the arrows to move around to read all the text. However,
the horizontal and vertical scroll bars do not move with the keyboard
commands so that all the text is visible. You have the following options. <ul class="ul"><li class="li">Press the <samp class="ph codeph">Alt</samp>+<samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">UpArrow</samp> and <samp class="ph codeph">Alt</samp>+<samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">DownArrow</samp> keys
to move the inner scroll bars of the multiple line edit field. </li>
<li class="li">Avoid this issue by doing one of the following actions. 
<ul class="ul"><li class="li">Press <samp class="ph codeph">Alt</samp>+<samp class="ph codeph">-</samp> to resize the editor
area. </li>
<li class="li">Display the builder editor in a separate window and press <samp class="ph codeph">Alt</samp>+<samp class="ph codeph">Space</samp> to
resize the window to expose all the text. </li>
</ul>
</li>
</ul>
</div>

</div>
<div class="section"><h4 class="title sectiontitle">Key assist</h4><p class="p">Eclipse provides a set of key
bindings that can be used within the Eclipse workbench. Eclipse defines
key bindings as the association of key combinations and commands that
invoke the commands. To view a list of  available Eclipse key bindings
that can be used while working in <span class="ph"> WebSphere Portlet
Factory</span> Designer, click <span class="ph menucascade"><span class="ph uicontrol">Help</span> &gt; <span class="ph uicontrol">Key Assist</span></span> or type <samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">Shift</samp>+<samp class="ph codeph">L</samp>.
For more details about  Eclipse key bindings, see the <em class="ph i">Workbench
User Guide</em> in Help.</p>
</div>
<div class="section"><h4 class="title sectiontitle">Keyboard navigation</h4><p class="p">This product uses standard
Windows navigation keys. For information on accessibility features
and keyboard navigation in Eclipse, see the <em class="ph i">Workbench User Guide</em> in
Help.</p>
</div>
<div class="section"><h4 class="title sectiontitle">Menus</h4><div class="p">You can use keyboard navigation to
access the main menus, as shown in <a class="xref" href="designer-html-wrapper.htm#c_accessibility_wpfd__kbactions">Table 2</a>.<div class="tablenoborder"><a name="c_accessibility_wpfd__kbactions"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="c_accessibility_wpfd__kbactions" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 2. Menu access keyboard combinations and related actions</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e8800">Keyboard combination</th>
<th class="entry" valign="bottom" id="d52e8802">Action</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e8800 ">F10</td>
<td class="entry" valign="top" headers="d52e8802 ">Access menus in menu bar </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8800 ">Right Arrow</td>
<td class="entry" valign="top" headers="d52e8802 ">Navigate to the right in menu bar</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8800 ">Left Arrow</td>
<td class="entry" valign="top" headers="d52e8802 ">Navigate to the left in menu bar </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8800 ">Down Arrow</td>
<td class="entry" valign="top" headers="d52e8802 ">Navigate down menu options in selected menu </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8800 ">Up Arrow</td>
<td class="entry" valign="top" headers="d52e8802 ">Navigate up menu options in selected menu </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8800 ">Shift+F10</td>
<td class="entry" valign="top" headers="d52e8802 ">Open context menu for current view </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8800 ">Ctrl+F10</td>
<td class="entry" valign="top" headers="d52e8802 ">Open drop-down menu for current view </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8800 ">Alt+mnemonic</td>
<td class="entry" valign="top" headers="d52e8802 ">Open mnemonic's corresponding menu and menu
option in menu bar</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section"><h4 class="title sectiontitle">Views and editors</h4><p class="p">You can use keyboard navigation
to navigate between all views and editors.  When you navigate between
views and editors, <span class="ph"> WebSphere Portlet
Factory</span> Designer
remembers the last item that was selected, so you can quickly navigate
between two items if necessary. For example, if you have focus in
the Project Explorer and have a builder call editor open, press <samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">F7</samp> to
activate the view menu and select <span class="ph uicontrol">Editor</span> from
the view menu. After the builder call editor has focus, use <samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">F7</samp> to
toggle back and forth between the Project Explorer and the builder
call editor. </p>
<div class="p"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 3. View and editor navigation keyboard
combinations</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e8881">Keyboard combination</th>
<th class="entry" valign="bottom" id="d52e8883">Action</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Ctrl+F6</td>
<td class="entry" valign="top" headers="d52e8883 ">Activate editor menu and navigate between open
editors </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Ctrl+F7</td>
<td class="entry" valign="top" headers="d52e8883 ">Activate view menu and navigate between open
views </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Ctrl+E</td>
<td class="entry" valign="top" headers="d52e8883 ">Activate editor drop-down menu from editor to
navigate between open  editors </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Ctrl+Page Up, Ctrl+Page Down</td>
<td class="entry" valign="top" headers="d52e8883 ">Navigate between open tabs within the model
editor area of the perspective. <p class="p">Tabs can be in the bar above the
Application Tree panel or in the bar below the builder call editor.
The keys work in the bar for the panel that has focus. </p>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Alt+(-)</td>
<td class="entry" valign="top" headers="d52e8883 ">Activate view menu to move view tabs, resize
views, access fast  views, detach views, minimize, and maximize </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Alt+Page Up, Alt+Page Down</td>
<td class="entry" valign="top" headers="d52e8883 ">Move the builder call editor vertical scroll
bars up and down. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Ctrl+Alt+Tab</td>
<td class="entry" valign="top" headers="d52e8883 ">Move out of a table on the left to the corresponding
fields on the right. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Shift+Alt+Page Up, Shift+Alt+Page Down</td>
<td class="entry" valign="top" headers="d52e8883 ">Move the builder call editor horizontal scroll
bars left and right. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Down Arrow</td>
<td class="entry" valign="top" headers="d52e8883 ">Navigate down menu options </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Up Arrow</td>
<td class="entry" valign="top" headers="d52e8883 ">Navigate up menu options </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Right Arrow</td>
<td class="entry" valign="top" headers="d52e8883 ">Navigate to submenu options </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8881 ">Left Arrow</td>
<td class="entry" valign="top" headers="d52e8883 ">Navigate to menu options from submenu</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section"><h4 class="title sectiontitle">Builder call editor legibility</h4><p class="p">If you find
the builder call editor difficult to read, you can try using larger
fonts or lower screen resolution. If these actions do not increase
legibility enough, you can run the builder call editor in its own
window. </p>
</div>
<div class="section"><h4 class="title sectiontitle">Builder call editor data entry</h4><p class="p">You can use
keyboard navigation to select focus within a table. However, navigating
and editing within a table in the builder call editor differs from
editing normal table data. Within the builder call editor, selecting
a certain option in a table cell can make new inputs available outside
the table. The normal use case is to leave the cell that has focus
and place focus in the first new input. To change focus from a cell
in a table to the first new input, the builder call editor supports
the <samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">Tab</samp> combination. This relieves
the requirement to press <samp class="ph codeph">Tab</samp> multiple times to navigate
to the end of the table and press <samp class="ph codeph">Down Arrow</samp> in the
last row to exit the table and navigate to the new input. The combination
changes focus to the first input related to the option selected in
the cell that currently has focus. </p>
<div class="p"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 4. Builder call
editor table navigation keyboard combinations</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e8980">Keyboard combination</th>
<th class="entry" valign="bottom" id="d52e8982">Action</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Right Arrow</td>
<td class="entry" valign="top" headers="d52e8982 ">Move to beginning of next cell if current focus
is at the end of cell </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Left Arrow</td>
<td class="entry" valign="top" headers="d52e8982 ">Move to end of previous cell if current focus
is at the beginning of  the cell </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Up Arrow</td>
<td class="entry" valign="top" headers="d52e8982 ">Move to cell above if current focus is on the
first line of the cell </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Up Arrow</td>
<td class="entry" valign="top" headers="d52e8982 ">Exit table if current focus is in the first
row of the table </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Down Arrow</td>
<td class="entry" valign="top" headers="d52e8982 ">Move to cell below if current focus is on the
last line of the cell </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Down Arrow</td>
<td class="entry" valign="top" headers="d52e8982 ">Exit table if current focus is in the last row
of the table </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Tab</td>
<td class="entry" valign="top" headers="d52e8982 ">Move to next cell </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Tab</td>
<td class="entry" valign="top" headers="d52e8982 ">Append new row to table and move to that cell
if focus is in last cell  of the table </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Ctrl+Tab</td>
<td class="entry" valign="top" headers="d52e8982 ">Move out of the table</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e8980 ">Shift+Tab</td>
<td class="entry" valign="top" headers="d52e8982 ">Move to previous cell (if focus is in first
cell, no navigation)</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_navkb_infocenter"><a name="t_navkb_infocenter"><!-- --></a><h3 class="title topictitle3">Navigating the information center by keyboard commands</h3>
<div class="body taskbody"><p class="shortdesc">You can use key combinations to navigate the help system by keyboard
commands. </p>
<div class="section prereq">   </div>
<ul class="ul steps-unordered"><li class="li step"><span class="ph cmd">To go to the next link, button, or topic node from inside a pane
in the help browser, press <samp class="ph codeph">Tab</samp>.  </span></li>
<li class="li step"><span class="ph cmd">To expand and collapse a node in the tree, press the <samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">Right</samp> and <samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">Left</samp> arrows.</span></li>
<li class="li step"><span class="ph cmd">To move to the next topic node, press the <samp class="ph codeph">Down</samp> arrow
or <samp class="ph codeph">Tab</samp>.</span></li>
<li class="li step"><span class="ph cmd">To move to the previous topic node, press the <samp class="ph codeph">Up</samp> arrow
or <samp class="ph codeph">Shift</samp>+<samp class="ph codeph">Tab</samp>.  </span></li>
<li class="li step"><span class="ph cmd">To scroll all the way up or down, press <samp class="ph codeph">Home</samp> or <samp class="ph codeph">End</samp>.
 </span></li>
<li class="li step"><span class="ph cmd"> To go back, press <samp class="ph codeph">Alt</samp>+<samp class="ph codeph">Left</samp> arrow;
to go forward, press <samp class="ph codeph">Alt</samp>+<samp class="ph codeph">Right</samp> arrow. </span></li>
<li class="li step"><span class="ph cmd">To go to the next pane, press <samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">Tab</samp>. </span></li>
<li class="li step"><span class="ph cmd"> To move to previous pane, press <samp class="ph codeph">Shift</samp>+<samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">Tab</samp>. </span></li>
<li class="li step"><span class="ph cmd">To print the active pane, press <samp class="ph codeph">Ctrl</samp>+<samp class="ph codeph">P</samp>. </span></li>
</ul>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="contactingibmsupport"><a name="contactingibmsupport"><!-- --></a><h2 class="title topictitle2">Contacting IBM Support</h2>
<div class="body taskbody"><p class="shortdesc">IBM Support provides assistance with <span class="ph">IBM WebSphere Portlet Factory</span> product defects.</p>
<div class="section prereq"><p class="p">To contact IBM Support, your company must have
an active IBM software maintenance contract, and you must
be authorized to submit problems to IBM. For
information about the types of maintenance contracts available, see <span class="q">"Support
Portfolio"</span> in the <span class="ph" id="contactingibmsupport__sshndbk_ph"><a name="contactingibmsupport__sshndbk_ph"><!-- --></a><cite class="cite">Software Support Handbook</cite></span> at
the following location. </p>
<a class="xref" href="http://techsupport.services.ibm.com/guides/services.html" target="_blank">http://techsupport.services.ibm.com/guides/services.html</a> </div>
<div class="section context">Complete the following steps to contact IBM Support
with a problem. </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Define the problem, gather background information, and
determine the severity of the problem. </span> <p class="p">For help, see <span class="q">"Getting IBM Support"</span> in
the <span class="ph"><cite class="cite">Software Support Handbook</cite></span>. </p>
<p class="p">To
access the product wiki and forums, in Eclipse, while running in the <span class="ph"> WebSphere Portlet
Factory</span> perspective, click <span class="ph menucascade"><span class="ph uicontrol">Help</span> &gt; <span class="ph uicontrol">Access IBM WebSphere
Portlet Factory Resources</span></span> and click
the appropriate selection. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Gather diagnostic information.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Visit the <a class="xref" href="http://www.ibm.com/software/genservers/portletfactory/support" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> support
site</a>. </span> <div class="p">There you can find multiple resources
to assist you.<ul class="ul"><li class="li">List of the latest troubleshooting information</li>
<li class="li">Links to forums and communities</li>
<li class="li">Search tool for support information</li>
</ul>
</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">If you cannot resolve your problem, submit your problem
to IBM Support in one of the following ways. </span><ul class="ul choices"><li class="li choice">Use IBM Support Assistant (ISA). </li>
<li class="li choice">On the support site, click <span class="ph menucascade"><span class="ph uicontrol">Support</span> &gt; <span class="ph uicontrol">SR</span></span> to use the Electronic IBM Service
Request tool . <p class="p"></p>
</li>
<li class="li choice">Call a support representative. <p class="p">For the phone number to
call in your country, go to <span class="ph uicontrol">Contacts</span> in the <span class="ph"><cite class="cite">Software Support Handbook</cite></span>. </p>
</li>
</ul>
</li>
</ol>
<div class="section postreq">If the problem that you submit is for a software defect or
for missing or inaccurate documentation, IBM Support
creates an Authorized Program Analysis Report (APAR). The APAR describes
the problem in detail. Whenever possible, IBM Software
IBM Support provides a workaround that you can implement until the
APAR is resolved and a fix is delivered. IBM publishes
resolved APARs on the IBM Support web site daily, so that other users
who experience the same problem can benefit from the same resolution.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_srch_infocenter"><a name="t_srch_infocenter"><!-- --></a><h2 class="title topictitle2">Improving the information center search</h2>
<div class="body taskbody"><p class="shortdesc">You may have to perform a task to improve the quality of the searches
in the information center. </p>
<div class="section prereq">If you install or upgrade <span class="ph">IBM WebSphere Portlet Factory</span> to
an existing Eclipse, you might need to remove the cached search index so that
searching the help can access the new content.</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Shut down Eclipse.  </span></li>
<li class="li step stepexpand"><span class="ph cmd">Go to your Eclipse location, and find the following folder.  </span> <pre class="pre codeblock"><span class="ph filepath">/configuration/org.eclipse.help.base</span></pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Delete the contents of that folder. </span></li>
</ol>
<div class="section postreq">The next time you launch a search in the help, a new search index
is built. </div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_strt_pfdesigner"><a name="t_strt_pfdesigner"><!-- --></a><h2 class="title topictitle2">Starting <span class="ph">IBM WebSphere Portlet Factory</span> Designer</h2>
<div class="body taskbody"><p class="shortdesc">The procedure to start <span class="ph"> WebSphere Portlet
Factory</span> Designer differ between
Windows and Linux systems. </p>
<ul class="ul steps-unordered"><li class="li step stepexpand"><span class="ph cmd">If you are on a Windows system, follow these steps. </span><ol class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">If you are on the Microsoft® Vista
system, run with Administrator account rights. </span> <p class="p">The
user running <span class="ph"> WebSphere Portlet
Factory</span> Designer
must have Administrator rights.</p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Start</span> &gt; <span class="ph uicontrol">Programs</span> &gt; <span class="ph uicontrol">IBM WebSphere </span> &gt; <span class="ph uicontrol">Portlet Factory</span> &gt; <span class="ph uicontrol">Designer</span></span>.</span> <p class="p">This automatically starts your
Eclipse IDE with the <span class="ph"> WebSphere Portlet
Factory</span> Designer
plugin loaded.</p>
<p class="p">If you install the <span class="ph"> WebSphere Portlet
Factory</span> Designer plugin into
an existing Eclipse-based environment, when you start your IDE after
installing <span class="ph"> WebSphere Portlet
Factory</span> Designer,
a Software Updates dialog displays. </p>
</li>
<li class="li substep substepexpand">Optional: <span class="ph cmd">If the Software Updates dialog
appears, do one of the following: </span> <ul class="ul"><li class="li">To perform a software update, select <span class="ph uicontrol">Yes</span> and
the top-level checkbox that gets displayed.<p class="p">This adds <span class="ph"> WebSphere Portlet
Factory</span> Designer Welcome page
to the environment. </p>
</li>
<li class="li">Select <span class="ph uicontrol">No</span> to prevent the <span class="ph"> WebSphere Portlet
Factory</span> Designer Welcome page
from appearing in the list of available Welcome pages.</li>
</ul>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">If you are on a Linux system, follow these steps. </span><ol class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Change directory to the location in which you installed <span class="ph"> WebSphere Portlet
Factory</span> Designer. </span></li>
<li class="li substep substepexpand"><span class="ph cmd">From the eclipse directory under that location, run
the <span class="ph filepath">eclipse.exe</span> executable file. </span> <p class="p">This
command starts your Eclipse IDE with the <span class="ph"> WebSphere Portlet
Factory</span> Designer plugin loaded.</p>
</li>
</ol>
</li>
</ul>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested0" xml:lang="en-us" id="c_installing"><a name="c_installing"><!-- --></a><h1 class="title topictitle1">Installing <span class="ph">IBM WebSphere Portlet Factory</span> </h1>
<div class="body conbody"><p class="shortdesc">Installing the product involves running a program and answering
a few questions. </p>
<p class="p">When the installation completes, you can set up various extensions
that you can use in developing your web applications. </p>
</div>
<div class="related-links"></div><div class="topic task nested1" xml:lang="en-us" id="websphereportletfactoryproductinstallationguide"><a name="websphereportletfactoryproductinstallationguide"><!-- --></a><h2 class="title topictitle2"> WebSphere Portlet Factory Product Installation Guide</h2>
<div class="body taskbody"><p class="shortdesc">Use this guide to install  <span class="ph">IBM WebSphere Portlet Factory</span> Version 7.0. </p>
<div class="section context"><p class="p">This guide applies to <span class="ph"> WebSphere Portlet
Factory</span>, but the installation
may involve installing other products. </p>
<ul class="sl simple"><li class="sli"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="wpf_install_over"><a name="wpf_install_over"><!-- --></a><h3 class="title topictitle3">1. Installation overview</h3>
<div class="body taskbody"><div class="section context"><p class="p">This guide applies to <span class="ph"> WebSphere Portlet
Factory</span>, but the installation
may involve installing other products. </p>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="installationsteps"><a name="installationsteps"><!-- --></a><h4 class="title topictitle4">1.1 Installation steps</h4>
<div class="body taskbody"><div class="section context">Installation involves the following steps:<dl class="dl"><dt class="dt dlterm">Step 1 - Install <span class="ph"> WebSphere Portlet
Factory</span> Designer</dt>
<dd class="dd">Run the installation program to install <span class="ph"> WebSphere Portlet
Factory</span> Designer.</dd>
<dt class="dt dlterm">Step 2 - Create and deploy a Web application project</dt>
<dd class="dd">Use the tutorial provided to create a Web application project
that you deploy to your application server or portal server.</dd>
</dl>
</div>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="preinstall"><a name="preinstall"><!-- --></a><h4 class="title topictitle4">1.2 Pre-installation information</h4>
<div class="body taskbody"><div class="section context"><p class="p">The default Installation selection will include a supported
version of Eclipse. Alternatively, <span class="ph"> WebSphere Portlet
Factory</span> can be installed into
a supported version of one of the following IDE's:</p>
<ul class="sl simple"><li class="sli"><span class="ph">IBM Rational Application
Developer</span></li>
<li class="sli">IBM Rational Software Architect</li>
<li class="sli">IBM Rational Web Developer</li>
<li class="sli">Eclipse (Eclipse SDK versions only) </li>
</ul>
<p class="p">Prior to installation, you must install <span class="ph">IBM WebSphere Portal</span> or one of the supported
application servers. Refer to the supported platforms section in the
product release notes topic for application server versions and patch
levels. </p>
<div class="note note"><span class="notetitle">Note:</span> To install <span class="ph"> WebSphere Portlet
Factory</span> into a Rational IDE
on a system using a language other than English, you must first edit
the file <span class="ph filepath">installer.properties</span> and modify the
path specified on the line which starts with <samp class="ph codeph">PRODUCTREG_PATH=</samp> to
accurately specify the path on your system. </div>
</div>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="existinginstallations"><a name="existinginstallations"><!-- --></a><h4 class="title topictitle4">1.3 Existing installations of <span class="ph"> WebSphere Portlet
Factory</span></h4>
<div class="body taskbody"><div class="section context"><p class="p">If you have an existing installation of <span class="ph"> WebSphere Portlet
Factory</span> do not install the
new version over the old one in the same directory.</p>
<p class="p"> If you
want to use the same directory for the new installation, follow these
steps:  </p>
<ol class="ol"><li class="li">Consider a backup of your existing installation. </li>
<li class="li">Back up any private files, such as SAP libraries. </li>
<li class="li">Remove the old version using the process detailed in Section 4. </li>
<li class="li">Install the new version using the process detailed in Section
2. </li>
<li class="li">Move any backed up private files into the correct directory in
the new installation.</li>
</ol>
</div>
</div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="wpf_install_install"><a name="wpf_install_install"><!-- --></a><h3 class="title topictitle3">2. Installing <span class="ph"> WebSphere Portlet
Factory</span></h3>
<div class="body taskbody"><div class="section context"><div class="p">First, follow the steps described in one of the following
sections to install <span class="ph"> WebSphere Portlet
Factory</span> on
the desired platform.<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
<li class="li">Installing on Linux platforms<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
</ul>
</li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a></li>
</ul>
</div>
<p class="p">Then, you can follow the steps described in <a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a> to begin exploring the product.</p>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="step1-install"><a name="step1-install"><!-- --></a><h4 class="title topictitle4">Step 1 - Installing <span class="ph"> WebSphere Portlet
Factory</span> on
Windows</h4>
<div class="body taskbody"><div class="section context"></div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">If you are on the Microsoft Vista
system, run with Administrator account rights. </span> <p class="p">To run <span class="ph"> WebSphere Portlet
Factory</span> Designer on the Microsoft Vista system, you must install <span class="ph"> WebSphere Portlet
Factory</span> to run with Administrator
account rights and the user running the application must have Administrator
rights. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Launch the installation executable (<span class="ph filepath">Factory.exe</span>).</span></li>
<li class="li step stepexpand"><span class="ph cmd">When prompted, select your preferred language for using
the product, then click  <span class="ph uicontrol">OK</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">An introduction page displays with copyright and other
information.  To proceed with installation, then click  <span class="ph uicontrol">Next</span></span></li>
<li class="li step stepexpand"><span class="ph cmd">Read the license agreement and select <span class="ph uicontrol">I accept
the terms of the License Agreement</span> to proceed with installation,
then click  <span class="ph uicontrol">Next</span>. </span> <div class="note note"><span class="notetitle">Note:</span> If you
do not accept the license terms, you will be prompted to quit the
installation.</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">You can choose one of the following options: </span><ul class="ul choices"><li class="li choice"><span class="ph uicontrol">Standard installation provides everything needed
to get started quickly</span><p class="p">Select this option to include
Eclipse and <span class="ph">IBM WebSphere Application
Server</span> Community
Edition with your <span class="ph"> WebSphere Portlet
Factory</span> installation.
If this option is selected, the installation program installs Eclipse, <span class="ph"> WebSphere Portlet
Factory</span> Designer, and <span class="ph">WebSphere Application
Server</span> Community Edition
(WAS CE) . If you choose this option, skip to step 9.</p>
</li>
<li class="li choice"><span class="ph uicontrol">Custom installation enables you to choose features
and installation options</span><p class="p">Select this option if you need
to specify in detail your software options and their installation
location.</p>
<p class="p">In the <span class="ph uicontrol">Select installation directory</span> field,
specify the location to install <span class="ph"> WebSphere Portlet
Factory</span>  files and click Next.</p>
</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the Specify install items screen, select an integrated
development environment (IDE) to use with <span class="ph"> WebSphere Portlet
Factory</span> Designer. </span> You
can choose one of the following options: <ul class="ul choices"><li class="li choice"><span class="ph uicontrol">Install Designer with a new copy of Eclipse</span><div class="p">Select
this option if you do not have an IDE. If this option is selected,
the installation program installs Eclipse and <span class="ph"> WebSphere Portlet
Factory</span> Designer.<div class="note note"><span class="notetitle">Note:</span> If
you select this option and select a directory that contains an existing
installation of Eclipse, a warning message displays. Choose a different
directory to continue the installation. </div>
</div>
</li>
<li class="li choice"><span class="ph uicontrol">Install into existing IBM Rational Application
Developer*</span><p class="p">Select this option if you want to use a Rational
Development Environment you have already installed. This includes
Rational Application Developer, Rational Software Architect, and Rational
Web Developer. The installation program adds to the current version
of your Rational Development Environment menu items specific to <span class="ph"> WebSphere Portlet
Factory</span>.</p>
</li>
<li class="li choice"><span class="ph uicontrol">Install into existing Eclipse</span><p class="p">Select
this option to use a version of the Eclipse-based IDE that is already
installed. The installation program adds to the current version of
your Eclipse IDE menu items specific to <span class="ph"> WebSphere Portlet
Factory</span> Designer. </p>
</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the  Specify IDE screen, specify the IDE location and
click  <span class="ph uicontrol">Next</span>. If you need to browse for the
location, click  <span class="ph uicontrol">Choose</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">The option to install <span class="ph">IBM WebSphere Application
Server</span> Community Edition
(WAS CE) displays (Windows only). <span class="ph">WebSphere Application
Server</span> CE is an open
source Java 2 Platform, Enterprise Edition (J2EE) application server
based on Apache Geronimo. You can use <span class="ph">WebSphere Application
Server</span> CE to enable quick
and easy development and testing of applications. Click <span class="ph uicontrol">Install
WAS CE as a development test server</span> and choose the install
location if you want to install <span class="ph">WebSphere Application
Server</span> CE.</span> <div class="note note"><span class="notetitle">Note:</span> <span class="ph"><span class="ph">WebSphere Application
Server</span> Community
Edition is supplied to enable quick and easy development and testing
of applications solely for the purpose of getting started with <span class="ph"> WebSphere Portlet
Factory</span> Designer.  It is a
best practice to utilize a local development environment that matches
the target production deployment platform. (For example, you should
utilize <span class="ph"><span class="ph">IBM WebSphere Portal</span></span> as
your local development environment if applications are to be ultimately
deployed to <span class="ph"><span class="ph">IBM WebSphere Portal</span></span> 
in production). </span></div>
By
default, <span class="ph">WebSphere Application
Server</span> CE
is installed with a shortcut of <span class="ph menucascade"><span class="ph uicontrol">Programs</span> &gt; <span class="ph uicontrol">IBM WebSphere </span> &gt; <span class="ph uicontrol">Application Server
Community Edition</span></span>. The default username
and password is: <samp class="ph codeph">system</samp> and <samp class="ph codeph">manager</samp> </li>
<li class="li step stepexpand"><span class="ph cmd">Review the  Pre-Installation Summary screen, and, if all
information is correct, click  <span class="ph uicontrol">Install</span>. An
Install progress screen is displayed and, once installation is complete,
the Install Complete screen is displayed.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Done</span> to close the Factory
installer. </span> <p class="p">A browser opens and displays a Welcome page
containing information about Next Steps. Upon successful installation,
an install log is created in the install location (for example, <span class="ph filepath">C:\Program
Files\IBM\WebSphere Portlet Factory</span>).</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">If you install into an existing Eclipse-based <span class="ph"> WebSphere Portlet
Factory</span> Designer installation,
you must upgrade <span class="ph"> WebSphere Portlet
Factory</span> Designer
plug-ins if you are installing over a previous version of <span class="ph"> WebSphere Portlet
Factory</span>. For information about
the steps required to upgrade plug-ins, see Appendix A.</span></li>
</ol>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="installingonlinux"><a name="installingonlinux"><!-- --></a><h4 class="title topictitle4">Step 1 - Installing <span class="ph"> WebSphere Portlet
Factory</span> on
Linux</h4>
<div class="body taskbody"><div class="section prereq"><p class="p">Before you install <span class="ph"> WebSphere Portlet
Factory</span>, you should install:</p>
<ul class="ul"><li class="li">An application server such as Tomcat, WAS CE or <span class="ph">IBM WebSphere Portal</span>.</li>
<li class="li">Eclipse with Web Tools or Rational Application Developer. Check
the  <span class="ph"> WebSphere Portlet
Factory</span> release notes
for the supported Eclipse release.</li>
</ul>
</div>
<div class="section context"><p class="p">To install <span class="ph"> WebSphere Portlet
Factory</span> into
an existing <span class="ph">Rational Application Developer</span> or Rational
Software Architect installation on Linux, follow the procedures described
in <a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a>. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand" id="installingonlinux__portalpermiss_step"><a name="installingonlinux__portalpermiss_step"><!-- --></a><span class="ph cmd">If you are deploying to <span class="ph">WebSphere Portal</span>, establish correct
permissions.  Perform the following steps:  </span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Create a group for your user, for example <samp class="ph codeph">wpfDev</samp>.
This group will have write permissions to the WebSphere directories. </span></li>
<li class="li substep substepexpand"><span class="ph cmd">With <span class="ph">WebSphere Application
Server</span> running,
open the administration console, and navigate to:  <span class="ph menucascade"><span class="ph uicontrol">Application servers</span> &gt; <span class="ph uicontrol">WebSphere_Portal</span> &gt; <span class="ph uicontrol">Process Execution</span></span>.  Change the <span class="ph uicontrol">umask</span> value
to 002. Change the <kbd class="ph userinput">'run as group'</kbd>' to <kbd class="ph userinput">wpfDev</kbd>.
 Perform the same step for server1.  </span> <p class="p">This will allow
you to change the file permissions for the portal server. Any file
written by the portal server will now have read / write execute permissions
for the portal user, and the group to which the portal user belongs.</p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Stop the <span class="ph">WebSphere Portal</span> server.</span></li>
<li class="li substep substepexpand"><span class="ph cmd">Make yourself a member of the newly created group (<samp class="ph codeph">wpfDev</samp> in
this example).</span></li>
<li class="li substep substepexpand"><span class="ph cmd">From a command line run the following commands as root:</span> <pre class="pre codeblock">chgrp -R wpfDev &lt;WP_INSTALL_DIR&gt;/AppServer/ 
chgrp -R wpfDev &lt;WP_INSTALL_DIR&gt;/PortalServer/  </pre>
If
the directories are not writable by group, then run the following
commands:<pre class="pre codeblock">chmod -R g+w &lt;WP_INSTALL_DIR&gt;/AppServer/ 
chmod -R g+w &lt;WP_INSTALL_DIR&gt;/PortalServer/</pre>
 <p class="p">This allows write access to the those folders after
the WAR files are deployed.</p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Restart <span class="ph">WebSphere Portal</span> server.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Launch the installer: <samp class="ph codeph">./Factory.bin</samp>. The
installer checks for space and other prerequisites and displays the
first panel.</span></li>
<li class="li step stepexpand"><span class="ph cmd">When prompted, select your preferred language for using
the product then click  <span class="ph uicontrol">OK</span></span></li>
<li class="li step stepexpand"><span class="ph cmd">An introduction page displays with copyright and other
information.  To proceed with installation, then click  <span class="ph uicontrol">Next</span></span></li>
<li class="li step stepexpand"><span class="ph cmd">Read the license agreement and select <span class="ph uicontrol">I accept
the terms of the License Agreement</span> to proceed with installation,
then click  <span class="ph uicontrol">Next</span>. </span> <div class="note note"><span class="notetitle">Note:</span> If you
do not accept the license terms, you will be prompted to quit the
installation.</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the Choose Install Folder screen, specify the location
to install <span class="ph"> WebSphere Portlet
Factory</span> files
and click  <span class="ph uicontrol">Next</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Specify the location where Eclipse with Web Tools is installed
and click  <span class="ph uicontrol">Next</span> If you are using Rational Application
Developer choose the default and click <span class="ph uicontrol">Next</span></span></li>
<li class="li step stepexpand"><span class="ph cmd">Review the  Pre-Installation Summary screen, and, if all
information is correct, click  <span class="ph uicontrol">Install</span>. An
Install progress screen is displayed and, once installation is complete,
the Install Complete screen is displayed.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Done</span> to close the Factory
installer. </span> <p class="p">A browser opens and displays a Welcome page
containing information about Next Steps. Upon successful installation,
an install log is created in the install location (for example, <span class="ph filepath">/root/IBM/</span>).</p>
</li>
</ol>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="installingwpfintoradrsaonlinux"><a name="installingwpfintoradrsaonlinux"><!-- --></a><h4 class="title topictitle4">Installing <span class="ph"> WebSphere Portlet
Factory</span> into <span class="ph">Rational Application Developer</span>/Rational Software Architect
on Linux</h4>
<div class="body taskbody"><div class="section context"> If you are installing <span class="ph"> WebSphere Portlet
Factory</span> into an existing <span class="ph">Rational Application Developer</span>/Rational Software Architect
installation on a Linux system, perform these steps. </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">If you are deploying to <span class="ph">WebSphere Portal</span>, establish correct
permissions.  Perform the following steps:  </span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Create a group for your user, for example <samp class="ph codeph">wpfDev</samp>.
This group will have write permissions to the WebSphere directories. </span></li>
<li class="li substep substepexpand"><span class="ph cmd">With <span class="ph">WebSphere Application
Server</span> running,
open the administration console, and navigate to:  <span class="ph menucascade"><span class="ph uicontrol">Application servers</span> &gt; <span class="ph uicontrol">WebSphere_Portal</span> &gt; <span class="ph uicontrol">Process Execution</span></span>.  Change the <span class="ph uicontrol">umask</span> value
to 002. Change the <kbd class="ph userinput">'run as group'</kbd>' to <kbd class="ph userinput">wpfDev</kbd>.
 Perform the same step for server1.  </span> <p class="p">This will allow
you to change the file permissions for the portal server. Any file
written by the portal server will now have read / write execute permissions
for the portal user, and the group to which the portal user belongs.</p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Stop the <span class="ph">WebSphere Portal</span> server.</span></li>
<li class="li substep substepexpand"><span class="ph cmd">Make yourself a member of the newly created group (<samp class="ph codeph">wpfDev</samp> in
this example).</span></li>
<li class="li substep substepexpand"><span class="ph cmd">From a command line run the following commands as root:</span> <pre class="pre codeblock">chgrp -R wpfDev &lt;WP_INSTALL_DIR&gt;/AppServer/ 
chgrp -R wpfDev &lt;WP_INSTALL_DIR&gt;/PortalServer/  </pre>
If
the directories are not writable by group, then run the following
commands:<pre class="pre codeblock">chmod -R g+w &lt;WP_INSTALL_DIR&gt;/AppServer/ 
chmod -R g+w &lt;WP_INSTALL_DIR&gt;/PortalServer/</pre>
 <p class="p">This allows write access to the those folders after
the WAR files are deployed.</p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Restart <span class="ph">WebSphere Portal</span> server.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Install <span class="ph"> WebSphere Portlet
Factory</span> with
the user account of the <span class="ph"> WebSphere Portlet
Factory</span> user. </span> <p class="p">The Eclipse installation location should be a directory that
the user account has write access to. You may need to choose a location
other than the <span class="ph">Rational Application Developer</span> installation
location. There does not need to be an existing Eclipse in this location. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">If you chose to install Eclipse into the <span class="ph">Rational Application Developer</span> install location in
the previous step, skip this step. </span> <p class="p">Do one of the following
steps. </p>
<ul class="ul choices"><li class="li choice">Using an account with write privileges to the <span class="ph">Rational Application Developer</span> install location, copy
the <span class="ph filepath">links</span> directory created by the installer
to the correct directory in the <span class="ph">Rational Application Developer</span> install location. <p class="p">The
links folder should be located just within the <span class="ph">Rational Application Developer</span> installation directory. </p>
</li>
<li class="li choice">You can also copy the <span class="ph"> WebSphere Portlet
Factory</span> link file directly
to a previously created links directory within <span class="ph">Rational Application Developer</span>. </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Start <span class="ph">Rational Application Developer</span> with
the <samp class="ph codeph">-clean</samp> flag as root (or the <span class="ph">Rational Application Developer</span> owner) and verify <span class="ph"> WebSphere Portlet
Factory</span> is installed. </span> <p class="p">Use <span class="ph menucascade"><span class="ph uicontrol">Help</span> &gt; <span class="ph uicontrol">About</span></span> to verify that the <span class="ph"> WebSphere Portlet
Factory</span> button displays. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Restart <span class="ph">Rational Application Developer</span> with
the <samp class="ph codeph">-clean</samp> flag as the <span class="ph"> WebSphere Portlet
Factory</span> user, if it is not
the user in the previous step, and verify as in the previous step. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Restart <span class="ph">Rational Application Developer</span> normally
as the <span class="ph"> WebSphere Portlet
Factory</span> user. </span> <p class="p">You do not need to use the <samp class="ph codeph">-clean</samp> flag at
this point. </p>
</li>
</ol>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="silentinstall"><a name="silentinstall"><!-- --></a><h4 class="title topictitle4">Installing silently from the command line</h4>
<div class="body taskbody"><div class="section context"><div class="p">You can perform a silent installation of <span class="ph"> WebSphere Portlet
Factory</span> using pre-configured
property files. The file are located:<pre class="pre codeblock">config/win_silent_install.properties
config/linux_silent_install.properties</pre>
Edit the desired
file to match your installation environment. <div class="note note"><span class="notetitle">Note:</span> For silent install
to work correctly, the license agreement property must be set to <kbd class="ph userinput">true</kbd>,
 if they agree with the license agreement. By default, this value
is currently set to false in the sample response files.<pre class="pre codeblock"># License agreement. Please see documentation for more info.
LICENSE_ACCEPTED=false</pre>
</div>
</div>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Indicate the location of the response file. For Windows,
open a command line and enter  <samp class="ph codeph">c:\Factory.exe -f c:\config\win_silent_install.properties</samp>,
for Linux enter: <samp class="ph codeph">sh ./Factory.bin -f /config/linux_silent_install.properties</samp> ,
This path can be absolute or relative to the location of the installer.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Run the installation in silent mode.</span><ul class="ul choices"><li class="li choice">In Windows open a command line and enter:<pre class="pre codeblock">Factory.exe -i Silent -f config\win_silent_install.properties</pre>
</li>
<li class="li choice">In Linux enter:<pre class="pre codeblock">./Factory.bin -i Silent -f config/linux_silent_install.properties</pre>
</li>
</ul>
</li>
</ol>
<div class="section result"><p class="p">The installer installs everything to the target location
without showing the user any output.  You know the installation is
complete when the log file is created in the root of the installer
directory. </p>
</div>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="step2-run"><a name="step2-run"><!-- --></a><h4 class="title topictitle4">Step 2 - Run the tutorial: creating a Web application project</h4>
<div class="body taskbody"><div class="section context"><p class="p">Once you successfully install the <span class="ph"> WebSphere Portlet
Factory</span> Designer, you must
create a new project. In creating a project, you provide application
server-specific and portal server-specific information about your
installation. This process completes the deployment phase of <span class="ph"> WebSphere Portlet
Factory</span> installation.</p>
<p class="p">The <span class="ph"> WebSphere Portlet
Factory</span> Designer provides
a New Project wizard to help you create a project. This multi-page
wizard walks you through the steps involved in project creation and
deployment and also builds the project for you. F1 Help that describes
project settings and parameters is available for each page of the
wizard. Refer to F1 Help to learn about the settings on a given page
and to access links to additional information.</p>
<p class="p">The best way
to create your first project is to run the tutorial that describes
this process. If you are using a Windows client, this tutorial is
available from the Welcome page, or from <span class="ph uicontrol">Start</span>.
Click <span class="ph menucascade"><span class="ph uicontrol">Start</span> &gt; <span class="ph uicontrol">Programs</span> &gt; <span class="ph uicontrol">IBM</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory</span> &gt; <span class="ph uicontrol">Tutorials</span></span>. If you are using a
Linux client, this tutorial is available from the <span class="ph"> WebSphere Portlet
Factory</span>  Help system.</p>
</div>
</div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="wpf_install_notes"><a name="wpf_install_notes"><!-- --></a><h3 class="title topictitle3">3. Installation notes</h3>
<div class="body taskbody"><div class="section context">You may have to set class loading order for <span class="ph">IBM WebSphere Application
Server</span> or provide additional
configuration steps for <span class="ph">IBM WebSphere Portal</span>. </div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="additionalconfigurationsfor"><a name="additionalconfigurationsfor"><!-- --></a><h4 class="title topictitle4">3.1 <span class="ph">WebSphere Portal</span> configuration</h4>
<div class="body taskbody"><div class="section context"><p class="p">The following additional configuration step is required
for <span class="ph">WebSphere Portal</span> 6:</p>
<p class="p"><strong class="ph b">Configure
heap size </strong></p>
<p class="p"> By default, <span class="ph">WebSphere Portal</span> 6 sets 512 MB as
the maximum allowed size for the heap. Raise this maximum to 1 GB. </p>
<p class="p">Use
the WebSphere Administrative console to set the heap size. For more
information about configuring the heap size, see the WebSphere Administrative
Console Help. </p>
</div>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="apachetomcat"><a name="apachetomcat"><!-- --></a><h4 class="title topictitle4">3.2 Apache Tomcat</h4>
<div class="body taskbody"><div class="section context"><p class="p">After you run the <span class="ph"> WebSphere Portlet
Factory</span> Designer New WebApp
Project wizard, restart Tomcat. This ensures that all libraries are
loaded correctly.</p>
</div>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="nativelangsupport"><a name="nativelangsupport"><!-- --></a><h4 class="title topictitle4">3.3 Native language support for Eclipse</h4>
<div class="body taskbody"><div class="section context"><p class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer
supports the following languages: German, Spanish, French, Italian,
Japanese, Korean, Portuguese (Brazil), Traditional Chinese and Simplified
Chinese.</p>
<p class="p">To use <span class="ph"> WebSphere Portlet
Factory</span> Designer
in a language other than English, you must download a language pack
from the Eclipse Web site, and install that pack into your Eclipse
IDE. To enable Group 1 language support:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Halt <span class="ph"> WebSphere Portlet
Factory</span> Designer.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Access the <span class="ph filepath">Eclipse.org</span> Web site home
page and navigate to <span class="ph menucascade"><span class="ph uicontrol">Downloads</span> &gt; <span class="ph uicontrol">All Versions</span> &gt; <span class="ph uicontrol">3.2 Language Packs</span></span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">Language Packs: 3.2.</span>x screen,
download the NL-1 pack zip files for the Windows platform. </span> <p class="p">Two
zip files are required.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Extract these archive files to your Eclipse installation
location and ensure that you use the correct directory level.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Start <span class="ph"> WebSphere Portlet
Factory</span> Designer. </span> If Microsoft Windows is configured to use a non-English
Group 1 language, Eclipse now can run in that language.<div class="note note"><span class="notetitle">Note:</span> Multiple-byte
characters are not supported for project names or the names of folders
in the path.</div>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">You can force Eclipse to run in any
Group 1 language by adding a language identifier to the Eclipse startup
command. </span> <div class="p">For example, if you add the following identifiers
to the startup command, you can run Eclipse in Spanish, regardless
of the language the system is configured to use:<pre class="pre codeblock">-Duser.language=es -Duser.country=ES</pre>
<div class="note note"><span class="notetitle">Note:</span> The
same languages are supported in <span class="ph">IBM Rational Application
Developer</span>. If you want to
install language support into <span class="ph">Application Developer</span>, use the Installation
Manager (or install it when you install <span class="ph">Application Developer</span>). See to the <span class="ph">Application Developer</span> documentation
for instructions on installing language support.</div>
</div>
</li>
</ol>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="doublebytelanguageissuesonlinux"><a name="doublebytelanguageissuesonlinux"><!-- --></a><h4 class="title topictitle4">3.4  Eclipse Double byte language issues on Linux</h4>
<div class="body taskbody"><div class="section context"><div class="p">Linux installations of <span class="ph"> WebSphere Portlet
Factory</span> on double byte languages
may not display correct fonts. Possible solutions include:<ul class="ul"><li class="li">Install all available fonts for the language you are using. </li>
<li class="li">Start the installer with a JRE on your system that is compatible
with your language selection. For example:<pre class="pre codeblock">/Factory.bin LAX_VM $JAVA_HOME/bin/java </pre>
</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> The same languages
are supported in <span class="ph">IBM Rational Application
Developer</span>,
and for users to refer to the <span class="ph">Application Developer</span> documentation
for instructions on installing language support.</div>
</div>
</div>
</div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="wpf_install_remove"><a name="wpf_install_remove"><!-- --></a><h3 class="title topictitle3">4. Removing <span class="ph">IBM WebSphere Portlet Factory</span></h3>
<div class="body taskbody"><div class="section context"><p class="p">Follow the steps in <a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a> or <a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a> (depending on your client
platform) and then <a class="xref" href="designer-html-wrapper.htm#websphereportletfactoryproductinstallationguide" title="Use this guide to install IBM WebSphere Portlet Factory Version 7.0.">WebSphere Portlet Factory Product Installation Guide</a> to remove <span class="ph"> WebSphere Portlet
Factory</span> Designer files and
project WAR files.</p>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="rmv_dsgnr"><a name="rmv_dsgnr"><!-- --></a><h4 class="title topictitle4">4.1 Removing <span class="ph"> WebSphere Portlet
Factory</span> Designer
for Windows</h4>
<div class="body taskbody"><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Use the Windows Control panel to access Add/Remove Programs.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Select the product to uninstall and click <span class="ph uicontrol">Change/Remove</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">When the Uninstall window appears, click <span class="ph uicontrol">Uninstall</span>.</span> <p class="p">Product files, registry entries, and shortcuts are
removed from your system.</p>
<div class="note note"><span class="notetitle">Note:</span> You can uninstall <span class="ph"> WebSphere Portlet
Factory</span> and not uninstall <span class="ph">WebSphere Application
Server</span> Community Edition.
You can then install a new version of <span class="ph"> WebSphere Portlet
Factory</span> and not install <span class="ph">WebSphere Application
Server</span> Community Edition
(because you already have a version). If you run <span class="ph">WebSphere Application
Server</span> Community Edition
either from the <span class="ph uicontrol">Start</span> menu or from <span class="ph"> WebSphere Portlet
Factory</span>,  you get an error
that <span class="ph">WebSphere Application
Server</span> Community
Edition cannot find the <span class="ph filepath">java.exe</span> file.  <div class="p">To
avoid this problem, open the file <span class="ph filepath">\wasceInstallDir\bin\setenv.bat</span> and
edit the following line.<pre class="pre codeblock">set WASCE_JAVA_HOME=</pre>
Set
the value to a JRE on the system. For example, use the one installed
in Eclipse (<span class="ph filepath">C:\Program Files\eclipse\jre</span>).  </div>
</div>
</li>
</ol>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="removingdesignerforlinux"><a name="removingdesignerforlinux"><!-- --></a><h4 class="title topictitle4">4.1.1 Removing<span class="ph"> WebSphere Portlet
Factory</span> Designer
for Linux</h4>
<div class="body taskbody"><div class="section prereq">With a Linux installation, you will need to manually remove
certain files and directories created by the installer.</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Delete the <span class="ph filepath">Designer</span> directory and
the log file in the installation directory.</span></li>
<li class="li step"><span class="ph cmd">Delete the <span class="ph filepath">&lt;original install directory&gt;/license</span> directory
if desired</span></li>
<li class="li step"><span class="ph cmd">Delete the <span class="ph"> WebSphere Portlet
Factory</span> link
file called <span class="ph filepath">com.bowstreet.designer.link</span> which
is located in the <span class="ph filepath">&lt;IDE_INSTALL_DIR&gt;/links</span> directory.
For example, <span class="ph filepath">/opt/IBM/SDP75/links</span></span></li>
</ol>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="rmv_prjwarfls"><a name="rmv_prjwarfls"><!-- --></a><h4 class="title topictitle4">4.2 Removing project WAR files</h4>
<div class="body taskbody"><ol class="ol steps"><li class="li step"><span class="ph cmd">Use your application and portal server administration tools
to remove installable and installed WAR files.</span></li>
<li class="li step"><span class="ph cmd">The administration tool removes only the installed applications,
so it may be necessary to manually delete any remaining application
or portlet related directories and files.</span></li>
</ol>
</div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="wpf_install_upgrade"><a name="wpf_install_upgrade"><!-- --></a><h3 class="title topictitle3">5. Upgrading plug-in files, projects, and portlets</h3>
<div class="body taskbody"><div class="section context"><p class="p">This section discusses the procedures required to upgrade <span class="ph">IBM WebSphere Portlet Factory</span> plug-in files if you
have installed a new version of <span class="ph"> WebSphere Portlet
Factory</span> into an IDE (Eclipse
or IBM Rational) that has a previous version installed.
This section also describes how to update a project built with a previous
version of <span class="ph"> WebSphere Portlet
Factory</span> Designer
to the latest project version. Finally, this section describes how
to upgrade portlets to the Java Portlet
Standard API. </p>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="upgrdprjct"><a name="upgrdprjct"><!-- --></a><h4 class="title topictitle4">5.1 Upgrading a project from versions 5.12, 6.0.0, 6.0.1, 6.0.2,
6.1.0, 6.1.2, and 6.1.5</h4>
<div class="body taskbody"><div class="section prereq"><p class="p">When upgrading 'flat' projects, create a new project and
migrate your content to it using the <span class="ph menucascade"><span class="ph uicontrol">Export</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Archive</span></span> function.
 A flat project is a 5.12 or 6.0 project that does not have a <span class="ph filepath">WebContent</span> directory.
 You will not get the added benefits of facet support if you upgrade
a flat project.</p>
</div>
<div class="section context">You must modify any projects that you created using the old
plug-in files so that these projects can include changes related to
the new plug-in files and feature sets. To upgrade a project, do this:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open an existing project into <span class="ph"> WebSphere Portlet
Factory</span> Designer.</span></li>
<li class="li step"><span class="ph cmd">Right-click the project entry in the Project Explorer and
click <span class="ph menucascade"><span class="ph uicontrol">WebSphere Portlet Factory Project</span> &gt; <span class="ph uicontrol">Upgrade Project Version</span></span>.</span></li>
<li class="li step"><span class="ph cmd">A summary information displays. Click <span class="ph uicontrol">Next</span>.</span></li>
<li class="li step"><span class="ph cmd">Update the deployment information for this project if necessary.
Check the deployment configuration and click <span class="ph uicontrol">Finish</span> in
the upgrade wizard.</span></li>
<li class="li step"><span class="ph cmd">Before the upgrade process completes, you may be prompted
to overwrite any <span class="ph"> WebSphere Portlet
Factory</span> 
files in the project that have changed, including files that were
changed by <span class="ph"> WebSphere Portlet
Factory</span> functionality,
not necessarily files that you have changed manually.  </span></li>
<li class="li step"><span class="ph cmd">You will need to redeploy the project to the servers. Click <span class="ph uicontrol">Yes</span> when
prompted to redeploy.</span></li>
<li class="li step"><span class="ph cmd">Right-click the project in the workspace. </span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Properties</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Properties</span> &gt; <span class="ph uicontrol">Feature Info</span></span>.</span></li>
<li class="li step"><span class="ph cmd">Set <span class="ph uicontrol">Refresh installed Feature Sets</span> and
then click <span class="ph uicontrol">OK</span>. </span></li>
</ol>
<div class="section postreq"><p class="p">If you have added any jar files to <span class="ph filepath">/WEB-INF/work/lib</span> you
will need to manually add them to the build path after a project upgrade.</p>
</div>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="upgrdjsr168"><a name="upgrdjsr168"><!-- --></a><h4 class="title topictitle4">5.1 Upgrading portlets to the  Java Portlet
Standard API</h4>
<div class="body taskbody"><div class="section context"><p class="p">As of <span class="ph">WebSphere Portal</span> 6,
there is support for Java Portlet
Standard API for WebSphere portlets.
While portlets designed for use in previous version of <span class="ph">WebSphere Portal</span> and built using
the deprecated WebSphere Native
portlet API continue to run in <span class="ph">WebSphere Portal</span> 6, it is recommended
that any new portlets be built using the  Java Portlet Standard API.</p>
<div class="p">You can easily
upgrade portlets built using the deprecated WebSphere Native Portlet API to the  Java Portlet Standard API. To do
so, you must modify the project that contains the portlet models. <div class="note note"><span class="notetitle">Note:</span> If
you have already upgraded the project, you can switch to  Java Portlet Standard API by switching the project
to a  Java Portlet Standard
API Portal deploy configuration by uninstalling the old WAR as described
in the following steps and updating the project to use the  Java Portlet Standard API deploy
configuration. Redeploy when prompted</div>
</div>
<p class="p">To upgrade a portlet
built in a previous version of the <span class="ph"> WebSphere Portlet
Factory</span> to use the new  Java Portlet Standard API, perform
the following steps:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Load the project containing the portlet model into the <span class="ph"> WebSphere Portlet
Factory</span> Designer.</span></li>
<li class="li step"><span class="ph cmd">Select the project and click <span class="ph menucascade"><span class="ph uicontrol">WebSphere
Portlet Factory Project</span> &gt; <span class="ph uicontrol">Upgrade project version</span></span>. </span></li>
<li class="li step"><span class="ph cmd">Using the WebSphere Portlet
Administration tool, remove the old portlet WAR file from the <span class="ph">WebSphere Portal</span> server.</span> (If
the project has already been upgraded, switch the project to a  Java Portlet Standard API Portal
deploy configuration, then update the project to use the  Java Portlet Standard API deploy configuration
and redeploy when prompted.)</li>
<li class="li step"><span class="ph cmd">In <span class="ph"> WebSphere Portlet
Factory</span> Designer,
use the <span class="ph uicontrol">Project Deployment Configurations</span> dialog
to deploy the updated portlet WAR file to the <span class="ph">WebSphere Portal</span> server.</span></li>
<li class="li step"><span class="ph cmd">Use the WebSphere Administration
tool to place the updated portlets on <span class="ph">WebSphere Portal</span> pages.</span></li>
</ol>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="t_upgrd_portsrctgt"><a name="t_upgrd_portsrctgt"><!-- --></a><h4 class="title topictitle4">5.2 Regenerating a portlet model</h4>
<div class="body taskbody"><p class="shortdesc">If you have a model that uses the Cooperative Portlet Source
builder or the Cooperative Portlet Target builder and the project
uses the Java Portlet Standard 2.0 API (JSR 286), regenerate the model.</p>
<div class="section context"><p class="p">These steps are required to capture new event metadata
that did not exist in prior releases of <span class="ph"> WebSphere Portlet
Factory</span>. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">For each model in your project that contains the Cooperative
Portlet Source builder or the Cooperative Portlet Target builder,
open the model. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Force a regeneration. </span> <p class="p">For example, click <span class="ph menucascade"><span class="ph uicontrol">Model</span> &gt; <span class="ph uicontrol">Generate Model</span></span> or open any builder and click <span class="ph uicontrol">OK</span>. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Save the model and publish or export the project again. </span></li>
</ol>
<div class="section result"><p class="p">This procedure captures the new event metadata. </p>
</div>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="wpf_install_license"><a name="wpf_install_license"><!-- --></a><h4 class="title topictitle4">6. Enabling IBM Tivoli License Manager tracking</h4>
<div class="body taskbody"><div class="section context"><p class="p">IBM Tivoli License Manager (ITLM) recognizes and monitors
what products and their versions, releases, and fix packs are installed,
and used, on a system. This allows IBM to communicate updates for
products installed in its customer base, and appropriately bill for
the product and the amount of usage. It also prevents billing for
multiple installations of the same product that is bundled with various
IBM software packages.</p>
<p class="p">The usage of applications and portlet
WAR files created with the <span class="ph">IBM WebSphere Portlet Factory</span> can
be monitored and tracked by Tivoli License Manager. To enable this
capability, you must place at the root level of an application or
portlet EAR file certain files that are generated by the <span class="ph"> WebSphere Portlet
Factory</span> and recognizable by
Tivoli License Manager.</p>
<p class="p">To enable Tivoli License Manager usage
tracking, perform the following operation:</p>
</div>
<div class="li step"><span class="ph cmd">Drag the <span class="ph filepath">WEB-INF\bin\itlm\</span> directory
and its contents to the root of the deployed EAR file.</span> <div class="note note"><span class="notetitle">Note:</span> Ensure
that the <span class="ph filepath">WEB-INF\bin\itlm\</span> directory is in one
location only.  You see a dual usage error if multiple copies of this
directory exist in an EAR file.</div>
<div class="note note"><span class="notetitle">Note:</span> Tivoli License Manager
provides only inventory tracking if you do not move the <span class="ph filepath">WEB-INF\bin\itlm\</span> directory
to the root of the EAR file.</div>
</div>
<div class="section postreq">For more information about using Tivoli License Manager,
see your <span class="ph">IBM WebSphere Portal</span> documentation. </div>
</div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="wpf_install_jaws"><a name="wpf_install_jaws"><!-- --></a><h3 class="title topictitle3">7. Using JAWS For <span class="ph">Windows</span> during installation</h3>
<div class="body taskbody"><p class="shortdesc">If you want to install <span class="ph">WebSphere Portlet
Factory</span> and use the
JAWS screen reader for accessibility, you need to perform the following
additional step to correctly start the installation.</p>
<div class="section prereq">You need to have Java Access Bridge for Microsoft Windows
Operating System software installed on your system. Java Access Bridge
for Microsoft Windows Operating System is provided by Sun Microsystems,
Inc,   Copyright (c) 2006 Sun Microsystems, Inc.</div>
<div class="section context">Use the following command to start the <span class="ph">WebSphere Portlet
Factory</span> installation:</div>
<div class="li step"><span class="ph cmd"><samp class="ph codeph">Factory.exe LAX_VM installDir-for-java\java.exe</samp> </span><br /></div>
<div class="section result">Where <samp class="ph codeph">installDir-for-java\</samp> is your local
Java installation directory.</div>
<div class="section postreq">This command forces the installation to use the JVM that
you specified and that works with the Java Access Bridge.</div>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_install_expeditor"><a name="t_install_expeditor"><!-- --></a><h2 class="title topictitle2"><span class="ph">IBM Lotus Expeditor</span> 6.1.1
install and setup</h2>
<div class="body taskbody"><p class="shortdesc">Use the Web Translator feature to enable <span class="ph">IBM Lotus Expeditor</span> (XPD) 6.1.1 to
support dynamic JSPs. </p>
<div class="section context">These instructions are provided as a supplemental convenience
only; they are not a replacement for the <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">IBM Lotus
Notes</span> 8 developer
and administrator documentation.<p class="p">Install <span class="ph">IBM Lotus Expeditor</span> (XPD) 6.1.1 and
enable it to support dynamic JSPs by means of the Web Translator feature. </p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Install <span class="ph">IBM Lotus Expeditor</span> 6.1.1,
choosing the defaults.</span></li>
<li class="li step"><span class="ph cmd">Start the <span class="ph">IBM Lotus Expeditor</span> 6.1.1
client.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Application</span> &gt; <span class="ph uicontrol">Install</span></span>.</span></li>
<li class="li step"><span class="ph cmd">Create a new local update site and point to the <span class="ph filepath">updates\client</span> directory
from the <span class="ph">IBM Lotus Expeditor</span> DRE
product media.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Finish</span>.</span></li>
<li class="li step"><span class="ph cmd">Select the <span class="ph uicontrol">Core JVM Feature - J2SE feature</span> from
the runtimes category of the DRE update site.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Finish</span> and complete the installation
of this feature, restarting when asked to do so.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Finish</span>.</span></li>
<li class="li step"><span class="ph cmd">Select the <span class="ph uicontrol">Web Container - JSP Compiler Bridge</span> and
the <span class="ph uicontrol">Eclipse Java Development Tools</span> features
from the runtimes category of the update site.</span></li>
</ol>
<div class="section result">Your <span class="ph">IBM Lotus Expeditor</span> 6.1.1
should now be able to support dynamic JSPs.</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="c_getstart_int_ext"><a name="c_getstart_int_ext"><!-- --></a><h2 class="title topictitle2">Getting started with integration extensions</h2>
<div class="body conbody"><p class="shortdesc">Several integrations with back end systems are provided in <span class="ph">IBM WebSphere Portlet Factory</span>.</p>
<p class="p">You can add an integration extension to your project as you would add any
other feature set. This lets you use the builders that are provided with the
extension. </p>
<p class="p">However, before you can use an extension, perform the necessary installation,
configuration, and set-up steps described in the related getting started topic. </p>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="lcx_getting_started"><a name="lcx_getting_started"><!-- --></a><h3 class="title topictitle3">Lotus Collaboration
Extension</h3>
<div class="body conbody"><p class="shortdesc">This Getting Started guide describes the Lotus Collaboration Extension.</p>
<div class="section"><h4 class="title sectiontitle">Getting Started Guide</h4><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__installationnotes">1 Installation notes</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__configurationrequirements">2 Configuration requirements</a><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__dominoserverprops">2.1 Domino Server properties file</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__dominoserverconfig">2.2 Domino Server configuration</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__dominosecurity">2.3 Domino security settings</a><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__supportdbbrowsing">2.3.1 Supporting database browsing</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__runningagents">2.3.2 Running agents</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__usingssl">2.3.3 Using SSL</a></li>
</ul>
</li>
</ul>
</li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__gsdominoportlets">3 Getting started with Domino portlets</a><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__forpowerusers">3.1 For power users</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__fordevelopers">3.2 For developers</a></li>
</ul>
</li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__gsdominowidgets">4 Getting started with Domino widgets</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__dominoconnectpool">5 Domino connection pooling</a></li>
</ul>
<p class="p">This package expands the power and flexibility of <span class="ph"> WebSphere Portlet
Factory</span> by providing the powerful Domino View and Form builder
and several other builders for <span class="ph">IBM Lotus Domino</span> components and
services.</p>
<p class="p">This feature set also includes functionality
to support remotely calling and running <span class="ph">Domino</span> agents, and using
additional security schemes, such as LTPA tokens<span class="ph"> or <span class="ph">IBM WebSphere Portal</span> Server credentials</span>.
Both enable single sign-on for portlet users.</p>
<p class="p">The <span class="ph">portlets
and </span>widgets that you create with this package can also incorporate
awareness to take advantage of Lotus collaboration
services such as chat, e-mail, profile discovery and author and document
search. And, using the unique ability of <span class="ph"> WebSphere Portlet
Factory</span> to customize a <span class="ph">portlet and a </span>widget, you can create custom <span class="ph">portlets or </span>widgets that provide your users with
only the views and collaboration features they require.</p>
</div>
<div class="section" id="lcx_getting_started__installationnotes"><a name="lcx_getting_started__installationnotes"><!-- --></a><h4 class="title sectiontitle">1 Installation notes</h4><p class="p">Install
this collaboration package as you would any other feature set.</p>
<div class="note note"><span class="notetitle">Note:</span> Depending
on your application server settings, your server might require a restart
to correctly register all feature set files. To ensure that all files
are correctly recognized by <span class="ph"> WebSphere Portlet
Factory</span> Designer,
exit and restart <span class="ph"> WebSphere Portlet
Factory</span> Designer
after installing this feature set.</div>
</div>
<div class="section" id="lcx_getting_started__configurationrequirements"><a name="lcx_getting_started__configurationrequirements"><!-- --></a><h4 class="title sectiontitle">2 Configuration requirements</h4></div>
<div class="section" id="lcx_getting_started__dominoserverprops"><a name="lcx_getting_started__dominoserverprops"><!-- --></a><h4 class="title sectiontitle">2.1 <span class="ph">Domino</span> Server properties
file</h4><p class="p">For convenience, you can set up a property file to
establish and control <span class="ph">Domino</span> server
settings. When you select this file in a Domino Data Access or Domino View and Form builder, this file is
used to establish connection settings to the <span class="ph">Domino</span> server.</p>
<p class="p">This
file is located in the project <span class="ph filepath">WEB-INF/config/domino_config</span> directory.
The properties file is used to specify basic <span class="ph">Domino</span> connection properties
such as the name of the <span class="ph">Domino</span> server
and a valid <span class="ph">Domino</span> user
name and password. A typical <span class="ph">Domino</span> properties file
might be named <span class="ph filepath">domino.properties</span> and contain
the following:</p>
<div class="p"><pre class="pre codeblock Code"># Domino application server
ServerName=
# Domino User Name
UserName=
# Domino Password
PassWord=
# Domino server http port
# The http port is used when the builder is configured to retrieve rich rext items as HTML.
# The Domino Attachment builder also uses these values when creating http
# links to attachments in the documents.
DominoHttpPort=80
# SSL Settings
# When rich text items are fetched as HTML, relative urls to Domino resources (images,
# other documents, etc.) in the html are converted to absolute URLS to the Domino 
# resource. Thus, the browser will request these resources using the absolute URL.
# If the absolute URLS to Domino resources should use https, set DominoConvertAbsUrlsToSSL
# to true. Also set DominoHttpsPort to your Domino server's https port.
# The Domino Attachment builder will also use these properties when forming
# the URL to the attachment.
DominoConvertAbsUrlsToSSL=true
DominoHttpsPort=443
# If the application on the application server should use https when fetching rich text 
# items from Domino's web server, set the following property to true.
# Note: if this property is true, the certificate from Domino's web server will need
# to be added to your application server JVM's cacerts file.  
DominoUseHttps=false</pre>
 </div>
<div class="p">A default <span class="ph">Domino</span> <span class="ph filepath">server.properties</span> file
is installed with the Lotus Collaboration
Extension feature set. This file is located in the <span class="ph filepath">WEB-INF/config/domino_config</span> directory.
Use this file to establish your basic <span class="ph">Domino</span> settings. <div class="note note"><span class="notetitle">Note:</span> Settings
in this file can be overridden using the Connection Override settings
available in the Domino Data
Access and Domino View and
Form builders.</div>
<div class="note note"><span class="notetitle">Note:</span> Because the <span class="ph filepath">WebContent/WEB-INF/config</span> directory
is by default an excluded resource, you need to override the team
file and directory exclusion to ensure that your new or modified file
is kept updated in source control storage. </div>
</div>
</div>
<div class="section" id="lcx_getting_started__dominoserverconfig"><a name="lcx_getting_started__dominoserverconfig"><!-- --></a><h4 class="title sectiontitle">2.2 <span class="ph">Domino</span> Server configuration</h4><p class="p">To
use this package and the builders it contains, you must have IIOP
(Internet Inter-Orb Protocol) access to the <span class="ph">Domino</span> server. See <span class="ph">Domino</span> help for additional
information.</p>
<p class="p">To activate awareness functionality,
you must be running the <span class="ph">IBM WebSphere Portal</span> Server
Extend or the <span class="ph">WebSphere Portal</span> Experience
products, and collaboration components in these products must be correctly
configured and running on the <span class="ph">Domino</span> server. These
components include one or more of the following: Sametime® (for chat), Discovery (for user
profiles display, author/document search and mail).</p>
<p class="p">Check the
release notes for this product to see which Lotus Collaboration products support the components
in this package.</p>
</div>
<div class="section" id="lcx_getting_started__dominosecurity"><a name="lcx_getting_started__dominosecurity"><!-- --></a><h4 class="title sectiontitle">2.3 <span class="ph">Domino</span> security settings</h4><p class="p">In
order for the Domino View
and Form builder to access <span class="ph">Domino</span> resources, <span class="ph">Domino</span> server security
must be configured to allow and restrict remote calls appropriately.
Configuration settings governing this access are set in the <span class="ph">Domino</span> Administrator.</p>
<p class="p">You
can review security settings by examining the current server document's <span class="ph uicontrol">Security</span> tab.
For more information about establishing these settings, see <span class="ph">Domino</span> Designer help.
In <span class="ph">Domino</span> version
6, refer to the following <span class="ph">Domino</span> Designer help
topic: <span class="ph menucascade"><span class="ph uicontrol">Java/CORBA classes</span> &gt; <span class="ph uicontrol">Java
Classes Coding Guidelines</span> &gt; <span class="ph uicontrol">Running a Java Program</span></span>. The section on server requirements discusses security
settings.</p>
</div>
<div class="section" id="lcx_getting_started__supportdbbrowsing"><a name="lcx_getting_started__supportdbbrowsing"><!-- --></a><h4 class="title sectiontitle">2.3.1 Supporting database browsing</h4><p class="p">The <span class="ph">Domino</span> server must support
the browsing of databases to allow the various controls in builders
to be populated with lists of available databases, views, forms and
agents. The <span class="ph">Domino</span> server
setting to make databases browsable is located in the server document <span class="ph menucascade"><span class="ph uicontrol">InternetProtocols</span> &gt; <span class="ph uicontrol">HTTP</span></span> tab in the <span class="ph">Domino</span> directory. You
should also open the <span class="ph uicontrol">Security</span> tab and set <span class="ph uicontrol">Allow
anonymous Notes connections</span> to enable (Yes) .</p>
</div>
<div class="section" id="lcx_getting_started__runningagents"><a name="lcx_getting_started__runningagents"><!-- --></a><h4 class="title sectiontitle">2.3.2 Running agents</h4><p class="p">To
run a <span class="ph">Domino</span> agent
by calling it remotely from a <span class="ph">portlet or a </span>widget,
you must sign the agent. Your enterprise security policies can dictate
how you do this, but the end result must be that the <span class="ph">portlet
or </span>widget user has the right to invoke the agent remotely from
within a <span class="ph">portlet or </span>widget.</p>
</div>
<div class="section" id="lcx_getting_started__usingssl"><a name="lcx_getting_started__usingssl"><!-- --></a><h4 class="title sectiontitle">2.3.3 Using SSL</h4><p class="p">To take advantage
of security provided by SSL, perform some procedures to correctly
configure <span class="ph"> WebSphere Portlet
Factory</span> and <span class="ph">Domino</span> for SSL operations.
The following steps are required to use SSL for a <span class="ph">Domino</span> connection.</p>
<ol class="ol"><li class="li">Add a property to the <span class="ph filepath">override.properties</span> file
located in the project <span class="ph filepath">WEB-INF/config</span> directory
and set the property to <kbd class="ph userinput">true</kbd>. (If the <span class="ph filepath">override.properties</span> file
does not exist, you must create it.) Add the following property. <pre class="pre codeblock">bowstreet.domino.session.enableSSL=true</pre>
</li>
<li class="li">Make the <span class="ph filepath">TrustedCerts.class</span> file available
to <span class="ph"> WebSphere Portlet
Factory</span> Designer. To
do so, take the <span class="ph filepath">TrustedCerts.class</span> file and place
it in a jar file. The <span class="ph filepath">TrustedCerts.class</span> file
is located in the <span class="ph">Domino</span> server <span class="ph filepath">Domino\Data\domino\java</span> directory.<p class="p">The <span class="ph filepath">TrustedCerts.class</span> file
is generated by the <span class="ph">Domino</span> server
when DIIOP port is enabled with SSL. This file contains a certificate
that is verified by the server.</p>
</li>
<li class="li">Add the jar file containing the <span class="ph filepath">TrustedCerts.class</span> file
to <span class="ph"> WebSphere Portlet
Factory</span> Designer core
plugin <span class="ph filepath">/lib</span> directory. <pre class="pre codeblock"><span class="ph filepath"><var class="keyword varname">install_directory</var>\Designer\eclipse\plugins\com.bowstreet.designer.core_<var class="keyword varname">version-number</var>\lib</span></pre>
 </li>
<li class="li">For Eclipse version 3.3.x and above, edit the <samp class="ph codeph"><span class="ph filepath"><var class="keyword varname">install_directory</var>Designer\eclipse\plugins\com.bowstreet.designer.core_6.1.5\META-INF\MANIFEST.MF</span></samp> file
and place the <span class="ph filepath">sslClasses.jar</span> file in the <samp class="ph codeph">Bundle-ClassPath:</samp>list.
For Example:<pre class="pre codeblock">Bundle-ClassPath: designercore.jar,
 lib/jakarta-poi.jar,
 lib/jxl.jar,
 lib/sapjco.jar,
 lib/SiebelJI.jar,
 lib/SiebelJI_Common.jar,
 lib/SiebelJI_enu.jar,
 lib/Siebel.jar,
 lib/sslClasses.jar
 lib/activation.jar,
 lib/portlet.jar,
 lib/bstres.jar,
 lib/bstres_nl1.jar,
 lib/builderui-res.jar,
 lib/builderui-res_nl1.jar,
 lib/jdom.jar,
 lib/builderimages.jar,
 lib/NCSO.jar,
 lib/packman.jar,
 lib/factory.jar,
 lib/builderui.jar,
 lib/j2ee.jar,
 lib/icons.jar,
 lib/wsdl4j.jar,
 lib/classparser.jar,
 lib/axis.jar,
 lib/commons-fileupload.jar,
 lib/commons-logging.jar,
 lib/commons-discovery.jar,
 lib/commons-pool.jar,
 lib/wc50.jar,
 lib/WidgetExtension.jar,
 lib/WidgetExtension_nl1.jar,
 lib/xercesImpl.jar,
 lib/xml-apis.jar,
 bin/,
 lib/log4j.jar</pre>
For Eclipse version 3.2.x and below, edit
the <span class="ph filepath">plugin.xml</span> file located in the following
location to include this jar file.<pre class="pre codeblock">install_directory\WPFDesigner\eclipse\plugins\com.bowstreet.designer.core_version-number</pre>
<p class="p">For
example, such an edit might look as follows: </p>
<pre class="pre codeblock">&lt;library name="lib/sslClasses.jar"&gt;
&lt;export name="*"/&gt;
&lt;/library&gt;</pre>
</li>
<li class="li">Add the jar file containing the <span class="ph filepath">TrustedCerts.class</span> file
to the project <span class="ph filepath">WEB-INF/lib</span> directory. <p class="p">This
addition makes the <span class="ph filepath">TrustedCerts.class</span> file available
to the runtime environment.</p>
</li>
<li class="li">Restart <span class="ph"> WebSphere Portlet
Factory</span> Designer.<div class="note note"><span class="notetitle">Note:</span> If
you use Eclipse 3.<var class="keyword varname">x</var>, you may need to run the <kbd class="ph userinput">-clean</kbd> flag
on the command line parameter to pick up this jar.</div>
</li>
<li class="li">Using the Domino View
and Form Builder, connect to a <span class="ph">Domino</span> server on port
63148. For example:<pre class="pre codeblock">domino_server.my_company.com:63148</pre>
</li>
</ol>
<div class="note note"><span class="notetitle">Note:</span> You must have your <span class="ph">Domino</span> server configured
correctly to support SSL on the DIIOP port. See your <span class="ph">Domino</span> documentation
for details.</div>
</div>
<div class="section" id="lcx_getting_started__gsdominoportlets"><a name="lcx_getting_started__gsdominoportlets"><!-- --></a><h4 class="title sectiontitle">3 Getting started
with <span class="ph">Domino</span> portlets </h4><p class="p">There
are two ways to get started building <span class="ph">Domino</span> portlets:</p>
<ul class="ul"><li class="li">If you are a power user<p class="p">From within <span class="ph">WebSphere Portal</span>, use the <span class="ph">Domino</span> Customizer to
clone and then modify Domino portlets.
For more information, see <a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__forpowerusers">3.1 For power users</a>. </p>
</li>
<li class="li">If you are a developer<p class="p">Take the <span class="ph">Domino</span> tutorial and examine
the sample model. For more information, see <a class="xref" href="designer-html-wrapper.htm#lcx_getting_started__fordevelopers">3.2 For developers</a>. </p>
</li>
</ul>
</div>
<div class="section" id="lcx_getting_started__forpowerusers"><a name="lcx_getting_started__forpowerusers"><!-- --></a><h4 class="title sectiontitle">3.1 For power users</h4><p class="p">Follow
these simple steps to build a custom Domino portlet.</p>
<ol class="ol"><li class="li">In a <span class="ph">WebSphere Portal</span> server,
locate the Domino View and
Form Template portlet.</li>
<li class="li">Use the portal Work with Pages functionality to add this portlet
to a page.</li>
<li class="li">Search for all available portlets, select your new portlet from
the list, place it on a page and click <span class="ph uicontrol">Done</span>.<div class="p">Upon
initial display, the portlet displays the following: <pre class="pre codeblock"><tt class="ph systemoutput">This portlet has not been configured. Use the portlet's Configure icon to configure the portlet. This involves specifying a Domino server, database and view,   in additional to several other Domino configuration settings. Press the portlet's Help button to display additional information about configuring the portlet and viewing it in the WebSphere portal.</tt></pre>
</div>
</li>
</ol>
  </div>
<div class="section" id="lcx_getting_started__fordevelopers"><a name="lcx_getting_started__fordevelopers"><!-- --></a><h4 class="title sectiontitle">3.2 For developers</h4><ol class="ol"><li class="li">Access the <span class="ph">Domino</span> tutorial
located in the <span class="ph menucascade"><span class="ph uicontrol">IBM WebSphere</span> &gt; <span class="ph uicontrol">Portlet Factory</span> &gt; <span class="ph uicontrol">Tutorials</span></span> section of the <span class="ph uicontrol">Start</span> menu. Follow
the instructions to create a <span class="ph">Domino</span> application. </li>
<li class="li">Compare the application you have created with the sample model
provided. <div class="note note"><span class="notetitle">Note:</span> The comments embedded within the sample model explain
the techniques used.</div>
Find the sample model in the <span class="ph filepath">\WEB-INF\models\samples\domino\</span> directory. </li>
<li class="li">Copy the sample <span class="ph">Domino</span> database
to a <span class="ph">Domino</span> server
and examine how the sample model interacts with it. The sample database
is located in the <span class="ph filepath"><var class="keyword varname">project_root</var>\samples\domino\nodeploy</span> directory. </li>
</ol>
</div>
<div class="section" id="lcx_getting_started__gsdominowidgets"><a name="lcx_getting_started__gsdominowidgets"><!-- --></a><h4 class="title sectiontitle"><span class="ph">4</span> Getting started with <span class="ph">Domino</span> widgets</h4><p class="p">Take
the <span class="ph">Domino</span> tutorial
and examine the sample model.</p>
<ol class="ol"><li class="li">In the help, click <span class="ph menucascade"><span class="ph uicontrol">IBM WebSphere
Portlet Factory Designer</span> &gt; <span class="ph uicontrol">Learning
about WebSphere Portlet Factory</span></span> to access the <span class="ph">Domino</span> tutorial. Follow
the instructions to create a <span class="ph">Domino</span> application. </li>
<li class="li">Compare the application you have created with the sample model
provided. <div class="note note"><span class="notetitle">Note:</span> The comments embedded within the sample model explain
the techniques used.</div>
Find the sample model in the <span class="ph filepath">\WEB-INF\models\samples\domino\</span> directory. </li>
<li class="li">Copy the sample <span class="ph">Domino</span> database
to a <span class="ph">Domino</span> server
and examine how the sample model interacts with it. The sample database
is located in the <span class="ph filepath"><var class="keyword varname">project_root</var>\samples\domino\nodeploy</span> directory. </li>
</ol>
</div>
<div class="section" id="lcx_getting_started__dominoconnectpool"><a name="lcx_getting_started__dominoconnectpool"><!-- --></a><h4 class="title sectiontitle"><span class="ph">5</span> <span class="ph">Domino</span> connection pooling</h4><div class="p">By
default, the Domino Data
Access builder now distributes <span class="ph">Domino</span> sessions over
a configurable number of cached CORBA ORBs (Object Request Brokers).
This reduces network resources because all sessions created with a
given ORB share one TCP/IP connection.  This is controlled using the
following properties.<dl class="dl"><dt class="dt dlterm"><samp class="ph codeph">bowstreet.domino.numOrbs=<var class="keyword varname">N</var></samp></dt>
<dd class="dd">Specifies the number of CORBA ORBs that are created and shared
among all <span class="ph">Domino</span> sessions.
If this property is not set, the default is 5.  To help spread the
load over the entire set of orbs, the next sequential ORB is retrieved
from the cache to handle a <span class="ph">Domino</span> transaction. 
Care should be taken not to overload the network connection. Adjust
the number of orbs depending on your application performance requirements.
Also, <span class="ph">Domino</span> transactions
that take a long time can block other sessions using the same ORB.
Therefore, care should be taken to ensure fast <span class="ph">Domino</span> transactions.
 </dd>
<dt class="dt dlterm"><samp class="ph codeph">bowstreet.domino.session.pooling.originalImplementation=(true
or false)</samp></dt>
<dd class="dd">Specify true to revert to the original connection handling implementation
prior to 6.0.2.1. This is not recommended. The default value is false.</dd>
</dl>
  </div>
<p class="p">Packaged with <span class="ph"> WebSphere Portlet
Factory</span> is a backwards compatible <span class="ph">Domino</span> 8 version of <span class="ph filepath">NCSO.jar</span>,
which contains performance enhancements in the <span class="ph">Domino</span> CORBA implementation.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="peoplesoft_getting_started"><a name="peoplesoft_getting_started"><!-- --></a><h3 class="title topictitle3">PeopleSoft Extension</h3>
<div class="body conbody"><p class="shortdesc">This Getting Started guide describes PeopleSoft Extension.</p>
<div class="section"><h4 class="title sectiontitle">Getting Started Guide</h4><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#peoplesoft_getting_started__installnote">1.0 Installation notes</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#peoplesoft_getting_started__configreqrmnt">2.0 Configuration requirements</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#peoplesoft_getting_started__sesspoolprop">3.0 PeopleSoft session pooling and properties</a></li>
</ul>
<p class="p">The PeopleSoft Extension delivers to <span class="ph">IBM WebSphere Portlet Factory</span> users the following
important features:</p>
<dl class="dl"><dt class="dt dlterm">Single-Sign-On Capabilities</dt>
<dd class="dd">Using <span class="ph">IBM WebSphere Portal</span> Server
credential vault.</dd>
<dt class="dt dlterm">Automation of Portlet Code</dt>
<dd class="dd">Including support for standard component interface methods (Get,
Find, Create, Save, Cancel), generation of various display and edit
pages, and creation of schema to describe the data contained in the
component interface.</dd>
<dt class="dt dlterm">Seamless Integration with Other Builders</dt>
<dd class="dd">To create robust, highly customized portlets, including custom
look-and-feel.</dd>
</dl>
</div>
<div class="section" id="peoplesoft_getting_started__installnote"><a name="peoplesoft_getting_started__installnote"><!-- --></a><h4 class="title sectiontitle">1.0 Installation notes</h4><p class="p">Install
the PeopleSoft Extension as you would any other feature set.</p>
<ol class="ol"><li class="li">Consult the detailed system requirements in the release notes
topic for information on supported product versions. </li>
<li class="li">In the project right-click menu, select <span class="ph uicontrol">Properties</span>.
Expand the <span class="ph uicontrol">WebSphere Portlet Factory</span> category
and select <span class="ph uicontrol">Feature Info</span>. </li>
<li class="li">In the <span class="ph uicontrol">Feature Info</span> screen, select the <span class="ph uicontrol">PeopleSoft
Extension</span> and click <span class="ph uicontrol">Apply</span>. Click <span class="ph uicontrol">OK</span> to
add the feature set. Choose to re-deploy when prompted.</li>
<li class="li">Place a copy of the <span class="ph filepath">psjoa.jar</span> file into the <span class="ph filepath">work/lib</span> folder
of the Eclipse project. <p class="p">The PeopleSoft Java Object Adapter JAR
file, <span class="ph filepath">psjoa.jar</span>, can be obtained from your PeopleSoft
installation or from your PeopleSoft Customer Service representative. </p>
<p class="p">The
JAR file contains Java classes used by the builders to access your
PeopleSoft servers. If you have a local installation of PeopleSoft,
look into the PS_HOME directory for a copy of this file.</p>
<div class="note note"><span class="notetitle">Note:</span> The
version of this JAR file used by the builders must match the version
of the PeopleSoft server being accessed. Using a mismatched <span class="ph filepath">psjoa.jar</span> file
with your PeopleSoft server may result in errors during builder regen
and runtime.</div>
</li>
</ol>
<div class="note note"><span class="notetitle">Note:</span> Depending on your server settings, your application server
and <span class="ph"> WebSphere Portlet
Factory</span> Designer may
need to be restarted to correctly register all feature set files.</div>
<div class="note note"><span class="notetitle">Note:</span> In
a <span class="ph">WebSphere Portal</span> server environment,
you must set the class loading order such that third-party JAR files
are loaded before other JARs and classes. This insures that <span class="ph">WebSphere Portal</span> server can access
and use these third-party files. See your <span class="ph"> WebSphere Portlet
Factory</span> Installation Guide
for the steps required to establish this setting in <span class="ph">WebSphere Portal</span> server.</div>
</div>
<div class="section"><h4 class="title sectiontitle">1.1 Verify installation</h4><p class="p">To confirm correct
installation of the builder and JAR files, follow these steps:</p>
<ol class="ol"><li class="li">Create a new model.</li>
<li class="li">Add a PeopleSoft View and Form builder to the model and enter
a name for the builder.</li>
<li class="li">Under the Connection Group, select <kbd class="ph userinput">default_connection.properties</kbd> as
the value for the <span class="ph uicontrol">Properties File</span> input.</li>
<li class="li">Click the <span class="ph uicontrol">Test Connection</span> button.</li>
<li class="li">A dialog indicating that a connection was successfully established
should be displayed. If there was a problem connecting to your PeopleSoft
server, an error dialog is displayed with an error message.</li>
</ol>
</div>
<div class="section" id="peoplesoft_getting_started__configreqrmnt"><a name="peoplesoft_getting_started__configreqrmnt"><!-- --></a><h4 class="title sectiontitle">2.0 Configuration requirements</h4><p class="p">The
first step in using the PeopleSoft builders is to establish a connection
properties file. This file is located in the project <span class="ph filepath">/WEB-INF/config/peoplesoft_config/</span> directory.
The properties file (<span class="ph filepath">default_connection.properties</span>)
is used to specify connection properties, such as the name of the
PeopleSoft server and a valid PeopleSoft user name and password.</p>
<p class="p">A
typical properties file might contain the following properties:</p>
<pre class="pre codeblock"> #Default connection properties for the PeopleSoft Builders

 # PeopleSoft application server
 hostserver=pplsoft:9000

 # Logon user name
 UserName=jdoe
 
 # Logon password 
 PassWord=PS</pre>
<div class="note note"><span class="notetitle">Note:</span> Because the <span class="ph filepath">WebContent/WEB-INF/config</span> directory
is by default an excluded resource, you need to override the team
file and directory exclusion to ensure that your new or modified file
is kept updated in source control storage. </div>
</div>
<div class="section" id="peoplesoft_getting_started__sesspoolprop"><a name="peoplesoft_getting_started__sesspoolprop"><!-- --></a><h4 class="title sectiontitle">3.0 PeopleSoft session pooling and
properties</h4><p class="p">The PeopleSoft builders support pooling of sessions
to your backend PeopleSoft servers. By default, session pooling is
disabled (a reasonable configuration for a <span class="ph"> WebSphere Portlet
Factory</span> Designer environment).
However, on the server, you may want to enable pooling to minimize
the number of sessions created and improve overall builder runtime
performance.</p>
<p class="p">You can add the properties in the table below to
a PeopleSoft project <span class="ph filepath">.../WEB-INF/config/override.properties</span> file
to enable and configure PeopleSoft session pooling.</p>
<div class="note note"><span class="notetitle">Note:</span> PeopleSoft
builders use the standard open source Apache Commons pooling implementation.
See the Commons documentation for the GenericKeyedObjectPool class
on the Apache web site for detailed information on the meanings of
these properties.</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 5. Properties to enable and configure
session pooling</span></caption><thead class="thead" align="left"><tr class="row c8" valign="bottom"><th class="entry c18" valign="bottom" id="d52e12723">Property</th>
<th class="entry c19" valign="bottom" id="d52e12725">Default value</th>
<th class="entry c19" valign="bottom" id="d52e12727">Effect</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row c8" valign="top"><td class="entry c20" valign="top" headers="d52e12723 ">bowstreet.peoplesoft.session.pool.enabled</td>
<td class="entry c21" valign="top" headers="d52e12725 "><kbd class="ph userinput">false</kbd></td>
<td class="entry c21" valign="top" headers="d52e12727 ">If defined and set to <kbd class="ph userinput">TRUE</kbd> session
pooling is enabled.</td>
</tr>
<tr class="row c8" valign="top"><td class="entry c20" valign="top" headers="d52e12723 ">bowstreet.peoplesoft.session.pool.maxActiveSessions</td>
<td class="entry c21" valign="top" headers="d52e12725 "><kbd class="ph userinput">8</kbd></td>
<td class="entry c21" valign="top" headers="d52e12727 ">Maximum number of active sessions at one
time. When negative, there is no limit to the number of active sessions.</td>
</tr>
<tr class="row c8" valign="top"><td class="entry c20" valign="top" headers="d52e12723 ">bowstreet.peoplesoft.session.pool.maxIdleSessions</td>
<td class="entry c21" valign="top" headers="d52e12725 "><kbd class="ph userinput">8</kbd></td>
<td class="entry c21" valign="top" headers="d52e12727 ">Maximum number of idle session in the pool
at one time. When negative, there is no limit to the number of idle
sessions.</td>
</tr>
<tr class="row c8" valign="top"><td class="entry c20" valign="top" headers="d52e12723 ">bowstreet.peoplesoft.session.pool.maxWait</td>
<td class="entry c21" valign="top" headers="d52e12725 "><kbd class="ph userinput">-1</kbd></td>
<td class="entry c21" valign="top" headers="d52e12727 ">Maximum time in milliseconds to wait for
a session to be returned to the pool. When negative, the requesting
thread will wait indefinitely for a session to be returned. If no
session is returned to the pool in the specified time, then the requesting
thread receives an exception.</td>
</tr>
<tr class="row c8" valign="top"><td class="entry c20" valign="top" headers="d52e12723 ">bowstreet.peoplesoft.session.pool.maxIdleTimeSeconds</td>
<td class="entry c21" valign="top" headers="d52e12725 "><kbd class="ph userinput">1800</kbd></td>
<td class="entry c21" valign="top" headers="d52e12727 ">Maximum time in seconds that a session is
allowed to remain idle in the pool before being evicted and reclaimed.
When negative, no sessions will be evicted based upon idle time.</td>
</tr>
<tr class="row c8" valign="top"><td class="entry c20" valign="top" headers="d52e12723 ">bowstreet.peoplesoft.session.pool.idleSessionSweepSeconds</td>
<td class="entry c21" valign="top" headers="d52e12725 "><kbd class="ph userinput">30</kbd></td>
<td class="entry c21" valign="top" headers="d52e12727 ">Maximum time in seconds between sweeps of
the pool looking for idle sessions to evict and reclaim. When negative,
pool sweeping is disabled.</td>
</tr>
<tr class="row c8" valign="top"><td class="entry c20" valign="top" headers="d52e12723 ">bowstreet.peoplesoft.session.pool.maxAgeMinutes</td>
<td class="entry c21" valign="top" headers="d52e12725 "><kbd class="ph userinput">-1</kbd></td>
<td class="entry c21" valign="top" headers="d52e12727 ">Maximum age in minutes of a session before
it is evicted and reclaimed no matter what the idle session settings
may be. When negative, sessions are never evicted and reclaimed due
to their age.<div class="note note"><span class="notetitle">Note:</span> This is a feature/property specific to <span class="ph"> WebSphere Portlet
Factory</span> that is not implemented
in the Commons library.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="sap_getting_started"><a name="sap_getting_started"><!-- --></a><h3 class="title topictitle3"> SAP Extension</h3>
<div class="body conbody"><p class="shortdesc">This Getting Started guide describes the SAP Extension.</p>
<div class="section"><h4 class="title sectiontitle">Getting Started Guide</h4><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#sap_getting_started__installnotes">1.0 Installation notes</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#sap_getting_started__configreqrmnts">2.0 Configuration Requirements</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#sap_getting_started__getstart">3.0 Getting started and using the object browser</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#sap_getting_started__commnctingsap">4.0 Communicating with an SAP system</a></li>
</ul>
<p class="p">The SAP Extension provides <span class="ph">IBM WebSphere Portlet Factory</span> users with the following
important features. </p>
<dl class="dl"><dt class="dt dlterm">Use of the SAP Java Connector
(JCo) to connect to SAP</dt>
<dd class="dd">The SAP JCo interface supports connection pooling and oversees
the management of portlet-to-SAP communications.<div class="note note"><span class="notetitle">Note:</span> For information
about the versions of the SAP JCo that <span class="ph"> WebSphere Portlet
Factory</span> supports, refer to
the detailed system requirements in the release notes topic.</div>
</dd>
<dt class="dt dlterm">Single-Sign-On capabilities</dt>
<dd class="dd">Using <span class="ph">IBM WebSphere Portal</span> Server
credential vault.</dd>
<dt class="dt dlterm">Automation of portlet code</dt>
<dd class="dd">Including an execute method to get the data, a schema to describe
the data returned by the function, and variables (typed with the schema)
to hold the Tables, Imports, and Exports result sets.</dd>
<dt class="dt dlterm">Seamless integration with other builders</dt>
<dd class="dd">To create robust, highly customized portlets, including custom
look-and-feel and even access to custom (customer-created) BAPIs.</dd>
</dl>
</div>
<div class="section" id="sap_getting_started__installnotes"><a name="sap_getting_started__installnotes"><!-- --></a><h4 class="title sectiontitle">1.0 Installation notes</h4><p class="p">The
components in the SAP Extension support the following SAP product
version. </p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 6. SAP product version</span></caption><thead class="thead" align="left"><tr class="row c8" valign="bottom"><th class="entry c6" valign="bottom" id="d52e12899">SAP Product</th>
<th class="entry c7" valign="bottom" id="d52e12901">Versions Supported</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row c8" valign="top"><td class="entry c9" valign="top" headers="d52e12899 ">R3</td>
<td class="entry c10" valign="top" headers="d52e12901 ">See the detailed system requirements in the <span class="ph"> WebSphere Portlet
Factory</span> release notes topic
for the versions supported.</td>
</tr>
</tbody>
</table>
</div>
<p class="p">Install the SAP Extension:</p>
<ol class="ol"><li class="li"> In the project right-click menu, select <span class="ph uicontrol">Properties</span>.
Expand the <span class="ph uicontrol">WebSphere Portlet Factory</span> category
and select <span class="ph uicontrol">Feature Info</span>. </li>
<li class="li"> In the <span class="ph uicontrol">Feature Info</span> screen, select the
SAP Extension and click <span class="ph uicontrol">Apply</span>. Click <span class="ph uicontrol">OK</span> to
add the feature set. Choose to publish the project when prompted. </li>
<li class="li"> <dl class="dl"><dt class="dt dlterm">For Windows® systems</dt>
<dd class="dd">Copy the <span class="ph filepath">sapjco.jar</span> file into a directory
from which your application server loads JAR files. Also copy the
following DLL files into the <span class="ph filepath">system32</span> directory
of your Windows operating
system. <ul class="sl simple"><li class="sli"><span class="ph filepath">librfc32.dll</span></li>
<li class="sli"><span class="ph filepath">sapjcorfc.dll</span></li>
</ul>
(For example, on Windows XP
systems, <span class="ph filepath">C:\Windows\system32</span>.)<dl class="dl"><dt class="dt dlterm">WebSphere</dt>
<dd class="dd"><span class="ph filepath">\WebSphere\AppServer\lib\ext</span></dd>
</dl>
<dl class="dl"><dt class="dt dlterm"><span class="ph">IBM WebSphere Application
Server</span> Community
Edition </dt>
<dd class="dd"><span class="ph">WebSphere Application
Server</span> Community
Edition requires that you deploy any JAR files to be shared among
two or more Web applications as Common Libs. Each Web application
references this deployed common lib in its <span class="ph filepath">geronimo-web.xml</span> file
in the <samp class="ph codeph">&lt;dependencies /&gt;</samp> node. <span class="ph"> WebSphere Portlet
Factory</span> populates the <span class="ph filepath">geronimo-web.xml</span> file
with commented references to sample Common Lib deployments for the <span class="ph filepath">sapjco.jar</span> file
(as well as references to JAR files for other <span class="ph"> WebSphere Portlet
Factory</span>  integration builders.) </dd>
<dd class="dd">The values for the Group, Artifact, Version, and Type are largely
arbitrary. Choose values that correspond to any naming conventions
that you have or any other considerations. Clicking install results
in the JAR file being placed in the <span class="ph filepath">&lt;WASCE&gt;/repository/<var class="keyword varname">Group</var>/<var class="keyword varname">Artifact</var>/<var class="keyword varname">Version</var>/<var class="keyword varname">Type</var></span> directory
and is loaded by the <span class="ph">WebSphere Application
Server</span> Community
Edition server-wide class loader.</dd>
<dd class="dd"><ol class="ol" type="a"><li class="li">Open the <span class="ph">WebSphere Application
Server</span> Community
Edition server console. </li>
<li class="li">Select Common Libs link under Services. </li>
<li class="li">Using the Browse option select and add your SAP jar files.</li>
<li class="li">Enter Group, Artifact, Version, and Type using your naming conventions.</li>
<li class="li">Click install to add the JAR file.</li>
</ol>
</dd>
</dl>
</dd>
<dt class="dt dlterm">On Linux®, UNIX®, and z/OS® Platforms</dt>
<dd class="dd">Refer to the SAP Java Connector
installation documentation for instructions specific for your operating
system.<div class="note note"><span class="notetitle">Note:</span> If you are running <span class="ph"> WebSphere Portlet
Factory</span> on a Linux system, set the following permissions
on the <span class="ph filepath">sapjco.jar</span> file. <pre class="pre codeblock">-rwxr-xr-x (755)</pre>
The
owner should be root and the group should be set to the group to which
your <span class="ph"> WebSphere Portlet
Factory</span> user belongs.
If your <span class="ph"> WebSphere Portlet
Factory</span> user is
different than the <span class="ph">WebSphere Application
Server</span> user,
you must set up that user's environment as indicated in the SAP Java Connector installation documentation,
so that user can access the SAP libraries.</div>
</dd>
</dl>
 <div class="note note"><span class="notetitle">Note:</span> The library files required in this step are
available to SAP customers at <span class="ph filepath">http://service.sap.com</span>.</div>
</li>
<li class="li"> The <span class="ph filepath">sapjco.jar</span> file must be made available
to your IDE plugin for Eclipse. To make this JAR file available: <ol class="ol" type="a"><li class="li">Locate your <span class="ph"> WebSphere Portlet
Factory</span> Designer
core plugin folder. For example, <div class="p">Windows systems: <pre class="pre codeblock"><span class="ph filepath">C:\Program Files\IBM\WebSphere Portlet Factory\Designer\eclipse\plugins\com.bowstreet.designer.core_<var class="keyword varname">latest version</var></span></pre>
</div>
<div class="p">Linux systems: <pre class="pre codeblock"><span class="ph filepath">/home/<var class="keyword varname">user</var>/IBM/Designer/eclipse/plugins/com.bowstreet.designer.core_</span><var class="keyword varname">latest version</var></pre>
</div>
</li>
<li class="li">Copy the <span class="ph filepath">sapjco.jar</span> file into the <span class="ph filepath">\lib</span> folder
in the plug-in folder you just located.<div class="note note"><span class="notetitle">Note:</span> Depending on your server
settings, your application server and <span class="ph"> WebSphere Portlet
Factory</span> Designer may need
to be restarted to correctly register all feature set files.</div>
</li>
</ol>
</li>
<li class="li">Referencing Common Libs from <span class="ph"> WebSphere Portlet
Factory</span> applications (For <span class="ph">WebSphere Application
Server</span> Community Edition
usage only)<div class="p">The <span class="ph filepath">geronimo-web.xml</span> file in the <span class="ph"> WebSphere Portlet
Factory</span> project contains a
list of commented out dependencies for the <span class="ph filepath">sapjco.jar</span> file.
You must replace the Group, ArtifactID, and Version values with those
you defined in the Common Lib deployment for the<span class="ph filepath"> sapjco.jar</span> file.<pre class="pre codeblock">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app&gt;

&lt;dependencies&gt;
&lt;dependency&gt;
   &lt;groupId&gt;wpf_integration&lt;/groupId&gt;
   &lt;artifactId&gt;sapjco.jar&lt;/artifactId&gt;
   &lt;version&gt;2.0.8&lt;/version&gt;
&lt;/dependency&gt;
&lt;/dependencies&gt;

&lt;/web-app&gt;</pre>
</div>
</li>
</ol>
</div>
<div class="section"><h4 class="title sectiontitle">1.1 Verify Installation</h4><p class="p">To confirm correct
installation of the builders and JCo, follow these steps. </p>
<ol class="ol"><li class="li"> Configure your <span class="ph filepath">default_sap_server.properties</span> file
for the SAP server you are using (as described under Configuration
Requirements below). </li>
<li class="li"> Restart the IDE or <span class="ph"> WebSphere Portlet
Factory</span> Designer
environment to complete the installation process. </li>
<li class="li"> Open the SAP object browser model in <span class="ph"> WebSphere Portlet
Factory</span> Designer and ensure
that you do not see errors in the Task View. (This model is located
in the <span class="ph filepath">WEB-INF/models/samples/SAP</span> folder accessible
from the Eclipse Navigator.) </li>
<li class="li"> Run the model. Confirm that the model runs correctly and that
you are able to drill down into the returned SAP data. </li>
</ol>
<p class="p">The SAPObjectBrowser is a model built using the SAP View and
Form builder. This is possible because the mechanism for browsing
the SAP Object Repository is SAP RFC's.</p>
<div class="note note"><span class="notetitle">Note:</span> In an <span class="ph">IBM WebSphere Portal</span> server environment,
you must set the class loading order such that third-party JAR files
are loaded before other JAR files and classes. This loading order
insures that <span class="ph">WebSphere Portal</span> can
access and use these third-party files. See your IBM Installation Guide for the steps required
to establish this setting in <span class="ph">WebSphere Portal</span> server.</div>
</div>
<div class="section" id="sap_getting_started__configreqrmnts"><a name="sap_getting_started__configreqrmnts"><!-- --></a><h4 class="title sectiontitle">2.0 Configuration Requirements</h4><p class="p">The
first step in using the SAP builder is establishing a properties file.
This file is located in the project <span class="ph filepath">WEB-INF/config/sap_config/</span> directory. </p>
<div class="note note"><span class="notetitle">Note:</span> Because the <span class="ph filepath">WebContent/WEB-INF/config</span> directory
is by default an excluded resource, you need to override the team
file and directory exclusion to ensure that your new or modified file
is kept updated in source control storage. </div>
<p class="p">The
properties file is used to specify SAP connection properties such
as the name of the SAP server and a valid SAP user name and password.
A typical SAP properties file might be named <span class="ph filepath">my_sap.properties</span> and
would contain the following properties:</p>
<pre class="pre codeblock"># SAP application server
jco.client.ashost=

# Logon user
jco.client.user=

# Logon password
jco.client.passwd=

# SAP client
jco.client.client=000

# Logon language
jco.client.lang=EN

# SAP system number
jco.client.sysnr=00</pre>
<p class="p">A default SAP <span class="ph filepath">server.properties</span> file
is installed with the SAP Builder. This properties file is located
in the <span class="ph filepath">WEB-INF/config/sap_config</span> directory. You
can use the file to establish your basic SAP settings and view examples
of valid property values. As configured at installation, this file
is applicable to a MiniSAP server running on the local host.</p>
</div>
<div class="section" id="sap_getting_started__getstart"><a name="sap_getting_started__getstart"><!-- --></a><h4 class="title sectiontitle">3.0 Getting started and using the object
browser</h4><p class="p">After you install and configure the SAP Extension,
run the object browser model. You can use this model to explore the
objects in an SAP system. Use the following steps. </p>
<ol class="ol"><li class="li">Run the model and view the initial screen. A table is displayed
that contains information about the objects in the system. Columns
list object type, object names and descriptive text for each object.</li>
<li class="li">Click on a link in the OBJNAME column. A new table is displayed.
This table lists on each row the set of methods (BAPIs) associated
with the object. Click on a link in the Method column.</li>
<li class="li">Another table is displayed that contains all of the parameters
for that method. Information about the parameter (for example, Description
and Short text) is also provided.</li>
<li class="li">Click on a parameter in the table and the fields of the parameter
are listed. Here you can view field names and allowable lengths, data
types and field text.</li>
</ol>
</div>
<div class="section" id="sap_getting_started__commnctingsap"><a name="sap_getting_started__commnctingsap"><!-- --></a><h4 class="title sectiontitle">4.0 Communicating with an SAP system</h4><p class="p">The
SAP Builder use the SAP JCo toolkit (available with your SAP system)
to connect to SAP. This toolkit allows a Java application
to communicate with any SAP System. The SAP JCo interface supports
connection pooling and oversees the management of portlet-to-SAP communications.</p>
</div>
<div class="section"><h4 class="title sectiontitle">4.1 Connection pool size</h4><p class="p">A property is available
for setting the maximum size of the JCo connection pool. This property
can be defined in <span class="ph filepath">WEB-INF/config/override.properties</span> as
follows:</p>
<pre class="pre codeblock">bowstreet.sap.session.pool.maxConnections=<var class="keyword varname">pool-size</var></pre>
<p class="p">where <samp class="ph codeph"><var class="keyword varname">pool-size</var></samp> is
the maximum allowed number of SAP connections.  The default value
for <samp class="ph codeph"><var class="keyword varname">pool-size</var></samp> is 5 connections.
This value has been found to provide an adequate number of connections
and good performance.</p>
</div>
<div class="section"><h4 class="title sectiontitle">4.2 Use of the <samp class="ph codeph">clientProviderClass</samp> property</h4><div class="p">If
you run SAP enabled models and define the following property with
a fully qualified class name, the SAP runtime instantiates this class
and uses it as the provider. <pre class="pre codeblock">bowstreet.sap.session.pool.clientProviderClass</pre>
The
property defines the JCO.Client provider implementation to be used
by SAPAccess. If you do not define the property, a default implementation
of a provider in <span class="ph">IBM WebSphere Portlet Factory</span> 
Designer is used. </div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="siebel_getting_started"><a name="siebel_getting_started"><!-- --></a><h3 class="title topictitle3">Siebel Extension </h3>
<div class="body conbody"><p class="shortdesc">This Getting Started guide describes Siebel Extension. </p>
<div class="section"><h4 class="title sectiontitle">Getting Started Guide</h4><ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#siebel_getting_started__installnotes">1.0 Installation notes</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#siebel_getting_started__configrequire">2.0 Configuration requirements</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#siebel_getting_started__sesspoolprop">3.0 Session pooling and properties</a></li>
</ul>
<p class="p">The Siebel Extension provides <span class="ph">IBM WebSphere Portlet Factory</span> users with the following
important features:</p>
<dl class="dl"><dt class="dt dlterm">Single-Sign-On Capabilities</dt>
<dd class="dd">Using <span class="ph">IBM WebSphere Portal</span> Server
credentials</dd>
<dt class="dt dlterm">Automation of Portlet Code</dt>
<dd class="dd">The Siebel builder includes methods to query, edit and save data
in chosen Siebel Business Components, a schema to describe the data
returned by the methods, and variables (typed with the schema) to
hold the field selections and data values. In addition, the Siebel
View and Form builder automatically creates the pages required to
query a Siebel Business Component and display the records returned.</dd>
<dt class="dt dlterm">Seamless Integration with Other Builders</dt>
<dd class="dd">To create robust, highly customized portlets, including custom
look-and-feel.</dd>
</dl>
</div>
<div class="section" id="siebel_getting_started__installnotes"><a name="siebel_getting_started__installnotes"><!-- --></a><h4 class="title sectiontitle">1.0 Installation notes</h4><p class="p">The
components in the Siebel Extension support the following Siebel product
versions:</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 7. Siebel product versions</span></caption><thead class="thead" align="left"><tr class="row c9" valign="bottom"><th class="entry c7" valign="bottom" id="d52e13435">Siebel Product</th>
<th class="entry c8" valign="bottom" id="d52e13437">Versions Supported</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row c9" valign="top"><td class="entry c10" valign="top" headers="d52e13435 ">Siebel CRM Solutions</td>
<td class="entry c11" valign="top" headers="d52e13437 ">See the detailed system requirements in <span class="ph"> WebSphere Portlet
Factory</span> release note topic
for the versions supported.</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The Siebel Extension leverages the Siebel Java Data Bean
interface to access the Siebel repository. As a result, you must acquire
the following, version-specific, Siebel JAR files from your Siebel
systems administrator:</p>
<ul class="ul"><li class="li">For Siebel 7.5.2 and 7.5.3: <span class="ph filepath">SiebelJI.jar</span>, <span class="ph filepath">SiebelJI_Common.jar</span>, <span class="ph filepath">SiebelJI_enu.jar</span></li>
<li class="li">For Siebel 7.8 and 8.0: <span class="ph filepath">Siebel.jar</span>, <span class="ph filepath">SiebelJI_enu.jar</span></li>
</ul>
<p class="p">Install this Siebel Extension as you would any other feature
set. </p>
<ol class="ol"><li class="li">In the project right-click menu, select <span class="ph uicontrol">Properties</span>.
Expand the <span class="ph uicontrol">WebSphere Portlet Factory</span> category
and select feature info. </li>
<li class="li">In the <span class="ph uicontrol">Feature Info</span> screen, select the
Siebel Extension and click <span class="ph uicontrol">Apply</span>. Click <span class="ph uicontrol">OK</span> to
add the feature set. Choose to re-deploy when prompted. </li>
</ol>
<p class="p"><strong class="ph b">Add Siebel JAR files to your IDE.</strong></p>
<ol class="ol"><li class="li">Locate your <span class="ph"> WebSphere Portlet
Factory</span> Designer
core plugin folder, for example: <pre class="pre codeblock"><span class="ph filepath">C:\Program Files\IBM\WebSphere Portlet Factory\WPFDesigner\eclipse\plugins\com.bowstreet.designer.core_latest version</span></pre>
</li>
<li class="li">Copy the Siebel JAR files required by your Siebel version into
the <span class="ph filepath">\lib</span> folder in this plug-in folder.</li>
<li class="li">Verify that the JARs you just copied into the <span class="ph filepath">\lib</span> folder
are listed in the <span class="ph filepath">plugin.xml</span> file; this file
is found in the same folder that contains the <span class="ph filepath">\lib</span> folder.
The default definitions in this file should be sufficient. However,
if the Siebel JAR files you obtained for your server are named differently,
then you'll need to adjust the definitions so that these JARs can
be loaded by <span class="ph"> WebSphere Portlet
Factory</span> Designer.</li>
</ol>
<p class="p">Below select the server you will be using and follow the steps
to add the Siebel jars.</p>
<p class="p">Add the Siebel jars to the <span class="ph">IBM WebSphere Application
Server</span> Community Edition
(CE) server.</p>
<ol class="ol"><li class="li">Open <span class="ph">WebSphere Application
Server</span> Community
Edition server console</li>
<li class="li">Select the Common Libs link under Services</li>
<li class="li">Using the <span class="ph uicontrol">Browse</span> option select and add
your Siebel jar files.</li>
<li class="li">Enter Group, Artifact, Version, and Type using your naming conventions. </li>
</ol>
<p class="p"><strong class="ph b">Update the <span class="ph filepath">geromino-web.xml</span> file for
your project in Portlet Factory</strong></p>
<ol class="ol"><li class="li">Open <span class="ph filepath">WebContent\WEB-INF\bin\deployment\geromino-web.xml</span></li>
<li class="li">Under <samp class="ph codeph">&lt;dependencies&gt;</samp> you will see the following:<pre class="pre codeblock">&lt;dependency&gt;
		&lt;groupId&gt;wpf_integration&lt;/groupId&gt;
   &lt;artifactId&gt;SiebelJI_enu&lt;/artifactId&gt;
   &lt;version&gt;7.8&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
		&lt;groupId&gt;wpf_integration&lt;/groupId&gt;
   	&lt;artifactId&gt;siebel&lt;/artifactId&gt;
   	&lt;version&gt;7.8&lt;/version&gt;
&lt;/dependency&gt;</pre>
</li>
<li class="li">Uncomment this lines and update the groupID, artifactId and version
to the ones you assigned for your JARs on the <span class="ph">WebSphere Application
Server</span> CE server.</li>
<li class="li">Rebuild your project.</li>
</ol>
<p class="p"><strong class="ph b">All other Application Servers </strong></p>
<p class="p">Copy the Siebel
JAR files into a directory from which your application server loads
JAR files that are common across all deployed WARs. For example: <span class="ph filepath">/WebSphere/AppServer/lib/ext</span>. </p>
<div class="note note"><span class="notetitle">Note:</span> Depending
on your settings, your application server and <span class="ph"> WebSphere Portlet
Factory</span> Designer may need
to be restarted to correctly register all feature set files.</div>
<p class="p"><strong class="ph b">Matching
file encoding</strong></p>
<p class="p">To communicate successfully, a Siebel server
and an external Siebel client (such as <span class="ph"> WebSphere Portlet
Factory</span>), must use a compatible
file encoding. For example, the default Windows file encoding is Cp1252.
On RedHat Linux, the default file encoding is UTF-8. </p>
<p class="p">To use
Siebel builders successfully, ensure that your client platform matches
the file encoding used by your Siebel server. For example, when <span class="ph">WebSphere Portlet
Factory</span> Designer runs
on the Linux system, the default
file encoding for the JVM can be different than the default file encoding
used by the Siebel server. Siebel requires that a client that uses
the Java API to connect to a
Siebel server have the same default file encoding as the Siebel server.
If the default file encoding settings differ, the Siebel coordinator
fails during regeneration with the message <samp class="ph codeph">Could not open
a session in 4 attempts</samp>. This causes model errors and the
model does not run. </p>
<div class="p">To regenerate the Siebel builders correctly
on a Linux system, set the
Eclipse JVM default file encoding to be the same as that used by the
Siebel server. Navigate to the Eclipse install root directory and
open the <span class="ph filepath">eclipse.ini</span> file. It contains the JVM
startup parameters to be used by Eclipse.  Add to the file a line
that defines the coding that the connecting client must use. For example,
if the Siebel server uses <samp class="ph codeph">utf8</samp> default file encoding,
add the following line. <pre class="pre codeblock">-Dfile.encoding=utf8</pre>
When
you restart Eclipse and <span class="ph">WebSphere Portlet
Factory</span> Designer,
the client default encoding is set to the same value as the server
and the Siebel builders regenerate correctly.</div>
<p class="p"><strong class="ph b">Using <span class="ph filepath">testSiebelConnection.jsp</span> to
test your Siebel connection</strong></p>
<p class="p">If you want to use <span class="ph filepath">WebContent\factory\util\testSiebelConnection.jsp</span> to
quickly ensure that your connection properties are correct, you will
need to:</p>
<ul class="ul"><li class="li">Create a project and deploy it to your test server</li>
<li class="li">In your browser opening the following URL. <pre class="pre codeblock">http://yourserver:port/projectName/factory/util/testSiebelConnection.jsp</pre>
</li>
<li class="li">Follow instructions on test page</li>
</ul>
</div>
<div class="section" id="siebel_getting_started__configrequire"><a name="siebel_getting_started__configrequire"><!-- --></a><h4 class="title sectiontitle">2.0 Configuration requirements</h4><p class="p">The
first step in using the Siebel builder is establishing a properties
file. This file is located in a project's <span class="ph filepath">WEB-INF/config/siebel_config/</span> directory.
The properties file (<span class="ph filepath">default_connection.properties</span>)
is used to specify connection properties such as the connection string
to the Siebel server, and a valid Siebel user name and password. </p>
<div class="note note"><span class="notetitle">Note:</span> Because the <span class="ph filepath">WebContent/WEB-INF/config</span> directory
is by default an excluded resource, you need to override the team
file and directory exclusion to ensure that your new or modified file
is kept updated in source control storage. </div>
<p class="p">A
typical properties file might contain the following properties:</p>
<pre class="pre codeblock">#Default connection properties for the Siebel Builder
ConnectString=siebel://10.10.2.125:2320/siebel_es/SSEObjMgr_enu/wicdemo9
UserName=sadmin
Password=sadmin</pre>
<p class="p">A Siebel <span class="ph filepath">default_connection.properties</span> file
is installed with the Siebel Builder. This properties file is located
in the <span class="ph filepath">WEB-INF/config/siebel_config/ </span>directory.
You can use the file to establish your basic Siebel settings and view
examples of valid property values. As configured at install time,
this file is applicable to a Siebel server running on the local host.</p>
<p class="p"><strong class="ph b">SiebelRepository
property</strong></p>
<div class="p">If Siebel business component fields are not being
discovered and displayed by the Siebel builders in <span class="ph"> WebSphere Portlet
Factory</span>  Designer, then the
Siebel server you are accessing may use a repository with a non-default
name. If you experience this behavior, then add the following line
to your Siebel connection properties file (<span class="ph filepath">web-inf/config/siebel_config/default_connection.properties</span>):<pre class="pre codeblock">RepositoryName=Siebel Repository </pre>
Replace <samp class="ph codeph">Siebel
Repository</samp> with the name of your active repository. </div>
</div>
<div class="section" id="siebel_getting_started__sesspoolprop"><a name="siebel_getting_started__sesspoolprop"><!-- --></a><h4 class="title sectiontitle">3.0 Session pooling and properties</h4><p class="p">The
Siebel builder support pooling of sessions to your backend Siebel
servers. By default session pooling is disabled (a reasonable configuration
for a <span class="ph"> WebSphere Portlet
Factory</span> Designer
environment). However, on the server you may want to enable pooling
to minimize the number of sessions created and improve overall builder
runtime performance.</p>
<p class="p">You can add the properties in the table
below to a Siebel project <span class="ph filepath">.../WEB-INF/config/override.properties</span> file
to enable and configure Siebel session pooling.</p>
<div class="note note"><span class="notetitle">Note:</span> Siebel builders
use the standard open source Apache Commons pooling implementation.
See the Commons documentation for the GenericKeyedObjectPool class
on the Apache web site for detailed information on the meanings of
these properties.</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 8. Properties to enable
and configure Siebel session pooling</span></caption><thead class="thead" align="left"><tr class="row c9" valign="bottom"><th class="entry c18" valign="bottom" id="d52e13741">Property</th>
<th class="entry c19" valign="bottom" id="d52e13743">Default Value</th>
<th class="entry c19" valign="bottom" id="d52e13745">Effect</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row c9" valign="top"><td class="entry c20" valign="top" headers="d52e13741 ">bowstreet.siebel.session.pool.enabled</td>
<td class="entry c21" valign="top" headers="d52e13743 "><kbd class="ph userinput">false</kbd></td>
<td class="entry c21" valign="top" headers="d52e13745 ">If defined and set to TRUE, session pooling
is enabled.</td>
</tr>
<tr class="row c9" valign="top"><td class="entry c20" valign="top" headers="d52e13741 ">bowstreet.siebel.session.pool.maxActiveSessions</td>
<td class="entry c21" valign="top" headers="d52e13743 "><kbd class="ph userinput">8</kbd></td>
<td class="entry c21" valign="top" headers="d52e13745 ">Maximum number of active sessions at one
time. <p class="p">When negative, there is no limit to the number of active
sessions.</p>
</td>
</tr>
<tr class="row c9" valign="top"><td class="entry c20" valign="top" headers="d52e13741 ">bowstreet.siebel.session.pool.maxIdleSessions</td>
<td class="entry c21" valign="top" headers="d52e13743 "><kbd class="ph userinput">8</kbd></td>
<td class="entry c21" valign="top" headers="d52e13745 ">Maximum number of idle session in the pool
at one time.<p class="p">When value is negative, there is no limit to the number
of idle sessions.</p>
</td>
</tr>
<tr class="row c9" valign="top"><td class="entry c20" valign="top" headers="d52e13741 ">bowstreet.siebel.session.pool.maxWait</td>
<td class="entry c21" valign="top" headers="d52e13743 "><kbd class="ph userinput">-1</kbd></td>
<td class="entry c21" valign="top" headers="d52e13745 ">Maximum time in milliseconds to wait for
a session to be returned to the pool.<p class="p">When value is negative, the
requesting thread will wait indefinitely for a session to be returned.
If no session is returned to the pool in the specified time, then
the requesting thread receives an exception.</p>
</td>
</tr>
<tr class="row c9" valign="top"><td class="entry c20" valign="top" headers="d52e13741 ">bowstreet.siebel.session.pool.maxIdleTimeSeconds</td>
<td class="entry c21" valign="top" headers="d52e13743 "><kbd class="ph userinput">1800</kbd></td>
<td class="entry c21" valign="top" headers="d52e13745 ">Maximum time in seconds that a session is
allowed to remain idle in the pool before being evicted and reclaimed.<p class="p">When
negative, no sessions will be evicted based upon idle time.</p>
</td>
</tr>
<tr class="row c9" valign="top"><td class="entry c20" valign="top" headers="d52e13741 ">bowstreet.siebel.session.pool.idleSessionSweepSeconds</td>
<td class="entry c21" valign="top" headers="d52e13743 "><kbd class="ph userinput">30</kbd></td>
<td class="entry c21" valign="top" headers="d52e13745 ">Maximum time in seconds between sweeps of
the pool looking for idle sessions to evict and reclaim. <p class="p">When negative,
pool sweeping is disabled.</p>
</td>
</tr>
<tr class="row c9" valign="top"><td class="entry c20" valign="top" headers="d52e13741 ">bowstreet.siebel.session.pool.maxAgeMinutes</td>
<td class="entry c21" valign="top" headers="d52e13743 "><kbd class="ph userinput">-1</kbd></td>
<td class="entry c21" valign="top" headers="d52e13745 ">Maximum age in minutes of a session before
it is evicted and reclaimed, no matter what the idle session settings
may be.<p class="p">When value is negative, sessions are never evicted and reclaimed
due to their age.</p>
<div class="note note"><span class="notetitle">Note:</span> This is a feature / property specific to <span class="ph"> WebSphere Portlet
Factory</span> that is not implemented
in the Commons library.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic concept nested0" xml:lang="en-us" id="c_configuring"><a name="c_configuring"><!-- --></a><h1 class="title topictitle1">Configuring <span class="ph">IBM WebSphere Portlet Factory</span></h1>
<div class="body conbody"><p class="shortdesc">You can configure many aspects of your work environment. </p>
<p class="p">Follow this wiki link <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewRecent.xsp?searchValue=configure%2C%20configuring" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewRecent.xsp?searchValue=configure%2C%20configuring</a> for additional information about configuring <span class="ph"> WebSphere Portlet
Factory</span>.</p>
</div>
<div class="related-links"></div><div class="topic task nested1" xml:lang="en-us" id="t_change_prefs"><a name="t_change_prefs"><!-- --></a><h2 class="title topictitle2">Changing <span class="ph">IBM WebSphere Portlet Factory</span> Designer
preferences</h2>
<div class="body taskbody"><p class="shortdesc">Follow these steps to change the <span class="ph"> WebSphere Portlet
Factory</span> Designer
preferences.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Display the <span class="ph"> WebSphere Portlet
Factory</span> Designer
Preferences window. </span></li>
<li class="li step"><span class="ph cmd">On the Preferences window, enter a value for one or more preferences.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Apply</span>.</span></li>
</ol>
<div class="section result"><div class="note note"><span class="notetitle">Note:</span> Your changes take effect at various times depending on the item
you select.</div>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_display_factory_pref"><a name="t_display_factory_pref"><!-- --></a><h3 class="title topictitle3">Displaying <span class="ph">IBM WebSphere Portlet Factory</span> preferences</h3>
<div class="body taskbody"><p class="shortdesc">You can display the <span class="ph"> WebSphere Portlet
Factory</span> Preferences dialog.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the <span class="ph"> WebSphere Portlet
Factory</span> perspective,
click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Preferences</span></span>.</span> <p class="p">The Preferences dialog displays. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the list, click <span class="ph uicontrol">WebSphere Portlet
Factory Designer</span>.</span> <p class="p">The Preferences
dialog displays General settings for the <span class="ph"> WebSphere Portlet
Factory</span> Designer. For more
information, see the help for the dialog. </p>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_restore_prefs"><a name="t_restore_prefs"><!-- --></a><h3 class="title topictitle3">Restoring the <span class="ph">IBM WebSphere Portlet Factory</span> Designer
default preferences</h3>
<div class="body taskbody"><p class="shortdesc">Follow these steps to restore the <span class="ph"> WebSphere Portlet
Factory</span> Designer
default preferences.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Display the <span class="ph"> WebSphere Portlet
Factory</span> Designer
Preferences window. </span></li>
<li class="li step"><span class="ph cmd">In the Preferences window, click <span class="ph uicontrol">Restore Defaults</span>.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Apply</span>.</span></li>
</ol>
<div class="section result"><div class="note note"><span class="notetitle">Note:</span> Your changes take effect at various times depending on the item
you select.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_setting_props"><a name="c_setting_props"><!-- --></a><h3 class="title topictitle3">About preferences</h3>
<div class="body conbody"><p class="shortdesc">In <span class="ph"> WebSphere Portlet
Factory</span> Designer,
you can set various preferences. </p>
<div class="section"><p class="p">These preferences determine functionality and appearance of the <span class="ph"> WebSphere Portlet
Factory</span> Designer editing environment
and the server runtime resources to use when you run a model. </p>
<p class="p">The set
of <span class="ph"> WebSphere Portlet
Factory</span> Designer default preferences
are stored in the <span class="ph"> WebSphere Portlet
Factory</span> Designer <span class="ph filepath">preferences.ini</span> file,
which is in the <span class="ph filepath">eclipse\plugins\com.bowstreet.designer.ui</span> directory.
If you change the default preferences, the customized set of preferences is
stored in your workspace, so that it does not overwrite the default preferences.
This storage strategy allows you to restore the default preferences at any
time.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_override_files"><a name="c_override_files"><!-- --></a><h4 class="title topictitle4">override.properties files</h4>
<div class="body conbody"><p class="shortdesc">Two override properties files are available to take the
place of property settings that are set in other property files.</p>
<div class="p">The override feature is useful to replace a setting in another
property file, such as <span class="ph filepath">bowstreet.properties</span> or <span class="ph filepath">cluster.properties</span>,
typically logging settings. The <span class="ph filepath">override.properties</span> file
is used by <span class="ph">IBM WebSphere Portlet Factory</span> Designer
to specify logging properties for <span class="ph"> WebSphere Portlet
Factory</span> Designer, and to override
properties specified in the IBM server <span class="ph filepath">config</span> directory.<div class="note note"><span class="notetitle">Note:</span> You
need to manually create the <span class="ph filepath">override.properties</span> file when you need it. </div>
</div>
<p class="p">The override property files are:</p>
<dl class="dl"><dt class="dt dlterm">File specified in preferences</dt>
<dd class="dd">Contains override properties that are specified by the preferences.
The override file specified in <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Preferences</span></span> usually contains
a single set of properties that usually differ from runtime properties.
For example, logging properties, profiles in database settings, and
settings for builders. You can set this preference to the <span class="ph filepath">override.properties</span> file
in the following plugin location.<pre class="pre codeblock"><span class="ph filepath">designer_core_<var class="keyword varname">version_number</var>/config</span></pre>
<p class="p">If
you change a property during development, use this preference to insure
that your changes are correctly propagated across projects and throughout
the IBM system.</p>
</dd>
<dt class="dt dlterm">File located within project</dt>
<dd class="dd">In each project <span class="ph filepath">WEB-INF/config</span> directory,
a project-specific <span class="ph filepath">override.properties</span> file can
be used to supply overrides that apply both in <span class="ph"> WebSphere Portlet
Factory</span> Designer (at development
time) and when the model is executed (at runtime). These properties
are unique to the project and application and thus are set at the
project level. A typical example of such a property might be a profile
selection handler required for developing an application.</dd>
</dl>
<p class="p">Each time <span class="ph"> WebSphere Portlet
Factory</span> Designer
is started, the following actions occur:</p>
<ol class="ol"><li class="li"><span class="ph"> WebSphere Portlet
Factory</span> Designer attempts
to locate the <span class="ph filepath">override.properties</span> file specified
in the <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Preferences</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Designer</span></span> page. If the file is not found or not specified, <span class="ph"> WebSphere Portlet
Factory</span> Designer defaults
to the version found in the following path: <p class="p"><span class="ph filepath"><var class="keyword varname">Designer
Install Location</var>/plugins/com.bowstreet.designer.core_<var class="keyword varname">x</var>.<var class="keyword varname">y</var>.<var class="keyword varname">z</var>/config/override.properties</span></p>
</li>
<li class="li">The following properties are added or overwritten in <span class="ph filepath">override.properties</span>. <pre class="pre codeblock">logging.driver.eventSink.directory=<var class="keyword varname">eclipseinstalldir</var>
/workspace/.metadata/.plugins/com.bowstreet.designer.core/logs
logging.driver.eventSink.prefix=designer_event_
logging.event.flush.interval=1 </pre>
<p class="p">This ensures that <span class="ph"> WebSphere Portlet
Factory</span> Designer logs are
written to the appropriate place. All other properties in <span class="ph filepath">override.properties</span> are
unaffected. </p>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested3" xml:lang="en-us" id="r_designer_editing_prefs"><a name="r_designer_editing_prefs"><!-- --></a><h4 class="title topictitle4"><span class="ph">IBM WebSphere Portlet Factory</span> Designer editing
preferences</h4>
<div class="body refbody"><p class="shortdesc">This table describes the <span class="ph"> WebSphere Portlet
Factory</span> Designer
editing preferences you can change.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e14328"><span class="ph"> WebSphere Portlet
Factory</span> Designer
preference</th>
<th class="entry" valign="bottom" id="d52e14335">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14328 ">Browser Command</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14335 ">Enter the path to the Web
browser to launch when running models. <div class="note note"><span class="notetitle">Note:</span> Changing this setting effects
new run configurations only, not existing run configurations.</div>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14328 ">Override Properties File
Location</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14335 ">Use this setting to specify
the <span class="ph filepath">override.properties</span> file to use. Settings in this
file are used to replace default property settings established in <span class="ph filepath">preferences.ini</span> and
also determine log locations.<div class="note note"><span class="notetitle">Note:</span> Changes made to the value of this field
do not take effect until <span class="ph"> WebSphere Portlet
Factory</span> Designer
is restarted.</div>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e14328 ">IBM Support Assistant Location</td>
<td class="entry" valign="top" headers="d52e14335 ">If you have IBM Support Assistant installed, specify
the path used to launch it.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14328 ">Show Hidden Objects</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14335 ">Enable this checkbox to set
the WebApp view to show all the objects added by the builder calls to the
WebApp. When you click <span class="ph uicontrol">Apply</span>, all hidden objects are
displayed in the WebApp View. <div class="note note"><span class="notetitle">Note:</span> The variables, methods, LJOs, and so on
designated as hidden objects by the developer do not show up in the Reference
Chooser, regardless of the status of the <span class="ph uicontrol">Show Hidden Objects</span> check
box.</div>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14328 ">Wrap View Data</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14335 ">Enable this check box to
wrap text lines in various Domain viewers. <p class="p">The Domain viewers associated
with the WebApp Tree view display the contents of WebApp objects (such as
pages or methods) In some cases, viewing this information on a single line
is useful. In other cases, the information is better displayed as wrapped
text. Use this setting to enable wrapping.</p>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e14328 ">Expand view on opening builder</td>
<td class="entry" valign="top" headers="d52e14335 ">Expands the view when you open the builder.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14328 ">Builder Call Editor</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e14335 ">Select how you want to display
builder call editors:<dl class="dl"><dt class="dt dlterm">Tabbed Panel</dt>
<dd class="dd">Displays builder call editors as tabbed panels in the builder call editor
view. You can open multiple builder call editors when you use this setting.</dd>
<dt class="dt dlterm">Dialog Windows</dt>
<dd class="dd">Displays builder call editors as modal dialog boxes. You can open only
one builder call editor when you use this setting.</dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> A change in this setting effects models opened after
the preferences are saved. To apply this setting to an open model, you must
close and re-open the model.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_mod_jdk"><a name="t_mod_jdk"><!-- --></a><h2 class="title topictitle2">Modifying the server JDK</h2>
<div class="body taskbody"><p class="shortdesc">Follow these steps to modify the server JDK.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">For JDK Version 1.3.1, refer to the additional documentation
for your application or portal server because the specific steps vary
from vendor to vendor.</span></li>
<li class="li step stepexpand"><span class="ph cmd">For JDK Version 1.4 or later, do the following:</span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Add the following JVM parameter to your application
server.</span> <pre class="pre codeblock">-Djava.awt.headless=true</pre>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Restart the application server.</span></li>
</ol>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_mod_server_props"><a name="t_mod_server_props"><!-- --></a><h2 class="title topictitle2">Modifying server.properties</h2>
<div class="body taskbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> reads
the information in <span class="ph filepath">WEB-INF/config/server.properties</span> and
promotes it to the system properties for the Java Virtual Machine for the
application server.</p>
<div class="section context"><div class="note note"><span class="notetitle">Note:</span> If you use a space character in a property value, you must
precede the space character with an escape character "\". If you use a forward
slash character "/" in a property, you must enter it as a "//".</div>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Back up the <span class="ph filepath">WEB-INF/config/server.properties</span> file.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Open the server.properties file in a text editor, such as Notepad.</span></li>
<li class="li step stepexpand"><span class="ph cmd">To set the URL of the proxy server, assign it to one or both of
the following properties in <span class="ph filepath">WEB-INF/config/server.properties</span>:</span><ul class="ul choices"><li class="li choice">For non-SSL, set <samp class="ph codeph">http.proxyHost</samp>. For example: <samp class="ph codeph">http.proxyHost=proxyservername.proxyserverdomainname.com</samp></li>
<li class="li choice">For SSL, set <samp class="ph codeph">https.proxyHost</samp>. For example: <samp class="ph codeph">https.proxyHost=proxyservername.proxyserverdomainname.com</samp></li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">To set the port that <span class="ph"> WebSphere Portlet
Factory</span> uses
to communicate with the proxy server, assign it to one or both of the following
properties in WEB-INF/config/server.properties:</span><ul class="ul choices"><li class="li choice">For non-SSL, set <samp class="ph codeph">http.proxyPort</samp>. For example: <samp class="ph codeph">http.proxyPort=9090</samp></li>
<li class="li choice">For SSL, set <samp class="ph codeph">https.proxyPort</samp>. For example: <samp class="ph codeph">https.proxyPort=9090</samp></li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">If the proxy server requires authentication, provide the username.
Add one or both of the following properties to the <span class="ph filepath">WEB-INF/config/server.properties</span> file:</span><ul class="ul choices"><li class="li choice">For non-SSL, add <samp class="ph codeph">http.proxyUser</samp> and assign it the
username. For example: <samp class="ph codeph">http.proxyUser=myusername</samp></li>
<li class="li choice">For SSL, add <samp class="ph codeph">https.proxyUser</samp> and assign it the username.
For example: <samp class="ph codeph">https.proxyUser=myusername</samp></li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">If the proxy server requires authentication, provide the password.
Add one of the following properties to the <span class="ph filepath">WEB-INF/config/server.properties</span> file:</span><ul class="ul choices"><li class="li choice">For non-SSL, add <samp class="ph codeph">http.proxyPassword</samp> and assign it
the password. For example: <samp class="ph codeph">http.proxyPassword=mypassword</samp></li>
<li class="li choice">For SSL, add <samp class="ph codeph">https.proxyPassword</samp> and assign it the
password. For example: <samp class="ph codeph">https.proxyPassword=mypassword</samp></li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Save <span class="ph filepath">WEB-INF/config/server.properties</span>, and
restart the application server.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic reference nested2" xml:lang="en-us" id="r_setting_factory_properties"><a name="r_setting_factory_properties"><!-- --></a><h3 class="title topictitle3">Setting <span class="ph">IBM WebSphere Portlet Factory</span> properties</h3>
<div class="body refbody"><p class="shortdesc"><span class="ph"> WebSphere Portlet
Factory</span> properties
affect some aspects of development.</p>
<div class="section"><p class="p">The following aspects of model development are determined
by <span class="ph"> WebSphere Portlet
Factory</span> properties.
All properties shown are in the <span class="ph filepath">WEB-INF/config/cluster.properties</span> file
unless otherwise noted.</p>
<dl class="dl"><dt class="dt dlterm">Setting the compiler to use for JSP and method compilation</dt>
<dd class="dd">You can determine the Java compiler
that the <span class="ph"> WebSphere Portlet
Factory</span> servlet
uses to compile methods and JSP pages.<pre class="pre codeblock"># specifies the compiler to use
bowstreet.methods.compiler=C:/jdk131/bin/javac.exe</pre>
</dd>
<dt class="dt dlterm">Determining the target directory for Java source
files for the model</dt>
<dd class="dd">The <span class="ph"> WebSphere Portlet
Factory</span> servlet
generates a Java source file
for all of the methods in a model. You can determine the directory
to which this file is generated. The default directory is the <span class="ph filepath">WEB-INF/work/source</span> directory.<pre class="pre codeblock"># This is where the generated source(.java) will go
bowstreet.methods.sourceDirectory=${bowstreet.rootDirectory}/work/source</pre>
</dd>
<dt class="dt dlterm">Determining the output directory for compiled methods</dt>
<dd class="dd">The <span class="ph"> WebSphere Portlet
Factory</span> servlet
compiles the generated Java source
file for model methods to a directory that you can specify. The default
is the <span class="ph filepath">WEB-INF/work/classes</span> directory.<pre class="pre codeblock"># This is where the compiled class will go. This should be in a place where the dynamic class loader can pick it up.
bowstreet.methods.targetDirectory=${bowstreet.rootDirectory}/work/classes</pre>
</dd>
<dt class="dt dlterm">Adding your own builder definitions to <span class="ph"> WebSphere Portlet
Factory</span> Designer</dt>
<dd class="dd">You can add one or more directories from which <span class="ph"> WebSphere Portlet
Factory</span> Designer loads builder
definitions.<pre class="pre codeblock">#In bowstreet.properties file
# classpath-like syntax (semi-colon delimited) for location of BuilderDef files
# default if unavailable is ${bowstreet.rootDirectory}/builders
bowstreet.location.builderdef.path=${bowstreet.rootDirectory}/builders</pre>
</dd>
<dt class="dt dlterm">Configuring dynamic class loading</dt>
<dd class="dd">The value you set in the <samp class="ph codeph">bowstreet.dynamic.class.load.path</samp> property
determines the directory or directories from which <span class="ph"> WebSphere Portlet
Factory</span> Designer and the <span class="ph"> WebSphere Portlet
Factory</span> servlet will dynamically
load Java classes. This property
is in the <span class="ph filepath">WEB-INF/config/bowstreet.properties</span> file.<div class="note note"><span class="notetitle">Note:</span> Dynamically-loaded
classes cannot be on your Java class
path.</div>
<p class="p">To specify multiple locations from which to dynamically
load classes, append the additional paths in the property by separating
each path with a comma, as in this example:</p>
<pre class="pre codeblock">#In bowstreet.properties file
bowstreet.dynamic.class.load.path=${bowstreet.rootDirectory}/work/classes,${bowstreet.rootDirectory}/work/my_classes
bowstreet.dynamic.class.load.checkTimestamp=true</pre>
<p class="p">The <samp class="ph codeph">bowstreet.dynamic.class.load.checkTimestamp</samp> property,
if set to <samp class="ph codeph">true</samp>, enables the time check for classes
being loaded by the dynamic class loader. If the property is set to <samp class="ph codeph">true</samp> and
a class changes, the class will be dynamically reloaded on the next
instance creation, providing it is on the loader class path and is
one of the supported classes to be dynamically loaded.</p>
<div class="note note"><span class="notetitle">Note:</span> For
performance reasons, it is recommended that the <samp class="ph codeph">bowstreet.dynamic.class.load.checkTimestamp</samp> property
be set to <samp class="ph codeph">true</samp> in a development environment and <samp class="ph codeph">false</samp> in
production.</div>
</dd>
<dt class="dt dlterm">Setting the schema reference</dt>
<dd class="dd">The <span class="ph"> WebSphere Portlet
Factory</span> SOAP/WSDL
support specifies the 2001 version of XML Schema by default, but you
can set the appropriate reference to use by un-commenting one of the
properties listed below:<pre class="pre codeblock"># Uncomment these parameters to add 1999 and/or 2000/11 XMLSchema References into
# SOAP responses when using pre-Factory 5.9 SOAPPC and SOAPDOC URLs (not used by Axis)
#bowstreet.soap.schemaRef.1999=true
#bowstreet.soap.schemaRef.2000=true</pre>
<p class="p">For example:</p>
<pre class="pre codeblock">&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
&lt;SOAP-ENV:Body&gt;
&lt;ns1:gcdXmlResponse xmlns:ns1="http://bowstreet.com/2002/03/models/xmethods/gcd"&gt;
&lt;gcdreply&gt;&lt;distance&gt;2708.88&lt;/distance&gt;&lt;/gcdreply&gt;
&lt;/ns1:gcdXmlResponse&gt;
&lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;</pre>
</dd>
<dt class="dt dlterm">Setting the SOAP schema location</dt>
<dd class="dd">Some schemas found in WSDL documents that reference SOAP encoding
structures do not always specify an import statement or schemaLocation
attribute for the SOAP encoding schema. If the parse fails, <span class="ph"> WebSphere Portlet
Factory</span> automatically adds
the import statement and re-parses the schema.<p class="p">You can specify the
location from which <span class="ph"> WebSphere Portlet
Factory</span> retrieves
the SOAP encoding schema with the property, which is by default set
to: <samp class="ph codeph">bowstreet.location.schemas</samp></p>
</dd>
<dt class="dt dlterm">Proxy support for WSDL and SOAP calls</dt>
<dd class="dd">For both WSDL retrieval and for outbound service calls the underlying
SOAP and HTTP code leverages the standard Java properties (<span class="ph">http.proxyHost</span>, <samp class="ph codeph">http.proxyPort</samp>, <samp class="ph codeph">http.proxyUser</samp>, <samp class="ph codeph">http.proxyPasswd</samp>).
These values can be set in the "<span class="ph filepath">server.properties</span>"
file or they can be set with a property (<samp class="ph codeph">-Dhttp.proxyHost=foo</samp>,
and so on) on the JVM command line for the application server.<p class="p">In <span class="ph"> WebSphere Portlet
Factory</span> 5.9,
additional per-service call proxy settings are available in the Service
Call builder's Advanced Inputs section.</p>
</dd>
<dt class="dt dlterm">Configuring schema cache size</dt>
<dd class="dd">Schema objects generated by the Schema Builder or the Schema Builder's
API are cached. This allows another thread or Webapp looking for the
same schema to access the cached object with no re-parsing overhead.
However, like all caches this cache uses memory. As a result, limiting
the maximum size of the cache is desirable.<p class="p">You can control the
Maximum Schema Cache size using the following property: <samp class="ph codeph">bowstreet.schema.maxCacheSize=</samp> .
The default max cache size is 50 schema Objects.</p>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_mod_start_script_app_server"><a name="t_mod_start_script_app_server"><!-- --></a><h2 class="title topictitle2">Modifying the start script for the application server</h2>
<div class="body taskbody"><p class="shortdesc">You can redirect URL access through an outbound proxy server by
adding the proxy server's URL and port information to the script that is used
to start the application server.</p>
<div class="section context">If authentication is required, you can also add a username and password.
The directions below provide just a brief description on how to modify the
start script. For more information, refer to the documentation for your application
server.</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Back up the script used to start the application server.</span></li>
<li class="li step"><span class="ph cmd">Open the script used to start the application server in a text
editor, such as Notepad. </span> For BEA WebLogic running on Windows NT/Windows
2000, this file would be startWebLogic.cmd. The properties described in "Modifying
server.properties" can be provided by using an environment definition (-D)
on the startup command. For example: <samp class="ph codeph">Dhttp.proxyHost=
proxyservername.proxyserverdomainname.com</samp></li>
<li class="li step"><span class="ph cmd">Save the start script, and restart the application server.</span></li>
</ol>
<div class="example"><p class="p">The following is an example of the changes, for BEA WebLogic.
The changes added are in bold.</p>
<pre class="pre codeblock">"%JAVA_HOME%\bin\java" -hotspot -ms64m -mx64m -classpath %bowstreet_CLASS_PATH%;%CLASSPATH% -Dweblogic.Domain=companydomainname -Dweblogic.Name=computername "-Dbea.home=C:\bea10" -Dweblogic.management.password=%WLS_PW% -Dweblogic.ProductionModeEnabled=%STARTMODE% "-Djava.security.policy==C:\bea10\wlserver6.1/lib/weblogic.policy" <strong class="ph b">"-Dhttp.proxyHost=proxyservername.proxyserverdomainname.com" "-Dhttp.proxyPort=9090" "-Dhttp.proxyUser=myusername" "-Dhttp.proxyPassword=mypassword"</strong></pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_cnfg_consolewin"><a name="t_cnfg_consolewin"><!-- --></a><h2 class="title topictitle2">Configuring a console window for <span class="ph">IBM WebSphere Portlet Factory</span></h2>
<div class="body taskbody"><p class="shortdesc">It is useful to send debug information to the Eclipse console
window. </p>
<div class="section context"><p class="p">Information returned to the console can help you troubleshoot
problems with models and applications.</p>
<p class="p">To display a console
window for <span class="ph"> WebSphere Portlet
Factory</span> Designer,
perform the following steps:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Locate the shortcut that you use to launch <span class="ph"> WebSphere Portlet
Factory</span> Designer.  </span> <p class="p">The <span class="ph"> WebSphere Portlet
Factory</span> install program adds
the <span class="ph menucascade"><span class="ph uicontrol">IBM WebSphere</span> &gt; <span class="ph uicontrol">Portlet Factory</span> &gt; <span class="ph uicontrol">Designer</span></span> shortcut
to your <span class="ph uicontrol">Programs</span> menu.</p>
 </li>
<li class="li step stepexpand"><span class="ph cmd"> Right-click the shortcut and click <span class="ph uicontrol">Properties</span>. </span></li>
<li class="li step stepexpand"><span class="ph cmd"> In <span class="ph uicontrol">Target</span> in the Properties dialog,
insert the following values after the executable image and before
any other arguments on the command:</span> <div class="p"><pre class="pre codeblock">-consolelog -debug</pre>
</div>
  For example: <pre class="pre codeblock">C:\eclipse\eclipsec.exe -consolelog -debug -vmargs -Xmx256m</pre>
</li>
</ol>
<div class="section result"><p class="p">These flags display a console window to which are sent
all debug statements that occur during generation.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="devenv_config"><a name="devenv_config"><!-- --></a><h3 class="title topictitle3">Configuration of a development environment</h3>
<div class="body conbody"><p class="shortdesc">There are quite a few tasks that you can perform to configure your <span class="ph">IBM WebSphere Portlet Factory</span> development and runtime
environment. </p>
<div class="section" id="devenv_config__consolewindow"><a name="devenv_config__consolewindow"><!-- --></a><h4 class="title sectiontitle">Console window use for debugging</h4><p class="p">You
can use the command consoles for both the application which <span class="ph">IBM WebSphere Portlet Factory</span> runs
and for <span class="ph"> WebSphere Portlet
Factory</span> Designer.
Command consoles let you view any <samp class="ph codeph">System.out.println()</samp> statements
used in your code. Any <samp class="ph codeph">System.out.println()</samp> statements in
a builder Java class appear in the <span class="ph"> WebSphere Portlet
Factory</span> Designer
console. Any <samp class="ph codeph">System.out.println()</samp> statements in the Linked
Java Objects (LJOs) or methods in a model appear in the application server
console. </p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="devenv_adding_jars"><a name="devenv_adding_jars"><!-- --></a><h2 class="title topictitle2">Using existing JAR files with <span class="ph">IBM WebSphere Portlet Factory</span> projects</h2>
<div class="body taskbody"><p class="shortdesc">You can using existing JAR files in the Web application
that you are developing. </p>
<div class="section context"><p class="p">You can have APIs that need to be accessed at design time
(for example, by a custom builder). Or you can have a JAR (for example,
from third-party software) that you need to reference from a builder
generation or builder coordinator class. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a copy of the JAR to one of the following <span class="ph"> WebSphere Portlet
Factory</span> project directories. </span><ul class="ul choices"><li class="li choice"><span class="ph filepath">WEB-INF/lib</span> or <span class="ph filepath">WEB-INF/work/lib</span><p class="p">The <span class="ph filepath">WEB-INF/lib</span> and <span class="ph filepath">WEB-INF/work/lib</span> directories
are used at runtime on the <span class="ph">application, portal server,
or mashup</span>. The JARs in these
directories are dynamically loaded by <span class="ph"> WebSphere Portlet
Factory</span>. This is convenient
during development.</p>
</li>
<li class="li choice"><span class="ph filepath">WEB-INF/clientLibs</span><p class="p">If you need a JAR
in your project just for compilation or design time access and the
JAR is already available on your <span class="ph">application, portal
server, or mashup</span>, put that
JAR in <span class="ph filepath">WEB-INF/clientLibs</span>. This directory is
primarily used for compilation against APIs that already are available
on the application server.  No classes from <span class="ph filepath">WEB-INF/clientLibs</span> are
loaded and used at runtime on the server. The directory is a safe
place to put application server JARs that you need to compile against.</p>
</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">In Eclipse Project Explorer, right-click the <span class="ph"> WebSphere Portlet
Factory</span> project and click <span class="ph menucascade"><span class="ph uicontrol">Properties</span> &gt; <span class="ph uicontrol">Java Build Path</span></span>. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Properties for your project dialog, click <span class="ph uicontrol">Libraries</span>.
 </span> <p class="p">A display shows a list of JAR files currently in the
project Java Build Path.</p>
 </li>
<li class="li step stepexpand"><span class="ph cmd"> Click one of the following buttons: </span><ul class="ul choices"><li class="li choice"><span class="ph uicontrol">Add JARs</span> if the JAR is within your
project structure</li>
<li class="li choice"><span class="ph uicontrol">Add External JARs</span> if the JAR is located
outside your project structure </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the JAR Selection dialog, navigate to the appropriate
directory and select the JAR to add to the project.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> in the JAR Selection dialog. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> in the Properties dialog. </span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_cnfg_dynclssloading"><a name="t_cnfg_dynclssloading"><!-- --></a><h2 class="title topictitle2">Configuring dynamic class loading</h2>
<div class="body taskbody"><p class="shortdesc">You can configure dynamic class loading by setting properties.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Navigate to the project <span class="ph filepath">WEB-INF/config</span> directory
and find the <span class="ph filepath">bowstreet.properties</span> and <span class="ph filepath">override.properties</span> files. </span> <p class="p">If the <span class="ph filepath">override.properties</span> file does
not exist, create it. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In a text editor, open the <span class="ph filepath">override.properties</span> file
and locate the following two properties.</span> <ul class="sl simple"><li class="sli"><samp class="ph codeph">bowstreet.dynamic.class.load.checkTimestamp</samp></li>
<li class="sli"><samp class="ph codeph">bowstreet.dynamic.class.load.path</samp></li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">If the properties are not in the file, open the <span class="ph filepath">bowstreet.properties</span> file,
and copy the lines that contain the properties and paste them in the <span class="ph filepath">override.properties</span> file.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph filepath">override.properties</span> file, change the settings as indicated in the following example. </span> <pre class="pre codeblock">bowstreet.dynamic.class.load.checkTimestamp=true
bowstreet.dynamic.class.load.path=
${bowstreet.rootDirectory}/work/classes,
${bowstreet.rootDirectory}/work/lib</pre>
<div class="note note"><span class="notetitle">Note:</span> Dynamically loaded
classes cannot be on the Java class path and be dynamically loaded. </div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Save and close the <span class="ph filepath">override.properties</span> file.</span></li>
</ol>
<div class="section result"><p class="p">Dynamic class loading is enabled. Each time the <span class="ph"> WebSphere Portlet
Factory</span> servlet fields a service
call, class file time stamps are examined. If a later time stamp exists,
a new version of a class is loaded. Typically, for performance reasons,
the <samp class="ph codeph">checkTimestamp</samp> property is set to true in a development
environment and false in production.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_configure_dynamic_class_loading"><a name="c_configure_dynamic_class_loading"><!-- --></a><h3 class="title topictitle3">About configuring dynamic class loading</h3>
<div class="body conbody"><p class="shortdesc">You can configure the <span class="ph">IBM WebSphere Portlet Factory</span> servlet to dynamically
load linked Java object, profile set manager and regen classes.</p>
<div class="section">Normally, the <span class="ph"> WebSphere Portlet
Factory</span> servlet
loads class files only at startup time. A class file might be used
by a Java-based web service or a Linked Java Object builder. You might
want to enable dynamic class loading to ensure that the service or
object calls the most recent version of the class file available.<p class="p">In
normal operating mode, class files in the classpath are loaded by
the default ClassLoader of the JVM each time the application server
is started. However, if the class file changes while the application
server is running (for instance if you recompile a Java file) the
default ClassLoader does not reload the class.</p>
<p class="p">In a development
environment, you may want to reload a class more frequently. However,
you may not want (or be able) to restart the application server every
time you make a change to a class file. This is when dynamic class
loading can be useful.</p>
<p class="p">Be aware that you incur a performance
cost when dynamic class loading is enabled. When dynamic class loading
is enabled, class file time stamps are checked for each call a model
makes to a service or linked object class. Given this, you are wise
to enable dynamic class loading only in a development environment
and to disable it in a development or production environment.</p>
<div class="note note"><span class="notetitle">Note:</span> In
development/production environments, make sure that all service class
files are in the <span class="ph"> WebSphere Portlet
Factory</span> servlet's
classpath.</div>
<p class="p">It is possible to configure the <span class="ph"> WebSphere Portlet
Factory</span> servlet to dynamically
load Java class files without requiring the application server to
restart. You might want to do this if you share a development <span class="ph"> WebSphere Portlet
Factory</span> servlet and frequently
update the Java classes used by your services.</p>
<div class="note note"><span class="notetitle">Note:</span> Depending
upon security implementation approach, dynamic class loading might
be available on your application server.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_devenv_eclipse_cload"><a name="c_devenv_eclipse_cload"><!-- --></a><h3 class="title topictitle3">Dynamic class loading</h3>
<div class="body conbody"><p class="shortdesc">Java classes may be dynamically loaded from the directory
or directories specified in the <samp class="ph codeph">bowstreet.dynamic.class.load.path</samp> property. </p>
<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#c_devenv_eclipse_cload__class_jar_dir">WebSphere Portlet Factory and WebSphere Portlet Factory Designer class and JAR directories</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_devenv_eclipse_cload__class_loading">How class loading works</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_devenv_eclipse_cload__tipsclassjar">Tips for working with class and JAR files</a></li>
</ul>
<div class="section" id="c_devenv_eclipse_cload__class_jar_dir"><a name="c_devenv_eclipse_cload__class_jar_dir"><!-- --></a><h4 class="title sectiontitle"><span class="ph"> WebSphere Portlet
Factory</span> and <span class="ph"> WebSphere Portlet
Factory</span> Designer class and
JAR directories</h4><p class="p">The default value of the <samp class="ph codeph">bowstreet.dynamic.class.load.path</samp> property
is the <span class="ph">IBM WebSphere Portlet Factory</span> <span class="ph filepath">WEB-INF/work/classes</span> and <span class="ph filepath">WEB-INF/work/lib</span> directories
of your project. </p>
<p class="p">The following directories are used for the
storage of Java class and JAR files in the <span class="ph"> WebSphere Portlet
Factory</span> project and web archive
(WAR) file system:</p>
<dl class="dl"><dt class="dt dlterm"><span class="ph filepath">WEB-INF/classes</span></dt>
<dd class="dd">A static directory used by <span class="ph"> WebSphere Portlet
Factory</span> to store class files.
Classes are loaded when they are referenced and are not checked for
changes. Server restart is required to refresh this directory and
see class file changes.</dd>
<dt class="dt dlterm"><span class="ph filepath">WEB-INF/lib</span></dt>
<dd class="dd">A static directory used by the <span class="ph"> WebSphere Portlet
Factory</span> to store JAR files.
JARs are loaded at application startup and not checked for changes.
Server restart is required to refresh this directory and see JAR changes.</dd>
</dl>
<dl class="dl"><dt class="dt dlterm"><span class="ph filepath">WEB-INF/work/classes</span></dt>
<dd class="dd">A directory used by <span class="ph"> WebSphere Portlet
Factory</span> Designer
to store dynamically reloadable class files. Changes to class files
may be used immediately without restarting <span class="ph"> WebSphere Portlet
Factory</span> Designer or the server.
For more information, see <a class="xref" href="designer-html-wrapper.htm#c_devenv_eclipse_cload__class_loading">How class loading works</a>.</dd>
<dt class="dt dlterm"><span class="ph filepath">WEB-INF/work/lib</span></dt>
<dd class="dd">A directory used by <span class="ph"> WebSphere Portlet
Factory</span> Designer
to store dynamically reloadable JAR files. Changes to JAR files may
be used immediately without restarting <span class="ph"> WebSphere Portlet
Factory</span> Designer or the server.
For more information, see <a class="xref" href="designer-html-wrapper.htm#c_devenv_eclipse_cload__class_loading">How class loading works</a>.</dd>
</dl>
<p class="p">The <span class="ph"> WebSphere Portlet
Factory</span> dynamic
class loader loads classes from the <span class="ph filepath">WEB-INF/work/classes</span> and <span class="ph filepath">WEB-INF/work/lib</span> folders. </p>
<p class="p">On
the server side, the <span class="ph"> WebSphere Portlet
Factory</span> dynamic
class loader delegates loading to the J2EE WAR class loader. This
class loader loads classes from the <span class="ph filepath">WEB-INF/classes</span> and <span class="ph filepath">WEB-INF/lib</span> folders
of the WAR file and delegates loading to the class loader of the application
server. </p>
<p class="p">On the <span class="ph"> WebSphere Portlet
Factory</span> Designer
side, the <span class="ph"> WebSphere Portlet
Factory</span> dynamic
class loader delegates loading to a <span class="ph"> WebSphere Portlet
Factory</span> WAR class loader.
Each <span class="ph"> WebSphere Portlet
Factory</span> project has
its own Designer WAR class loader that loads classes based on the
Eclipse Java Build Path for the current project.  The Designer WAR
class loader uses all entries in the Eclipse Java Build Path except
for those which are under the <span class="ph filepath">WEB-INF/work/classes</span> or <span class="ph filepath">WEB-INF/work/lib</span> folders
of the project.  The Designer WAR class loader delegates loading to
the Eclipse class loader.</p>
<p class="p">The delegation of loading enables
the <span class="ph"> WebSphere Portlet
Factory</span> project to
function in the Designer in the same manner as it does on the server. </p>
<div class="p">You
should adhere to the following guidelines.<ul class="ul"><li class="li">In the <span class="ph filepath">WEB-INF/lib</span> or <span class="ph filepath">WEB-INF/work/lib</span> folders
of the project, place JAR files that are required by the application
and need to be packaged in the WAR file. </li>
<li class="li">For those JAR files that are required by the application but are
already available in the application server at runtime (and therefore
should not be packaged in the WAR file), do either of the following
actions. <ul class="ul"><li class="li">Place the JAR files in the <span class="ph filepath">WEB-INF/clientLibs</span> folder
of the project. </li>
<li class="li">Refer to such JAR files as external JAR files in the Eclipse Java
Build Path for the project. </li>
</ul>
</li>
<li class="li">In all cases, if you add a JAR file is to a <span class="ph"> WebSphere Portlet
Factory</span> project (whether in
the <span class="ph filepath">WEB-INF/lib</span>, <span class="ph filepath">WEB-INF/work/lib</span>,
or <span class="ph filepath">WEB-INF/clientLibs</span> folder), add a reference
to the file in the Eclipse Java Build Path for the project.</li>
</ul>
</div>
</div>
<div class="section" id="c_devenv_eclipse_cload__class_loading"><a name="c_devenv_eclipse_cload__class_loading"><!-- --></a><h4 class="title sectiontitle">How class loading works</h4><p class="p">Java
source code that is placed in the project <span class="ph filepath">WEB-INF/work/source/</span> tree
is compiled, and the output is stored in the project <span class="ph filepath">WEB-INF/work/classes</span> tree.
The contents of this directory are loaded dynamically and do not require
a <span class="ph"> WebSphere Portlet
Factory</span> Designer or
a server restart for changes to take effect. Any Java source changes
can thus be seen instantly in <span class="ph filepath">WEB-INF/work/classes</span>.
This arrangement is useful for development where source code changes
frequently.</p>
<p class="p">Where JAR files are concerned, the <span class="ph filepath">WEB-INF/work/lib</span> directory
is the functional equivalent of the <span class="ph filepath">WEB-INF/work/classes</span> directory. </p>
</div>
<div class="section" id="c_devenv_eclipse_cload__tipsclassjar"><a name="c_devenv_eclipse_cload__tipsclassjar"><!-- --></a><h4 class="title sectiontitle">Tips for working with class and
JAR files</h4><ul class="ul"><li class="li">During development, keep classes and JAR files under the <span class="ph filepath">WEB-INF/work</span> directory.
Once development is complete, you can turn off dynamic class loading
on the development machine to improve application performance. <p class="p">You
can disable dynamic class loading by setting the following property
to false in the <span class="ph filepath">WEB-INF\config\override.properties</span> file:</p>
<pre class="pre codeblock">bowstreet.dynamic.class.load.checkTimestamp</pre>
</li>
<li class="li"> Optionally create a separate project for managing your <span class="ph"> WebSphere Portlet
Factory</span> Java artifacts and
create a JAR file for your resulting classes which you may then place
in your <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph filepath">WEB_INF/work/lib</span> directory. </li>
<li class="li"> Use JAR files to distribute builders and other JAVA-based items
that you create. </li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_devenv_access_javadoc"><a name="t_devenv_access_javadoc"><!-- --></a><h2 class="title topictitle2">Accessing Javadoc in Eclipse-based IDEs</h2>
<div class="body taskbody"><p class="shortdesc">You can access the Javadoc for objects in your Java code
in your integrated development environment (IDE). </p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Do one of the following actions for the selected Java object. </span><ul class="ul choices"><li class="li choice">Type <samp class="ph codeph">F2</samp> to display a brief description as
a ToolTip. </li>
<li class="li choice">Type <samp class="ph codeph">SHIFT+F2</samp> to display the Javadoc for
that object. </li>
</ul>
 <p class="p">If there is no ToolTip content or if your IDE displays a
dialog saying that the documentation location is not set, you can
set the Javadoc Location property for the JAR mentioned in the dialog.
You can establish Javadoc access for the JAR used by <span class="ph">IBM WebSphere Portlet Factory</span>. Use the same procedure
for any other JAR that you know has related Javadoc. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Start the Package Explorer. </span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show View</span> &gt; <span class="ph uicontrol">Other</span> &gt; <span class="ph uicontrol">Java</span> &gt; <span class="ph uicontrol">Package Explorer</span></span>. </span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">In Package Explorer, under the project in which you work,
 navigate to <span class="ph menucascade"><span class="ph uicontrol">Web App Libraries</span> &gt; <span class="ph uicontrol">factory.jar</span></span>, right-click the
JAR file entry, and click <span class="ph uicontrol">Properties</span>. </span></li>
<li class="li step stepexpand"><span class="ph cmd"> In the Properties dialog, click <span class="ph uicontrol">Javadoc Location</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Set <span class="ph uicontrol">Javadoc URL</span>. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph uicontrol">Javadoc location path</span>, click <span class="ph uicontrol">Browse</span> and
navigate to the <span class="ph"> WebSphere Portlet
Factory</span> doc
plugin directory.  </span> <p class="p">For example:</p>
<pre class="pre codeblock">C:\Program Files\IBM\WebSphere Portlet Factory\Designer\
eclipse\plugins\com.bowstreet.designer.doc_6.1.2\api</pre>
<p class="p"></p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Select the <span class="ph filepath">api</span> folder in the appropriate
path for the version that you have installed on your computer and
click <span class="ph uicontrol">OK</span>. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Validate</span> to verify that Javadoc
exists at the specified location. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Properties dialog, click <span class="ph uicontrol">OK</span>. </span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="devenv_eclipse"><a name="devenv_eclipse"><!-- --></a><h3 class="title topictitle3">Eclipse-based IDEs</h3>
<div class="body conbody"><p class="shortdesc">The <span class="ph">IBM WebSphere Portlet Factory</span> Designer
is fully integrated in Eclipse-based development environments. </p>
<p class="p">The <span class="ph"> WebSphere Portlet
Factory</span> Designer is a plugin
in the following Eclipse-based integrated development environments (IDEs):</p>
<ul class="ul"><li class="li"> Eclipse 3.<var class="keyword varname">x</var> </li>
<li class="li"> IBM Rational Development Environments </li>
</ul>
<div class="section"><h4 class="title sectiontitle"><span class="ph"> WebSphere Portlet
Factory</span> projects
in Eclipse-based IDEs</h4><p class="p">The table below describes the characteristics
of <span class="ph"> WebSphere Portlet
Factory</span> projects:</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e15888">Project Characteristic  </th>
<th class="entry" valign="bottom" id="d52e15890">Description </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" headers="d52e15888 ">Project Nature </td>
<td class="entry" valign="top" headers="d52e15890 "><span class="ph"> WebSphere Portlet
Factory</span>  projects use the
Java project nature. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15888 ">Project Contents </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15890 "><span class="ph"> WebSphere Portlet
Factory</span> 
projects contain all the contents of the <span class="ph"> WebSphere Portlet
Factory</span> 
servable content root directory. For example, <span class="ph filepath">wpf.war</span> and
below. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15888 ">Source Directory </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15890 "><span class="ph"> WebSphere Portlet
Factory</span> 
projects use the <span class="ph"> WebSphere Portlet
Factory</span>  installation <span class="ph filepath">WEB-INF/work/source</span> directory
as a source directory. You may designate other directories as Source Directories,
but you must include this one. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15888 ">Build Directory </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15890 ">Points to the <span class="ph filepath">WEB-INF/temp</span> directory
in which the project Java source files are compiled. An Ant script included
as part of the <span class="ph"> WebSphere Portlet
Factory</span> Designer
plugin copies the classes in this directory to the <span class="ph filepath">WEB-INF/work/classes</span> directory. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15888 ">Included Libraries </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15890 "><span class="ph"> WebSphere Portlet
Factory</span> 
projects include all the JAR files in the <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph filepath">WEB-INF/lib</span> directory
and the JAR files in <span class="ph filepath">WEB-INF/clientlibs/servlet.jar</span>. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15888 ">External Tools </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e15890 ">An Ant script Copy Classes
copies the compiled Java <span class="ph filepath">WEB-INF/work/classes</span> directory. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="title sectiontitle">Locations of <span class="ph"> WebSphere Portlet
Factory</span> 
and Eclipse IDE log files</h4><p class="p">You can find the log file for the <span class="ph"> WebSphere Portlet
Factory</span> Designer in the following
directory:</p>
<pre class="pre codeblock">eclipse/plugins/com.bowstreet.designer.core/log</pre>
<p class="p">You
can find the log file for the <span class="ph"> WebSphere Portlet
Factory</span> in
the <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph filepath">WEB-INF/logs</span> directory.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_cnfgr_pfhelp"><a name="t_cnfgr_pfhelp"><!-- --></a><h2 class="title topictitle2">Configuring Help Display</h2>
<div class="body taskbody"><p class="shortdesc">To configure how Help is displayed, follow these steps.</p>
<div class="section context">You can display Help in one of two ways:<dl class="dl"><dt class="dt dlterm">Help View</dt>
<dd class="dd">This is the default preference setting. This opens a new Eclipse View
on the right side of the Eclipse window. You can then move the Help View anywhere,
and dock it where you choose.</dd>
<dt class="dt dlterm">As an InfoPop</dt>
<dd class="dd">This preference setting opens Help in a separate, full-size, Help window.</dd>
</dl>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Preferences...</span> &gt; <span class="ph uicontrol">Help</span> &gt; <span class="ph uicontrol">Open window context help</span></span>.</span></li>
<li class="li step"><span class="ph cmd">Select a Help display preference. </span> For example, select <span class="ph uicontrol">In
an infopop</span> to view Help in a full-size window.</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_chng_jre_wasce"><a name="t_chng_jre_wasce"><!-- --></a><h2 class="title topictitle2">Changing JRE in IBM WebSphere Application Server Community
Edition (WAS CE)</h2>
<div class="body taskbody"><p class="shortdesc">If you wish to change to another JRE version or vendor,
you will need to perform these steps.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Stop the server.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph filepath">WASCE_INSTALLED_DIR\bin\setenv.bat</span> file,
set the <var class="keyword varname">WASCE_JAVA_HOME</var> variable to point to the
JRE you wish to use.</span> You should check with the WebSphere
Application Server CE documentation on supported versions
and vendors before making this change.</li>
<li class="li step"><span class="ph cmd">Start the server.</span> Note that the version of the
JRE listed in the console window now references the new Java version.</li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested0" xml:lang="en-us" id="c_samples"><a name="c_samples"><!-- --></a><h1 class="title topictitle1">Samples for <span class="ph">IBM WebSphere Portlet Factory</span></h1>
<div class="body conbody"><p class="shortdesc">Many samples are provided to help you develop web applications. </p>
<div class="p">The product wiki holds samples developed by the community. <pre class="pre codeblock"><span class="ph"><a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf</a></span> </pre>
On the
wiki welcome page under the heading <span class="ph uicontrol">Quick links</span>,
click <span class="ph uicontrol">Samples</span>. The articles for the samples
are listed alphabetically by title and can be accessed by categories,
for example, Data access and services. </div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested0" xml:lang="en-us" id="c_learning_wpf"><a name="c_learning_wpf"><!-- --></a><h1 class="title topictitle1">Tutorials for <span class="ph">IBM WebSphere Portlet Factory</span></h1>
<div class="body conbody"><p class="p">Follow this link <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewCategories.xsp?lookupName=Media%20Gallery" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewCategories.xsp?lookupName=Media%20Gallery</a> to
see video demonstrations of different features, concepts, and "how
to"s.</p>
<p class="p">These topics below can help you learn more about developing
and building web applications in the <span class="ph"> WebSphere Portlet
Factory</span> environment. </p>
</div>
<div class="related-links"></div><div class="topic concept nested1" xml:lang="en-us" id="TutorialBasics_Quick_Start_WASCE"><a name="TutorialBasics_Quick_Start_WASCE"><!-- --></a><h2 class="title topictitle2">Quick Start for using <span class="ph">IBM WebSphere Portlet Factory</span> with <span class="ph">IBM WebSphere Application
Server</span> CE</h2>
<div class="body conbody"><p class="shortdesc">This quick start guides you through the steps to create
a project and run an application using the <span class="ph">WebSphere Application
Server</span> Community Edition
(WAS CE).</p>
<p class="p">You can use <span class="ph">WebSphere Application
Server</span> CE
to enable quick and easy development and testing of applications.
You have the option of installing <span class="ph">WebSphere Application
Server</span> CE when you install <span class="ph">IBM WebSphere Portlet Factory</span>.</p>
<p class="p">The <span class="ph">WebSphere Application
Server</span> Community
Edition (WAS CE) is an open source Java 2 Platform, Enterprise Edition
(J2EE) application server based on Apache Geronimo.</p>
<div class="section" id="TutorialBasics_Quick_Start_WASCE__create_project"><a name="TutorialBasics_Quick_Start_WASCE__create_project"><!-- --></a><h3 class="title sectiontitle">Creating a <span class="ph">WebSphere Application
Server</span> CE project</h3><p class="p">Follow
these steps to create a basic project for use with <span class="ph">WebSphere Application
Server</span> CE.</p>
<ol class="ol"><li class="li">Launch the Eclipse client into which you installed by clicking <span class="ph menucascade"><span class="ph uicontrol"> Start</span> &gt; <span class="ph uicontrol">All Programs</span> &gt; <span class="ph uicontrol">IBM Websphere Portlet Factory</span> &gt; <span class="ph uicontrol">Designer</span></span>. If you are presented with a welcome page, close it. </li>
<li class="li">From the menu, click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Project</span></span>.</li>
<li class="li">Enter a project name without any spaces, for example, MyFirstProject.
Spaces and certain special characters are not permitted in project
names. Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">At the Feature Set page, expand <span class="ph uicontrol">Tutorials And Samples</span> and
select the options <span class="ph uicontrol">Building Models</span>, <span class="ph uicontrol">Making
Builders</span>, <span class="ph uicontrol">Tutorials</span>, and <span class="ph uicontrol">Widgets</span> to
install all of the shipping sample applications. Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">In the <span class="ph uicontrol">Server Configuration</span> dialog box,
choose the WASCE Application Server configuration that was supplied
with your WAS CE installation. This configuration points at the locally
installed <span class="ph">WebSphere Application
Server</span> CE
server and is used whenever you test and run your application from <span class="ph"> WebSphere Portlet
Factory</span> Designer.</li>
<li class="li">Click <span class="ph uicontrol">Finish</span> to create the project.</li>
<li class="li">If prompted, click <span class="ph uicontrol">Yes</span> to open the <span class="ph"> WebSphere Portlet
Factory</span> Perspective in Eclipse.</li>
<li class="li">Click <span class="ph uicontrol">Yes</span> to start the <span class="ph">WebSphere Application
Server</span> CE server.</li>
<li class="li">Click <span class="ph uicontrol">Yes</span> to publish your project now.</li>
</ol>
</div>
<div class="section" id="TutorialBasics_Quick_Start_WASCE__run_sample"><a name="TutorialBasics_Quick_Start_WASCE__run_sample"><!-- --></a><h3 class="title sectiontitle">Running Your Sample Using <span class="ph">WebSphere Application
Server</span> CE</h3><p class="p">Follow
these steps to run a sample application using the <span class="ph">WebSphere Application
Server</span> CE project file
you created in <a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Quick_Start_WASCE__create_project">Creating a WebSphere Application Server CE project</a>. You
can now run a sample application on the server to test that everything
is properly configured.</p>
<ol class="ol"><li class="li">In the Project Explorer view, expand the project to the <span class="ph filepath">models</span> folder.
All of the models you create in other tutorials go into this same
folder. </li>
<li class="li">Locate the OrdersServiceConsumer  model inside the models/samples/gettingstarted
folder and double-click it to open it: <pre class="pre codeblock"><span class="ph filepath">models\samples\gettingstarted\OrdersServiceConsumer</span> </pre>
</li>
<li class="li">From the menu, click <span class="ph menucascade"><span class="ph uicontrol">Run</span> &gt; <span class="ph uicontrol">Run as</span> &gt; <span class="ph uicontrol">Run active model</span></span> or click the Run icon in the toolbar. </li>
<li class="li">Click <span class="ph uicontrol">Run</span> to run the model. <span class="ph"> WebSphere Portlet
Factory</span> Designer runs a web
browser and opens the model using its URL.</li>
</ol>
<p class="p">If everything is configured correctly, you see a web application
in the browser. It is not necessary to do anything with this application.
Simply displaying the application in the browser confirms that the
setup is correct and that <span class="ph">WebSphere Application
Server</span> is running the
application.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="TutorialBasics_Create_Project"><a name="TutorialBasics_Create_Project"><!-- --></a><h2 class="title topictitle2">Tutorial – Creating a <span class="ph"> WebSphere Portlet
Factory</span> Project</h2>
<div class="body conbody"><p class="shortdesc">This is the first of four tutorials that introduce you
to the many powerful features of <span class="ph">IBM WebSphere Portlet Factory</span>. In this tutorial you
will learn how to create a <span class="ph"> WebSphere Portlet
Factory</span> project
for <span class="ph">WebSphere Portal</span>. </p>
<p class="p">For a tutorial focused on creating a project for <span class="ph">WebSphere Application
Server</span> Community Edition
(WAS CE), see <a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Quick_Start_WASCE" title="This quick start guides you through the steps to create a project and run an application using the WebSphere Application Server Community Edition (WAS CE).">Quick
Start for using IBM WebSphere Portlet Factory with IBM WebSphere Application
Server CE</a>.</p>
<div class="section"><h3 class="title sectiontitle">Using these tutorials</h3><p class="p">This set of tutorials
are a great starting point for a new <span class="ph"> WebSphere Portlet
Factory</span> developer. Each of
the four parts of this tutorial take between 30 and 45 minutes to
complete. The tutorials should be completed in the following order,
as each builds on knowledge obtained in the previous tutorial. In
addition, we recommend visiting the <span class="ph"> WebSphere Portlet
Factory</span> <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/learning-websphere-portlet-factory" target="_blank">Learning Roadmap</a> on the <span class="ph"> WebSphere Portlet
Factory</span> wiki after completing
these tutorials to further advance your <span class="ph"> WebSphere Portlet
Factory</span> learning experience.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 9. </span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e16554">Tutorial order</th>
<th class="entry" valign="bottom" id="d52e16556">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e16554 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Create_Project" title="This is the first of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial you will learn how to create a WebSphere Portlet Factory project for WebSphere Portal.">Creating a Web Application
Project</a></td>
<td class="entry" valign="top" headers="d52e16556 ">In this tutorial you will learn how to create
a web application project.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e16554 "><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Simple_Portlet" title="This is the second of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial, you will build a simple &#34;hello world&#34; application.">Creating
an application</a></td>
<td class="entry" valign="top" headers="d52e16556 ">In this tutorial, you will build a simple "hello
world" application and then create a portlet from that application. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e16554 "><a class="xref" href="designer-html-wrapper.htm#tutorial-creatingadatabaseapplication" title="In this tutorial you will create a service provider model against a sample database using the SQL Table Create builder, which creates a database table and provides full CRUD (create, retrieve, update and delete) capability, exposed as service operations, and then create a user interface service consumer model, using the Service Consumer and Data Services UI builder.">Creating
a database application</a></td>
<td class="entry" valign="top" headers="d52e16556 ">In this tutorial you will create a service provider
model against a sample database using the SQL Table Create builder,
and then create a user interface service consumer model, using the
Service Consumer and Data Services User Interface builder.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e16554 "><a class="xref" href="designer-html-wrapper.htm#tutorial-usingprofilinginyournewapplication" title="Continuing from the &#34;hello world&#34; application tutorial you add the power of profiling to your application.">Using
profiling in your new application</a></td>
<td class="entry" valign="top" headers="d52e16556 ">Continuing from the "hello world" application
tutorial you add the power of profiling to your application.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h3 class="title sectiontitle">What you will learn</h3><p class="p">After installing <span class="ph">IBM WebSphere Portlet Factory</span>, the first step in
creating a portlet is to create a <span class="ph"> WebSphere Portlet
Factory</span> project using <span class="ph"> WebSphere Portlet
Factory</span> Designer. The project
serves as the foundation for your portlet or application and contains
all the artifacts required to publish your portlet or application.</p>
<p class="p">In
this tutorial, you create a <span class="ph"> WebSphere Portlet
Factory</span> project,
configure it for use with a <span class="ph">IBM WebSphere Portal</span> environment, and
run a sample to ensure that the setup is correct. After completing
these tasks, you are ready to complete other tutorials to learn the
basics of developing web applications and portlets with <span class="ph"> WebSphere Portlet
Factory</span>.</p>
</div>
<div class="section"><h3 class="title sectiontitle">Before you start</h3><p class="p">The following setup is
required to run the tutorial.</p>
<ul class="ul"><li class="li">To test the portlets you need access to a local or networked installation
of <span class="ph">WebSphere Portal</span>. To publish
your project, <span class="ph">WebSphere Portal</span> server
must be running. The instructions in this tutorial assume that you
have the <span class="ph">WebSphere Portal</span> server
installed locally, though other configurations are possible, as described
below.  If you do not have a portal you can test the applications
on a local development server, but cannot complete the portal specific
steps. </li>
<li class="li"><span class="ph"> WebSphere Portlet
Factory</span> Designer must
be installed locally. <span class="ph"> WebSphere Portlet
Factory</span> Designer
is the development environment for creating web applications and portlets.
It is installed into an integrated development environment (IDE) such
as Eclipse or Rational Application Developer (RAD). If you do not
have Eclipse or RAD installed already, you can install Eclipse as
part of the <span class="ph"> WebSphere Portlet
Factory</span> installation
procedure.</li>
<li class="li">You need access to an application server for running your applications
from the Designer while they are under development. <span class="ph">WebSphere Portal</span> runs on top of <span class="ph">WebSphere Application
Server</span>, so if you have
installed <span class="ph">WebSphere Portal</span>,
you can use its instance of the <span class="ph">WebSphere Application
Server</span> as your test environment.
You can also use <span class="ph">WebSphere Application
Server</span> Community
Edition (WAS CE), or Tomcat. </li>
</ul>
</div>
<div class="section"><h3 class="title sectiontitle">Creating the Project</h3><ol class="ol"><li class="li">Start <span class="ph"> WebSphere Portlet
Factory</span> Designer.
If you are presented with a welcome page, close it.<div class="note note"><span class="notetitle">Note:</span> When using
RAD, you should locate the workspace close to the top level of your
file system (for example, <span class="ph filepath">C:\factory\my_projects\</span>)
to prevent path/file names from exceeding the Windows 256-character
limit.</div>
</li>
<li class="li">Switch to the <span class="ph"> WebSphere Portlet
Factory</span> perspective
by choosing <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Open
Perspective</span> &gt; <span class="ph uicontrol">Other...</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory</span></span>.</li>
<li class="li">Create a <span class="ph"> WebSphere Portlet
Factory</span> Web
Application project by completing these steps<ol class="ol" type="a"><li class="li">From the menu, choose <span class="ph menucascade"><span class="ph uicontrol">File </span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Project</span></span>. You will be guided through a wizard that assists you
in creating the project.<div class="note note"><span class="notetitle">Note:</span> Be sure to choose WebSphere Portlet
Factory Project from the list rather than Project.</div>
</li>
<li class="li">For the Project Name step, enter <kbd class="ph userinput">MyFirstProject</kbd> without
any spaces. Spaces and certain special characters are not permitted
in project names. Click <span class="ph uicontrol">Next</span> when finished
naming the project.</li>
</ol>
</li>
<li class="li">Add the Tutorials and Samples feature set:<ol class="ol" type="a"><li class="li">At the Feature Sets dialog box, all available feature sets are
listed. Choose <span class="ph uicontrol">Tutorials and Samples</span> to select
all components within that feature set. This option adds the files
needed to run the tutorials that ship with <span class="ph"> WebSphere Portlet
Factory</span> Designer.</li>
<li class="li">Click <span class="ph uicontrol">Next</span> to continue.</li>
</ol>
</li>
<li class="li">Understand the test server configurations.<p class="p">You will only need
to create one Server Configuration. This server configuration will
publish the your project to both the Application Server for testing
your project during development and will publish the Portlets to Portal
for view there. </p>
<p class="p">There are many different configurations a developer
can set up. The most common types of configuration are described below:</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 10. Common types of Portalconfiguration</span></caption><thead class="thead" align="left"><tr class="row c14" valign="bottom"><th class="entry c12" valign="bottom" id="d52e16821">Configuration Type</th>
<th class="entry c13" valign="bottom" id="d52e16823">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row c14" valign="top"><td class="entry c15" rowspan="1" colspan="1" valign="top" headers="d52e16821 ">Locally
installed Portal and Application servers</td>
<td class="entry c16" rowspan="1" colspan="1" valign="top" headers="d52e16823 ">You
have installed <span class="ph">WebSphere Portal</span> 
Server and the embedded <span class="ph">WebSphere Application
Server</span> locally.
When you create new server configurations, references to critical
folders such as the application server's <span class="ph filepath">installedApps</span> folder
will point to your local hard drive. <p class="p">This configuration is very
easy to use but requires a powerful development machine with a minimum
of 2 GB of RAM in order to achieve acceptable levels of performance.</p>
</td>
</tr>
<tr class="row c14" valign="top"><td class="entry c15" valign="top" headers="d52e16821 ">Remotely installed Portal and Application
Servers</td>
<td class="entry c16" valign="top" headers="d52e16823 "><span class="ph">WebSphere Portal</span> server
and the embedded <span class="ph">WebSphere Application
Server</span> are
installed on another machine accessible across the network. </td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="li">Create the server configuration. If you have an existing configuration
that works you can use it. Otherwise you will need to create a new
configuration.<ol class="ol" type="a"><li class="li">Click <span class="ph uicontrol">Create Server Configuration</span> in the
project properties window.</li>
<li class="li">Choose the server configuration that is correct for your environment
and click <span class="ph uicontrol">OK</span>. The Edit Server Configuration
dialog displays.</li>
<li class="li">The configuration name and description of the configuration are
loaded by default.<p class="p">Use the online help to complete the configuration
for your environment.</p>
</li>
<li class="li">Click <span class="ph uicontrol">Test Server Connection</span> to verify
the connection to the <span class="ph">WebSphere Application
Server</span>.
If you receive an error then make sure your server is running and
then click <span class="ph uicontrol">Test Server Connection</span> again.</li>
<li class="li">Click <span class="ph uicontrol">OK</span> to continue.</li>
</ol>
</li>
<li class="li">When you click <span class="ph uicontrol">Finish</span>, your project will
be created according to the details and features you have specified.
You will be prompted <span class="ph uicontrol">Would you like to publish you project
now?</span>. Click <span class="ph uicontrol">Yes</span>.<p class="p">If you are using
a local installation of <span class="ph"> WebSphere Portlet
Factory</span> 6.x,
security for <span class="ph">WebSphere Application
Server</span> is
enabled by default. As a result, you may be prompted for credentials
during the creation of the WAR files. Use the <span class="ph">WebSphere Application
Server</span> administrator
credentials and not the <span class="ph">WebSphere Portal</span> 
administrator credentials. Also, be sure to wait for this prompt before
leaving the publishing process unattended. The prompt will time out
if you ignore it and your WAR file will not be automatically published.
In this case, you can still install and configure the WAR file manually
via the WebSphere Administrative Console.</p>
</li>
<li class="li">If the servers are remote or if you have chosen not to use the
Publish Application function for your application, you will see an
error message in the <span class="ph uicontrol">Problems</span> view. This message
will state that the <span class="ph"> WebSphere Portlet
Factory</span> Dev
WAR location does not exist. You will also see this message if the
Publish Application function failed for some reason, such as if your
server was not running. If you receive this error you will need to
publish the Portlet WAR file manually via the <span class="ph">WebSphere Portal</span>  Administrative
console. </li>
</ol>
</div>
<div class="section"><h3 class="title sectiontitle">Testing the Setup </h3><p class="p">Now that you have created
the <span class="ph"> WebSphere Portlet
Factory</span>  project you
will run a sample application on the server to test that everything
is properly configured.</p>
<ol class="ol"><li class="li">Test your configuration by opening one of the sample models from
the Tutorials And Samples feature set by following these steps:<ol class="ol" type="a"><li class="li">In the Project Explorer view, expand the <span class="ph filepath">models\tutorials</span> folder.
All of the models you will create in other tutorials will go into
this same folder.</li>
<li class="li">Locate the Tutorial_MyFirstPortlet.model inside the tutorials
folder and double-click it to open it: <span class="ph filepath"> \solutions\basics\MyFirstPortlet_Solution</span>.</li>
</ol>
</li>
<li class="li">Create a run configuration <ol class="ol" type="a"><li class="li">From the menu, choose <span class="ph menucascade"><span class="ph uicontrol">Run</span> &gt; <span class="ph uicontrol">Run...</span></span> or click  <img class="image" src="designer/images/runIcon.jpg" alt="Run icon, a white right arrow with a green background" /> above the workspace. Select
the default run configuration that was created when the <span class="ph"> WebSphere Portlet
Factory</span> Model project was
created. This is the current active model.</li>
<li class="li">If everything has been configured correctly, you should see a
web application in your default browser that will display "Tutorial
Basics - Hello World!". It is not necessary to do anything with this
application. Simply seeing it in the browser confirms that the setup
is correct and that <span class="ph">WebSphere Application
Server</span> is
running the application. </li>
</ol>
</li>
<li class="li">Clean up Java compiler messages and warnings (Optional)<ol class="ol" type="a"><li class="li">Switch back to WebSphere Portlet Factory <span class="ph"> WebSphere Portlet
Factory</span> Designer. In the Problems
tab at the bottom of the workspace, you may see several warnings about
and unused local variables. These messages are about unnecessary code
in the sample Java files in the Tutorials and Samples - Builders feature
set. These variables will get used if you complete the tutorial called
Creating a Custom Builder. If you prefer to suppress these warnings
for now, continue with this step. Otherwise, skip to step 5.</li>
<li class="li">Follow these steps to suppress unnecessary code warnings.<ol class="ol" type="i"><li class="li">From the menu, choose <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Preferences</span></span> to bring up the Preferences
dialog box.</li>
<li class="li">On the left side of this dialog box, select <span class="ph menucascade"><span class="ph uicontrol">Java</span> &gt; <span class="ph uicontrol">Compiler</span> &gt; <span class="ph uicontrol">Errors/Warnings</span></span> .</li>
<li class="li">	On the right side, there should be several collapsed sections.
Expand the section labeled Unnecessary code.</li>
<li class="li">There are a few fields in this section whose values are set to
Warning such as Local variable is never read. Set all of the fields
in this section to <span class="ph uicontrol">Ignore</span>.</li>
<li class="li">Click <span class="ph uicontrol">OK</span> to save these changes.</li>
<li class="li">Eclipse will now need to rebuild all of the currently open projects.
When prompted to do a full build to apply these changes, click <span class="ph uicontrol">Yes</span>.
After the rebuild process has completed, the warnings should be gone.</li>
</ol>
</li>
</ol>
</li>
<li class="li">Test a portlet model in <span class="ph">WebSphere Portal</span> to ensure the portlet
published properly.<ol class="ol" type="a"><li class="li">Log into <span class="ph">WebSphere Portal</span> as
an administrator or a user with rights to create pages and add portlets
to pages.</li>
<li class="li">Add the portlet whose title is Tutorial Basics - My First Portlet
Solution to a new or existing page. If you did everything correctly
while creating the project, you should see this portlet easily. Close
out of page management when finished.</li>
<li class="li">Open the <span class="ph">WebSphere Portal</span> to
the page containing this new portlet and examine the portlet. It should
look like the MyFirstPortlet_Solution model you tested at the beginning
of this section.</li>
<li class="li">Close <span class="ph">WebSphere Portal</span> when
you are satisfied that the portlet published properly.</li>
</ol>
</li>
<li class="li">Close all open models and files in <span class="ph"> WebSphere Portlet
Factory</span> Designer by choosing
from the menu <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Close
All</span></span>.</li>
</ol>
</div>
<div class="section"><h3 class="title sectiontitle">Lessons learned and next steps</h3><p class="p">Congratulations!
You have successfully created a <span class="ph"> WebSphere Portlet
Factory</span> project and run a
sample application to confirm your configuration. The <span class="ph"> WebSphere Portlet
Factory</span> project that you created
will contain all of the models you create plus all of the supporting
code and artifacts needed to develop, publish, and test <span class="ph"> WebSphere Portlet
Factory</span> web applications and
portlets.</p>
<p class="p">Now you are ready to move forward to learn how to
develop web applications and portlets with <span class="ph"> WebSphere Portlet
Factory</span> Designer. Start with
the tutorial for <a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Simple_Portlet" title="This is the second of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial, you will build a simple &#34;hello world&#34; application.">Creating
an application</a>. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="TutorialBasics_Simple_Portlet"><a name="TutorialBasics_Simple_Portlet"><!-- --></a><h2 class="title topictitle2">Tutorial – Creating your first application</h2>
<div class="body conbody"><p class="shortdesc">This is the second of four tutorials that introduce you
to the many powerful features of <span class="ph">IBM WebSphere Portlet Factory</span>. In this tutorial,
you will build a simple "hello world" application.</p>
<div class="section"><h3 class="title sectiontitle">Using these tutorials</h3><p class="p">This set of tutorials
are a great starting point for a new <span class="ph"> WebSphere Portlet
Factory</span> developer. Each of
the four parts of this tutorial take between 30 and 45 minutes to
complete. The tutorials should be completed in the following order,
as each builds on knowledge obtained in the previous tutorial. In
addition, we recommend visiting the <span class="ph"> WebSphere Portlet
Factory</span> <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/learning-websphere-portlet-factory" target="_blank">Learning Roadmap</a> on the <span class="ph"> WebSphere Portlet
Factory</span> wiki after completing
these tutorials to further advance your <span class="ph"> WebSphere Portlet
Factory</span> learning experience.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 11. </span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e17190">Tutorial order</th>
<th class="entry" valign="bottom" id="d52e17192">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e17190 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Create_Project" title="This is the first of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial you will learn how to create a WebSphere Portlet Factory project for WebSphere Portal.">Creating a Web Application
Project</a></td>
<td class="entry" valign="top" headers="d52e17192 ">In this tutorial you will learn how to create
a web application project.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e17190 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Simple_Portlet" title="This is the second of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial, you will build a simple &#34;hello world&#34; application.">Creating
an application</a></td>
<td class="entry" valign="top" headers="d52e17192 ">In this tutorial, you will build a simple "hello
world" application and then create a portlet from that application. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e17190 "><a class="xref" href="designer-html-wrapper.htm#tutorial-creatingadatabaseapplication" title="In this tutorial you will create a service provider model against a sample database using the SQL Table Create builder, which creates a database table and provides full CRUD (create, retrieve, update and delete) capability, exposed as service operations, and then create a user interface service consumer model, using the Service Consumer and Data Services UI builder.">Creating
a database application</a></td>
<td class="entry" valign="top" headers="d52e17192 ">In this tutorial you will create a service provider
model against a sample database using the SQL Table Create builder,
and then create a user interface service consumer model, using the
Service Consumer and Data Services User Interface builder.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e17190 "><a class="xref" href="designer-html-wrapper.htm#tutorial-usingprofilinginyournewapplication" title="Continuing from the &#34;hello world&#34; application tutorial you add the power of profiling to your application.">Using
profiling in your new application</a></td>
<td class="entry" valign="top" headers="d52e17192 ">Continuing from the "hello world" application
tutorial you add the power of profiling to your application.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h3 class="title sectiontitle">What you will learn</h3><p class="p">Developers build applications
by creating a model, adding builders to those model, running the application
you had just created, and then create a portlet from that application. </p>
</div>
<div class="section"><h3 class="title sectiontitle">Setup Requirements</h3><p class="p">The following setup is
required to run the tutorial.</p>
<ul class="ul"><li class="li">You need to have created and published a project. The project
must include the "Tutorials and Samples / Applications" feature set.
  Creating a project is described in detail in the tutorial called
"Creating a Web Application Project".   </li>
<li class="li"><span class="ph">WebSphere Portal</span> server
must be running.</li>
</ul>
</div>
<div class="section"><h3 class="title sectiontitle">Create your first application</h3><ol class="ol"><li class="li">In this part of the tutorial, we will create a new <span class="ph"> WebSphere Portlet
Factory</span> model.<ol class="ol" type="a"><li class="li">Launch <span class="ph"> WebSphere Portlet
Factory</span> Designer.</li>
<li class="li">Open the MyFirstProject WebApp project you created in the "Creating
a Web Application Project" tutorial.</li>
<li class="li">Choose <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Model</span></span>.
This command will invoke a wizard to assist you in creating a new
model.</li>
<li class="li">Choose the project in which this model should be created. The
MyFirstProject WebApp project should be highlighted. Click <span class="ph uicontrol">Next</span> to
continue.</li>
<li class="li">When creating a new model, you can choose from a list of starter
models. In the Select Model page, choose <span class="ph uicontrol">Main and Page</span> from
the <span class="ph uicontrol">Factory Starter Models</span> category and click <span class="ph uicontrol">Next</span>.The <span class="ph uicontrol">Page
Settings</span> dialog displays. </li>
<li class="li">Since you have chosen the Main and Page starter model, you get
the option to specify what the contents of the first page should be.
You can choose an existing HTML file or choose <span class="ph uicontrol">Simple Page</span> to
get a very basic HTML page. Choose <span class="ph uicontrol">Simple Page</span> and
click <span class="ph uicontrol">Next</span>. The <span class="ph uicontrol">Save New Model</span> dialog
displays.</li>
<li class="li">Models are saved under the models folder in the project. Since
this project already contains the Samples and Tutorials feature set,
there are some tutorial-related folders you should use. Expand the
models folder and choose the folder called <span class="ph filepath">models\tutorials</span> and
enter <samp class="ph codeph">MyFirstPortlet</samp> and click Finish. <span class="ph"> WebSphere Portlet
Factory</span> Designer will now
create your new model and open it for you.</li>
</ol>
<dl class="dl"><dt class="dt dlterm">What is a model?</dt>
<dd class="dd">A model is simply a set of calls to builders, which in turn generate
the application components representing the behavior, structure, data,
and presentation of the application. Underneath the covers, a model
is simply an XML file containing a series of calls to builders.<p class="p">When
you want to create a new application, you will create a new model,
and then add the appropriate builder calls to the model.</p>
</dd>
</dl>
</li>
<li class="li">Examine and run the new model<ol class="ol" type="a"><li class="li">In the lower left corner of the workspace, there is a tab labeled <span class="ph uicontrol">Outline</span> which
contains the all the builders that the model uses, or the model's
"builder call list". Models are constructed from builders, and each
builder in a model is represented by a builder call. Builder calls
can be edited by double-clicking them in the builder call list. <dl class="dl"><dt class="dt dlterm">What is a builder?</dt>
<dd class="dd">A builder is a highly adaptive software component that generates
code (including Java, JSP, and XML) for specific application functionality.
For example, <span class="ph"> WebSphere Portlet
Factory</span> provides
builders that are as simple as automating the creation of the code
to place a button on a web page. <span class="ph"> WebSphere Portlet
Factory</span> also includes many
powerful builders like the Data Services User Interface  builder,
which creates all the necessary variables, JSP, schemas, and Java
code needed to create an entire application that retrieves and displays
data from a data source (database, Lotus Domino, web service, variable,
and so on). <p class="p">Builders have easy-to-use, wizard-like user interfaces,
which make it both fast and easy to develop applications. Builders,
however, are much more powerful than wizards, since builders can be
used iteratively throughout the entire development process. Unlike
other IDEs which provide run-once Wizards, with <span class="ph"> WebSphere Portlet
Factory</span> you can always go
back and change a builder's input values, and have the entire application
update instantly.</p>
<p class="p">Behind the scenes, a builder is made up of
a Java class that performs the appropriate automation task (like creating
the JSP for the button) and an XML document (builder definition) that
defines the builder's inputs, and design time user interface characteristics.</p>
</dd>
</dl>
</li>
<li class="li">In the builder call list, double-click the action list builder
call named main. The builder call editor will open to the right and
will show the current values of that builder's inputs. As you can
see, there is only one element in the action list. That action triggers
the page called page1 to be displayed.</li>
<li class="li">Now, in the builder call list, double-click the Page builder call
named page1. It contains some very basic HTML with some named <samp class="ph codeph">&lt;span&gt;</samp> tags.
Portlet Factory uses named tags (html elements with a name attribute)
to location the position on the page where generated user interface
markup should be placed. Right now, this page simply displays the
simple HTML you can see in the Page Contents field. </li>
<li class="li">Run the model by clicking <img class="image" src="designer/images/runIcon.jpg" alt="Right arrow icon" /> from the row of icons immediately below the menu at the top
of the workspace. A browser launches and display this simple application
containing a simple page titled "Default Test Page". </li>
<li class="li">Close the browser and return to <span class="ph"> WebSphere Portlet
Factory</span> Designer.</li>
</ol>
</li>
<li class="li">In this part of the tutorial we will construct a basic page layout <ol class="ol" type="a"><li class="li"><p class="p"><strong class="ph b">What is shown in the Application Tree? </strong></p>
<p class="p">The Application
tree shows all of the artifacts that are generated by the builders
in the current model.  It allows you to select these artifacts to
show details about the object. These can be Java, XML, HTML, JSP etc.
 There are a couple of ways to see the details of an object.  The <span class="ph uicontrol">Source
tab</span> shows a text representation of what was created and
the <span class="ph uicontrol">Design tab</span> shows a visual representation
of the object.  The <span class="ph uicontrol">Design tab</span> is not exactly
what will render in the browser when you run the application but it
does help to preview many changes as you are creating your application.
  In addition to the static text in the HTML page, the <span class="ph uicontrol">Design
tab</span> also shows the named tags that do not currently have
any content in them.  Currently, the <span class="ph uicontrol">Design tab</span> is
only available for pages. </p>
<p class="p">If the Application Tree is not visible,
be sure you have the <span class="ph uicontrol">MyFirstPortlet</span> model open
and selected.   If it is not, find the <span class="ph uicontrol">MyFirstPortlet</span> model
in the <span class="ph uicontrol">Project Explorer</span> window and double-click
it</p>
<p class="p">Try choosing different elements in the Application Tree and
watch for the corresponding elements in the Source and Design views
become highlighted.</p>
</li>
<li class="li">Add a Text builder call to the model to replace the <samp class="ph codeph">&lt;span&gt;</samp> tag
called namedTag..<ol class="ol" type="i"><li class="li">Select <samp class="ph codeph">page1</samp> in the Application Tree.</li>
<li class="li">Above the Application Tree, click <img class="image" src="designer/images/add_builder_call_01.gif" alt="builder picker icon" /> to display a list of builders that can be added
to this model. This list shows all available builders and their builder
categories. The default selected category is <span class="ph uicontrol">Recommended</span> which
lists the builders that would be commonly used based on your current
selection in the Application Tree. Since there are many builders that
can modify a page, many choices are displayed.</li>
<li class="li">Search and select Text as the type of builder call to add and
click <span class="ph uicontrol">OK</span>. This new builder call displays ihe
builder call editor in the pane on the right.</li>
<li class="li">The Page Location section of this builder call contains several
inputs. Page and Tag contain drop-down lists of choices. Choose page1
for the <span class="ph uicontrol">Page</span> field and namedTag for the <span class="ph uicontrol">Tag</span> field.
This Text builder will now know to replace the contents of the named <samp class="ph codeph">&lt;span&gt;</samp> tag
called <samp class="ph codeph">namedTag</samp> with whatever text expression you
specify in the <span class="ph uicontrol">Text</span> input.</li>
<li class="li">The input labeled <span class="ph uicontrol">Text</span> is where you enter
the text that this builder call will add to the page. Locate this
input and enter <samp class="ph codeph">Tutorial Basics – Hello World!</samp>.</li>
<li class="li">Click <span class="ph uicontrol">OK</span>.</li>
<li class="li">Click on the <span class="ph uicontrol">design tab</span> to see that the
text builder that added the words <samp class="ph codeph">Tutorial Basics – Hello
World!</samp> . Run the model again and view it in a web browser.
This time you will see that the phrase, <samp class="ph codeph">Tutorial Basics -
Hello World!</samp> has replaced the static text, <samp class="ph codeph">"Use a
named tag to place the results of a builder call on a page"</samp>.</li>
</ol>
<div class="note note"><span class="notetitle">Note:</span> You are using a text builder to get started very quickly
with <span class="ph"> WebSphere Portlet
Factory</span> . In your
normal development process, you will want to be using Data Page builders
and page automation to really take advantage of the full power of <span class="ph"> WebSphere Portlet
Factory</span>. We will be explaining
an using these feature in the tutorial that follow this</div>
</li>
</ol>
</li>
</ol>
</div>
<div class="section"><h3 class="title sectiontitle">Turning the Application into a Portlet</h3><p class="p">To
this point, you have created an application but you have not yet enabled
the model to be a portlet. Now, you will enable the model to run within
the <span class="ph">WebSphere Portal</span>  framework
as a portlet. This task is easy to accomplish because there is a builder
for this purpose: the Portlet Adapter builder.</p>
<p class="p"><strong class="ph b">What is a
Portlet Adapter builder?</strong></p>
<p class="p">A Portlet Adapter builder configures
a model automatically so that it can function as a portlet in <span class="ph">WebSphere Portal</span>. Useful information
for a portlet such as a name, title, a description, and optionally
a portlet help file name is entered in a builder call of this type.
The name, title, and description are visible to portal administrators
when managing portlets and applying them to portal pages. Help files
are accessed by users via the portlet title bar menu in the portlet.</p>
<p class="p">We'll
leave profiling for a more advanced tutorial, but point out here that
the default user interfaces (UIs) for the Configure and Edit pages
are fairly plain. Richer UIs for these pages can be created separately
in individual HTML pages or <span class="ph"> WebSphere Portlet
Factory</span> models.
These pages and models can be referred to in a Portlet Adapter builder
call and the builder will automatically add them to the portlet.</p>
<p class="p">You
will add a Portlet Adapter builder call to the MyFirstPortlet model
and test your work by adding the portlet to a portal page.</p>
<ol class="ol"><li class="li">Enable the model to function as a portlet.<ol class="ol" type="a"><li class="li">Open the MyFirstPortlet model.</li>
<li class="li">Click <img class="image" src="designer/images/add_builder_call_01.gif" alt="builder picker icon" /> to add a new builder call to the model.
Choose the category <span class="ph uicontrol">All</span> if not yet chosen.</li>
<li class="li">Choose Portlet Adapter builder and click <span class="ph uicontrol">OK</span>.</li>
<li class="li">Use the following table for the details about what values to provide
for the various inputs to this builder call. Click <span class="ph uicontrol">OK</span> when
you are finished entering these values.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 12. Portlet Adapter
builder inputs</span></caption><thead class="thead" align="left"><tr class="row c7" valign="bottom"><th class="entry c36" valign="bottom" id="d52e17597">Input Name</th>
<th class="entry c22" valign="bottom" id="d52e17599">Enter this value for the given
input</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row c7" valign="top"><td class="entry c37" valign="top" headers="d52e17597 ">Name</td>
<td class="entry c24" valign="top" headers="d52e17599 "><kbd class="ph userinput">tutorial_basics</kbd></td>
</tr>
<tr class="row c7" valign="top"><td class="entry c37" valign="top" headers="d52e17597 ">Portlet Title</td>
<td class="entry c24" valign="top" headers="d52e17599 "><kbd class="ph userinput">Tutorial Basics – Portlet</kbd></td>
</tr>
<tr class="row c7" valign="top"><td class="entry c37" valign="top" headers="d52e17597 ">Portlet Description</td>
<td class="entry c24" valign="top" headers="d52e17599 "><kbd class="ph userinput">Simple example to demonstrate
core concepts</kbd></td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="li">Click <span class="ph uicontrol">OK</span>.</li>
<li class="li">Save the model.</li>
<li class="li">Right-click the project's name and choose <span class="ph menucascade"><span class="ph uicontrol">Publish
Application</span></span>. Select your Portal Server Configuration
and Click <span class="ph uicontrol">OK</span>. This task can take a few moments
to complete.</li>
</ol>
<p class="p"><strong class="ph b">Why republish the Portlet WAR?</strong></p>
<p class="p">A portlet Web
Application Archive or WAR was created when you created the project
in an earlier tutorial. As changes are made to the models and profile
sets in the project, these changes get published on the portal server
automatically.</p>
<p class="p">Some changes to a model, however, require that
the portlet WAR be republished. Adding a Portlet Adapter builder to
a model is one of those changes. In order for the portal framework
to be aware of the new portlet, the portlet WAR on the portal server
must be replaced with a new one. Republishing the existing portlet
WAR in <span class="ph"> WebSphere Portlet
Factory</span> Designer
also automatically publishes the new WAR replacing the old one.</p>
</li>
<li class="li">Create the <span class="ph"> WebSphere Portlet
Factory</span> work
portal pages<p class="p">To help you complete this tutorial and support other
tutorials you may do later, in this step you will create a small hierarchy
of pages under the <span class="ph menucascade"><span class="ph uicontrol">My Portal</span> &gt; <span class="ph uicontrol">My Work</span></span> page in the portal.</p>
<ol class="ol" type="a"><li class="li">Log into <span class="ph">WebSphere Portal</span> as
an administrator.</li>
<li class="li">Click the <span class="ph uicontrol">Administration</span> link.</li>
<li class="li">Click <span class="ph menucascade"><span class="ph uicontrol">Portal User interface</span> &gt; <span class="ph uicontrol">Manage Pages</span></span>..</li>
<li class="li">Find the link to the Content Root page and click it.</li>
<li class="li">Click the <span class="ph uicontrol">New Page</span> button and create a
page called <span class="ph"> WebSphere Portlet
Factory</span>. Accept
the default values and click <span class="ph uicontrol">OK</span>. The <span class="ph"> WebSphere Portlet
Factory</span> page should now be
in the list.</li>
<li class="li">Click the link to the <span class="ph"> WebSphere Portlet
Factory</span> page.
Create a new page called Tutorials. Click <span class="ph uicontrol">OK</span> to
save the page.</li>
</ol>
</li>
<li class="li">Create the Basics page and add MyFirstPortlet.<ol class="ol" type="a"><li class="li">Click the link to the Tutorials page. Create a new page called
Basics. Click <span class="ph uicontrol">OK</span> to save the page. </li>
<li class="li">Click on the Edit Page Layout icon on the line next to the Basics
page details. The Edit Layout page displays.</li>
<li class="li">Click on the Add Portlet icon.</li>
<li class="li">Use the search feature to find the "Tutorial Basics – Portlet"
portlet in the list.</li>
<li class="li">Click on the checkbox next to the portlet and click <span class="ph uicontrol">OK</span> and
click <span class="ph uicontrol">Done</span> to save your changes.</li>
<li class="li">Click on the Home tab and then the <span class="ph"> WebSphere Portlet
Factory</span> tab</li>
<li class="li">Navigate to Tutorials/Basics to view your imbedded "Hello World"
portlet.</li>
</ol>
</li>
</ol>
</div>
<div class="section"><h3 class="title sectiontitle">Lessons learned and next steps</h3><p class="p"><span class="ph"> WebSphere Portlet
Factory</span> is a powerful tool
for developing portlets and J2EE-compliant web applications. Applications
and portlets are constructed from builders. Each builder call in a
model makes some contribution to the XML representation of the application <span class="ph"> WebSphere Portlet
Factory</span> is supposed to generate.
Through the regeneration process, an application is produced.</p>
<p class="p">Now,
you are ready to complete the <a class="xref" href="designer-html-wrapper.htm#tutorial-creatingadatabaseapplication" title="In this tutorial you will create a service provider model against a sample database using the SQL Table Create builder, which creates a database table and provides full CRUD (create, retrieve, update and delete) capability, exposed as service operations, and then create a user interface service consumer model, using the Service Consumer and Data Services UI builder.">Tutorial - Creating a database application</a> tutorial
where you will create a service provider model against a sample database
using the SQL Data Services builder, and then create a user interface
service consumer model, using the Service Consumer and Data Services
UI builder.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="tutorial-usingprofilinginyournewapplication"><a name="tutorial-usingprofilinginyournewapplication"><!-- --></a><h2 class="title topictitle2">Tutorial - Using profiling in your new application</h2>
<div class="body conbody"><p class="shortdesc">Continuing from the "hello world" application tutorial
you add the power of profiling to your application.</p>
<div class="section"><h3 class="title sectiontitle">Using these tutorials</h3><p class="p">This set of tutorials
are a great starting point for a new <span class="ph"> WebSphere Portlet
Factory</span> developer. Each of
the four parts of this tutorial take between 30 and 45 minutes to
complete. The tutorials should be completed in the following order,
as each builds on knowledge obtained in the previous tutorial. In
addition, we recommend visiting the <span class="ph"> WebSphere Portlet
Factory</span> <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/learning-websphere-portlet-factory" target="_blank">Learning Roadmap</a> on the <span class="ph"> WebSphere Portlet
Factory</span> wiki after completing
these tutorials to further advance your <span class="ph"> WebSphere Portlet
Factory</span> learning experience.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 13. </span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e17834">Tutorial order</th>
<th class="entry" valign="bottom" id="d52e17836">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e17834 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Create_Project" title="This is the first of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial you will learn how to create a WebSphere Portlet Factory project for WebSphere Portal.">Creating a Web Application
Project</a></td>
<td class="entry" valign="top" headers="d52e17836 ">In this tutorial you will learn how to create
a web application project.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e17834 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Simple_Portlet" title="This is the second of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial, you will build a simple &#34;hello world&#34; application.">Creating
an application</a></td>
<td class="entry" valign="top" headers="d52e17836 ">In this tutorial, you will build a simple "hello
world" application and then create a portlet from that application. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e17834 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#tutorial-creatingadatabaseapplication" title="In this tutorial you will create a service provider model against a sample database using the SQL Table Create builder, which creates a database table and provides full CRUD (create, retrieve, update and delete) capability, exposed as service operations, and then create a user interface service consumer model, using the Service Consumer and Data Services UI builder.">Creating
a database application</a></td>
<td class="entry" valign="top" headers="d52e17836 ">In this tutorial you will create a service provider
model against a sample database using the SQL Table Create builder,
and then create a user interface service consumer model, using the
Service Consumer and Data Services User Interface builder.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e17834 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#tutorial-usingprofilinginyournewapplication" title="Continuing from the &#34;hello world&#34; application tutorial you add the power of profiling to your application.">Using profiling in your
new application</a></td>
<td class="entry" valign="top" headers="d52e17836 ">Continuing from the "hello world" application
tutorial you add the power of profiling to your application.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h3 class="title sectiontitle">What you will learn</h3><p class="p">In this tutorial, you
will add profiling to the application. Profiling allows <span class="ph"> WebSphere Portlet
Factory</span> to build several versions
of an application dynamically by supplying sets of alternative values
for various parts of the application. </p>
</div>
<div class="section"><h3 class="title sectiontitle">Creating a profile set and applying profiling to the
Application</h3><p class="p">One of the most powerful aspects of <span class="ph"> WebSphere Portlet
Factory</span> is that models can
be used in conjunction with a concept called profiling to generate
multiple versions of the same application by combining different sets
of predefined parameters with the same code base. In this part of
the tutorial, you will create a new profile set for a set of builder
inputs. The profile set contains two different sets of values for
the profiled builder inputs. One set of values makes the application
behave one way and the other set of values makes it behave another
way. When you have finished, you will have two versions of the application
each of which can be invoked by flipping a switch and re-running the
model. </p>
<ol class="ol"><li class="li">Create a profile set for a Text builder.<ol class="ol" type="a"><li class="li">Let's return to the MyFirstPortlet model you worked with in the
Creating an application tutorial and find the Text builder call named
namedTag and open it by double-clicking it in the Design view or in
the builder call list. That builder call should appear in the builder
call editor to the right.</li>
<li class="li">Look for a builder input named Text with a value of <samp class="ph codeph">Tutorial
Basics – Hello World!</samp>.  Click <img class="image" src="designer/images/profile_pawn_02.gif" alt="profile icon" /> to profile enable this builder input. <dl class="dl"><dt class="dt dlterm">What is Going on Here?</dt>
<dd class="dd">The first time you profile enable a builder input in a model <span class="ph"> WebSphere Portlet
Factory</span> creates a profile
set for you with the model name followed by the suffix "ps" as the
name of that implicitly created profile set.   For example, for the
model MyFirstPortlet, Designer automatically creates a profile set
named MyFirstPortletps.    </dd>
</dl>
</li>
<li class="li">Click <span class="ph uicontrol">Create Entry</span>, change the name to <samp class="ph codeph">Text</samp> and
the prompt to <samp class="ph codeph">Text To Display</samp> and click <span class="ph uicontrol">OK</span> when
finished.</li>
<li class="li">Click <span class="ph uicontrol">Create Profile</span> to add a second profile,
in addition to the "Default" profile. Name this profile <samp class="ph codeph">MyFirstPortletAlternateView</samp> and
click <span class="ph uicontrol">OK</span>.   For the profile value, enter <samp class="ph codeph">Profiling
Tutorial - alternate view</samp></li>
<li class="li">Click <span class="ph uicontrol">OK</span> when finished.</li>
<li class="li">At this point the builder call changes are not saved. Save your
changes by clicking <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Save</span></span>. </li>
</ol>
</li>
<li class="li">Apply the profile and test the application.<ol class="ol" type="a"><li class="li">Before applying the MyFirstPortletps profile, run the model again
to see what values appear in the Application. At this moment, there
should be no changes and the application should behave exactly as
it did the last time you tested it.</li>
<li class="li">Close the browser to return to <span class="ph"> WebSphere Portlet
Factory</span> Designer, and look
to the bottom section of the workspace. There should be a panel with
tabs labeled Problems, Tasks, and Applied Profiles. (If these tabs
are not displayed, choose <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Reset Perspective</span></span> ) Click the <span class="ph uicontrol">Applied
Profiles</span> tab.</li>
<li class="li">In the <span class="ph uicontrol">Applied Profiles</span> tab, there is a
drop-down list containing the names of all of the profiles in the
MyFirstPortletps profile set. This profile set appears in this tab
because there are builder inputs in this model associated with profile
entries in that profile set. Choose <samp class="ph codeph">MyFirstPortletAlternateView</samp> from
the list and click the <span class="ph uicontrol">Apply</span> button.<p class="p"><strong class="ph b">What
Happens Now? </strong></p>
<p class="p">By choosing the MyFirstPortletAlternateView
profile and applying it, <span class="ph"> WebSphere Portlet
Factory</span> Designer
specifies that explicit profile when it runs the model and initiates
a process called regeneration. During regeneration, the model and
the inputs supplied by the chosen profile are combined to create new
version of the application. </p>
<p class="p">You can see the two variations
of your application in the Design view and the Application Tree view.
 As you switch between the two profiles and click the <span class="ph uicontrol">Apply</span> button,
you can see the changes in the application. For example, if you expand
the Application Tree to <span class="ph menucascade"><span class="ph uicontrol">WebApp</span> &gt; <span class="ph uicontrol">Page</span> &gt; <span class="ph uicontrol">page1</span></span> and
click on page1. To the right you will see a few of the <samp class="ph codeph">&lt;div&gt;</samp> tags
with their content replaced by static text, filenames, and JSP scriptlets
and expressions.</p>
</li>
<li class="li">Run the model to see the changes. This time you should see the
text values from the MyFirstPortletAlternateView profile instead of
the Default profile from the MyFirstPortletps profile set.</li>
</ol>
</li>
<li class="li">Add an Image builder and profile it for use with the MyFirstPortletps
profile set.<p class="p">In this step, you will add an Image builder and use
profiling to determine when this builder should be enabled or disabled.
Disabled builders do not make any contributions to the generated application.
Associating a builder's enable/disable value to a profile entry allows
builders to be added or deleted automatically by regeneration based
solely upon which profile is applied at regeneration time.</p>
<ol class="ol" type="a"><li class="li">In <span class="ph"> WebSphere Portlet
Factory</span> Designer,
add an Image builder to the model. Use the table below to assign its
inputs:<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 14. Image builder inputs </span></caption><thead class="thead" align="left"><tr class="row c7" valign="bottom"><th class="entry c36" valign="bottom" id="d52e18076">Input Name</th>
<th class="entry c22" valign="bottom" id="d52e18078">Enter this value for the given
input</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row c7" valign="top"><td class="entry c37" valign="top" headers="d52e18076 ">Location Technique</td>
<td class="entry c24" valign="top" headers="d52e18078 ">Relative to Named Tag</td>
</tr>
<tr class="row c7" valign="top"><td class="entry c37" valign="top" headers="d52e18076 ">Page</td>
<td class="entry c24" valign="top" headers="d52e18078 ">page1</td>
</tr>
<tr class="row c7" valign="top"><td class="entry c37" valign="top" headers="d52e18076 ">Tag</td>
<td class="entry c24" valign="top" headers="d52e18078 ">namedTag</td>
</tr>
<tr class="row c7"><td class="entry c37" valign="top" headers="d52e18076 ">Placement</td>
<td class="entry c24" valign="top" headers="d52e18078 ">After</td>
</tr>
<tr class="row c7"><td class="entry c38" valign="top" headers="d52e18076 ">New Tag Name</td>
<td class="entry c24" valign="top" headers="d52e18078 ">imgTag</td>
</tr>
<tr class="row c7" valign="top"><td class="entry c38" valign="top" headers="d52e18076 ">Image Source</td>
<td class="entry c24" valign="top" headers="d52e18078 ">Click <img class="image" src="designer/images/chooser.jpg" alt="the ellipsis icon" /> to the right of this field to bring up a reference chooser.
Click the <span class="ph uicontrol">Choose File</span> tab and choose <span class="ph filepath">/samples/tutorials/images/tutorial_basics_image.jpg</span> and
click <span class="ph uicontrol">OK</span>.</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="li">Run the model with the added image here, to make sure it's working,
before profiling it.</li>
<li class="li">Inside the builder call editor, look to the top of the Image builder
call and expand the section called <span class="ph uicontrol">Properties</span> by
clicking on it. You will see an input named <span class="ph uicontrol">Enable Builder</span>.
Click <img class="image" src="designer/images/profile_pawn_02.gif" alt="profile icon" /> to profile enable this builder input. As with the
other profile entry, use <span class="ph uicontrol">Create Entry</span>, and
change the prompt to <samp class="ph codeph">Display Image</samp>, and set the UI
type to "Checkbox" and edit the Label After Check Box field to My
Checkbox.   Click <span class="ph uicontrol">OK</span>. The UI types for profile
entries will show up when you customize (configure which profile to
use) in Portal.</li>
<li class="li">Set the profile value to unchecked for the Default profile, for
this image builder call enablement profile entry. Edit the Label After
Check Box field and remove the text My Checkbox. Click <span class="ph uicontrol">OK</span>.</li>
</ol>
</li>
<li class="li">Test the profile again to ensure everything is working.<ol class="ol" type="a"><li class="li">Using the <span class="ph uicontrol">Applied Profiles</span> tab, apply the
Default profile and run the application. In the web browser, you should
see the default version of the application. This version should not
display the image file.</li>
<li class="li">Now apply the MyFirstPortletAlternateView profile and run the
application again. This time you should see the image file.</li>
</ol>
</li>
<li class="li">Open the Portlet Adapter builder named "tutorial_basics" </li>
<li class="li">In the Portlet Adapter builder call editor, enable value customization
by choosing <samp class="ph codeph">Show individual profile values in Edit Defaults</samp> for
the MyFirstPortletps profile set. Click <span class="ph uicontrol">OK</span> in
the builder call editor to apply the changes, then save the model.</li>
<li class="li">Re-publish the application.</li>
<li class="li"> Login to the portal again as an administrator, so you will be
given access to the Shared Settings feature.  Navigate to the portal
page where your portlet is located.;  Open the portlet's title bar
drop down menu and choose "Shared Settings".   This will put the portlet
in the shared settings (also known as "edit defaults" by the portlet
adapter builder and portlet JSR 168 and 286 specifications) customization
mode so that you can specify the custom values for those profile entries.</li>
</ol>
</div>
<div class="section"><h3 class="title sectiontitle">Lessons learned and next steps</h3><p class="p">By profiling
some of the builder call inputs in a model, several versions of the
application can be generated by simply switching profiles. In <span class="ph"> WebSphere Portlet
Factory</span> Designer, profiles
can be chosen from the <span class="ph uicontrol">Applied Profiles</span> tab.
Depending upon how a Portlet Adapter builder call is configured, portlet
administrators and users can apply various profiles in WebSphere Portal
by using the Configure and Edit modes of the portlet. Profiles can
also be chosen programmatically through a process called profile
selection handling.</p>
<p class="p">Profiles can also be used for localization,
and profiling to portal groups. See this <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewTags.xsp?categoryFilter=Profiling&amp;lookupName=Samples%20and%20techniques" target="_blank">wiki article</a> for more information.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="tutorial-creatingadatabaseapplication"><a name="tutorial-creatingadatabaseapplication"><!-- --></a><h2 class="title topictitle2">Tutorial - Creating a database application</h2>
<div class="body conbody"><p class="shortdesc">In this tutorial you will create a service provider model
against a sample database using the SQL Table Create builder, which
creates a database table and provides full CRUD (create, retrieve,
update and delete) capability, exposed as service operations, and
then create a user interface service consumer model, using the Service
Consumer and Data Services UI builder.</p>
<div class="section"><h3 class="title sectiontitle">Using these tutorials</h3><p class="p">This set of tutorials
are a great starting point for a new <span class="ph"> WebSphere Portlet
Factory</span> developer. While most
of the four parts of this tutorial take between 30 and 45 minutes
to complete, you should set aside an hour to and hour and one half
for this tutorial. The tutorials should be completed in the following
order, as each builds on knowledge obtained in the previous tutorial.
In addition, we recommend visiting the <span class="ph"> WebSphere Portlet
Factory</span> <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/learning-websphere-portlet-factory" target="_blank">Learning Roadmap</a> on the <span class="ph"> WebSphere Portlet
Factory</span> wiki after completing
these tutorials to further advance your <span class="ph"> WebSphere Portlet
Factory</span> learning experience.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 15. </span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e18258">Tutorial order</th>
<th class="entry" valign="bottom" id="d52e18260">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e18258 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Create_Project" title="This is the first of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial you will learn how to create a WebSphere Portlet Factory project for WebSphere Portal.">Creating a Web Application
Project</a></td>
<td class="entry" valign="top" headers="d52e18260 ">In this tutorial you will learn how to create
a web application project.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e18258 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#TutorialBasics_Simple_Portlet" title="This is the second of four tutorials that introduce you to the many powerful features of IBM WebSphere Portlet Factory. In this tutorial, you will build a simple &#34;hello world&#34; application.">Creating
an application</a></td>
<td class="entry" valign="top" headers="d52e18260 ">In this tutorial, you will build a simple "hello
world" application and then create a portlet from that application. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e18258 "><img class="image" src="designer/images/dojo_save.gif" alt="" /><a class="xref" href="designer-html-wrapper.htm#tutorial-creatingadatabaseapplication" title="In this tutorial you will create a service provider model against a sample database using the SQL Table Create builder, which creates a database table and provides full CRUD (create, retrieve, update and delete) capability, exposed as service operations, and then create a user interface service consumer model, using the Service Consumer and Data Services UI builder.">Creating
a database application</a></td>
<td class="entry" valign="top" headers="d52e18260 ">In this tutorial you will create a service provider
model against a sample database using the SQL Table Create builder,
and then create a user interface service consumer model, using the
Service Consumer and Data Services User Interface builder.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e18258 "><a class="xref" href="designer-html-wrapper.htm#tutorial-usingprofilinginyournewapplication" title="Continuing from the &#34;hello world&#34; application tutorial you add the power of profiling to your application.">Using
profiling in your new application</a></td>
<td class="entry" valign="top" headers="d52e18260 ">Continuing from the "hello world" application
tutorial you add the power of profiling to your application.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h3 class="title sectiontitle">What you will learn</h3><ul class="ul"><li class="li">About the service-oriented architecture (SOA) Consumer/Provider
paradigm. </li>
<li class="li">Using the SQL Table Create builder to create a sample database
table and generate a service provider with create, retrieve, update
and delete operations. </li>
<li class="li">How to use a Data Services User Interface builder in a Service
Consumer to automation generation of the user interface for a service
provider's operations.</li>
</ul>
<p class="p">You will create a service provider model against a sample
database using the SQL Table Create builder and create a user interface
service consumer model using the Service Consumer and Data Services
User Interface builder.   Your provider model will use the Table Create
builder to create a database table from sample data provided in an
XML file, and to generate the service operations that turn the model
into a service provider.   What you learn in this tutorial, including
the consumer/provider paradigm and the Data Services User Interface
usage, will give you knowledge you will need when using other data
providers such as Domino.</p>
</div>
<div class="section"><h3 class="title sectiontitle">Setup Requirements</h3><p class="p">The following setup is
required to run the tutorial.</p>
<ul class="ul"><li class="li">You need to have created and published a project. The project
must include the "Tutorials and Samples /Tutorials" feature set. 
 Creating a project is described in detail in the tutorial "Creating
a <span class="ph"> WebSphere Portlet
Factory</span>Project".   </li>
<li class="li"><span class="ph">WebSphere Portal</span> server
or <span class="ph">WebSphere Application
Server</span> Community
Edition must be running.</li>
</ul>
</div>
<div class="section"><h3 class="title sectiontitle">Creating your database application</h3><ol class="ol"><li class="li">In this part of the tutorial, we will create a new <span class="ph"> WebSphere Portlet
Factory</span> model for our provider.<ol class="ol" type="a"><li class="li">Launch <span class="ph"> WebSphere Portlet
Factory</span> Designer.</li>
<li class="li">Open the MyFirstProject WebApp project you created in the "Creating
a <span class="ph"> WebSphere Portlet
Factory</span>  Project" tutorial.</li>
<li class="li">Choose <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Model</span></span>.
This command will invoke a wizard to assist you in creating a new
model.</li>
<li class="li">Choose the project in which this model should be created. The
MyFirstProject project should be highlighted. Click <span class="ph uicontrol">Next</span> to
continue.</li>
<li class="li">When creating a new model, you can choose from a list of starter
models. In the Select Model page, choose <span class="ph uicontrol">Empty</span> from
the <span class="ph uicontrol">Factory Starter Models</span> category and click <span class="ph uicontrol">Next</span>.</li>
<li class="li">The <span class="ph uicontrol">Save New Model</span> dialog displays. Models
are saved under the models folder in the project. Choose the default
folder location and enter <samp class="ph codeph">MyProviderModel</samp> and click
Finish. <span class="ph"> WebSphere Portlet
Factory</span> Designer
will now create your new model and open it for you.</li>
</ol>
</li>
<li class="li">Adding a SQL Table Create builder <div class="note note"><span class="notetitle">Note:</span> This part of the tutorial
we will create a new database table using the SQL Table Create builder.
  If you have an existing database table that you want to use instead,
you would use the SQL Data Services builder in this step instead of
SQL Table Create.    The specific fields in your table would of course
be different than what we describe here, but the other steps and builders
we describe would be the same.   If you are running on WAS CE you
can use the sample EMPLOYEE table which is similar to our sample data.</div>
<ol class="ol" type="a"><li class="li">In the lower left corner of the workspace, there is a tab labeled <span class="ph uicontrol">Outline</span> which
contains all the builders that the model uses, or the model's "builder
call list". Models are constructed from builders, and each builder
in a model is represented by a builder call. Builder calls can be
edited by double-clicking them in the builder call list. </li>
<li class="li">With the <samp class="ph codeph">MyProviderModel</samp> model selected, click <img class="image" src="designer/images/add_builder_call_01.gif" alt="builder picker icon" /> to display a list of builders that can be added
to this model. </li>
<li class="li">Type the word <samp class="ph codeph">SQL</samp> in the search box and find
and select the SQL Table Create as the type of builder call to add
and click <span class="ph uicontrol">OK</span>. This new builder call displays
the builder call editor in the pane on the right. This builder creates
and populates a table for the sample, and calls the SQL Data Services
builder, which generates create, retrieve, update and delete operations
as a service provider. <div class="note note"><span class="notetitle">Note:</span> If you had an existing database and table,
you would likely use the SQL Data Services builder instead of the
SQL Table Create builder.</div>
</li>
<li class="li">You must give this builder call a name. In the Name field, enter <samp class="ph codeph">MyDB</samp></li>
<li class="li">Click on the <span class="ph uicontrol">Fetch DataSource Names</span> button.
This feature will obtain any existing datasources defined on the server
named in the Server Configuration dialog and it will also allow you
to select a sample datasource which can be created for you if it does
not already exist. In our case, since we configured our environment
to work with <span class="ph">WebSphere Portal</span>,
this function will retrieve any database information from that server.</li>
<li class="li">In the SQL Datasource field, select <samp class="ph codeph">jdbc/CloudscapeforWPF</samp> 
If this did not exist yet, you would have been prompted to create
that datasource.   If you are using WAS CE, select <samp class="ph codeph">java:comp/env/jdbc/MyDataSource</samp></li>
<li class="li">Click on the chooser icon to the right of the Import Data input
and select <samp class="ph codeph">/WEB-INF/samples/data/Employees.xml</samp> to
use for initial table data and click <span class="ph uicontrol">OK</span>.</li>
<li class="li">In the Table Name field, enter <samp class="ph codeph">MyDBTable</samp></li>
<li class="li">Click on Scan Import Data to populate the table column fields.</li>
<li class="li">Open the Sample Data Formats Section and change the Maximum string
size to 512.</li>
<li class="li">Click on the <span class="ph uicontrol">Create Table</span> button to create
the table and populate it with sample data.</li>
<li class="li">Click in the Application tree and see what we have just created.
Click on WebApp/Data Services/MyDB and Schemas to get familiar with
the objects created here. Note that the column types in the schema
match the data types for the DB columns, and that the schema will
be used by UI consumers to help generate the page controls</li>
<li class="li">Return to the Builder Call Editor tab for the SQL Table Create
builder you just created and in the Advanced section of SQL Table
Create builder, and check the <span class="ph uicontrol">Enable Testing Support</span> checkbox,
which will generate a test user interface for this provider model.
In this way, each operation can be run standalone prior to building
the user interface consumer model.    </li>
<li class="li"> Click <span class="ph uicontrol">OK</span> and then run the model.   You
will be prompted to save your model. Click <span class="ph uicontrol">Yes</span> to
continue. Your default browser will display the test UI page. <div class="image"><img class="image" src="designer/images/db_tutorial_1.jpg" alt="Display of the test UI page." /></div>Click on <span class="ph uicontrol">listMyDBRecords</span> to
view a list of records in your database table.    Copy one of the
employee ID fields, then click the <span class="ph uicontrol">Back</span> button
at the bottom of the list of records, click <span class="ph uicontrol">retrieveMyDBRecord</span> and
paste in the employee ID, then click <span class="ph uicontrol">OK</span>.  
This retrieves details for that row in the database table and displays
those details in an automatically generated test page.    These steps
illustrate the automated testing support available to <span class="ph"> WebSphere Portlet
Factory</span>  service provider
developers, that enables them to test data providers before the user
interface developers have finished creating user interface consumer
models for those providers.<p class="p">You have completed the step to build
a service provider! In the next steps we will create and use a service
consumer to work with this provider.</p>
</li>
</ol>
</li>
<li class="li">In this part of the tutorial, we will create a new <span class="ph"> WebSphere Portlet
Factory</span> model, this time for
the Consumer which will provide the user interface for the above data
service provider.<ol class="ol" type="a"><li class="li">Open the MyFirstProject WebApp project you created in the "Creating
a <span class="ph"> WebSphere Portlet
Factory</span>  Project" tutorial.</li>
<li class="li">Choose <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Model</span></span>.
This command will invoke a wizard to assist you in creating a new
model.</li>
<li class="li">Choose the project in which this model should be created. The
MyFirstProject WebApp project should be highlighted. Click <span class="ph uicontrol">Next</span> to
continue.</li>
<li class="li">When creating a new model, you can choose from a list of starter
models. In the Select Model page, choose <span class="ph uicontrol">Empty</span> from
the <span class="ph uicontrol">Factory Starter Models</span> category and click <span class="ph uicontrol">Next</span>.</li>
<li class="li">The <span class="ph uicontrol">Save New Model</span> dialog displays. Models
are saved under the models folder in the project. Choose the default
folder location and enter <samp class="ph codeph">MyConsumerModel</samp> and click
Finish. <span class="ph"> WebSphere Portlet
Factory</span> Designer
will now create your new model and open it for you.</li>
</ol>
</li>
<li class="li">Adding a Service Consumer builder to bring in the data service,
select the provider that you just created <ol class="ol" type="a"><li class="li">With the <samp class="ph codeph">MyConsumerModel</samp> model selected, click <img class="image" src="designer/images/add_builder_call_01.gif" alt="builder picker icon" /> to display a list of builders that can be added
to this model. </li>
<li class="li">Type the word <samp class="ph codeph">Service</samp> in the search box and find
an select the Service Consumer as the type of builder call to add
and click <span class="ph uicontrol">OK</span>. This new builder call displays
the builder call editor in the pane on the right. </li>
<li class="li">You must give this builder call a name. In the Name field, enter <samp class="ph codeph">MyConsumer</samp></li>
<li class="li">In the Provider Model field, click on the chooser to the right
of the input field and pick MyProviderModel from the list and click <span class="ph uicontrol">OK</span>.</li>
<li class="li">Click <span class="ph uicontrol">OK</span> to save your changes. The builder
call editor closes and displays the Application tree.  </li>
<li class="li">Let's look in the Application tree and see what we have just created.
Click on WebApp/Data Services/MyConsumer and Schemas to get familiar
with the objects created here. </li>
</ol>
</li>
<li class="li">Adding new Data Services User Interface builder <ol class="ol" type="a"><li class="li">With the <samp class="ph codeph">MyConsumerModel</samp> model selected, click <img class="image" src="designer/images/add_builder_call_01.gif" alt="builder picker icon" /> to display a list of builders that can be added
to this model. </li>
<li class="li">Type the word <samp class="ph codeph">Data</samp> in the search box and find
an select the Data Services User Interface  as the type of builder
call to add and click <span class="ph uicontrol">OK</span>. This new builder
call displays the builder call editor in the pane on the right. </li>
<li class="li">You must give this builder call a name. In the Name field, enter <samp class="ph codeph">MyDataUI</samp>. <div class="note note"><span class="notetitle">Note:</span> Leave
the rest of the inputs at their default values, because in this scenario,
there is only one data service available and because it was able to
determine the key field for that database table, the key field is
filled in for you already. This would be a good time to look over
the other inputs to get an idea of what can be specified.</div>
</li>
<li class="li">Click <span class="ph uicontrol">OK</span> to save your changes. The builder
call editor closes and displays the Application Tree.  </li>
<li class="li">Click on the Pages tab and then click on each of the pages in
Pages view, and notice that the Design view shows a graphical view
of your application.</li>
</ol>
</li>
<li class="li">Run the model by clicking <img class="image" src="designer/images/runIcon.jpg" alt="Right arrow icon" /> from the row of icons immediately below the menu at the top
of the workspace.  You will be prompted to save you model. Click <span class="ph uicontrol">Yes</span> to
continue.<p class="p"><strong class="ph b">What you should see</strong></p>
<div class="image"><img class="image" src="designer/images/db_tutorial_2.jpg" alt="Updated application displays in the browser." /></div><p class="p">You should see
a generated web user interface displaying the first 5 rows of your
database table with paging links and buttons and a create button.
 Try using the application at this point, paging through the rows,
updating, creating and deleting records.   The entire web application,
including the database access, the operations that manipulate the
data and the web based user interface including view, details and
update pages were generated for you, as a result of the builder calls
you created in the last steps.   Unlike other wizard based frameworks
where you would have to delete the artifacts and start over if you
wanted a different variation on this application, you may reopen any
of the previous builder calls and modify the inputs, and you may add
and remove additional builder calls to customize the generated application.
  </p>
<p class="p">In a later tutorial, you will also learn how to use profiling
to allow for logic based customization of those builder inputs, resulting
in automation of variations on the application based on user groups
or roles or other custom logic or information available at runtime.
  Note that the default list user interface is fairly reasonable,
but includes all rows and generated labels.   We will show how to
customize the generated user interface later in this tutorial.</p>
</li>
<li class="li">Add a Portlet Adapter builder to enable this model to be used
as a portlet <ol class="ol" type="a"><li class="li">With the <samp class="ph codeph">MyConsumerModel</samp> model selected, click <img class="image" src="designer/images/add_builder_call_01.gif" alt="builder picker icon" /> to display a list of builders that can be added
to this model. </li>
<li class="li">Type the word <samp class="ph codeph">Portlet</samp> in the search box and find
an select the Portlet Adapter as the type of builder call to add and
click <span class="ph uicontrol">OK</span>. This new builder call displays the
builder call editor in the pane on the right. </li>
<li class="li">You must give this builder call a name. In the Name field, enter <samp class="ph codeph">WPFTutorialDBAccess</samp>.
This will be used as the "Portlet Name" by the portal.</li>
<li class="li">In the <span class="ph uicontrol">Portlet Title</span> field enter "WPF Tutorial
DB Access".  This will be used as the Portlet Title by the portal.</li>
<li class="li">Click <span class="ph uicontrol">OK</span> to save your changes. The builder
call editor closes and displays the Application tree.  </li>
<li class="li"> If your project is configured against WebSphere Portal (as opposed
to WebSphere Application Server Community Edition), you may now publish
your project to the portal server, and then add your portlet to a
portal page.   If you are using WebSphere Application Server Community
Edition, you may skip this step at this time.</li>
</ol>
</li>
<li class="li">Adding a Data Field Settings builder <ol class="ol" type="a"><li class="li">Open the page MyDataUIList, click the page view for the list page
and right click on the Employee Number column and select <span class="ph menucascade"><span class="ph uicontrol">Data Field Settings</span> &gt; <span class="ph uicontrol">Field</span></span>.</li>
<li class="li">Using the <span class="ph uicontrol">Sort</span> drop down list box, change
the Field Type to Integer (Sorted) to make the employee number column
sortable based on numeric value. This step adds a Data Field Settings
builder to your model, with the field type set for the employee number
and the rest of the columns left as they were. You could have also
added the Data Field Settings builder directly from the builder palette.</li>
<li class="li">Now that you have this Data Field Settings builder call, double
click on it in the builder call list to open up the builder user interface
so that you can see what it has set for you, and we'll also add some
more customization of the columns here. <div class="note note"><span class="notetitle">Note:</span> In may fields, you can
type the entry directly instead of selecting a choice from a drop
down list box.</div>
Use this table as a guide to the correct field
values<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row"><th class="entry" valign="top" width="20%" id="d52e18753">Name</th>
<th class="entry" valign="top" width="20%" id="d52e18755">Label</th>
<th class="entry" valign="top" width="20%" id="d52e18757">Hide</th>
<th class="entry" valign="top" width="20%" id="d52e18759">Sort</th>
<th class="entry" valign="top" width="20%" id="d52e18761">Field Type</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">EMPNO</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">[Employee Number]</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">[Show Always]</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">On</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">Integer </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">FIRSTNME</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">First Name</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">[Show Always]</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">[Off]</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">String</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">MIDINIT</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">Middle</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">[Show Always]</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">[Off]</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">String</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">LASTNAME</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">[Last Name]</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">[Show Always]</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">On</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">String </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">WORKDEPT</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">[Work Department]</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">Hide only in tables only</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">[Off]</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">String</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">PHONENO</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">[Phone Number]</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">[Show Always]</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">[Off]</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">String</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">GENDER</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">[Gender]</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">Hide only in tables only</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">[Off]</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">String</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">BIRTHDATE</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">[Birth Date]</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">Hide only in tables only</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">[Off]</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">Date: yyyy-MM-dd</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">SALARY</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">[Salary]</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">Hide only in tables only</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">[Off]</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">Currency: #,###.00</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">EMAIL</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">[Email]</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">Hide only in tables only</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">[Off]</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">String</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="20%" headers="d52e18753 ">COMMENTS</td>
<td class="entry" valign="top" width="20%" headers="d52e18755 ">[Comments]</td>
<td class="entry" valign="top" width="20%" headers="d52e18757 ">Hide only in tables only</td>
<td class="entry" valign="top" width="20%" headers="d52e18759 ">[Off]</td>
<td class="entry" valign="top" width="20%" headers="d52e18761 ">Rich Text</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="li">Click <span class="ph uicontrol">OK</span>.</li>
</ol>
</li>
<li class="li">Run the model by clicking <img class="image" src="designer/images/runIcon.jpg" alt="Right arrow icon" /> from the row of icons immediately below the menu at the top
of the workspace. You will be prompted to save you model. Click <span class="ph uicontrol">Yes</span> to
continue.<p class="p"><strong class="ph b">What you should see</strong></p>
<p class="p">Note that the initial
view page showing a tabular list of records has a more manageable
number of columns for a portlet user interface. At this point, try
to edit, delete, and create items in each view.</p>
</li>
</ol>
</div>
<div class="section"><h3 class="title sectiontitle">Lessons learned and next steps</h3><p class="p">In this tutorial
you created a service provider model against a sample database using
the SQL Table Create builder, and then created a user interface service
consumer model, using the Service Consumer and Data Services UI builder.
You then customized the user interface with Data Field Settings builder.   Again, if you already have a database table, then you would
use the SQL Data Services builder directly, rather than the SQL Table
Create builder (which wraps SQL Data Services, and adds table creation)
like you had above.</p>
<div class="p"><div class="note note"><span class="notetitle">Note:</span> The approach taken in this tutorial
was to expose the structure of the Provider/Consumer model. If you
have an existing database, use the Data Services User Interface wizard
to quickly build a complete user interface (UI) for a selected service.
  This wizard automatically generates pages, forms, actions, buttons
and other user interface components for the operations from a service
provider model.  You can use the SQL Data Services builder to create
a provider, or you can use other builders such as Domino Data Access
or Service Definition.</div>
</div>
<p class="p">Now, you are ready to complete
the<a class="xref" href="designer-html-wrapper.htm#tutorial-usingprofilinginyournewapplication" title="Continuing from the &#34;hello world&#34; application tutorial you add the power of profiling to your application.">Using profiling
in your new application</a> tutorial where you will you add the
power of profiling to an application.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="QS_LWF_Mashup_Local"><a name="QS_LWF_Mashup_Local"><!-- --></a><h2 class="title topictitle2">Quick Start: Publishing your first widget</h2>
<div class="body conbody"><p class="shortdesc">This quick start guides you through the steps to create
a widget. </p>
<p class="p">You use <span class="ph">IBM WebSphere Portlet Factory</span> to run,
test, and publish the widget on a locally-installed <span class="ph">IBM Lotus Mashups</span> server. </p>
<p class="p">If you are unable to install a <span class="ph">Lotus Mashups</span> server on
your local development machine, you can establish access to a remote
installation of a <span class="ph">Lotus Mashups</span> server.</p>
<div class="section"><h3 class="title sectiontitle">Setting up a Mashup Server Configuration</h3><p class="p">Follow
these steps to setup a Mashup server.</p>
<ol class="ol"><li class="li">Click on <span class="ph menucascade"><span class="ph uicontrol">Windows</span> &gt; <span class="ph uicontrol">Preferences</span></span></li>
<li class="li">Select <span class="ph menucascade"><span class="ph uicontrol">WebSphere Portlet Factory Designer</span> &gt; <span class="ph uicontrol">Server Configurations</span></span> from the
tree</li>
<li class="li">Click the <span class="ph uicontrol">Add</span> button.</li>
<li class="li">Enter a name for your Server Configuration</li>
<li class="li">In the <span class="ph uicontrol">Server type</span> drop down select WebSphere
Application Server and IBM Mashup Center 2.0</li>
<li class="li">Enter the hostname of your server. If your Mashup server is local,
http://localhost. If you are running Mashup Center remotely enter
a full DNS host name. In most cases the SOAP Connector Port can remain
8880.  <div class="note note"><span class="notetitle">Note:</span> If the soap connector port is not correct you can check
the SOAP port of your server by accessing the Admin Console. In the
admin console select Servers/Server Types/WebSphere Application Servers.
Select server1 from the list then select Ports. You will see your
Soap connector Address listed here. </div>
</li>
<li class="li">Enter a User Name and Password that has administrative access
to Mashup Center.</li>
<li class="li">Click the <span class="ph uicontrol">Test Connection</span> button to validate
your entries.</li>
<li class="li">Click OK to save the Server Configuration</li>
</ol>
<p class="p">If you are deploying to a remote Mashup Center you will want
to map a drive to the InstalledApps folder on the server to take advantage
of the Auto Synchronize feature. If you do not setup a mapped drive
you will need to Publish your project for running it to see your changes.</p>
</div>
<div class="section" id="QS_LWF_Mashup_Local__create_project"><a name="QS_LWF_Mashup_Local__create_project"><!-- --></a><h3 class="title sectiontitle">Create, test and publish a <span class="ph"> WebSphere Portlet
Factory</span> widget</h3><p class="p">Follow
these steps to create a widget with <span class="ph"> WebSphere Portlet
Factory</span> to use with <span class="ph">Lotus Mashups</span>. </p>
<ol class="ol"><li class="li">Create a <span class="ph"> WebSphere Portlet
Factory</span> project. <ol class="ol" type="a"><li class="li">In Eclipse, click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet
Factory Project</span></span>.</li>
<li class="li">Enter the name of the project.</li>
<li class="li">Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">Under <span class="ph uicontrol">Integration Extensions</span> select <span class="ph uicontrol">Widget
Extension</span> and <span class="ph uicontrol">Excel Extension</span>.</li>
<li class="li">Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">Select the Server Configuration you want to use when publishing
the project. </li>
<li class="li">Click <strong class="ph b">Finish</strong>.</li>
<li class="li">Click <strong class="ph b">Yes</strong> when asked to publish the project.</li>
</ol>
</li>
<li class="li">In the project, create a Model. <ol class="ol" type="a"><li class="li">Go to <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Model</span></span>.</li>
<li class="li">Select the project for which you want to create the model. Click <span class="ph uicontrol">Next</span>. </li>
<li class="li">Select the model type. In this case, select <strong class="ph b">Excel Widget</strong>.
Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">Enter the widget title and select the Mashups Toolbox category
under which you want the widget to appear. Click Next.</li>
<li class="li">Optionally, enter the paging settings. Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">Optionally, enter the column settings. Click <span class="ph uicontrol">Next</span></li>
<li class="li">Optionally enter the Details Page settings. Click <span class="ph uicontrol">Next</span></li>
<li class="li">Enter the model name and click <span class="ph uicontrol">Finish</span>.</li>
</ol>
</li>
<li class="li"> Go to <span class="ph menucascade"><span class="ph uicontrol">Run</span> &gt; <span class="ph uicontrol">Run...</span></span>. <ol class="ol" type="a"><li class="li">From the Run dialog box, click <span class="ph menucascade"><span class="ph uicontrol">WebSphere
Portlet Factory model</span> &gt; <span class="ph uicontrol">Active Model</span></span>. </li>
<li class="li">Click <span class="ph uicontrol">Run</span>.</li>
<li class="li">The widget appears in your default browser. </li>
<li class="li">Modify and run the widget locally until you are satisfied.</li>
</ol>
</li>
<li class="li"> From the Active Project, publish the widget to the <span class="ph">Lotus Mashups</span> Toolbox. Right-click
on the project name. Go to <span class="ph menucascade"><span class="ph uicontrol">Widget</span> &gt; <span class="ph uicontrol">Publish Widgets to Lotus Mashups toolbox</span></span> to publish the widget. Select the widgets you want
to publish and click <span class="ph uicontrol">OK</span>.</li>
</ol>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="QS_LWF_Mashup_Remote"><a name="QS_LWF_Mashup_Remote"><!-- --></a><h2 class="title topictitle2">Quick Start: Your first widget with production publishing</h2>
<div class="body conbody"><p class="shortdesc">This quick start guides you through the steps to create
and test a widget locally, then remotely upload the widget to <span class="ph">IBM InfoSphere MashupHub</span>. </p>
<p class="p">You then publish it to <span class="ph">IBM Lotus Mashups</span>. It is good
practice to develop and test against a locally-installed <span class="ph">Lotus Mashups</span> server before
exporting to a remote server. Follow the steps in this document if
you are unable to install a local <span class="ph">Lotus Mashups</span> server, or
when you are done testing locally and ready to publish to a remote <span class="ph">Lotus Mashups</span> server.</p>
<p class="p"> <span class="ph">IBM WebSphere Portlet Factory</span> works in conjunction <span class="ph">Lotus Mashups</span> to create
the widgets that become part of the mashups page. Typically, developers
create the widgets on their local systems, publish them, and test
them locally. However, in some cases, developers work in an environment
where they do not have the resources to run a local <span class="ph">Lotus Mashups</span> server or
perhaps multiple members of the development team must publish widgets
to a common <span class="ph">Lotus Mashups</span> server.
 When local development and testing is done, the team publishes the
newly-created widgets to a remote server. The remote server’s function
could be as a production server, an integration server, or quality
assurance server.</p>
<div class="section" id="QS_LWF_Mashup_Remote__installed_servers"><a name="QS_LWF_Mashup_Remote__installed_servers"><!-- --></a><h3 class="title sectiontitle">Installed servers</h3><p class="p"><span class="ph"> WebSphere Portlet
Factory</span> installs an <span class="ph">IBM WebSphere Application
Server</span> Community Edition
(CE) application server. <span class="ph">WebSphere Application
Server</span> CE is an open
source Java 2 Platform, Enterprise Edition (J2EE) application server
based on Apache Geronimo. <span class="ph">WebSphere Application
Server</span> CE provides lightweight
testing capabilities for <span class="ph"> WebSphere Portlet
Factory</span>.
You can test and run the widgets in this environment.  </p>
<p class="p"> In
some development environments, many users must have access to a common
server. As <span class="ph"> WebSphere Portlet
Factory</span> is
integrated with <span class="ph">Lotus Mashups</span> and <span class="ph">InfoSphere MashupHub</span>, it supports publishing
widgets to a remote server. </p>
</div>
<div class="section" id="QS_LWF_Mashup_Remote__process"><a name="QS_LWF_Mashup_Remote__process"><!-- --></a><h3 class="title sectiontitle">Process</h3><div class="p">The process of creating
a widget that is useful in creating mashups involves the use of multiple
products. <ol class="ol"><li class="li"><span class="ph"> WebSphere Portlet
Factory</span><div class="p"><ol class="ol" type="a"><li class="li">Create the widget in <span class="ph"> WebSphere Portlet
Factory</span>.</li>
<li class="li">Run and test against a locally installed <span class="ph">Lotus Mashups</span> server if
possible. If not, then test on the locally installed <span class="ph">WebSphere Application
Server</span> CE.</li>
<li class="li">Export a production WAR file.</li>
</ol>
</div>
</li>
<li class="li"><span class="ph">InfoSphere MashupHub</span> <ol class="ol" type="a"><li class="li">Upload the WAR file as an iWidget package file through the  <span class="ph">InfoSphere MashupHub</span></li>
<li class="li">From the details page of the widget in the <span class="ph">InfoSphere MashupHub</span>, choose <span class="ph uicontrol">Add
to Lotus Mashups</span> to publish the widgets to the <span class="ph">Lotus Mashups</span> server and
publish the widget to the <span class="ph">Lotus Mashups</span> Toolbox.</li>
</ol>
</li>
<li class="li"><span class="ph">Lotus Mashups</span> </li>
</ol>
</div>
</div>
<div class="section"><h3 class="title sectiontitle">Setting up a Mashup Server Configuration</h3><p class="p">Follow
these steps to setup a Mashup server.</p>
<ol class="ol"><li class="li">Click on <span class="ph menucascade"><span class="ph uicontrol">Windows</span> &gt; <span class="ph uicontrol">Preferences</span></span></li>
<li class="li">Select <span class="ph menucascade"><span class="ph uicontrol">WebSphere Portlet Factory Designer</span> &gt; <span class="ph uicontrol">Server Configurations</span></span>from the
tree</li>
<li class="li">Click the <span class="ph uicontrol">Add</span> button.</li>
<li class="li">Enter a name for your Server Configuration</li>
<li class="li">In the <span class="ph uicontrol">Server type</span> drop down select WebSphere
Application Server and IBM Mashup Server 2.0</li>
<li class="li">Enter the hostname of your server. If your Mashup server is local,
hellp locatlhost. If you are running Mashup Center remotely enter
a full DNS host name. In most cases the SOAP Connector Port can remain
8880.  <div class="note note"><span class="notetitle">Note:</span> If the soap connector port is not correct you can check
the SOAP port of your server by accessing the Admin Console. In the
admin console select Servers/Server Types/WebSphere Application Servers.
Select server1 from the list then select Ports. You will see your
Soap connector Address listed here. </div>
</li>
<li class="li">Enter a User Name and Password that has administrative access
to Mashup Center.</li>
<li class="li">Click the <span class="ph uicontrol">Test Connection</span> button to validate
your entries.</li>
<li class="li">Click OK to save the Server Configuration</li>
</ol>
<p class="p">If you are deploying to a remote Mashup Center you will want
to map a drive to the InstalledApps folder on the server to take advantage
of the Auto Synchronize feature. If you do not setup a mapped drive
you will need to Publish your project for running it to see your changes.</p>
</div>
<div class="section"><h3 class="title sectiontitle">From <span class="ph"> WebSphere Portlet
Factory</span> create
a widget</h3><p class="p">Create a widget. </p>
<ol class="ol"><li class="li">Create a <span class="ph"> WebSphere Portlet
Factory</span> project. <ol class="ol" type="a"><li class="li">Go to <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Project</span></span>.</li>
<li class="li">Enter a name for the widget in the Project name field.</li>
<li class="li">Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">Under <span class="ph uicontrol">Integration Extensions</span> select <span class="ph uicontrol">Widget
Extension</span> and <span class="ph uicontrol">Excel Extension</span>.</li>
<li class="li">Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">Select the Server Configuration you want to use when publishing
the project. </li>
<li class="li">Click <span class="ph uicontrol">Finish</span>.</li>
<li class="li">Click <span class="ph uicontrol">Yes</span> when asked to publish the project.</li>
</ol>
</li>
<li class="li">In the project, create a Model.<ol class="ol" type="a"><li class="li">Go to <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Model</span></span> .</li>
<li class="li">Select the project for which you want to create the model.</li>
<li class="li">Click <span class="ph uicontrol">Next</span>. </li>
<li class="li">Select the model type. In this case, select <strong class="ph b">Excel Widget</strong>.</li>
<li class="li">Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">Enter the widget title and select the Mashups Toolbox category
under which you want the widget to appear. <span class="ph uicontrol">Next</span>.</li>
<li class="li">Optionally, enter the paging settings. Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">Optionally, enter the column settings. Click <span class="ph uicontrol">Next</span></li>
<li class="li">Optionally enter the Details Page settings. Click <span class="ph uicontrol">Next</span></li>
<li class="li">Enter the model name and click <span class="ph uicontrol">Finish</span>.</li>
</ol>
</li>
<li class="li">Run and modify the widget locally until you are satisfied.</li>
<li class="li">Right-click on the Project name. Go to  <span class="ph menucascade"><span class="ph uicontrol">Export</span></span> and select the correct WAR for your environment.</li>
<li class="li">Click <span class="ph uicontrol">Finish</span>. <span class="ph"> WebSphere Portlet
Factory</span> creates the WAR file
in your workspace. The widget must be in a package file that is located
on an accessible file path or on a URL, either locally or on a common
sever. To publish to <span class="ph">Lotus Mashups</span>, the package
file must be a WAR.</li>
</ol>
</div>
<div class="section" id="QS_LWF_Mashup_Remote__run_sample"><a name="QS_LWF_Mashup_Remote__run_sample"><!-- --></a><h3 class="title sectiontitle">From <span class="ph">InfoSphere MashupHub</span> upload the widget</h3><p class="p">Follow
these steps to upload the widget to the <span class="ph">InfoSphere MashupHub</span>.</p>
<ol class="ol"><li class="li">On the <span class="ph">InfoSphere MashupHub</span> Home
tab, in the <span class="ph uicontrol">Create</span> panel, click on <span class="ph uicontrol">Upload
Widget</span>. </li>
<li class="li">From the <strong class="ph b">Upload Widget</strong> tab<ol class="ol" type="a"><li class="li">Select the type of widget you want to upload, in this case iWidgets.
Click <span class="ph uicontrol">Next</span>.</li>
<li class="li">Select <strong class="ph b">Upload File</strong>. The package file must be a WAR file</li>
<li class="li">Specify the location of the widget package file.</li>
<li class="li">Click <span class="ph uicontrol">Next</span>.</li>
</ol>
 </li>
<li class="li">Specify the following information about the widget you are uploading: <ol class="ol" type="a"><li class="li">Specify a title, a description, and a version for the widget.</li>
<li class="li">Optionally, specify tags that are associated with your widget.
You can use the list of existing tags as a guide for the tags that
you apply.</li>
<li class="li">Optionally, select the permissions that you want to apply to your
widget.</li>
<li class="li">Optionally select the categories that you want the widget to be
associated with. The categories provide a general classification for
the widget.</li>
<li class="li">Optionally, in the Related Entries section, specify the objects
in the catalog that can be used with the widget you are uploading.</li>
<li class="li">Optionally, specify the URL to any technical documentation for
the widget. </li>
<li class="li">Click <span class="ph uicontrol">Finish</span>. A confirmation  appears indicating
that the widget was saved. The widget is now listed in the <span class="ph">InfoSphere MashupHub</span> catalog and available
to other users as indicated by the permissions you selected in step
c. </li>
</ol>
</li>
<li class="li">From the <span class="ph uicontrol">widget uploaded</span> tab or from your
widget tab if you closed the finished page and came back through the
list widgets link: <ol class="ol" type="a"><li class="li">Click <span class="ph uicontrol">View iWidget details</span>. The widget
details are displayed. This Window also contains an Action menu lets
you add the widget directly to <span class="ph">Lotus Mashups</span>.</li>
<li class="li">Click <span class="ph menucascade"><span class="ph uicontrol">Actions</span> &gt; <span class="ph uicontrol">Add
to Lotus Mashups</span></span>.</li>
<li class="li">Enter the User ID and the password to access the <span class="ph">Lotus Mashups</span> server.</li>
<li class="li">Click <span class="ph uicontrol">Next</span>.</li>
</ol>
</li>
<li class="li">Enter the title and description of the widget to be added to <span class="ph">Lotus Mashups</span>. </li>
<li class="li">Select the category of the widget. The category appears on the
Toolbox of the <span class="ph">Lotus Mashups</span> page.
All the widgets that were defined in the WAR appear in the same category
with the model names. </li>
<li class="li">Click <span class="ph uicontrol">Finish</span>.</li>
</ol>
</div>
<div class="section"><h3 class="title sectiontitle">From <span class="ph">Lotus Mashups</span> build your
mashup</h3><div class="p"><ol class="ol"><li class="li">Login to <span class="ph">Lotus Mashups</span> to
check if the widget appears under the specified category in the Toolbox.<p class="p">Note:
If you are already logged into , you must log out and log in again.
The only time that <span class="ph">Lotus Mashups</span> refreshes
the toolbox is at login. </p>
</li>
<li class="li">Test the widget on the <span class="ph">Lotus Mashups</span> palette to
see if it performs as expected.</li>
<li class="li">If the widget requires modification, it is recommended that you
return to the developer environment to modify the widget. </li>
<li class="li">Create a new Production WAR.</li>
<li class="li">Remove the old WAR from <span class="ph">InfoSphere MashupHub</span> using the <span class="ph">WebSphere Application
Server</span> admin console.</li>
<li class="li">Republish the revised WAR file to <span class="ph">InfoSphere MashupHub</span>.</li>
<li class="li">Delete the old widget from <span class="ph">Lotus Mashups</span> toolbox. </li>
<li class="li">From <span class="ph">InfoSphere MashupHub</span> push
the revised widget to <span class="ph">Lotus Mashups</span>.</li>
</ol>
</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested0" xml:lang="en-us" id="c_dev_web_app"><a name="c_dev_web_app"><!-- --></a><h1 class="title topictitle1">Developing Web applications with <span class="ph">IBM WebSphere Portlet Factory</span> </h1>
<div class="body conbody"><p class="shortdesc">Once you create a project and models, you are ready to
start adding builders to your models. </p>
<p class="p">Most well-designed Web applications implement the Service-Oriented
Architecture (SOA). In an SOA application, you create models that
either call backend services or present a user interface for invoking
services. Developing Web applications topics introduce you to creating
pages and forms for the user interface or creating the services for
calling backend systems. </p>
<div class="p">Follow these links for more information on development on our wiki:<ul class="ul"><li class="li"><a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewCategories.xsp?lookupName=Resources%20for%20developers" target="_blank">Resources for developers</a></li>
<li class="li"><a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewCategories.xsp?lookupName=Samples%20and%20techniques" target="_blank">Samples and techniques</a></li>
<li class="li"><a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewCategories.xsp?lookupName=Best%20practices" target="_blank">Best practices</a></li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic task nested1" xml:lang="en-us" id="t_bld_soaapp"><a name="t_bld_soaapp"><!-- --></a><h2 class="title topictitle2">Building a service-oriented application</h2>
<div class="body taskbody"><p class="shortdesc">Building a service-oriented application involves creating
a service provider model and a service consumer model.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd"> Create a service provider model that includes the following
builders. </span> <ul class="ul"><li class="li">An integration builder (for example, <span class="ph">SAP Function
Call or </span>SQL Call) or method that provides data access. </li>
<li class="li">A Service Definition builder that creates underlying support for
the service and names the service.</li>
<li class="li">A single Service Operation builder or multiple Service Operation
builders that invoke the data access support available in the model.</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Test the service operation.</span><ul class="ul choices"><li class="li choice">Add a Service Test builder to the Service Provider model</li>
<li class="li choice">Enable the <span class="ph uicontrol">Add Testing Support</span> input
in the Service Definition builder. </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Create a service consumer model that includes the following
builders. </span> <ul class="ul"><li class="li">Service Consumer builder that invokes service operations made
available by a Service Provider model.</li>
<li class="li">Various Page builders (for example, View &amp; Form) to format
and display data.</li>
</ul>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">Generate a stub service model in
the Service Provider model by adding a Service Stub builder.</span></li>
<li class="li step stepexpand">Optional: <span class="ph cmd">Generate service documentation in
either or both models by adding Service Documentation builders to
the models.</span></li>
<li class="li step stepexpand">Optional: <span class="ph cmd">Use the Service Mapping Registry
to use the stub service model or to switch between service implementations. </span> <p class="p">To do so, set service mappings in XML files located in <span class="ph filepath">WEB-INF/config/service_mappings</span>.</p>
</li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_build_present_layer"><a name="c_build_present_layer"><!-- --></a><h3 class="title topictitle3">Building a presentation layer</h3>
<div class="body conbody"><p class="shortdesc">There is one core builder for the presentation layer:</p>
<div class="section">The Service Consumer builder makes all the operations defined in
a Service Provider model available for use. It enables other builders to reference
all the information provided by the service, including the input and output
schemas, the operations and the associated variables. With the Service Consumer
builder making the data available to the Page Automation system, you can use
the entire array of Page Automation builders to generate pages. For example,
the View and Form builder can reference service information, including the
input and result schemas, and automatically generate complex presentation
elements such as forms and list views.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_service_provider_model"><a name="t_cre_service_provider_model"><!-- --></a><h3 class="title topictitle3">Creating a service provider model</h3>
<div class="body taskbody"><p class="shortdesc">You can use the Service Definition and Service Operation
builders to create a service provider model.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create a model that contains a Service Definition builder
that defines and names a service.</span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd"> In the Service Definition builder, leave the <span class="ph uicontrol">Make
Service Public</span> input enabled (default).</span> <p class="p">The
service is available to all models in your application. </p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Enable the <span class="ph uicontrol">Add Testing Support</span> input
in the Testing Support section.</span> <p class="p">This facilitates
testing of the service provider model. </p>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Use an integration builder (for example, a SAP Function
Call, SQL Call, or Web Service Call builder) to create a back-end,
data access operation.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Use a Service Operation builder to name this back-end data
access operation and add it to your service.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">In the Service Operation builder, select the operation
created by the integration builder.</span></li>
<li class="li substep"><span class="ph cmd">Add additional operations to your service as required.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Create a service consumer model that uses your new data
service.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">In the service consumer model, place a Service Consumer
builder and select the service provider model previously created.</span></li>
</ol>
</li>
</ol>
<div class="section result">If you selected <span class="ph uicontrol">Add Testing Support</span> in
the Service Definition builder, you can test your service in the service
provider model by simply running the model.</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_build_service_layer"><a name="c_build_service_layer"><!-- --></a><h4 class="title topictitle4">About building a service layer</h4>
<div class="body conbody"><p class="shortdesc">Multiple builders can be used to create a service layer.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">Service Definition builder</dt>
<dd class="dd">This builder creates underlying support for an initially empty
service, provides an option for exposing the service by a WSDL (Web
Services Definition Language) document, and names the service.</dd>
<dt class="dt dlterm">Service Operation builder</dt>
<dd class="dd">This builder adds an operation or method to the service defined
by the Service Definition builder. The operation can invoke any data
access support available in the model. Data access is usually provided
by using one or more back-end integration builders, such as SAP Function
or SQL Call, but can also be provided by a linked Java object (LJO)
or any data-returning method.</dd>
<dt class="dt dlterm">Web Services Call builder</dt>
<dd class="dd">This builder is used to call a single operation in a web service
defined with a WSDL document. </dd>
<dt class="dt dlterm">Web Service Multiple Operations builder</dt>
<dd class="dd">This builder adds to your model all the operations defined in
a WSDL document. It combines the features of the Web Service Call
builder, the Service Definition builder, and the Service Operation
builder. </dd>
<dt class="dt dlterm">REST Service Call builder</dt>
<dd class="dd">This builder is used in models in which you want to call a Representational
State Transfer (REST) style service. </dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_data_service_models"><a name="c_data_service_models"><!-- --></a><h4 class="title topictitle4">The data service models</h4>
<div class="body conbody"><p class="shortdesc">To implement an SOA application, create models that are
either Service Providers (back-end data access) or Service Consumers
(front-end presentation) and then combine them (flexibly) both for
application testing and for publishing.</p>
<div class="section">Using this methodology, teams of developers can work independently
on the layers without the need to constantly coordinate and adjust
to modifications made on the other side. Additionally, development
can proceed without requiring access to the targeted back-end systems,
simplifying life considerably for all, especially the UI team.<dl class="dl"><dt class="dt dlterm">Service Provider model – defines service</dt>
<dd class="dd">These models define a service within the WebApp; the Model (and
thus the service) is then referenced by Service Consumer models. The
service can provide one or more operations (similar to the operations
within a WSDL service). The service can return whatever results are
required within an application, including gathering data from multiple
back ends or databases and combining it in whatever form is required.<p class="p">It
is often useful to define a service with multiple, related operations,
even if the data sources represent more than one back-end system.
For example, a customer information service might define operations
to return a customer list (based on search criteria),
customer detailed information, customer orders, customer complaints,
and so on. A product service might define operations for products
by category, products by price, product inventory, product costs,
product sales performance, and so on.</p>
</dd>
<dt class="dt dlterm">Service Consumer model – invokes operations</dt>
<dd class="dd">As their name implies, these models use one or more Service Consumer
builders to invoke the service operations made available by Service
Provider models. Usually (but not necessarily), a Service Consumer
model will generate UI, obtaining data via the service provider and
then using whatever other builders are needed to generate pages with
the forms, views, graphs, and so on, that comprise the presentation
layer. The Provider/Consumer builder set provides insulation to UI
models, and loose enough coupling between UI and service models to
allow substitution of an alternate service provider model at runtime.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_soa_app_example"><a name="c_soa_app_example"><!-- --></a><h3 class="title topictitle3">Example – building an SOA application</h3>
<div class="body conbody"><p class="shortdesc">This example uses a pair of simple service provider and service
consumer (presentation) models.</p>
<div class="section">It uses a JDBC database connection in the service layer (SQL Call
builder), although the service could just as easily use any <span class="ph"> WebSphere Portlet
Factory</span> integration
builders such as SAP, Domino, PeopleSoft, Web Services, or any integration
builders created for proprietary back-ends.<p class="p">Essentially only two steps are
required to build the application:</p>
<ol class="ol"><li class="li">Create the service layer (service provider model) with three builders: <ul class="ul"><li class="li">Integration builder (SAP, SQL, Domino, and so on.) or method </li>
<li class="li">Service definition builder </li>
<li class="li">Service operation builder(s) </li>
</ul>
</li>
<li class="li">Use the service operations in the Presentation model, with these builders:<ul class="ul"><li class="li">Service Consumer builder</li>
<li class="li">Various page automation builders (View and Form, Record, List and Details,
and so on.)</li>
</ul>
</li>
</ol>
<p class="p">Once these core pieces are in place, you can add other builders to
enhance the service or consumer side as desired.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_addtl_soa_features"><a name="c_addtl_soa_features"><!-- --></a><h3 class="title topictitle3">Additional SOA features available</h3>
<div class="body conbody"><p class="shortdesc">To further enhance the development of SOA (service-oriented
architecture) applications, <span class="ph">IBM WebSphere Portlet Factory</span> provides
additional features that simplify and speed development.</p>
<div class="section">These include:<dl class="dl"><dt class="dt dlterm">Disconnected support by stub service models</dt>
<dd class="dd"><p class="p">By pressing a button in the Service Definition builder, you
can automatically create a stub service model. This completely generated
model has an identical interface to the original Service Provider
model, but includes an entirely self-contained snapshot of operations,
schemas, and sample data. The stub service model eliminates the need
for you to be connected to the data source, reducing the hassle of
configuring your system and eliminating the need for connecting to
a real system such as SAP, <span class="ph">IBM Lotus Domino</span> or PeopleSoft or
ensuring the local presence of a "developer's" version of the system.
If desired, the sample data can be automatically captured from actual
result data obtained by invoking the service just once, and then using
the disconnected support after that. </p>
<p class="p">If your back-end system
is slow in responding or has limited availability, you will save considerable
time by using this disconnected development approach. Using a Stub
Service model means that the generation process does not need to access
the slow back-end for every regeneration cycle.</p>
</dd>
<dt class="dt dlterm">Automatic service testing</dt>
<dd class="dd"><p class="p">The Service Test builder lets you automatically generate the
pages and code required for testing all the operations defined within
a service, including the specification of default inputs for testing
each operation. The Service Test builder allows you to easily validate
your back-end functionality with complete independence from any presentation
layer, and without having to build a separate test harness. You can
also generate "headless" methods that call the service operations
directly, a capability that is useful for establishing automated testing
of services, without having to view browser pages.</p>
</dd>
<dt class="dt dlterm">Simple service documentation</dt>
<dd class="dd"><p class="p">The Service Documentation builder automatically generates services
documentation on both sides of this dual architecture. It will create
information about the service and its operations, including inputs
and results, for services created by a Service Provider Model or for
services used by a Service Consumer model. Alternatively, a separate
documentation model can be used to generate the doc for any services
within the WebApp.</p>
 </dd>
<dt class="dt dlterm">Dynamic service mapping</dt>
<dd class="dd"><div class="p">This powerful feature enables you to dynamically manage equivalent
services, by letting you swap the actual Service Provider model used
whenever a service is referenced, either at design-time or at runtime.
A "Service Mapping Registry" (a simple XML file) is used to specify
which model should be used to supply the referenced service. This
Service Mapping capability automatically supports scenarios such as:<ul class="ul"><li class="li">Using a Stub Service model for much of the Provider implementation
effort and swapping in actual connectivity only to test out what you
have built.</li>
<li class="li">Using a Stub Service model for the development and testing of
the presentation models, then simply modifying the Service Mapping
file to enable the real service (with real connectivity) to be used.</li>
<li class="li">Switching to an alternate service implementation (for example,
to use a different back end) at any time, without needing to modify
any of the presentation models. This enables substitutable services,
either during application development or for a published
application. The only requirement is that the selected model implements
the same service provider interface.</li>
</ul>
</div>
<p class="p"></p>
</dd>
<dt class="dt dlterm">Service interface support</dt>
<dd class="dd"><p class="p">To facilitate swapping of Service Provider models, Data Service
builders support the notion of a Service interface, similar in concept
to a Java interface. The Service
Definition builder allows you to specify the name of another Service
Provider model that you want to use as the Interface definition. The
Interface concept is very useful when you want to develop alternate
Service Provider implementations that all work with a common set of
presentation (Service Consumer) models. It ensures that you can swap
between Service Provider models without breaking the presentation
models.</p>
<p class="p">The Service Definition and Service Operation builders
automatically provide assistance and verification for accurately implementing
the specified Service Interface (the alternate implementation is not
automatically generated). The service name, operation names and the
number and names of operation parameters are verified. Since input
and result types are not included in the verification, you could leverage
the adaptive features of <span class="ph"> WebSphere Portlet
Factory</span> to
implement the service with alternate formats.</p>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_working_with_projects"><a name="c_working_with_projects"><!-- --></a><h2 class="title topictitle2">Working with <span class="ph">IBM WebSphere Portlet Factory</span> projects</h2>
<div class="body conbody"><p class="shortdesc">A project is the foundation of an application in <span class="ph"> WebSphere Portlet
Factory</span>. </p>
<p class="p">A project contains all the artifacts required by <span class="ph"> WebSphere Portlet
Factory</span> to build the <span class="ph">web application, portlet application or </span>widget.</p>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer wizards
are available to help you perform any project operations, such as
creating a project, adding <span class="ph"> WebSphere Portlet
Factory</span> artifacts
to and removing <span class="ph"> WebSphere Portlet
Factory</span> artifacts
from a project, and modifying project settings.</p>
<p class="p">Most wizards are accessible from a project right-click menu and
wizards usually provide default settings that you can change according
to your development environment.</p>
<div class="section"><h3 class="title sectiontitle">Typical <span class="ph"> WebSphere Portlet
Factory</span> project
contents</h3><p class="p">The following characteristics describe a typical <span class="ph"> WebSphere Portlet
Factory</span> project. </p>
<dl class="dl"><dt class="dt dlterm">Project nature</dt>
<dd class="dd"><span class="ph"> WebSphere Portlet
Factory</span> projects use
the Java project nature. </dd>
<dt class="dt dlterm">Project contents</dt>
<dd class="dd"><span class="ph"> WebSphere Portlet
Factory</span> projects contain
all the contents of <span class="ph"> WebSphere Portlet
Factory</span> servable
content root directory. For example, <span class="ph filepath">wpf.war</span> and
below. </dd>
<dt class="dt dlterm">Source directory</dt>
<dd class="dd"><span class="ph"> WebSphere Portlet
Factory</span> projects use
the project installation <span class="ph filepath">WEB-INF/work/source</span> directory
as a source directory. You may designate other directories as Source
Directories as well, but you must include this one. </dd>
<dt class="dt dlterm">Included libraries</dt>
<dd class="dd"><span class="ph"> WebSphere Portlet
Factory</span> projects include
all the JAR files in the <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph filepath">WEB-INF/lib</span> directory
and the JAR files in the <span class="ph filepath">WEB-INF/clientlibs/servlet.jar</span>. </dd>
<dt class="dt dlterm">External tools builders</dt>
<dd class="dd"><span class="ph"> WebSphere Portlet
Factory</span> WebApp builder
runs an Ant script that copies files from the project to the server.</dd>
</dl>
</div>
<div class="section"><h3 class="title sectiontitle">Project locations</h3><p class="p">By default, <span class="ph"> WebSphere Portlet
Factory</span> projects are located
in the Eclipse <span class="ph filepath">/workspace</span> directory. However,
you can locate a <span class="ph"> WebSphere Portlet
Factory</span> project
anywhere in your file system. On Windows systems, due to constraints
on path name length, there are benefits to locating the project at
or near the top of the file system.</p>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_cre_portlet_factory_project"><a name="t_cre_portlet_factory_project"><!-- --></a><h3 class="title topictitle3">Creating an <span class="ph">IBM WebSphere Portlet Factory</span> project</h3>
<div class="body taskbody"><p class="shortdesc">The first step in building an application is to create
a project.</p>
<div class="section context"><p class="p">This project will contain all the artifacts and features
required by the application. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Set up the environment.</span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Install <span class="ph"> WebSphere Portlet
Factory</span> Designer
locally.</span> <p class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer
is the development environment for creating <span class="ph">web
applications, portlets, and widgets</span>.
It is installed into an integrated development environment (IDE) such
as Eclipse or Rational Application
Developer. If you do not have Eclipse or Rational Application Developer installed
already, you can install Eclipse as part of the <span class="ph"> WebSphere Portlet
Factory</span> installation procedure.</p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Establish access to a local or networked installation
of <span class="ph"><span class="ph">IBM WebSphere Portal</span> server, </span><span class="ph">IBM WebSphere Application
Server</span>, <span class="ph">IBM WebSphere Application
Server</span> Community Edition
(CE), Tomcat, <span class="ph">IBM Lotus Mashups</span> server,
or <span class="ph">IBM InfoSphere MashupHub</span>. </span> <p class="p">To
publish your project, the target server must be running.</p>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Launch the Eclipse or Rational Application
Developer client into which you installed <span class="ph"> WebSphere Portlet
Factory</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">From the menu, click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Open Perspective</span> &gt; <span class="ph uicontrol">Other</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory</span></span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">From the <span class="ph uicontrol">File</span> menu,
select <span class="ph menucascade"><span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory Project</span></span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Provide a name for the project and then click <span class="ph uicontrol">Next</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">Feature Set</span> page, select
the feature sets to include in the project and click <span class="ph uicontrol">Next</span>.</span> <p class="p">You can add feature sets to or remove feature sets from the
project at a later time. As a default condition, the Dojo Ajax feature
set is selected. This setting lets your project take advantage of
the latest look and style features for the user interface in your
web application. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Next</span> to continue to the Server
configuration screen.</span> <p class="p">The current configuration settings
are displayed. If <span class="ph">WebSphere Application
Server</span> CE
is installed on your system when you install <span class="ph"> WebSphere Portlet
Factory</span> or it was already
on your system, the <span class="ph">WebSphere Application
Server</span> CE
server configuration is created for you automatically. </p>
 <p class="p">You can add a
new configuration, or edit or delete the currently selected configuration.</p>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">Edit an existing configuration for
the project for your particular environment. </span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">In the Server Configuration window, click <span class="ph uicontrol">Edit</span>.</span> <p class="p">The configuration settings for the selected server
configuration are displayed in the Edit Server Configuration window.</p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Modify any configuration settings. </span></li>
<li class="li substep substepexpand">Optional: <span class="ph cmd">For some server configurations,
you can click <span class="ph uicontrol">Test Server Connection</span> to verify
the connection to the target server. </span> <p class="p">If you receive
an error, ensure that your server is running and click <span class="ph uicontrol">Test
Server Connection</span> again.  Click <span class="ph uicontrol">OK</span> to
continue.</p>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Finish</span> to complete creating
the project.</span> <p class="p">If the target server for your server configuration
is not running, you are prompted to start it. If you plan to create
and test applications, you should start the server. Otherwise, you
can start the server later. </p>
<p class="p">You are prompted to publish your
project now. If you click <span class="ph uicontrol">Yes</span>, WAR files are
published locally and are automatically published when you make changes
to the project.</p>
</li>
</ol>
<div class="section result"><div class="p">The name of the new project appears in the Project Explorer.
The following properties file is created in your project.<pre class="pre codeblock"><span class="ph filepath">/WEB-INF/config/override.properties</span></pre>
This
file lets your project take advantage of the latest theme (the <samp class="ph codeph">bowstreet.themeFile</samp> property)
and default Rich Data Definition (RDD) files (the <samp class="ph codeph">bowstreet.baseRddFile</samp> property).
The property for the theme file (<span class="ph filepath">/WEB-INF/factory/themes/blue_WPF7.uitheme</span>)
enables use of the smart refresh feature in post-action behavior that
involves partial-page refresh in portlets. The property for the RDD
file provides automatic settings for the display and validation of
page-automation fields and columns in your user interface (UI). A
single RDD file (in <span class="ph filepath">/WEB-INF/factory/data_definitions</span>)
is used by default by page-automation pages. </div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_bld_portlet_factory_project"><a name="c_bld_portlet_factory_project"><!-- --></a><h4 class="title topictitle4">Building an <span class="ph">IBM WebSphere Portlet Factory</span> project</h4>
<div class="body conbody"><p class="shortdesc">When used in a <span class="ph"> WebSphere Portlet
Factory</span> project,
the Eclipse build operation performs multiple actions. </p>
<ul class="ul"><li class="li">Converts source files into executable files<p class="p">For example, compiling
Java sources into class files and copying property files from source
directories to class directories.</p>
 </li>
<li class="li">Copies files and creates WARs<p class="p">For example, to an output location
on the application server or to a WAR file.</p>
 </li>
</ul>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer works
best if the automatic build setting is enabled (<span class="ph uicontrol">Build automatically</span> under <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Preferences</span> &gt; <span class="ph uicontrol">General </span> &gt; <span class="ph uicontrol">Workspace</span></span>). Although this setting is enabled by default, sometimes
a developer disables it if there are other active projects in the
workspace that have large numbers of sources or otherwise take a long
time to build.</p>
<p class="p">If it is necessary to run with this setting disabled, a manual
build might be necessary in the following circumstances. </p>
<ul class="ul"><li class="li">New sources are added – For example, when installing a feature
set or package</li>
<li class="li">Sources are generated – For example, by the Data Page builder
create resource bundle action</li>
<li class="li">Synchronization with the application server. For example, accessing
the server by a URL after changing any resources (models, profile
sets, or content) in the project. <div class="note note"><span class="notetitle">Note:</span> The <span class="ph uicontrol">Run</span> command
typically does a build before launching the first page.</div>
</li>
</ul>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_cre_project_finished"><a name="c_cre_project_finished"><!-- --></a><h4 class="title topictitle4">About creating your project</h4>
<div class="body conbody"><p class="shortdesc">When you finish creating the project, you can choose whether
to publish a development WAR file or export a production WAR file.</p>
<div class="section"><div class="p">The conditions differ for portlets and widgets. <ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#c_cre_project_finished__portletproj">For portlets</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_cre_project_finished__widgtproj">For widgets</a></li>
</ul>
</div>
</div>
<div class="section" id="c_cre_project_finished__portletproj"><a name="c_cre_project_finished__portletproj"><!-- --></a><h5 class="title sectiontitle">For portlets</h5><p class="p"><span class="ph"> WebSphere Portlet
Factory</span> can generate two WAR
files for you. The <span class="ph"> WebSphere Portlet
Factory</span> development
WAR file is used when running your application standalone on an application
server. The portlet WAR file is used when running your application
as a portlet within a portal. </p>
<p class="p" id="c_cre_project_finished__noautomatic"><a name="c_cre_project_finished__noautomatic"><!-- --></a>If you have
not chosen the Publish Application function, you need to publish the
WAR files manually after this process completes. If you have chosen
the Publish Application function, the WAR files are publish to the
servers specified in your server configuration for your project for
you. There is a large amount work being done here, so the publishing
process could take from two to three minutes to complete. </p>
<p class="p">If
you are using a local installation of <span class="ph">WebSphere Portal</span>, security for <span class="ph">WebSphere Application
Server</span> is enabled by
default. As a result, you may be prompted for credentials during the
creation of the WAR files. Use the <span class="ph">WebSphere Application
Server</span> administrator
credentials and not the Portal administrator credentials. Also, be
sure to wait for this prompt before leaving the publish application
function unattended. The prompt times out if you ignore it and your
WAR file is not automatically published. In this case, you can still
install and configure the WAR file manually with the <span class="ph">WebSphere Application
Server</span> Administrative
Console.</p>
<p class="p" id="c_cre_project_finished__processend"><a name="c_cre_project_finished__processend"><!-- --></a>When the process completes, <span class="ph"> WebSphere Portlet
Factory</span> displays README editors
for the feature sets that you have installed. Read through these files
and close them when you are finished. You should be left with an empty
(gray) work area.</p>
<p class="p">If the Websphere Administration Server or
the <span class="ph">WebSphere Portal</span> Server
servers are remote, you see an error message below the informational
panel. This message states that the development WAR and the EAR that
contains it have not been publish. If you have chosen not to publish
the portlet WAR automatically or if the portal server was not available,
you need to publish that WAR manually with the <span class="ph">WebSphere Portal</span> Administrative
console.</p>
</div>
<div class="section" id="c_cre_project_finished__widgtproj"><a name="c_cre_project_finished__widgtproj"><!-- --></a><h5 class="title sectiontitle">For widgets</h5></div>
<div class="section"><p class="p">The development WAR file contains utilities that help
speed your development time. A development WAR is built based on the
inputs provided in your server configuration. If the server configuration
is configured for Publish Application, the widget is published for
you when you build a development WAR. If a Mashup server is installed
on your system when you install <span class="ph"> WebSphere Portlet
Factory</span>, a server configuration
named MashupServer is generated automatically, and is configured to
automatically publish the widget, as long as the correct credentials
are supplied during installation.</p>
<p class="p">To build a development WAR,
right-click the project name in the Project Explorer panel. Click<span class="ph menucascade"><span class="ph uicontrol">Widgets</span> &gt; <span class="ph uicontrol">Publish Widgets to Lotus
Mashups toolbox</span></span> to publish the widget. Select
the widgets you want to publish and click <span class="ph uicontrol">OK</span>.</p>
<p class="p">The
production WAR file is used when your application is ready to be exported
to a production environment. The production WAR does not contain the
development utilities and is smaller than the development WAR. The
production WAR must be manually exported to the server. To build a
production WAR, right-click on the project name in the Project Explorer
panel. Click <span class="ph menucascade"><span class="ph uicontrol">Export</span></span> and
choose the WAR specific to your environment. </p>
<p class="p">If you have not
chosen the Publish Application function, you need to publish or export
the WAR files manually after this process completes. If you have chosen
the Publish Application function, the WAR files are published to the
servers for you. There is a large amount work being done here, so
the publishing process could take from two to three minutes to complete. </p>
<p class="p">If
you are using a local installation of <span class="ph">Lotus Mashups</span>, security
is enabled by default. As a result, you may be prompted for credentials
during the creation of the WAR files. Use the <span class="ph">WebSphere Application
Server</span> administrator
credentials. Also, be sure to wait for this prompt before leaving
the publishing process unattended. The prompt times out if you ignore
it and your WAR file is not automatically publsihed. In this case,
you can still install and configure the WAR file manually with the <span class="ph">WebSphere Application
Server</span> Administrative
Console.</p>
<p class="p">When the process completes, <span class="ph"> WebSphere Portlet
Factory</span> displays README editors
for the feature sets that you have installed. Read through these files
and close them when you are finished. You should be left with an empty
(gray) work area.</p>
<p class="p">If the <span class="ph">Lotus Mashups</span> server is
remote, you see an error message below the informational panel. This
message states that the development WAR and the EAR that contains
it have not been pub. If you have chosen not to publish the WAR automatically
or if the server was not available, you need to publish or export
that WAR manually.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_mod_project"><a name="c_mod_project"><!-- --></a><h4 class="title topictitle4">Modification of an <span class="ph">IBM WebSphere Portlet Factory</span> project</h4>
<div class="body conbody"><p class="shortdesc">You can modify a <span class="ph"> WebSphere Portlet
Factory</span> project
in a variety of ways.</p>
<div class="section"><p class="p">For example, you can add a feature set to it, or even
publish the project to a totally different type of application
server. You might also modify a project by creating a WAR from the
project. All these options are available from the project popup menu
and are accessed by right-clicking the project in Project Explorer.</p>
<p class="p">In
the popup menu, you add a feature set by clicking <span class="ph menucascade"><span class="ph uicontrol">Properties</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory Project Properties</span></span>. In the
Feature Info pane, you can select the feature set that contains the
builders to use in your project. </p>
<p class="p">You can build various types
of WARs. In the popup menu, click <span class="ph uicontrol">Publish Application</span> and
the choose the appropriate item from the submenu. </p>
<p class="p">By clicking
 <span class="ph menucascade"><span class="ph uicontrol">Properties</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory Project Properties</span> &gt; <span class="ph uicontrol">Server Configurations</span></span>, you can view or change the server configurations that
are available to the project.</p>
<div class="note note"><span class="notetitle">Note:</span> When you modify a project, <span class="ph"> WebSphere Portlet
Factory</span> Designer removes files
from the project and then re-adds files to the project. As a result,
you might see warnings that a modify operation will delete certain
files (for example, <span class="ph filepath">web.xml</span>). Deleted files are
added back into the project as the modify operation completes. You
have the opportunity to preserve your changed copies in a backup location
before you reply to the warning dialog. Any changes you made to deleted
or overwritten files are lost if you do not preserve your changed
copies and indicate <span class="ph uicontrol">Yes</span> or <span class="ph uicontrol">Yes To
All</span> when you are asked to delete or overwrite.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_working_remote_project"><a name="c_working_remote_project"><!-- --></a><h4 class="title topictitle4">About working with a remote project</h4>
<div class="body conbody"><p class="shortdesc">You can work on a project that is located on a remote machine
if you follow some simple guidelines.</p>
<div class="section"><p class="p">Remote projects support team development, where several
developers can share access to the same project.</p>
<p class="p">A remote project
stores the location of <span class="ph">IBM WebSphere Portlet Factory</span> in
the <span class="ph filepath"><var class="keyword varname">J2EERoot</var>\.bowstreet</span> configuration
file. As a result, if two or more people are trying to work on the
same remote project, they must all use the exact same directory location
to the project. If you try to import an existing remote project into
your workspace and your path is not identical to the path specified
in the remote project <span class="ph filepath">.bowstreet</span> config file,
you can see errors in <span class="ph"> WebSphere Portlet
Factory</span> Designer.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_move_resources"><a name="t_move_resources"><!-- --></a><h3 class="title topictitle3">Moving resources</h3>
<div class="body taskbody"><p class="shortdesc">You can change the location in which a folder appears in the project
tree in Project Explorer or Model Navigator.</p>
<div class="section context"><div class="note note"><span class="notetitle">Note:</span> When you have a resource open that references the folder that
you want to move, the change will not be reflected until you reopen the resource.
The same condition applies when you rename a folder.</div>
<p class="p">To move an item
in the Project Explorer tree, follow these steps:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Choose one:</span><ul class="ul choices"><li class="li choice">Right click the resource and choose <span class="ph menucascade"><span class="ph uicontrol">Refactor</span> &gt; <span class="ph uicontrol">Move</span></span> from the resulting popup menu.</li>
<li class="li choice">Click the resource and choose <span class="ph menucascade"><span class="ph uicontrol">Refactor</span> &gt; <span class="ph uicontrol">Move</span></span> from the main menu.</li>
<li class="li choice">In the Model Navigator, right click the resource, choose <span class="ph uicontrol">Move</span> from
the resulting popup.</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click the folder to which you want to move the resource in the
resulting dialog box, and then click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_rename_builder_profile_entry"><a name="t_rename_builder_profile_entry"><!-- --></a><h3 class="title topictitle3">Renaming a builder or profile entry</h3>
<div class="body taskbody"><p class="shortdesc">You can rename builders and profile entries and, in some cases,
you can edit their definitions as well.</p>
<div class="section context">You do this from the Outline after opening a model or profile set
in either the Project Explorer or the Model Navigator.<p class="p">Another point to
consider before renaming a builder or profile entry is this: In reconciling
references, the renaming process internally performs a simple text search
for those references. If, for example, you have a builder named Page2 and
another named Page20, and you rename Page2 to Pagex, references to both Page2
and Page20 will be found. In order to weed out references to Page20, you need
to preview the changes that the renaming would make (by clicking <span class="ph uicontrol">&gt;Next</span>),
deselecting the items that you do not want to change.</p>
<p class="p">To rename a profile
entry or builder call, follow these steps:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Display the Outline window:</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Choose <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show
View</span> &gt; <span class="ph uicontrol">Other</span></span>.</span></li>
<li class="li substep"><span class="ph cmd">Choose <span class="ph menucascade"><span class="ph uicontrol">General</span> &gt; <span class="ph uicontrol">Outline</span></span>.</span></li>
<li class="li substep"><span class="ph cmd">Click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Open the model containing the builder that you want to rename (or
the profile set whose profile entry you want to rename) by right clicking
on the model (or profile set) in the Project Explorer or Model Navigator tree
and clicking <span class="ph uicontrol">Open</span> in the resulting popup.</span> Opening
the model (or profile set) populates the Outline.</li>
<li class="li step stepexpand"><span class="ph cmd">Right click the item in the Outline that you want to rename, and
then select <span class="ph uicontrol">Rename</span> from the resulting popup.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Enter the new name in the <span class="ph uicontrol">Rename builder call</span> (or <span class="ph uicontrol">Rename
profile entry</span>) dialog.</span></li>
<li class="li step stepexpand"><span class="ph cmd">If the <span class="ph uicontrol">Next</span> button is enabled, click it
to display a list of the changes that will occur if you rename the selected
item.</span>  In some cases, the renaming will affect multiple resources.
These resources are listed in the <span class="ph uicontrol">Rename</span> screen. You
can elect not to update one or more of the resources in the list but to update
the others, though typically you would not do this.</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Finish</span> to complete the renaming, or
click <span class="ph uicontrol">Cancel</span> to cancel the renaming.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_rename_resources"><a name="t_rename_resources"><!-- --></a><h3 class="title topictitle3">Renaming resources</h3>
<div class="body taskbody"><p class="shortdesc">You can rename a folder, a model, or a profile set.</p>
<div class="section context">To rename a folder, model, or profile set from the Project Explorer,
follow these steps:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Select the folder, model, or profile set.</span></li>
<li class="li step"><span class="ph cmd">Choose <span class="ph menucascade"><span class="ph uicontrol">Refactor</span> &gt; <span class="ph uicontrol">Rename</span></span> either by right clicking the resource and then selecting from
the resulting popup menu, or by clicking the resource and choosing <span class="ph menucascade"><span class="ph uicontrol">Refactor</span> &gt; <span class="ph uicontrol">Rename</span></span> from
the main menu.</span></li>
<li class="li step"><span class="ph cmd">Enter the new name in the <span class="ph uicontrol">Rename Resource</span> dialog.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Preview</span> to display a list of the changes
that will occur if you rename the selected item. </span> In some cases,
the renaming will affect multiple resources. These resources are listed in
the <span class="ph uicontrol">Preview</span> screen. You can elect not to update one
or more of the resources in the list but to update the others, though typically
you would not do this.</li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> to complete the renaming or <span class="ph uicontrol">Cancel</span> to
cancel the renaming. If you click <span class="ph uicontrol">OK</span>, the name of the
item you selected is changed and references to other resources are reconciled.</span></li>
</ol>
<div class="section result"><p class="p">To rename a resource in the Model Navigator, right click the resource,
choose <span class="ph uicontrol">Rename</span> from the resulting popup, and enter the
new name.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_refactoring"><a name="c_refactoring"><!-- --></a><h4 class="title topictitle4">Refactoring</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> offers
extended support for refactoring through the Project Explorer and the Java
Package Explorer.</p>
<p class="p">Refactoring through the Project Explorer is recommended because when you
move or rename a resource in Project Explorer, all internal references are
reconciled. This is not the case if you attempt refactoring in the standard
Navigator.</p>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_project_explorer_refactor"><a name="c_project_explorer_refactor"><!-- --></a><h5 class="title topictitle5">Refactoring from the Project Explorer</h5>
<div class="body conbody"><p class="shortdesc">You can take advantage of <span class="ph">IBM WebSphere Portlet Factory</span> Designer's
refactoring capabilities from the Project Explorer to move or rename project
folders or the resources they contain.</p>
<div class="section">To rename a resource in the tree, click the item in the Project Explorer,
choose <span class="ph menucascade"><span class="ph uicontrol">Refactor</span> &gt; <span class="ph uicontrol">Rename</span></span> from the menu, and then enter the new name in the resulting
dialog box. Alternatively, depending on the item, you can right click it and
choose <span class="ph menucascade"><span class="ph uicontrol">Refactor</span> &gt; <span class="ph uicontrol">Rename</span></span> from the resulting popup, and then enter the new name in the
resulting dialog box.<p class="p">To move a resource in the tree, click the item in
the Project Explorer, and then click <span class="ph uicontrol">Refactor</span>, click <span class="ph uicontrol">Move</span>,
and then click the folder to which you want to move the item in the resulting
dialog box. Alternatively, you can right click the item and choose <span class="ph menucascade"><span class="ph uicontrol">Refactor</span> &gt; <span class="ph uicontrol">Move</span></span> from
the menu, and then click the folder to which you want to move the item in
the resulting dialog box..</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_pfarchive"><a name="t_cre_pfarchive"><!-- --></a><h3 class="title topictitle3">Creating an archive</h3>
<div class="body taskbody"><p class="shortdesc">Use the Eclipse Export function to create an <span class="ph">IBM WebSphere Portlet Factory</span> archive file that contains
artifacts to be shared in development.</p>
<div class="section context"><p class="p">When you create a <span class="ph"> WebSphere Portlet
Factory</span> archive, select only
models and supporting files. This includes files such as HTML pages, <span class="ph filepath">.css</span> files,
JavaScript files, profiles, resource bundles, and any Java source
files that you create for LJOs.  </p>
<p class="p">Do not include any files that are added to a new project by
default. If you include other project files in a <span class="ph"> WebSphere Portlet
Factory</span> archive, that archive
may cause problems when it is imported into another project. The problems
occur because some of the project files can be project-specific. A
good rule of thumb is to include only files that you create. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In Eclipse, click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Export</span></span> to open the Export wizard.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Export dialog, click <span class="ph menucascade"><span class="ph uicontrol">WebSphere Portlet Factory</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Archive</span></span> and then click <span class="ph uicontrol">Next</span>.</span> <p class="p">The Export dialog displays a list of projects in the
left pane and various properties files in the right pane.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the left pane, select the project components to include.
In the right pane, select any properties files to include.</span></li>
<li class="li step stepexpand"><span class="ph cmd">If any of the items that you select have dependencies on
other files, click <span class="ph uicontrol">Select Dependencies</span> and
select the dependent files to include in the archive.</span> <p class="p">For
more information, see the help for the dialog. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph uicontrol">To archive file</span>, enter the location
in which to save the <span class="ph"> WebSphere Portlet
Factory</span> archive
file.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Finish</span> to create and save
the archive file.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_mprt_archive"><a name="t_mprt_archive"><!-- --></a><h3 class="title topictitle3">Importing an archive file</h3>
<div class="body taskbody"><p class="shortdesc">You can use the <span class="ph"> WebSphere Portlet
Factory</span> Archive
Import wizard to incorporate resources from an external source into
a project.</p>
<div class="section context"><div class="p">These resources must be in the form of a <span class="ph">IBM WebSphere Portlet Factory</span> Archive zip file. <div class="note note"><span class="notetitle">Note:</span> The
Import War and Import Ear functions do not create a <span class="ph"> WebSphere Portlet
Factory</span> project. To import
a <span class="ph"> WebSphere Portlet
Factory</span> project, use <span class="ph menucascade"><span class="ph uicontrol">Import</span> &gt; <span class="ph uicontrol">WebSphere Portlet
Factory Archive</span></span>. </div>
</div>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Project Explorer, click the project.</span></li>
<li class="li step stepexpand"><span class="ph cmd">From the main menu bar, click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Import</span></span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Import wizard, click <span class="ph menucascade"><span class="ph uicontrol">Other</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Archive</span></span> and click <span class="ph uicontrol">Next</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Browse</span> to select the zip archive
file that contains the files to be extracted and imported into your
project.</span> <p class="p">You can also select <span class="ph filepath">pkg</span> files
that were previously created using the legacy Package Manager.</p>
 </li>
<li class="li step stepexpand"><span class="ph cmd">In the import selection panes, expand the hierarchies in
the left pane and select or clear the check boxes that represent the
folders in the selected archive.</span> <div class="p">Use the following to
select exactly the resources to import:<dl class="dl"><dt class="dt dlterm">Filter Types</dt>
<dd class="dd">Use this to filter the current selection for files of a specific
type.</dd>
<dt class="dt dlterm">Select All</dt>
<dd class="dd">Use this to select all resources in the archive file and deselect
resources you do not want to import.</dd>
<dt class="dt dlterm">Deselect All </dt>
<dd class="dd">Use this to deselect all resources in the archive file and select
individual resources to import.</dd>
</dl>
For more information, see the help for the dialog. </div>
</li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph uicontrol">Into folder</span>, specify the project
target to be the import destination.</span> <p class="p">The import operation
always places the archive contents relative to project servable content
directory. For Eclipse projects, this is the project root. For Rational
Application Developer embedded server projects, this is the WebContent
directory beneath the project root. Selecting folders deeper than
the content directory has no affect.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">When you finish specifying your import options, click <span class="ph uicontrol">Finish</span>.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="addingafeaturesettoanibmwebsphereportletfactoryproject"><a name="addingafeaturesettoanibmwebsphereportletfactoryproject"><!-- --></a><h3 class="title topictitle3">Adding a feature set to a project </h3>
<div class="body taskbody"><p class="shortdesc">Feature sets provide a convenient way of packaging functionality
for use by the members of a development team. </p>
<div class="section context"><p class="p">A feature set is a set of the necessary files for a builder
or set of builders.  A feature set may contain models, profile sets,
builders, and classes.  Feature sets do not add overhead in your application
and in the WAR file unrelated to features you are trying to implement.
You can add feature sets to or remove feature sets from the project
at any time.</p>
<p class="p">Follow this procedure to add a feature set to an <span class="ph">IBM WebSphere Portlet Factory</span> project.</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Project Explorer, right-click the project and click <span class="ph menucascade"><span class="ph uicontrol">Properties</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory Project Properties</span> &gt; <span class="ph uicontrol">Feature Info</span></span> to add a feature
set. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Feature Info pane, you can select the feature set
that contains the builders to use in your project. </span></li>
<li class="li step stepexpand"><span class="ph cmd">After you add certain feature sets to a project, click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Restart</span></span> to
restart Eclipse to properly load the classes that are associated with
the feature set.</span> <div class="note note"><span class="notetitle">Note:</span> If you add the Spreadsheet Extensions
feature set to your project and open a model that contains the Spreadsheet
builders, you can see a model generation error (<samp class="ph codeph">com.bowstreet.webapp.engine.MethodGeneratorException</samp>).
The problem occurs because the classes are not compiled when you open
the model. Restarting Eclipse avoids the problem. If you already have
the Spreadsheet Extensions feature set installed when Eclipse starts,
or add the feature set during project creation, the problem does not
occur. </div>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_del_portlet_factory_featureset"><a name="t_del_portlet_factory_featureset"><!-- --></a><h3 class="title topictitle3">Deleting <span class="ph">IBM WebSphere Portlet Factory</span> feature
sets</h3>
<div class="body taskbody"><p class="shortdesc">You can remove a <span class="ph"> WebSphere Portlet
Factory</span> feature
set from a project. </p>
<div class="section context"><p class="p">When you remove a feature set, all files related to the
feature set are removed from the project.</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Right-click the project from which you want to remove the <span class="ph"> WebSphere Portlet
Factory</span> feature set.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Project</span> menu, click <span class="ph menucascade"><span class="ph uicontrol">Properties</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory Properties</span> &gt; <span class="ph uicontrol">Feature Info</span></span> to display the initial wizard page.</span></li>
<li class="li step"><span class="ph cmd">Deselect one or more feature sets, click <span class="ph uicontrol">Apply</span>,
and then <span class="ph uicontrol">OK</span>.</span></li>
</ol>
<div class="section result">All files (for example, models, profile sets, builders, and
classes) related to the selected feature sets are removed from the
project and the revised project content is displayed in the Navigator.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_set_bfileencode"><a name="t_set_bfileencode"><!-- --></a><h3 class="title topictitle3">Setting file character encoding</h3>
<div class="body taskbody"><p class="shortdesc">You can set the character encoding for certain files used
by builders. </p>
<div class="section context"><div class="p"><span class="ph"> WebSphere Portlet
Factory</span> defaults
to UTF-8 character encoding for the following files.<ul class="ul"><li class="li">Writing and reading Rich Data Definition XML files </li>
<li class="li">Reading content insertion builder files, for example, those imported
by the Client JavaScript™ and
the Stylesheet builders</li>
</ul>
</div>
If you must use a multibyte character encoding other than
UTF-8 for such files, you can override the related properties. </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the <span class="ph filepath">WEB-INF/config/cluster.properties</span> file,
locate the following properties.</span> <div class="p"><pre class="pre codeblock"># This encoding is used by the Rich Data Definition builder when reading/writing RDD files:
bowstreet.builder.rdd.file.encoding=UTF-8
# This encoding is used when content inserter builders (JavaScript and Stylesheet) read files:
bowstreet.builder.contentInserter.file.encoding=UTF-8</pre>
</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Specify your own values in your project <span class="ph filepath">WEB-INF/config/</span> file. </span> <p class="p">If the <span class="ph filepath">override.properties</span> file does
not exist, you can create it. </p>
</li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_working_with_models"><a name="c_working_with_models"><!-- --></a><h2 class="title topictitle2">Creating and opening models</h2>
<div class="body conbody"><p class="shortdesc">A wizard is available to help you create a variety of models.</p>
<p class="p">This wizard populates the models with all the builders required
to get a basic application running. The wizard is designed to be self-documenting
and easy to use. The choices that you see in the wizard depend on
the feature sets that you add to your project. The progression of
wizard steps that you see depends on the type of model you choose
to create.</p>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_ui_new_model"><a name="t_ui_new_model"><!-- --></a><h3 class="title topictitle3">Creating a new model</h3>
<div class="body taskbody"><p class="shortdesc">Use a <span class="ph">IBM WebSphere Portlet Factory</span> Designer
wizard to create a new model.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Do one of the following actions. </span><ul class="ul choices"><li class="li choice">Click the pull-down next to the New icon (<img class="image" src="designer/images/new_wizard.gif" alt="New icon in toolbar" />)
in the toolbar and click <span class="ph uicontrol">WebSphere Portlet
Factory Model</span>. </li>
<li class="li choice">Click the New icon [<img class="image" src="designer/images/new_wizard.gif" alt="New icon in toolbar" />] in the toolbar, and, in Select a Wizard,
click <span class="ph menucascade"><span class="ph uicontrol">WebSphere Portlet Factory</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Model</span></span> and <span class="ph uicontrol">Next</span>. </li>
<li class="li choice">Click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Model</span></span>. </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">In Choose Project, select a project in which to create
a new model and click <span class="ph uicontrol">Next</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In Select Model, under <span class="ph uicontrol">Model Type</span>,
select one of the listed model types and click <span class="ph uicontrol">Next</span>.</span> <dl class="dl"><dt class="dt dlterm">Empty</dt>
<dd class="dd">Has no builder calls. You must add all the builder calls to supply
the necessary application functionality. </dd>
<dt class="dt dlterm">Main and Page (recommended)</dt>
<dd class="dd">Includes a Page builder call named <samp class="ph codeph">page1</samp> and
an Action List builder called <samp class="ph codeph">main</samp> that presents
that page when the application runs. </dd>
<dt class="dt dlterm">Database View &amp; Form</dt>
<dd class="dd">Provides the fastest way to create a fully functional application
that leverages data from a relational database. <span class="ph" id="t_ui_new_model__dbvwfrm_ph"><a name="t_ui_new_model__dbvwfrm_ph"><!-- --></a>Use
this wizard to create <span class="ph">portlets, </span>widgets, and
web applications. You can customize the user interface by modifying
column headers, incorporating data paging, and enabling detail drilldown
capabilities. </span></dd>
<dt class="dt dlterm">REST-based View &amp; Form</dt>
<dd class="dd">Provides the fastest way to create a fully functional application
that leverages data from a REST service.  <span class="ph">Use
this wizard to create <span class="ph">portlets, </span>widgets, and
web applications. You can customize the user interface by modifying
column headers, incorporating data paging, and enabling detail drilldown
capabilities. </span></dd>
<dt class="dt dlterm">Simple "Hello World" Model</dt>
<dd class="dd">Uses an Action List builder and a Page builder to display on an
existing page a line of text that you specify text or display any
complete HTML page that you specify. <span class="ph">You can optionally
deploy the model as a portlet. </span></dd>
<dt class="dt dlterm"><span class="ph">SQL Data
Services Service Provider</span></dt>
<dd class="dd">Creates the services for basic search, create, retrieve, update,
and delete operations for a relational database.  Use the created
model as the service provider for the model that the <span class="ph" id="t_ui_new_model__datasvsui_ph"><a name="t_ui_new_model__datasvsui_ph"><!-- --></a>Data Services UI Service Consumer</span> wizard creates. </dd>
<dt class="dt dlterm"><span class="ph">Data Services UI Service Consumer</span></dt>
<dd class="dd">Builds a complete user interface (UI) for a selected service.
Use this wizard after you use the <span class="ph" id="t_ui_new_model__sqldatasvsprov_ph"><a name="t_ui_new_model__sqldatasvsprov_ph"><!-- --></a>SQL Data
Services Service Provider</span> wizard to automatically generate pages,
forms, actions, buttons and other user interface components for the
operations called by services in the model that the SQL Data Services
Service Provider creates. </dd>
<dt class="dt dlterm">List and Detail Service Consumer</dt>
<dd class="dd">Uses the View and Form builder to display data from a data service.
 It can create tables and detailed views of data. <span class="ph">You
specify a portlet name that is also used to name the builder calls
in the model. </span>You indicate the service provider model that defines
the operations to be used and the service operation that provides
the main view. </dd>
<dt class="dt dlterm">Database Service Provider</dt>
<dd class="dd">Provides the interface to operations corresponding to SQL statements
executed against a J2EE data source. Your project must have a valid
server configuration. You can expose this service as a Web service.
You define SQL datasources and SQL statements to run. </dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> If you have optional packages in your project,
you can see the following additional entries under <span class="ph uicontrol">Model
Type</span>. <dl class="dl"><dt class="dt dlterm">Sample Main and Page</dt>
<dd class="dd">Part of the Builders sample. Used to build a custom new model
wizard. </dd>
<dt class="dt dlterm">Domino Service Provider</dt>
<dd class="dd">Enables creation of services from Domino data.  The wizard connects
to a Domino database using a specified view and creates a data service
model that provides access to view, create, edit, and delete documents. <div class="note note"><span class="notetitle">Note:</span> Before
you run this wizard, declare your Domino server host name and credentials
in a properties file (located in <span class="ph filepath">WEB-INF/config/domino_config</span>).
Modify a copy of a sample file that is provided.</div>
<p class="p">You can
make the service exportable as a WSDL service. </p>
</dd>
</dl>
</div>
 <p class="p">If the model type that
you select includes a page, the Page Settings window opens. For other
model types, answer other questions that are particular to the service
being used or defined. </p>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">In Page Settings, select one of the
following options about the HTML code and click <span class="ph uicontrol">Next</span>.</span><ul class="ul choices"><li class="li choice"><span class="ph uicontrol">Imported page</span><p class="p">Use an external file
for the HTML and JSP code to build the page. This is preferred practice. </p>
<p class="p">In <span class="ph uicontrol">Page
to import</span>, you can specify your own file or use the default
file. </p>
</li>
<li class="li choice"><span class="ph uicontrol">Simple page</span><p class="p">Lets you enter the HTML
and JSP code to build the page. This is useful for rapid prototyping. </p>
</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">In Save New Model, enter or select the directory to store
the new model.</span> <p class="p">Models must be stored in directories
under the <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph filepath">WEB-INF/models</span> directory.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph uicontrol">Model name</span>, specify a name for
the new model and click <span class="ph uicontrol">Finish</span>.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_opn_model"><a name="c_opn_model"><!-- --></a><h4 class="title topictitle4">About opening a model</h4>
<div class="body conbody"><p class="shortdesc">You can open a model from Project Explorer or the Model Navigator.</p>
<p class="p">All existing models are stored in the <span class="ph">IBM WebSphere Portlet Factory</span> <span class="ph filepath">WEB-INF/models</span> directory.
The Model Navigator presents a subset of the Project Explorer and facilitates
easier access to your models and profiles. </p>
<ul class="ul"><li class="li">When you open a model in <span class="ph"> WebSphere Portlet
Factory</span> Designer,
its name is added to the MRU (most recently used) list at the bottom of the <span class="ph uicontrol">File</span> menu.
You can open that model in subsequent <span class="ph"> WebSphere Portlet
Factory</span> Designer
sessions by clicking on its name.</li>
<li class="li">You can also open a model from the Model Navigator view by doing one of
the following actions.<ul class="ul"><li class="li">Double-clicking its name.</li>
<li class="li">Right-clicking its name and clicking <span class="ph uicontrol">Open</span>.</li>
</ul>
</li>
</ul>
<p class="p">When you open a model, <span class="ph"> WebSphere Portlet
Factory</span> Designer
typically displays the following model-related panels. </p>
<dl class="dl"><dt class="dt dlterm">Builder call list</dt>
<dd class="dd">Displayed in the Outline view, this list itemizes the builder calls for
your model.</dd>
<dt class="dt dlterm">Model editor</dt>
<dd class="dd">The Editor area of the perspective provides access to models that are
open of editing. For example, the Application Tree panel provides access to
all the elements that builder calls have created and added to the model. </dd>
</dl>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_test_service_provider"><a name="t_test_service_provider"><!-- --></a><h3 class="title topictitle3">Testing a service provider</h3>
<div class="body taskbody"><p class="shortdesc">Follow these steps to test a service provider.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Place a Service Test builder in a model that contains the data
service you want to test.</span> This model must contain a Service Definition
builder and a Service Operation builder that define the data service.</li>
<li class="li step"><span class="ph cmd">Configure the Service Test builder by selecting the data service
and enabling generation of a main method.</span></li>
<li class="li step"><span class="ph cmd">Run the model and, if necessary, provide any inputs required by
the service on the Inputs page.</span></li>
<li class="li step"><span class="ph cmd">View service output on the Results page to determine if the service
returns the expected values.</span></li>
<li class="li step"><span class="ph cmd">To view information about the service being tested, enable the <span class="ph uicontrol">Include
Documentation</span> input in the Service Test builder and run the model
again.</span> Information about the service and its operations will
be displayed on the Index page.</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_adding_builder_calls"><a name="t_adding_builder_calls"><!-- --></a><h3 class="title topictitle3">Adding builder calls to a model</h3>
<div class="body taskbody"><p class="shortdesc">You can add builder calls to an open model.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Do one of the following: </span><ul class="ul choices"><li class="li choice">On the <span class="ph">IBM WebSphere Portlet Factory</span> Designer
toolbar, the application tree view toolbar, or the outline view toolbar, click
the <span class="ph uicontrol">Add Builder Call</span> icon [ <img class="image" src="designer/images/bc_add.gif" alt="builder picker icon" />] .</li>
<li class="li choice">From the <span class="ph"> WebSphere Portlet
Factory</span> Designer
menu bar, click <span class="ph menucascade"><span class="ph uicontrol">Model</span> &gt; <span class="ph uicontrol">Add Builder
Call</span></span> </li>
</ul>
 <p class="p">The builder picker window opens. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Do one of the following:</span><ul class="ul choices"><li class="li choice">Under <span class="ph uicontrol">Category name</span>, click a folder to list
available builders in that category. </li>
<li class="li choice">In the search box, enter letters to list builder keywords and click
a keyword to list available builders associated with that keyword. </li>
</ul>
 <p class="p">A list of builders is displayed. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Under <span class="ph uicontrol">Builder</span>, navigate to and select the
entry in the list for the builder to add to the model. </span> <p class="p">If the
list of builders is long (for example, in the <span class="ph uicontrol">All</span> category),
select an entry in the list and type the first letter of the builder name.
The first builder whose name starts with that letter is selected. Repeat typing
the letter to select the next builder whose name starts with that letter.
Type a different letter to repeat the process. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span>.</span> <p class="p">The builder
call editor opens in the application tree view. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the builder call editor, specify the inputs for the builder
call. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Do one of the following:</span><ul class="ul choices"><li class="li choice">Click <span class="ph uicontrol">Apply</span> to save the inputs and add the
builder to the model. The builder call editor remains open for you to make
more changes. </li>
<li class="li choice">Click <span class="ph uicontrol">Cancel</span> to discard your inputs, omit adding
the builder to your model, and close the builder call editor. </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">When you complete specifying the inputs, click <span class="ph uicontrol">OK</span> to
save any changed inputs to your model and close the builder call editor. </span></li>
</ol>
<div class="section result">To locate builder calls on pages and using the various input widgets,
use the builder call editor. You can manage the builder calls for a model
in the builder call list.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_run_bldrclleditor"><a name="t_run_bldrclleditor"><!-- --></a><h3 class="title topictitle3">Running a builder call editor</h3>
<div class="body taskbody"><p class="shortdesc">You can run a builder call editor for an existing builder in your
model.</p>
<div class="li step"><span class="ph cmd">In the Outline view, under <span class="ph uicontrol">Name</span>, double-click
a builder name. </span> <p class="p">The editor for the selected builder call
opens in the model tab in the builder call editor view. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_cvt_builder"><a name="t_cvt_builder"><!-- --></a><h3 class="title topictitle3">Converting a builder call to another type</h3>
<div class="body taskbody"><p class="shortdesc">Follow these steps to convert a builder of one type to another
type.</p>
<div class="section context"><p class="p">The steps use as an example a Button builder being converted to
a Link builder. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Open the builder call list and select the Button builder to convert.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Right-click the selection and do one of the following: </span><ul class="ul choices"><li class="li choice">Click <span class="ph menucascade"><span class="ph uicontrol">Convert</span> &gt; <span class="ph uicontrol"> Link</span></span>.</li>
<li class="li choice">Click <span class="ph menucascade"><span class="ph uicontrol">Convert</span> &gt; <span class="ph uicontrol"> Convert
to</span></span> and,  in the builder picker, select a builder
to convert to and click <span class="ph uicontrol">OK</span>.</li>
</ul>
</li>
</ol>
<div class="section result"><p class="p">The builder is converted to the selected type and the builder call
list is updated to reflect the conversion.</p>
<p class="p">Inputs of the original builder
are preserved and, where appropriate, intelligently applied to the new builder.
In the example cited, the <span class="ph uicontrol">Button Label</span> input value
is applied to the <span class="ph uicontrol">Link Text</span> input. All
inputs of the original builder are added to the new builder edit page.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_sort_bldrcalllst"><a name="t_sort_bldrcalllst"><!-- --></a><h3 class="title topictitle3">Sorting and filtering in the builder call list</h3>
<div class="body taskbody"><p class="shortdesc">Sorting the list is useful when you want to organize the list in
non-numeric fashion.</p>
<div class="section context">Filtering is useful when to want to suppress the display a sub-set
of builders in the model, such as those that contain a specific text string.</div>
<ul class="ul steps-unordered"><li class="li step stepexpand"><span class="ph cmd">To sort the builder call list:</span><ol class="ol substeps"><li class="li substep"><span class="ph cmd">Click on a column header in the list.</span> For example,
click on <span class="ph uicontrol">Type</span> to sort the list alphabetically by type
of builder call (Action List, Attribute Sequencer, and so on). Keep
in mind that regardless of how the list is sorted, builder calls are executed
sequentially according to their number.</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">To filter the builder call list:</span><ol class="ol substeps"><li class="li substep"><span class="ph cmd">Open the view's pull-down menu and select <span class="ph uicontrol">Filter...</span></span></li>
<li class="li substep"><span class="ph cmd">In the <span class="ph uicontrol">Filter</span> dialog choose a filter
pattern.</span> Patterns include: Starts with, Contains, Does not contain.</li>
<li class="li substep"><span class="ph cmd">Enter a search string.</span> To perform a case-sensitive
search enable the check box.</li>
<li class="li substep"><span class="ph cmd">Click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
 Builder calls that meet search criteria are displayed in the builder
call list.</li>
</ul>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_close_model"><a name="t_close_model"><!-- --></a><h3 class="title topictitle3">Closing a model</h3>
<div class="body taskbody"><p class="shortdesc">Closing models removes their corresponding tab from the model workspace.</p>
<div class="section context">To close a model:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">X</span> on the tab for the model you
want to close.</span></li>
<li class="li step"><span class="ph cmd">Alternatively, you can right-click the name tab and choose <span class="ph uicontrol">Close</span>.</span></li>
</ol>
<div class="section result">In either case, if the model has unsaved changes, the <span class="ph uicontrol">Save
Resource</span> dialog asks if you want to save the model before closing
it.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_del_model"><a name="t_del_model"><!-- --></a><h3 class="title topictitle3">Deleting a model</h3>
<div class="body taskbody"><p class="shortdesc">Deleting a model removes it from the project.</p>
<div class="section context"><p class="p">You should also remove the model from the
published application. </p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the Model Navigator view, right-click the model and
click <span class="ph uicontrol">Delete</span>. </span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Yes</span> at the <span class="ph uicontrol">Confirm
Resource Delete</span> dialog.</span></li>
</ol>
<div class="section result">The model is deleted from the related <span class="ph">IBM WebSphere Portlet Factory</span> WAR.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_rename_model"><a name="t_rename_model"><!-- --></a><h3 class="title topictitle3">Renaming a model</h3>
<div class="body taskbody"><p class="shortdesc">To rename a model, choose one of the following:</p>
<ul class="ul steps-unordered"><li class="li step stepexpand"><span class="ph cmd">Use the Navigator view:</span><ol class="ol substeps"><li class="li substep"><span class="ph cmd">Select the model in the project Navigator view.</span></li>
<li class="li substep"><span class="ph cmd">Right-click and choose <span class="ph uicontrol">Rename</span>.</span></li>
<li class="li substep"><span class="ph cmd">Enter the new name and press Enter.</span> Be sure to include
the .model suffix as part of the new model name.</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Use the Save a Model As feature:</span> Use this feature to
save a copy of an existing model under a different name while preserving the
original model.<ol class="ol substeps"><li class="li substep"><span class="ph cmd">Place focus on the model in the <span class="ph">IBM WebSphere Portlet Factory</span> Designer.</span></li>
<li class="li substep"><span class="ph cmd">Open the Eclipse <span class="ph uicontrol">File</span> menu and choose <span class="ph uicontrol">Save
As</span>.</span></li>
<li class="li substep"><span class="ph cmd">In the <span class="ph uicontrol">Save Model As</span> dialog select a
directory in which to save the model.</span></li>
<li class="li substep"><span class="ph cmd">Enter an alternate name for the model an click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
</li>
</ul>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_save_model"><a name="t_save_model"><!-- --></a><h3 class="title topictitle3">Saving a model</h3>
<div class="body taskbody"><p class="shortdesc">Saving models commits all builder call changes and model property
changes to the model file on the disk.</p>
<div class="section context">There are three ways to save a model:</div>
<ul class="ul steps-unordered"><li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Save</span> icon [<img class="image" src="designer/images/save_edit.gif" alt="Save Editor Contents button" /> ] in the toolbar.</span></li>
<li class="li step"><span class="ph cmd">Choose <span class="ph uicontrol">Save As</span> from the <span class="ph uicontrol">File</span> menu.</span></li>
<li class="li step"><span class="ph cmd">Use Control-S on the keyboard.</span></li>
</ul>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_running_models"><a name="r_running_models"><!-- --></a><h3 class="title topictitle3">Running models</h3>
<div class="body refbody"><p class="shortdesc">Before you can run (launch) a model, you must have created at least
one <span class="ph">IBM WebSphere Portlet Factory</span> Model launch
configuration.</p>
<div class="section"><p class="p">Depending on how you defined the launch configuration, you can:</p>
<ul class="ul"><li class="li">Run a named (specific) model.</li>
<li class="li">Run the model that is in the current active Model Editor.</li>
</ul>
<p class="p">You can also run a model by entering its URL into a browser window.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_exec_method_in_model"><a name="c_exec_method_in_model"><!-- --></a><h4 class="title topictitle4">About executing a specific method in the model</h4>
<div class="body conbody"><p class="shortdesc">Running the model by specifying the URL allows you to call specific
actions in the model and pass explicit profiles to the model.</p>
<div class="section">If you do not specify an action in the URL for a model, the <span class="ph">IBM WebSphere Portlet Factory</span> servlet
executes the model main method or action list. You can force the <span class="ph"> WebSphere Portlet
Factory</span> servlet
to execute a different action by specifying that action in the URL.<div class="p">For
example, to execute a method named <samp class="ph codeph">GetCustomers</samp>, the URL
would be:<pre class="pre codeblock">http://localhost:7001/mymodels/CustomerModel/Action!GetCustomers</pre>
</div>
<div class="note note"><span class="notetitle">Note:</span> You
cannot use a URL to execute a method that takes arguments.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_run_model_active_model_editor"><a name="t_run_model_active_model_editor"><!-- --></a><h4 class="title topictitle4"> Running the model in the active model editor</h4>
<div class="body taskbody"><p class="shortdesc">If your project has been published, you can run the current
model in the active model editor.</p>
<div class="section context"><p class="p">Use one of the following methods. </p>
</div>
<ul class="ul steps-unordered"><li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Run</span> icon in the toolbar
and click <span class="ph uicontrol">Run active model</span>.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Run</span> &gt; <span class="ph uicontrol">Run</span></span> and then click <span class="ph uicontrol">Run active model</span>.</span></li>
<li class="li step"><span class="ph cmd">Type Ctrl+F11 from the keyboard and then click <span class="ph uicontrol">Run
active model</span>. </span></li>
</ul>
<div class="section result"><p class="p">Eclipse keeps a history of the launched programs. To rerun
a previously launched model, click <span class="ph menucascade"><span class="ph uicontrol">Run</span> &gt; <span class="ph uicontrol">Run History</span></span> and click the name
in the list. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_run_model_from_browser"><a name="t_run_model_from_browser"><!-- --></a><h4 class="title topictitle4">Running a model from a browser</h4>
<div class="body taskbody"><p class="shortdesc">You can run a model by entering its URL into a browser window.</p>
<div class="li step"><span class="ph cmd">Enter the model's URL into a browser window.</span> You can
find the URL for the model in the <span class="ph uicontrol">Model Properties</span> dialog,
which you can display by right-clicking on the model name in the Navigator
view and choosing the <span class="ph uicontrol">Properties</span> option.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_run_model_with_profiles"><a name="t_run_model_with_profiles"><!-- --></a><h4 class="title topictitle4">Running a model with profiles</h4>
<div class="body taskbody"><p class="shortdesc">You can specify the profiles to apply to a model in the URL.</p>
<div class="li step"><span class="ph cmd">Use a URL similar to the following example: </span> http://localhost:7001/factory/webengine/URLTester/Action!main/Profile!ProfileSet1!ProfileB$ProfileSet2!ProfileA<p class="p">Alternatively, you can use the Applied Profiles view to apply a combination
of profiles to the model in the active model editor and then run the active
model.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_run_named_model"><a name="t_run_named_model"><!-- --></a><h4 class="title topictitle4">Running a named model</h4>
<div class="body taskbody"><p class="shortdesc">You can run a named model from the <span class="ph">IBM WebSphere Portlet Factory</span> Designer.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Run</span> &gt; <span class="ph uicontrol">Run
Configurations</span></span>. </span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">WebSphere Portlet Factory
Model</span>. </span></li>
<li class="li step"><span class="ph cmd">Select the name in the list. </span></li>
<li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Run</span> button.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cmpr_models"><a name="t_cmpr_models"><!-- --></a><h3 class="title topictitle3">Comparing models</h3>
<div class="body taskbody"><p class="shortdesc">You can use the Eclipse compare editor to compare models
in your <span class="ph">IBM WebSphere Portlet Factory</span> project. </p>
<div class="section prereq"><p class="p">The model compare editor is launched when a model file
is compared with another model file, or with a different version of
the same model from the local workspace history or from a repository.
The model compare editor functions in the same manner as the standard
Eclipse compare editor.</p>
<p class="p">The compare editor uses settings from
the Compare/Patch preference page. Click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Preferences</span> &gt; <span class="ph uicontrol">General</span> &gt; <span class="ph uicontrol">Compare/Patch</span></span> to view and change
your settings. </p>
</div>
<div class="section context"><p class="p">The comparison uses the Eclipse structure viewer and compare
editor to display the differences between two models in your project. </p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the Project Explorer or Model Navigator, select the
models to be compared. </span></li>
<li class="li step"><span class="ph cmd">Right-click the selection and click <span class="ph menucascade"><span class="ph uicontrol">Compare
With</span> &gt; <span class="ph uicontrol">Each Other</span></span>. </span></li>
</ol>
<div class="section result"><p class="p">When model files are compared, the model compare editor
opens in the editor area. The model compare editor consists of the
Model Structure Compare view and the Model Compare editor.</p>
<div class="p">The Model Structure Compare view shows a tree that represents
the differences in the models in the following levels of detail. <ul class="ul"><li class="li">The top level node of the tree corresponds to the model itself. </li>
<li class="li">The second level nodes of the tree represent the builder calls
that are different between the two models. </li>
<li class="li">The third level nodes of the tree represent the differences between
the builder inputs for each builder call.</li>
</ul>
You can double click any node in the Model Structure Compare
view to zoom in on the changes represented by the node of the tree. </div>
<p class="p">When
you select the top level node in the Model Structure Compare view,
the Model Compare editor shows a comparison of builder calls similar
to the Outline view when the model editor is active. If you select
a builder call node or a builder input node in the tree, the Model
Compare editor shows a comparison of the selected nodes as XML text.</p>
</div>
<div class="section postreq"><p class="p">In the Model Compare editor, you can browse through all
the differences in the builder call lists and copy highlighted differences
between the compared resources. You can save changes to resources
that are made in the model compare editor. Using the toolbar of the
compare editor, you have available the following commands in the toolbar
buttons. </p>
<dl class="dl"><dt class="dt dlterm">Control Visibility of Ancestor Pane</dt>
<dd class="dd">Displays a common ancestor of two differing models. If you use
the Team version management support, a three way compare occurs under
the following conditions.<ul class="ul"><li class="li">If you compare a file that is in conflict. </li>
<li class="li">If you compare a file that is being merged from a branch.</li>
</ul>
The system determines a common ancestor in the repository against
which to compare the conflict or to merge the changes. This command
determines the visibility of the third editor. By default, the ancestor
pane is not visible. </dd>
<dt class="dt dlterm">Copy All from Left to Right</dt>
<dd class="dd">Copies all the builder calls in the left pane into the file in
the right pane, making the contents of the two models identical. </dd>
<dt class="dt dlterm">Copy All Non-Conflicting Changes from Right to Left</dt>
<dd class="dd">Copies all the nonconflicting builder calls from the right pane
into the left pane.  You must copy conflicting builder calls individually. </dd>
<dt class="dt dlterm">Copy Current Change from Left to Right</dt>
<dd class="dd">Merges changes in two files by copying the highlighted builder
call in the left pane into the highlighted location on the right pane.
This action overwrites or inserts the builder call into the model
in the right pane as appropriate. </dd>
<dt class="dt dlterm">Copy Current Change from Right to Left</dt>
<dd class="dd">Merges changes in two files by copying the highlighted builder
call in the right pane into the highlighted location on the left pane.
This action overwrites or inserts the builder call into the model
in the left pane as appropriate. </dd>
<dt class="dt dlterm">Select Next Difference</dt>
<dd class="dd">Highlights the next different builder call that is found between
the compared resources. </dd>
<dt class="dt dlterm">Select Previous Difference </dt>
<dd class="dd">Highlights the previous different builder call that is found between
the compared resources. </dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_place_model_container"><a name="t_place_model_container"><!-- --></a><h3 class="title topictitle3">Placing a model within a container</h3>
<div class="body taskbody"><p class="shortdesc">Place a model within a container to allow the model to
be inserted into a web page.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Open the model that contains the page in which the model
is to be inserted. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the open model, add the Model Container builder to place
the model within a container. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Model Container builder, in the <span class="ph uicontrol">Page
Location</span> input, specify a page where a model is to be
placed.</span> <p class="p">This feature allows more than one model to be
placed on a page.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">Model</span> input, use the reference
chooser to specify the model to place in the container and click <span class="ph uicontrol">OK</span> to
add the builder to the model. </span></li>
<li class="li step stepexpand">Optional: <span class="ph cmd">To decrease the load
time, you can use parallel portlet rendering or Web 2.0 features in
the IBM® WebSphere® Portal server that let you load portlets in parallel. </span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_model_container_overview"><a name="c_model_container_overview"><!-- --></a><h4 class="title topictitle4">About using models within containers</h4>
<div class="body conbody"><p class="shortdesc">A model is a collection of builder calls that you can make
self-contained. </p>
<p class="p">You can use a Model Container builder to make a model self-contained
and allow it to be inserted into a web page. Using multiple models
with model containers provides two main advantages:</p>
<dl class="dl"><dt class="dt dlterm">For developers</dt>
<dd class="dd">Using model containers makes shared development easier. Multiple
developers can collaborate on page content and creation. Each developer
can work independently and contribute a model that provides specific
content to the same page.</dd>
<dt class="dt dlterm">For web users</dt>
<dd class="dd">Model Container builders provide a consistent page context. A
web page incorporating contained models enables users to remain in
the context of that page, even as they drill down into a model in
search of additional content. This keeps users oriented, and it also
facilitates users' access to content in other models on the page.</dd>
</dl>
<p class="p">Using container builders, multiple developers can develop a portion
of a page and add their separate models to the page. Each model is
assigned to a container, which is a placeholder for the model to be
displayed. Models can also contain containers, allowing for unlimited
nesting of models within containers. From the point of view of someone
accessing the page, the page is displayed as a seamless whole, offering
a mosaic of content. However, as a user clicks down into each model,
to view details, the overall context of the page remains constant,
with only the specific model segment of the page changing.</p>
<div class="section"><h5 class="title sectiontitle">Guidelines for cooperative portlet models</h5><div class="p">If
you add a model that contains a Cooperative Portlet Source builder
to a model container, there are some guidelines to follow. <ul class="ul"><li class="li">The name of the model that contains the Cooperative Portlet Source
builder must be able to be resolved during regeneration. For example,
the name cannot be an indirect reference. </li>
<li class="li">Use only Java Portlet Standard 2.0 (JSR 286) events in the model.
Only those type of events propagate to the model container. The model
container cannot handle WSDL-based events. </li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> Adding a model that contains a Cooperative Portlet Target
builder to a model container is not supported.<p class="p">If you are using
a version of <span class="ph">IBM WebSphere Portlet Factory</span> Designer
prior to 6.1.2, to have the addition of the model with the Cooperative
Portlet Source builder recognized, open any existing models in <span class="ph"> WebSphere Portlet
Factory</span> Designer, regenerate
them, and save them. </p>
</div>
</div>
</div>
<div class="section"><h5 class="title sectiontitle">Tips for using models within containers</h5><ul class="ul"><li class="li">Inputs within model containers are used the same way as inputs
within models.</li>
<li class="li">Performance is related to the number of linked models in the container.
More linked models in your model container lead to slower performance,
but also leads to more manageable code, because it is in smaller chunks.</li>
<li class="li">Do not use frames. Frames are not supported within model containers.</li>
<li class="li">Remove <samp class="ph codeph">&lt;HTML&gt;</samp> and <samp class="ph codeph">&lt;body&gt;</samp> tags
from models you want to insert in a container. Before you insert a
model in a container, make sure the <samp class="ph codeph">&lt;HTML&gt;</samp> and <samp class="ph codeph">&lt;body&gt;</samp> tags
are removed from the model, especially if the <samp class="ph codeph">&lt;body&gt;</samp> tags
are assigned to a style. This technique prevents the style in the
model from overtaking the styles of other models on the page.</li>
<li class="li">If you are using input mapping, a form in the model must be assigned
to a name. If the form is not named, the inputs are assigned to the
first form listed the builder finds. </li>
<li class="li">If a model within a container uses a form, any forms in the outer
model should not wrap the Model Container builder. If the outer model
has a form that wraps the Model Container builder call and the model
in the container also has a form, the outer form is always submitted
even if a user attempts to submit the inner form. The outer model
can safely use forms if both form tags come before or after the model
container<span class="ph"> or the portal container</span>. The form
tags should never wrap the container if the contained model has its
own form tags.</li>
<li class="li">Apply a limited amount of styles to the user interface to allow
the models to adopt the look and feel of the page into which they
are inserted.</li>
<li class="li">Keep the base HTML to layout only.</li>
<li class="li">Use the Imported Page builder to construct HTML pages rather than
the Page builder. This setup allows you to control the user interface.
Construct an absolute URL to the source HTML to allow the HTML to
be moved off of the server if necessary. The absolute URL could be
controlled through a configuration file entry or a profile entry.</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_model_container_error_handling"><a name="c_model_container_error_handling"><!-- --></a><h4 class="title topictitle4">Using error handling with models in containers</h4>
<div class="body conbody"><p class="shortdesc">Each model should declare its own error page and error data.</p>
<div class="section">The common logging services should be used when appropriate to log
error information. As much information should be stored in the free form text
of the error message, such as return codes, relevant state data, and input
parameters.<p class="p">Follow these guidelines when possible:</p>
<ul class="ul"><li class="li">Set an error handler that points to an error handling function within
the model. This setup will catch any exceptions that are not caught by the
code. If you are building models that will be used by others, the error code
should be built into the model. This will also help you in testing the model.</li>
<li class="li">Establish common error schemas as returned from services to help.</li>
</ul>
<p class="p">Also, the Model Container builder lets you specify a model to load
when an error occurs. This model could display an error message and perhaps
links to other pages.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="overview_pages_forms"><a name="overview_pages_forms"><!-- --></a><h2 class="title topictitle2">Creating pages and forms</h2>
<div class="body conbody"><p class="shortdesc">The pages and forms in your application provide for the
viewing of data and the interaction between the user and the application
logic and data.</p>
<p class="p">In <span class="ph">IBM WebSphere Portlet Factory</span> applications,
these pages are not typically static, but acted upon by a variety
of builders that determine the user interface (UI) for the page directly
as well as other builders that affect the page contents indirectly.</p>
<p class="p">Forms and pages are distinct because their development follows
different paths. Developing forms primarily involves using two high
level builders (for example, Data Page builder and Data Field Modifier
builder) to implement UIs that display and prompt for data.</p>
<p class="p">Developing content pages involves a larger number of low level
builders that implement different aspects of HTML functionality (for
example, Page builder).</p>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_creating_pages_forms"><a name="c_creating_pages_forms"><!-- --></a><h3 class="title topictitle3">Importing existing pages and forms</h3>
<div class="body conbody"><p class="shortdesc">You can implement the user interface for your web application
by importing existing HTML or JSP pages into the model. </p>
<p class="p">In <span class="ph">IBM WebSphere Portlet Factory</span> Designer,
to do this, use either the Imported Page or Imported Directory builder.
For prototyping purposes, you can use the Page builder to create simple
HTML or JSP pages.</p>
<p class="p">For any parts of those pages that are to interact with other parts
of your model or be made variable for different types of users, you
assign calls to the corresponding builders to the named <samp class="ph codeph">&lt;input
/&gt;</samp> or <samp class="ph codeph">&lt;span /&gt;</samp> tags in your pages. For
example, you could replace an HTML select list with a call to the
Select builder. Doing so allows you to determine the selectable options,
and other characteristics of the select list from a method, variable,
or user input defined elsewhere in the model.</p>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_import_html_jsp"><a name="c_import_html_jsp"><!-- --></a><h4 class="title topictitle4">Importing HTML and JSP pages into the model</h4>
<div class="body conbody"><p class="shortdesc">You get existing HTML and JSP pages into your model in one of the
following ways</p>
<div class="section"><ul class="ul"><li class="li">By importing individual pages with the Imported Page builder</li>
<li class="li">By importing all the pages in a directory with the Imported Directory
builder. <p class="p">The Imported Directory builder only adds the HTML and JSP files
in the specified directory to the model.</p>
</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> The Imported Directory builder does not import pages to which the
pages in the imported directory link or any directories contained by the imported
directory.</div>
<p class="p">You can also interact with an existing JSP application
using the JSP Proxy Page builder, which allows you to redirect a request for
a JSP page to a page in your model.</p>
<div class="note note"><span class="notetitle">Note:</span> JSP pages that use <samp class="ph codeph">response.sendRedirect()</samp> need
to be re-implemented to use the page processor of <span class="ph">IBM WebSphere Portlet Factory</span>. </div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_display_data"><a name="c_display_data"><!-- --></a><h4 class="title topictitle4">Displaying data</h4>
<div class="body conbody"><p class="shortdesc">In <span class="ph"> WebSphere Portlet
Factory</span> applications,
you can display data using one of several techniques, some of which
are targeted to the intended server environment and employ
varying amounts of automation.</p>
<dl class="dl"><dt class="dt dlterm">Using the Data Page and Data Field Modifier builders</dt>
<dd class="dd">The Data Page builder displays the data stored in a variable in
a page. The Data Field Modifier builder as well as the associated
schema for the data contribute to the appearance and behavior of this
"view-only" form. When using the Data Page and Data Field Modifier,
you need to add the service call, SQL statement, or other builder
call that populates a variable with the data you want to display.</dd>
<dt class="dt dlterm">Using individual builders to implement the display and appearance
of the data</dt>
<dd class="dd">You can use individual builders such as Repeated Region, Text,
Dynamic Table, and so on. to display data if you want to retain tight
control over the display of the data. Implementing your own display
framework requires much more work than using the Data Page and Data
Field Modifier builders for most cases. However, for displaying a
small amount of static data or for extensive fine-tuning of the appearance
and behavior of form fields, using individual builders may be more
efficient.</dd>
</dl>
<p class="p">As a general rule, try using the Data Page and Data Field Modifier
builders. If they seem to unwieldy for the data or if you find that
you need to add many Data Field Modifier builder calls to implement
the display and behavior you want, then use the lower-level builder
calls.</p>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_mod_layout_page"><a name="t_mod_layout_page"><!-- --></a><h3 class="title topictitle3">Modifying the layout of data page elements</h3>
<div class="body taskbody"><p class="shortdesc">A popup command in the model editor lets you change the
layout of elements created by a Data Page builder. </p>
<div class="section context"><p class="p">In the model editor, the export function is made available
on elements created by a Data Page builder or a builder that uses
the Data Page builder (for example, View and Form). Elements that
can be changed are pages, tables, groups, and fields. </p>
<div class="note note"><span class="notetitle">Note:</span> This
feature lets you completely take over the generation of HTML associated
with some page automation elements.  If you use this feature, you
are taking complete control of the HTML page layout and are effectively
disabling the automatic generation of the page.  If there is a change
to the service or schema that the page depends on, the page can no
longer adapt to these changes, because you have taken over the display.
 Therefore, use this capability only when you have some unusual layout
and you really need to control the display precisely.  Normally, if
you do not have unusual or strict requirements, you should work within
page automation's generation of the HTML, either by using layout grids
or by working with the HTML template.</div>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the model editor, do one of the following actions. </span><ul class="ul choices"><li class="li choice">In the Application Tree, navigate to the entry under the Pages
folder to locate the page that contains the element to be customized. </li>
<li class="li choice">In the Pages panel, expose the icon for the page. </li>
<li class="li choice">In the Design panel for the page, locate the element to be
customized. </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Right-click the entry for the element or page and click <span class="ph uicontrol">Export
HTML for Data Layout</span>. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">Save As</span> dialog window, under <span class="ph uicontrol">Enter
or select the parent folder</span>, specify the location to stored
the exported HTML file and, in <span class="ph uicontrol">File name</span>, optionally
modify the default name of the exported HTML file. Then click <span class="ph uicontrol">OK</span>. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In popup dialog window, click <span class="ph uicontrol">OK</span> to
open the exported file for editing. </span> <p class="p">Click <span class="ph uicontrol">Cancel</span> to
edit the file later. </p>
 <p class="p">In the editor area,
the exported file is opened for editing. The Outline view shows the
tag hierarchy of the HTML file. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Edit the HTML code for the element to be customized. </span> <p class="p">Do not delete named elements, but you can change HTML tags. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Save and close the file.</span></li>
</ol>
<div class="section result"><p class="p">An HTML Data Layout builder is added to the model to provide
the customizations that you specified in the exported HTML file. The
builder uses the exported file to be displayed as this part of the
data page. </p>
<p class="p">To remove the customizations, you can disable or
delete the builder. To make additional customizations, you can edit
the exported HTML file. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_data_entry_validation"><a name="c_data_entry_validation"><!-- --></a><h3 class="title topictitle3">Validating data fields</h3>
<div class="body conbody"><p class="shortdesc">You can manage the validation of user input on a data entry
page created by Data Page builder or builders that use the Data Page
builder. </p>
<div class="p">The following techniques are described. <ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#c_data_entry_validation__control_place">Control placement of error text and add a full error location</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_data_entry_validation__control_successfail">Control success and failure actions</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_data_entry_validation__control_autogen">Control automatic generation of individual field validators</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_data_entry_validation__manselect_field">Manually select individual field validator</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_data_entry_validation__add_postsave">Add Post-Save method</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_data_entry_validation__interact_errmgr">Interact with the error message manager</a></li>
</ul>
</div>
<p class="p">These techniques also apply to pages created by any of the builders
that use the Data Page builder, to include the Data View builder,
the Bean Master Detail builder, the
Domino View and Form builder<span class="ph">, and the SAP View and
Form builder</span>. </p>
<p class="p">A data entry page is managed by the Data Page builder, on which
any of the fields are set to <span class="ph uicontrol">Data Entry</span>, even
if the overall page is set to <span class="ph uicontrol">Display Only</span>.
(This could happen if you used a Data Field Modifier builder to modify
one of the fields to be data entry, even if the overall page is not
set that way.)</p>
<p class="p">The Data Page builder can manage presenting a data entry page to
the end user and collecting and validating the user responses. It
will generate the JSP for the page, according to your settings. It
will generate a <samp class="ph codeph">SaveData</samp> method which will collect
the values from RequestInputs (where the J2EE server has put them)
and save them in your variable. Finally, it will create for you validation
operations for the individual fields, and it will add the validation
error messages to the JSP page.</p>
<p class="p">In the process of validating fields and displaying the results
to the end user, you can control the following aspects:</p>
<ul class="ul"><li class="li">Content and placement of the string which signifies a required
field </li>
<li class="li">Content and placement of the error strings </li>
<li class="li">Placement of the full error, which is the concatenation of all
the individual field error messages, plus an additional overall error
message </li>
<li class="li">Code executed when validation succeeds and fails </li>
<li class="li">Whether the field validators are automatically selected based
on the schema, bean, or database reference </li>
<li class="li">Set individual fields to be required or not, overriding the behavior
from the schema </li>
<li class="li">Select different field validators than the ones that are automatically
selected for fields individually </li>
<li class="li">Write your own field validators in Java and select them </li>
<li class="li">Add a <samp class="ph codeph">Post-Save</samp> method which can cause the validation
to fail if some values are not correct by providing an error message
string. This string is displayed to the user in the full error location. </li>
<li class="li">Whether the <samp class="ph codeph">Post-Save</samp> method is called when other
fields have already failed validation. </li>
<li class="li">Clear the error messages for a page, and perform other operations
with the error message manager, including adding error messages for
individual fields in your <samp class="ph codeph">Post-Save</samp> method. </li>
</ul>
<div class="section" id="c_data_entry_validation__control_place"><a name="c_data_entry_validation__control_place"><!-- --></a><h4 class="title sectiontitle">Control placement of error text
and add a full error location</h4><p class="p">First, edit the page to add
a span where the Full Error text will go. Open the Imported Page builder,
click <span class="ph uicontrol">Edit Page</span>. Find the span named data and
duplicate that entire line of HTML so it appears twice. Change the
word data to be fullError in one of them and click <span class="ph uicontrol">OK</span> on
the builder call. </p>
<p class="p">Open the Data Page builder for the inputPage
and scroll down to <span class="ph uicontrol">Required Field and Input Validation
Settings</span>. Change the error placement to be Separate Column
Left of Field and select fullError for the Full Error Placement. Now
run the model again, and enter some nonnumeric text in two of the
fields and click submit. Note that the placement of the error message
has moved, plus the error messages are duplicated in the "Full Error"
location. Before you continue, change the error placement back to
the right of the field, where it makes more sense.</p>
</div>
<div class="section" id="c_data_entry_validation__control_successfail"><a name="c_data_entry_validation__control_successfail"><!-- --></a><h4 class="title sectiontitle">Control success and failure
actions</h4><p class="p">Generally, when the user completes filling out a
Data Entry page and submits it, some action will run. Sometimes you
also have a different action that you want to run if there were validation
errors. In the Data Page builder, there are two inputs, Success Action
and Failure Action. These entries are used in creating the method <samp class="ph codeph">inputPage_NextAction</samp>,
which you can see in the WebApp view. If you look at this method,
you can see that all it does is test to see whether there were any
validation errors for the page and then calls the appropriate action.</p>
<p class="p">If
you leave Failure Action empty, as in the sample, then the default
failure action is to return to the same page.</p>
</div>
<div class="section" id="c_data_entry_validation__control_autogen"><a name="c_data_entry_validation__control_autogen"><!-- --></a><h4 class="title sectiontitle">Control automatic generation
of individual field validators</h4><p class="p">The individual field validators
by default are generated based on the types of the fields as defined
by the schema, WSDL document, or other mechanism. You can disable
this behavior in the Data Page builder using the Validate From Schema
setting, and the validators will not be automatically created. However,
even if you disable it, you still can use Data Field Modifiers to
manually set individual validators.</p>
</div>
<div class="section" id="c_data_entry_validation__manselect_field"><a name="c_data_entry_validation__manselect_field"><!-- --></a><h4 class="title sectiontitle">Manually select individual field
validator</h4><p class="p">Create a new Data Field Modifier and select just
one of the fields on the inputPage. Open the <span class="ph uicontrol">Formatting</span> group
and select the formatter com.bowstreet.builders.webapp.pageautomation.StandardFormatter.
This should cause some additional inputs to appear, including Validate
Expression. Select your own validators (but remember that the service
call being invoked is expecting a number for this field). Note that,
if you choose RegularExpression(RegExString), then you are given a
new input in which to enter a regular expression string. This setting
will override the Required/Optional value for the field, since that
choice is available here. Change the validator and run the model again
to see the new validation strings.</p>
</div>
<div class="section" id="c_data_entry_validation__add_postsave"><a name="c_data_entry_validation__add_postsave"><!-- --></a><h4 class="title sectiontitle">Add Post-Save method</h4><p class="p">You
can control the behavior of a <samp class="ph codeph">Post-Save</samp> method and
use it to perform cross-field validation. Sometimes you have additional
work that you want your code to do after the data is saved from RequestInputs
to your variable. The input <span class="ph uicontrol">Post-Save Method</span> is
the hook to use to add your Java code for this process. Also, if the
work to do is additional validation of the data entry or perhaps something
more complex than individual field validation, there is a way for
your <samp class="ph codeph">Post-Save</samp> method to cause validation to fail
(forcing the failure action to run) and to include an error message
which will be displayed to the user.</p>
<p class="p">Create a new Method builder,
and give it the name TestLatitudes. Set the return type to String
and fill the method body with these contents:</p>
<pre class="pre">    {
        double lat1 = webAppAccess.getVariables().getDouble("MyServiceCall_arg1_lat1");
        double lat2 = webAppAccess.getVariables().getDouble("MyServiceCall_arg3_lat2");
        if (lat1 == lat2)
        return "Make the latitudes different.";
        else
        return null;
    }</pre>
<p class="p">The code gets the value of the two latitude inputs from
the variable (where they will already have been saved by the Data
Page builder) and checks to see if they are the same. (The exact name
of those variables is known by looking in the WebApp view and selecting
(not opening) the Service Call builder which created them.)</p>
<p class="p">If
the two values are the same, the code returns some text, which will
be interpreted as an error message by the <samp class="ph codeph">inputPage_SaveData</samp> method.
If the two values are different, the code returns a null, which the <samp class="ph codeph">SaveData</samp> method
will know means that your <samp class="ph codeph">Post-Save</samp> method did not
find any errors. Run the model and try setting the two values the
same, and you will see the error message appear. Because this error
is not associated with a specific field, the message will only show
in the Full Error section.</p>
<p class="p">If you just want to make a <samp class="ph codeph">Post-Save</samp> method
that does some work and never returns errors, you can set its return
type to void. Also, you may want your <samp class="ph codeph">Post-Save</samp> method
to be called only if the individual field validations have executed
without error, or you may want it to be called regardless. In the
Data Page builder, you can control this behavior with the input <span class="ph uicontrol">Post-Save
Method Behavior</span>.</p>
</div>
<div class="section" id="c_data_entry_validation__interact_errmgr"><a name="c_data_entry_validation__interact_errmgr"><!-- --></a><h4 class="title sectiontitle">Interact with the error message
manager</h4><p class="p">For every Data Entry page, the Data Page builder
creates a linked Java object which acts as the error message manager.
If you select the LJO inputPageError in the WebApp view, you can see
the methods that are available. You can use these methods to set an
individual field error message in your Post-Save method. Some developers
set this in the Post-Save method since the case was too complex for
an individual validator, or because they were planning to use a <samp class="ph codeph">Post-Save</samp> method.</p>
<p class="p">You
can also get the individual messages directly to manage the display
of the error messages yourself rather than let the Data Page builder
manage the display. You can also clear the messages if you are returning
to the page with fresh data, and you want to clear the messages that
might be left over from the last time the page was visited by the
end user.</p>
</div>
</div>
<div class="related-links"></div><div class="topic task nested3" xml:lang="en-us" id="t_mod_fldvalidtnset"><a name="t_mod_fldvalidtnset"><!-- --></a><h4 class="title topictitle4">Modifying field validation settings</h4>
<div class="body taskbody"><p class="shortdesc">You can modify some of the settings that are used for validation
of a data entry field. </p>
<div class="section context"><p class="p"><span class="ph" id="t_mod_fldvalidtnset__datafldabout_ph"><a name="t_mod_fldvalidtnset__datafldabout_ph"><!-- --></a>In the model editor in <span class="ph">IBM WebSphere Portlet
Factory</span>, you use the
Pages and Design panels to view the form or page to be changed. </span>To
change a field validation setting, for example, the error string,
use the Data Field Settings builder.</p>
</div>
<ol class="ol steps"><li class="li step stepexpand" id="t_mod_fldvalidtnset__locformpg_st"><a name="t_mod_fldvalidtnset__locformpg_st"><!-- --></a><span class="ph cmd">In the Pages panel, locate and select
the form or page that contains the data entry field to be changed.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Design panel, locate and select the group that contains
the data entry field.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Right-click the selection and click <span class="ph menucascade"><span class="ph uicontrol">Data
Field Settings</span> &gt; <span class="ph uicontrol">Validation</span></span>. </span> <p class="p">You see the command only if a container
is selected. The <span class="ph uicontrol">Validation</span> command is available
only if the related field is a data entry. </p>
</li>
<li class="li step stepexpand" id="t_mod_fldvalidtnset__pagescope_st"><a name="t_mod_fldvalidtnset__pagescope_st"><!-- --></a><span class="ph cmd">In the Data Field Settings dialog, in <span class="ph uicontrol">Page
Scope</span>, click one of the following choices to determine
the scope of the change.</span><ul class="ul choices"><li class="li choice"><span class="ph uicontrol">All pages</span> changes the field in all
pages in the model.</li>
<li class="li choice"><span class="ph uicontrol">Current page</span> changes the field in just
the selected page. </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Change any of the settings for the field. </span> <dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Required</span></dt>
<dd class="dd">Determines whether the end user must enter a value in the field
to allow the form or data page to be submitted. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">Validation Op</span></dt>
<dd class="dd">Determines the operation to be used to validate the value that
the end user enters in the field. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">Argument</span></dt>
<dd class="dd">Specifies an argument to the validation operation. The value is
ignored if the operation does not accept an argument. </dd>
<dt class="dt dlterm"><span class="ph uicontrol">Error Message</span></dt>
<dd class="dd">Specifies text to override the default message that is used if
the validation operation fails. You can set this input even if you
are using default values for other settings in the row. </dd>
</dl>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span>. </span> <p class="p" id="t_mod_fldvalidtnset__datafldadd_p"><a name="t_mod_fldvalidtnset__datafldadd_p"><!-- --></a>If a Data Field Settings builder is not currently
in the model for this form or page, a builder call is added to the
model with the new settings. If the model currently has a Data Field
Settings builder for the form or page, the new settings are added
to the current builder. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd"><span class="ph" id="t_mod_fldvalidtnset__datafldchng_ph"><a name="t_mod_fldvalidtnset__datafldchng_ph"><!-- --></a>Change any of the settings for
the page by opening the builder call editor for the Data Field Settings
builder and modifying the associated builder inputs. </span></span><br /></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_mod_flddsplyset"><a name="t_mod_flddsplyset"><!-- --></a><h3 class="title topictitle3">Modifying field display settings</h3>
<div class="body taskbody"><p class="shortdesc">You can use the right-click menu in the model editor to
modify some of the settings that are used for displaying a column
or a field. </p>
<div class="section context"><p class="p"><span class="ph">In the model editor in <span class="ph">IBM WebSphere Portlet
Factory</span>, you use the
Pages and Design panels to view the form or page to be changed. </span> To
change a field display setting, for example, the label, use the Data
Field Settings builder.</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Pages panel, locate and select the form or page
that contains the column or field to be changed. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Design panel, locate and select the group that contains
the column or field.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Right-click the selection and click <span class="ph menucascade"><span class="ph uicontrol">Data Field
Settings</span> &gt; <span class="ph uicontrol">Field</span></span>. </span> <p class="p">You see the command only if a container
is selected. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the Data Field Settings dialog, in <span class="ph uicontrol">Page
Scope</span>, click one of the following choices to determine
the scope of the change.</span><ul class="ul choices"><li class="li choice"><span class="ph uicontrol">All pages</span> changes the field in all
pages in the model.</li>
<li class="li choice"><span class="ph uicontrol">Current page</span> changes the field in just
the selected page. </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Change any of the settings for the field. </span> <dl class="dl"><dt class="dt dlterm"><span class="ph uicontrol">Label</span></dt>
<dd class="dd">Do one of the following:<ul class="ul"><li class="li">Enter the label to be used for this field. </li>
<li class="li">Set to <span class="ph uicontrol">[Do not change]</span> to let this field
retain the value that it already has.</li>
<li class="li">Set to <span class="ph uicontrol">[Blank]</span> to cause this field to have
no label.  </li>
</ul>
</dd>
<dt class="dt dlterm"><span class="ph uicontrol">Hide</span></dt>
<dd class="dd">Control whether the field does not display all the time (<span class="ph uicontrol">Hide
Always</span>), displays all the time (<span class="ph uicontrol">Show Always</span>),
or does not display only when it is in a table (<span class="ph uicontrol">Hide in
tables only</span>). </dd>
<dt class="dt dlterm"><span class="ph uicontrol">Sort</span></dt>
<dd class="dd">Control whether sorting is enabled (<span class="ph uicontrol">On</span>)
or disabled (<span class="ph uicontrol">Off</span>) for the column or field. <p class="p">The
type of sorting to be used is determined by the RDD file in use. </p>
</dd>
<dt class="dt dlterm"><span class="ph" id="t_mod_flddsplyset__d26251e136"><a name="t_mod_flddsplyset__d26251e136"><!-- --></a><span class="ph uicontrol">Field Type</span></span></dt>
<dd class="dd">Select the new value from the list. The values for this setting
come from the file specified in the default RDD file used for the
project. </dd>
<dt class="dt dlterm">Lookup Table / Choices</dt>
<dd class="dd">Select the new value from the list. Default values come from lookup
tables in the model and in the default RDD file. You can also enter
multiple values, each separated by a semicolon (<samp class="ph codeph">;</samp>).
These values also apply to select or radio buttons if the field is
data entry, or the lookup table is used to translate the field if
the field is set to Display Only. </dd>
</dl>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span>. </span> <p class="p">If a Data Field Settings builder is not currently
in the model for this form or page, a builder call is added to the
model with the new settings. If the model currently has a Data Field
Settings builder for the form or page, the new settings are added
to the current builder. </p>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd"><span class="ph">Change any of the settings for
the page by opening the builder call editor for the Data Field Settings
builder and modifying the associated builder inputs. </span></span><br /></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_data_def_files"><a name="c_data_def_files"><!-- --></a><h4 class="title topictitle4">About rich data definition files</h4>
<div class="body conbody"><p class="shortdesc">Data definitions are read from an XML file called a rich
data definition (RDD) file.</p>
<div class="section"><p class="p">Rich data definitions are used to clean up a <span class="ph">portlet or a </span>widget, for example, by hiding columns
that do not need to be displayed. Rich data definitions are associated
with a schema in your model. For each field in the selected schema,
you can specify labels, control types, lookup tables, formatting,
validation, and much more. </p>
<p class="p">A data definition file works by
associating user interface (UI) descriptions with a schema.  When
the schema is used to generate page elements (with Data Page builder
or View and Form builder, for example), all of the UI characteristics
are automatically applied to the page. By using the functionality
of the Data Field Modifier builder, you can learn about specific settings,
for example, validation and formatting. </p>
<div class="p">A base rich data definition
file is provided for your project. By default, each project has assigned
an RDD file stored in the following location.<pre class="pre codeblock"><span class="ph filepath">/WEB-INF/factory/data_definitions/</span></pre>
The
RDD files <span class="ph filepath">base_datadef.xml</span> and <span class="ph filepath">dojo_base_datadef.xml</span> are
supplied. You can override the default setting for your project by
defining the following property in the <span class="ph filepath">override.properties</span> file.<pre class="pre codeblock">bowstreet.baseRddFile</pre>
The
default setting for this property is in the <span class="ph filepath">bowstreet.properties</span> file.
Multiple files can be defined; the first file found is used. </div>
<p class="p">You
can use the <span class="ph uicontrol">Default RDD File</span> input in the Data
Field Settings builder to override the base RDD file for the project
in your model. </p>
<p class="p">You can use builders to modify the data definition
information that is associated with a schema in a WebApp for columns
and fields on page automation forms and pages. Data definition is
one of the internal data structures of the Data Page builder. When
Data Page is used with a schema-typed variable, it looks for any data
definition information attached to the schema in the WebApp. Those
data definition properties become the defaults for any pages based
on the schema. However, you can still use other builders such as Data
Field Settings, Data Column Modifier, and Data Field Modifier to override
the properties specified in the data definition that is associated
with the schema.</p>
<p class="p">The association of data definitions to schema
elements is done using the element name. A data definition file typically
stores a set of structures, with a child data definition for each
field in the structure. The parent (structure) name in the schema
must match the parent name in the data definition file, and then the
individual fields are also matched by name.</p>
</div>
<div class="section"><h5 class="title sectiontitle">What data definitions do</h5><div class="p">Rich data definition
(RDD) files provide the most automated way of controlling the detailed
user interface for application data fields. With RDD files, the user
interface (UI) is automatically controlled in the following ways.<ul class="ul"><li class="li">Format or validate fields. For example, you can format or validate
a date, remove characters from a string, or apply labels. </li>
<li class="li">Specify user-friendly labels for fields. </li>
<li class="li">Specify lookup tables to provide user-friendly lists of choices. </li>
<li class="li">Change the UI behavior of a field. For example, apply data entry
controls, restrict to view only, or make a link for a field. </li>
<li class="li">Automate control of all field behavior for a field type. For example,
use a Calendar Picker builder on all date fields. </li>
<li class="li">Control data formatted in columns. For example, make column names
easier to read, hide columns that do not need to be displayed, add
sorting capability, adjust column width, and align columns. </li>
</ul>
</div>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested4" xml:lang="en-us" id="r_data_def_props"><a name="r_data_def_props"><!-- --></a><h5 class="title topictitle5">Data definition properties</h5>
<div class="body refbody"><p class="shortdesc">Various data definition properties are used in a rich data
definition file. </p>
<div class="section"><p class="p">Some of the common properties for field settings (and
validation settings for data entry fields) are exposed in the Data
Field Settings builder and in the Properties view of the <span class="ph">IBM WebSphere Portlet
Factory</span> Designer. Other
of these properties are not exposed in any builder call editor, however.
To use these properties, you must add them directly to the project
base data definition file <span class="ph filepath">base_datadef.xml</span>. </p>
<div class="p">The
following data definition properties are found in the base data definition
file.<ul class="sl simple"><li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__attributes">&lt;Attributes&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__columnalignment">&lt;ColumnAlignment&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__columnsorting">&lt;ColumnSorting&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__colunmwidth">&lt;ColumnWidth&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__controlelementmodifiers">&lt;ControlElementModifiers&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__dataentrycontrol">&lt;DataEntryControl&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__displaycontrol">&lt;DisplayControl&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__displaymode">&lt;DisplayMode&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__enumerationvalue">&lt;EnumerationValues&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__formatterclass">&lt;FormatterClass&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__initialvalue">&lt;InitialValue&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__lookuptable">&lt;LookupTable&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__properties">&lt;Properties&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__readonly">&lt;ReadOnly&gt;</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_data_def_props__remove">&lt;Remove&gt;</a></li>
</ul>
</div>
</div>
<div class="section" id="r_data_def_props__attributes"><a name="r_data_def_props__attributes"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;Attributes&gt;</samp></h6><div class="p">This
property takes an XML value which is the same as the Data Field Modifier
builder takes. A typical Attribute property looks as follows: <pre class="pre codeblock">&lt;Attributes&gt;
 &lt;Attribute&gt;
  &lt;Name&gt;color&lt;/Name&gt;
  &lt;Value&gt;black&lt;/Value&gt;
 &lt;/Attribute&gt;
 &lt;Attribute&gt;
  &lt;Name&gt;size&lt;/Name&gt;
  &lt;Value&gt;${Variables/CurSize}&lt;/Value&gt;
 &lt;/Attribute&gt;
&lt;/Attributes&gt;</pre>
</div>
</div>
<div class="section" id="r_data_def_props__columnalignment"><a name="r_data_def_props__columnalignment"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;ColumnAlignment&gt;</samp></h6><div class="p">This
property takes one of the following values. <ul class="sl simple"><li class="sli"><samp class="ph codeph">left</samp></li>
<li class="sli"><samp class="ph codeph">right</samp></li>
<li class="sli"><samp class="ph codeph">center</samp></li>
</ul>
</div>
</div>
<div class="section" id="r_data_def_props__columnsorting"><a name="r_data_def_props__columnsorting"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;ColumnSorting&gt;</samp></h6><div class="p">This
property takes one of the following values. <ul class="sl simple"><li class="sli"><samp class="ph codeph">Case Insensitive String</samp></li>
<li class="sli"><samp class="ph codeph">Case Sensitive String</samp></li>
<li class="sli"><samp class="ph codeph">Number</samp></li>
<li class="sli"><samp class="ph codeph">Date</samp></li>
<li class="sli"><samp class="ph codeph">Not Sortable</samp></li>
</ul>
</div>
<p class="p">A typical data definition element using some of the above
properties to set column width, alignment, sorting status and style
might look as follows:</p>
<pre class="pre codeblock">&lt;DataDefinitionElement name="DATE_SHIPPED" base="base_SAPDate"&gt;
 &lt;Label&gt;Date Shipped&lt;/Label&gt;
 &lt;Required&gt;false&lt;/Required&gt;
 &lt;ColumnWidth&gt;400&lt;/ColumnWidth&gt;
 &lt;ColumnAlignment&gt;right&lt;/ColumnAlignment&gt;
 &lt;ColumnSorting&gt;Case Sensitive String&lt;/ColumnSorting&gt;
 &lt;Attributes&gt;
  &lt;Attribute&gt;
   &lt;Name&gt;style&lt;/Name&gt;
   &lt;Value&gt;color:red&lt;/Value&gt;
  &lt;/Attribute&gt;
 &lt;/Attributes&gt;
&lt;/DataDefinitionElement&gt;</pre>
</div>
<div class="section" id="r_data_def_props__colunmwidth"><a name="r_data_def_props__colunmwidth"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;ColumnWidth&gt;</samp></h6><p class="p">This
property takes a number that represents the width of the column in
characters. </p>
</div>
<div class="section" id="r_data_def_props__controlelementmodifiers"><a name="r_data_def_props__controlelementmodifiers"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;ControlElementModifiers&gt;</samp></h6><div class="p">This
property lets you associate modification builders (for example, Attribute
Setter or Visibility Setter) to an element. Similar to the <samp class="ph codeph">DataEntryControl</samp> and <samp class="ph codeph">DisplayControl</samp> properties,
it can be used to invoke any builder that uses a <span class="ph uicontrol">Page Location</span> input.
You can include multiple builders for a single element. And you can
control whether the builder is used for display fields using the <samp class="ph codeph">usemodifierdisplay</samp> attribute
or for data entry fields using the <samp class="ph codeph">use_modifier_dataentry</samp> attribute.
The following is an example of invoking the Attribute Setter builder
in both display mode and data entry mode. <pre class="pre codeblock">&lt;ControlElementModifiers&gt;
 &lt;BuilderCall use_modifier_dataentry="true" use_modifier_display="true"&gt;
  &lt;BuilderDefID&gt;com.bowstreet.builders.webapp.AttributeSetterBuilderBuilderDefID&gt;com.bowstreet.builders.webapp.AttributeSetterBuilder&gt;&lt;/BuilderDefID&gt;
  &lt;Inputs&gt;
   &lt;Input name = "BuilderCallEnabled"&gt;true&lt;/Input&gt;
   &lt;Input name = "HandleExisting"&gt;Skip&lt;/Input&gt;
   &lt;Input name = "HandleMissingValue"&gt;Ignore&lt;/Input&gt;
   &lt;Input name = "Separator"&gt;;&lt;/Input&gt;
   &lt;Input name = "Attributes"&gt;
    &lt;top&gt;
     &lt;Attribute&gt;
      &lt;Name&gt;style&lt;/Name&gt;
      &lt;Value&gt;color:red&lt;/Value&gt;
     &lt;/Attribute&gt;
    &lt;/top&gt;
   &lt;/Input&gt;
  &lt;/Inputs&gt;
 &lt;/BuilderCall&gt;
&lt;/ControlElementModifiers&gt;</pre>
</div>
</div>
<div class="section" id="r_data_def_props__dataentrycontrol"><a name="r_data_def_props__dataentrycontrol"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;DataEntryControl&gt;</samp></h6><div class="p">This
property associates a builder ID with a field, when the field is on
a data entry page (see Display Control for view-only pages). You can
specify both the builder ID and any builder inputs that are needed.
To create XML for the builder inputs, you can use the builder you
want in a model, then go to the Model XML view, then copy/paste from
the "Inputs" section of the XML.<div class="note note"><span class="notetitle">Note:</span> The builder must support an
indirect reference input, <span class="ph uicontrol">Value</span>, in order to
be used.</div>
 For example: <pre class="pre codeblock"> &lt;DataEntryControl&gt;com.bowstreet.builders.webapp.TextAreaBuilder&lt;/DataEntryControl&gt;
 &lt;DataEntryInputs&gt;
  &lt;Inputs&gt;
   &lt;Input name = "Wrap"&gt;off&lt;/Input&gt;
   &lt;Input name = "Cols"&gt;80&lt;/Input&gt;
   &lt;Input name = "Rows"&gt;5&lt;/Input&gt;
  &lt;/Inputs&gt;
 &lt;/DataEntryInputs&gt;</pre>
</div>
</div>
<div class="section" id="r_data_def_props__displaycontrol"><a name="r_data_def_props__displaycontrol"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;DisplayControl&gt;</samp></h6><p class="p">This
property is similar to Data Entry Control, but for view-only pages.
The corresponding element name for builder inputs is called <samp class="ph codeph">&lt;DisplayInputs&gt;</samp>. </p>
</div>
<div class="section" id="r_data_def_props__displaymode"><a name="r_data_def_props__displaymode"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;DisplayMode&gt;</samp></h6><div class="p">Allowable
values are:<ul class="sl simple"><li class="sli"><samp class="ph codeph">0 - DISPLAY_NONE</samp></li>
<li class="sli"><samp class="ph codeph">1 - DISPLAY_AUTO</samp></li>
</ul>
</div>
<p class="p">Additional values for container fields include:</p>
<ul class="sl simple"><li class="sli"><samp class="ph codeph">2 - DISPLAY_VERTICAL</samp></li>
<li class="sli"><samp class="ph codeph">3 - DISPLAY_HORIZONTAL</samp></li>
</ul>
</div>
<div class="section" id="r_data_def_props__enumerationvalue"><a name="r_data_def_props__enumerationvalue"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;EnumerationValues&gt;</samp></h6><p class="p">You
can use this property to set the choices for a field that has a set
of possible values. This property does not provide for separate text/values
such as lookup table does. </p>
<p class="p">See note below regarding localization
of enumeration values.</p>
<p class="p">A typical use this property might look
as follows:</p>
<pre class="pre codeblock">&lt;EnumerationValues&gt;
 &lt;Value&gt;Shipped&lt;/Value&gt;
 &lt;Value&gt;Out of Stock&lt;/Value&gt;
 &lt;Value&gt;Returned&lt;/Value&gt;
 &lt;Value&gt;In Process&lt;/Value&gt;
&lt;/EnumerationValues&gt;</pre>
</div>
<div class="section" id="r_data_def_props__formatterclass"><a name="r_data_def_props__formatterclass"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;FormatterClass&gt;</samp></h6><p class="p">You
can use this property to specify a custom formatter class in a rich
data definition file. The formatter class uses the same mechanism
and interface as the Data Field Modifier builder.</p>
<p class="p">The name of
the formatter class is specified with a FormatterClass element as
shown below.</p>
<pre class="pre codeblock">&lt;DataDefinition name="AMOUNT" base="base_Currency"&gt; 
 &lt;Label&gt;Amount&lt;/Label&gt; 
 &lt;ColumnSorting&gt;Case Sensitive String&lt;/ColumnSorting&gt; 
 &lt;ColumnWidth&gt;100&lt;/ColumnWidth&gt; 
 &lt;ColumnAlignment&gt;right&lt;/ColumnAlignment&gt; 
 &lt;FormatterClass&gt;com.bowstreet.builders.webapp.pageautomation.StandardFormatter&lt;/FormatterClass&gt; 
 &lt;FormatExpr resource_key="BaseDate_FormatExpr"&gt;Format(yyyy-MM-dd$MM/dd/yyyy)&lt;/FormatExpr&gt;
 &lt;TranslateExpr resource_key="BaseDate_TranslateExpr"&gt;Translate(yyyy-MM-dd$MM/dd/yyyy)&lt;/TranslateExpr&gt;
 &lt;ValidateExpr&gt;Date(yyyy-MM-dd)&lt;/ValidateExpr&gt;
 &lt;/DataDefinition&gt;</pre>
<p class="p">Substitute the specification of
your class for the StandardFormatter. If you omit a FormatterClass
element, the StandardFormatter class is used.</p>
<p class="p">Substitute the
FormatExpr, TranslateExpr, and ValidateExpr elements appropriate for
your data definition. </p>
</div>
<div class="section" id="r_data_def_props__initialvalue"><a name="r_data_def_props__initialvalue"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;InitialValue&gt;</samp></h6><p class="p">This
can be used to define a default initial value for a field. It is equivalent
to setting the <span class="ph uicontrol">Initial Value</span> input of the Data
Field Modifier builder. </p>
</div>
<div class="section" id="r_data_def_props__lookuptable"><a name="r_data_def_props__lookuptable"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;LookupTable&gt;</samp></h6><p class="p">You
can use this property to create a lookup table and associate it with
a field. To create a new lookup table, you must specify the builder's
ID, and the builder must be one that creates a lookup table in the
WebApp (Lookup Table, Domino Keyword Lookup, or SAP Help Values).
Specify all the required builder inputs in the <samp class="ph codeph">Inputs</samp> element
as shown below. </p>
<p class="p">This example code creates a lookup from XML
data using the Lookup Table builder. This functionality has also been
used to automatically create and apply an SAP Help Values lookup.</p>
<pre class="pre codeblock">&lt;DataDefinitionElement name="BILLING"&gt;
 &lt;Label&gt;Billing&lt;/Label&gt;
  &lt;LookupTable&gt;
   &lt;BuilderID&gt;com.bowstreet.builders.webapp.LookupTableBuilder&lt;/BuilderID&gt;
    &lt;Name&gt;billing&lt;/Name&gt;
     &lt;Inputs&gt;
      &lt;Input name = "DataType"&gt;NewXmlData&lt;/Input&gt;
      &lt;Input name = "GetDataFrom"&gt;BuilderInput&lt;/Input&gt;
      &lt;Input name = "TablePosition"&gt;InFront&lt;/Input&gt;
      &lt;Input name = "Name"&gt;billing&lt;/Input&gt;
      &lt;Input name = "NewXmlData"&gt;
       &lt;lookup&gt;
        &lt;entry&gt;
         &lt;name&gt;Purchase Order&lt;/name&gt;
         &lt;value&gt;1&lt;/value&gt;
        &lt;/entry&gt;
        &lt;entry&gt;
         &lt;name&gt;Credit Card&lt;/name&gt;
         &lt;value&gt;0&lt;/value&gt;
        &lt;/entry&gt;
       &lt;/lookup&gt;
      &lt;/Input&gt;
      &lt;Input name = "ValueElementName"&gt;value&lt;/Input&gt;
      &lt;Input name = "LabelElementName"&gt;name&lt;/Input&gt;
     &lt;/Inputs&gt;
  &lt;/LookupTable&gt;
&lt;/DataDefinitionElement&gt;</pre>
</div>
<div class="section" id="r_data_def_props__properties"><a name="r_data_def_props__properties"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;Properties&gt;</samp></h6><div class="p">Use
this property to set any named property on a DataDefinitionElement.
This tag is designed primarily for people making their own builders,
when they want to add new properties to the data definition and to
access those properties from builder code. The Properties element
looks as follows: <pre class="pre codeblock">&lt;DataDefinition name="AMOUNT"&gt;
 &lt;Label&gt;Amount&lt;/Label&gt;
  &lt;Properties&gt;
   &lt;Property name="ColumnWidth"&gt;100&lt;/Property&gt;
   &lt;Property name="ColumnAlignment"&gt;right&lt;/Property&gt;
  &lt;/Properties&gt;
&lt;/DataDefinition&gt;</pre>
</div>
<div class="p">In this example the <samp class="ph codeph">name=</samp> attribute
specifies the property name and the element text contains the property
value. <div class="note note"><span class="notetitle">Note:</span> The technique illustrated in this example has the identical
effect as using the <samp class="ph codeph">ColumnWidth</samp> and <samp class="ph codeph">ColumnAlignment</samp> property
tags directly.</div>
</div>
</div>
<div class="section" id="r_data_def_props__readonly"><a name="r_data_def_props__readonly"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;ReadOnly&gt;</samp></h6><div class="p">This
property is used to force a field to be treated as read-only, even
when field is displayed with a Data Page that is marked <samp class="ph codeph">Data
Entry</samp>.<div class="note note"><span class="notetitle">Note:</span> Effect is equivalent to setting the <span class="ph uicontrol">Field
Behavior</span> to <span class="ph uicontrol">View Only</span> with the
Data Field Modifier builder.</div>
</div>
</div>
<div class="section" id="r_data_def_props__remove"><a name="r_data_def_props__remove"><!-- --></a><h6 class="title sectiontitle"><samp class="ph codeph">&lt;Remove&gt;</samp></h6><p class="p">In
this property, specify a value of <samp class="ph codeph">true</samp> to remove
a field. The field is not visible, nor is it displayed in other builders,
such as the Data Column Modifier or Data Field Modifier. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_cre_lookup"><a name="c_cre_lookup"><!-- --></a><h5 class="title topictitle5">Creating a Lookup Table</h5>
<div class="body conbody"><p class="shortdesc">If you want to define a lookup where the values come from a builder
that does not itself create a lookup, you can specify an additional builder
to call.</p>
<div class="section">The example below uses a Service Consumer builder.
In this case suppose you want to create a Lookup Table from the Service Consumer.
You can do so if you add the ServiceInfo child element to the LookupTable
element, and specify an additional builder that supports getting the lookup
data. Then the Lookup Table builder specified in the data definition can reference
the data returned by that other builder.<p class="p">The end result is that the data
definition file will cause any number of fields (in every model that references
the data def) to be automatically populated with a drop-down lookup, where
the values are dynamically retrieved by calling a service. For example, the
following XML can be used to invoke a Service Consumer builder to dynamically
get lookup values, and then reference the results value in the Lookup Table
builder:</p>
<pre class="pre codeblock">&lt;LookupTable&gt;
&lt;Name&gt;companyLookup&lt;/Name&gt;
&lt;BuilderID&gt;com.bowstreet.builders.webapp.LookupTableBuilder&lt;/BuilderID&gt;
&lt;Inputs&gt;
&lt;Input name = "DataType"&gt;XmlData&lt;/Input&gt;
&lt;Input name = "VariableType"&gt;ValueTagLabelTag&lt;/Input&gt;
&lt;Input name = "GetDataFrom"&gt;BuilderInput&lt;/Input&gt;
&lt;Input name = "TablePosition"&gt;InFront&lt;/Input&gt;
&lt;Input name = "Name"&gt;companyLookup&lt;/Input&gt;
&lt;Input name = "XmlData"&gt;${MethodCall/companiesGetCompanyList}&lt;/Input&gt;
&lt;Input name = "ValueElementName"&gt;Value&lt;/Input&gt;
&lt;Input name = "LabelElementName"&gt;Name&lt;/Input&gt;
&lt;/Inputs&gt;
&lt;ServiceInfo&gt;
&lt;BuilderID&gt;com.bowstreet.builders.webapp.ServiceConsumer2Builder&lt;/BuilderID&gt;
&lt;Inputs&gt;
&lt;Input name = "UseAllOperations"&gt;true&lt;/Input&gt;
&lt;Input name = "OverrideInputs"&gt;false&lt;/Input&gt;
&lt;Input name = "Name"&gt;companies&lt;/Input&gt;
&lt;Input name = "ProviderModel"&gt;services/CompanyListService&lt;/Input&gt;
&lt;Input name = "OperationName"&gt;getCompanyList&lt;/Input&gt;
&lt;/Inputs&gt;
&lt;/ServiceInfo&gt;
&lt;/LookupTable&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_data_def_create_groups"><a name="c_data_def_create_groups"><!-- --></a><h5 class="title topictitle5">Groups of data definition fields</h5>
<div class="body conbody"><p class="shortdesc">In a rich data definition file, you can create groupings
of fields.</p>
<div class="section">To do this, you must create group definitions directly under
the root <samp class="ph codeph">DataDefinitions</samp> element. The following code
shows a typical group definition. <pre class="pre codeblock">&lt;DataDefinitions&gt;
 &lt;GroupDefinitions&gt;
  &lt;GroupDefinition name="Personal"&gt;
   &lt;Label&gt;Personal Information&lt;/Label&gt;
  &lt;/GroupDefinition&gt;
  &lt;GroupDefinition name="Address"&gt;
   &lt;Label&gt;Address&lt;/Label&gt;
  &lt;/GroupDefinition&gt;
 &lt;/GroupDefinitions&gt;
 &lt;DataDefinition name="Members"&gt;
  &lt;Required&gt;true&lt;/Required&gt;
  &lt;Children&gt;
   &lt;DataDefinition name="first"&gt;
    &lt;GroupName&gt;Personal&lt;/GroupName&gt;
    &lt;Label&gt;First Name&lt;/Label&gt;
    &lt;Required&gt;true&lt;/Required&gt;
    &lt;DataType&gt;string&lt;/DataType&gt;
   &lt;/DataDefinition&gt;
   &lt;DataDefinition name="last"&gt;
    &lt;GroupName&gt;Personal&lt;/GroupName&gt;
    &lt;Label&gt;Last Name&lt;/Label&gt;
    &lt;Required&gt;true&lt;/Required&gt;
    &lt;DataType&gt;string&lt;/DataType&gt;
   &lt;/DataDefinition&gt;
   &lt;DataDefinition name="states" base="base_US_States"&gt;
    &lt;GroupName&gt;Address&lt;/GroupName&gt;
    &lt;Label&gt;States&lt;/Label&gt;
    &lt;Required&gt;false&lt;/Required&gt;
    &lt;/DataDefinition&gt;
   &lt;DataDefinition name="birthdate" base="base_date"&gt;
    &lt;GroupName&gt;Personal&lt;/GroupName&gt;
    &lt;Label&gt;Date Of Birth (MM/DD/YY)&lt;/Label&gt;
    &lt;Required&gt;false&lt;/Required&gt;
   &lt;/DataDefinition&gt;
   &lt;DataDefinition name="birthtime" base="base_time"&gt;
    &lt;GroupName&gt;Personal&lt;/GroupName&gt;
    &lt;Label&gt;Time Of Birth (HH:MM AM/PM)&lt;/Label&gt;
    &lt;Required&gt;false&lt;/Required&gt;
   &lt;/DataDefinition&gt;
   &lt;DataDefinition name="salary"&gt;
    &lt;GroupName&gt;Business&lt;/GroupName&gt;
    &lt;Label&gt;Salary&lt;/Label&gt;
    &lt;Required&gt;false&lt;/Required&gt;
   &lt;/DataDefinition&gt;
  &lt;/Children&gt;
 &lt;/DataDefinition&gt;
&lt;/DataDefinitions&gt;</pre>
<p class="p">The <samp class="ph codeph">&lt;GroupDefinitions&gt;</samp> elements
set up individual groups of fields under corresponding <samp class="ph codeph">&lt;GroupDefinition&gt;</samp> elements.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_data_def_inherit"><a name="c_data_def_inherit"><!-- --></a><h5 class="title topictitle5">Inheriting data definitions from a base definition file</h5>
<div class="body conbody"><p class="shortdesc">In a rich data definition file, the base attribute can
be used to inherit properties from other data definitions.</p>
<div class="section">The inherited data definition can be in the same XML file,
or it can be in another rich data definition file. Data definition
properties are inherited at the individual property level, and any
properties can be overridden in the derived data definition.<p class="p">For
example, here are two of the definitions for typical data fields (QUANTITY
and DATE_ORDERED ). </p>
<pre class="pre codeblock">&lt;DataDefinitionElement name="QUANTITY"&gt;
 &lt;Label&gt;Quantity&lt;/Label&gt;
 &lt;Required&gt;false&lt;/Required&gt;
 &lt;ValidateExpr&gt;Optional integer&lt;/ValidateExpr&gt;
&lt;/DataDefinitionElement&gt;
&lt;DataDefinitionElement name="DATE_ORDERED" base="base_SAPDate"&gt;
 &lt;Label&gt;Date Ordered&lt;/Label&gt;
 &lt;/DataDefinitionElement&gt;
</pre>
<p class="p">The definition for DATE_ORDERED is derived from the
value in the base attribute. The base_SAPDate definition used for
DATE_ORDERED might look something like the following code. </p>
<pre class="pre codeblock">&lt;DataDefinitionElement name="base_SAPDate"&gt;
 &lt;DataEntryControl&gt;com.bowstreet.solutions.wfm.builders.CalendarPickerBuilder&lt;/DataEntryControl&gt;
 &lt;DataEntryInputs&gt;
  &lt;Inputs&gt;
   &lt;Input name = "Format"&gt;MM/dd/yyyy&lt;/Input&gt;
  &lt;/Inputs&gt;
 &lt;/DataEntryInputs&gt;
 &lt;FormatExpr&gt;Format(yyyy-MM-dd$MM/dd/yyyy)&lt;/FormatExpr&gt;
 &lt;TranslateExpr&gt;Translate(yyyy-MM-dd$MM/dd/yyyy)&lt;/TranslateExpr&gt;
 &lt;ValidateExpr&gt;Optional Date(yyyy-MM-dd)&lt;/ValidateExpr&gt;
&lt;/DataDefinitionElement&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="t_hidshow_colfld"><a name="t_hidshow_colfld"><!-- --></a><h4 class="title topictitle4">Hiding and showing a column or field</h4>
<div class="body taskbody"><p class="shortdesc">You can hide a column or field that currently displays
on a form or page.</p>
<div class="section context"><p class="p">If the column or field currently does not display, you
can also arrange for it to be shown on the form or page. <span class="ph">In the model editor in <span class="ph">IBM WebSphere Portlet
Factory</span>, you use the
Pages and Design panels to view the form or page to be changed. </span> </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Pages panel, locate and select the form or page
that contains the column or field to be changed. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Design panel, locate and select the group that contains
the column or field to be changed. </span> <p class="p"><span class="ph">To select multiple objects of the same type,
press Ctrl and click each group that contains them. </span></p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Right-click the selection and click <span class="ph menucascade"><span class="ph uicontrol">Data
Field Settings</span> &gt; <span class="ph uicontrol">Hide</span></span> to prevent the column or field from being displayed
or click <span class="ph menucascade"><span class="ph uicontrol">Data Field Settings</span> &gt; <span class="ph uicontrol">Show</span></span> to cause the column or field
to display. </span> <p class="p"><span class="ph">You see the command only if a container is selected.
The command that is available depends on the current setting for the
selected object. </span></p>
</li>
</ol>
<div class="section result"><p class="p"><span class="ph">If the model does
not contain a related builder for this form or page, a recommended
builder is added to the model. If a related builder resides in the
model for this form or page, the related input in that builder is
updated with your change. </span></p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_mod_colsortyp"><a name="t_mod_colsortyp"><!-- --></a><h4 class="title topictitle4">Modifying column sorting</h4>
<div class="body taskbody"><p class="shortdesc">You can modify whether a column can be sorted. </p>
<div class="section context"><p class="p"><span class="ph">In the model editor in <span class="ph">IBM WebSphere Portlet
Factory</span>, you use the
Pages and Design panels to view the form or page to be changed. </span></p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Pages panel, locate and select the form or page
that contains the column to be changed. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Design panel, locate and select the group that contains
the column. </span> <p class="p"><span class="ph"></span><span class="ph">To select multiple objects of the same type,
press Ctrl and click each group that contains them. </span></p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Right-click the selection and click <span class="ph menucascade"><span class="ph uicontrol">Data
Field Settings</span> &gt; <span class="ph uicontrol">Sort</span></span> to cause the column to be sortable or <span class="ph menucascade"><span class="ph uicontrol">Data Field Settings</span> &gt; <span class="ph uicontrol">Remove
Sort</span></span> to prevent the column from being sorted. </span> <p class="p"><span class="ph">You see the command only if a container is selected.
The command that is available depends on the current setting for the
selected object. </span></p>
</li>
</ol>
<div class="section result"><p class="p"><span class="ph">If the model does
not contain a related builder for this form or page, a recommended
builder is added to the model. If a related builder resides in the
model for this form or page, the related input in that builder is
updated with your change. </span></p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_merge_colfld"><a name="t_merge_colfld"><!-- --></a><h4 class="title topictitle4">Merging columns or fields</h4>
<div class="body taskbody"><p class="shortdesc">You can merge fields so that they are presented as a single
field and merge columns so that they are presented as a single column. </p>
<div class="section context"><p class="p">You typically have a situation in which your data
needs to be in multiple fields. However, when you display the data,
you would like these multiple fields to line up on the display as
fields that they occupy only one column. For example, a person's address
could consist of separate city, state, and ZIP code fields. You can
use the Data Field Merge builder to treat separate fields as a single
field on a details page or as a single display column.  </p>
<p class="p"><span class="ph">In the model editor in <span class="ph">IBM WebSphere Portlet
Factory</span>, you use the
Pages and Design panels to view the form or page to be changed. </span></p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Pages panel, locate and select the form or page
that contains the column or the form to be changed. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Select column or field that is to contain the merged results. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Control-click the columns or fields in the order in which
they are to be merged into the selected column or field. </span> <p class="p">The
multiple fields must all be in the same container field. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Right-click the selection and click <span class="ph menucascade"><span class="ph uicontrol">Merge
Fields</span> &gt; <span class="ph uicontrol">Merge</span></span></span> <p class="p">Shift-click
is not supported in this context. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Do one of the following steps and click <span class="ph uicontrol">OK</span>.</span><ul class="ul choices"><li class="li choice">In <span class="ph uicontrol">Heading for column</span>, enter the text
to be displayed at the top of the merged column.</li>
<li class="li choice">In <span class="ph uicontrol">Label for field</span>, enter the text
to be used to refer to the new merged field. </li>
</ul>
</li>
</ol>
<div class="section result"><p class="p">A Data Field Merge builder is added to the model with the
settings. You can open the builder call editor and specify a separator
character to displayed between the merged fields. You can also rearrange
the order of the fields by dragging and dropping them in the builder
call editor. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_chng_date_format_other_field"><a name="t_chng_date_format_other_field"><!-- --></a><h4 class="title topictitle4">Changing the format of a date or other type of field</h4>
<div class="body taskbody"><p class="shortdesc">Follow these steps to change the format of a date or other type
of field.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Place a Rich Data Definition builder in a model that contains the
schema you want to modify.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the builder editor, select the schema.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Use the builder data definition editor to select a field.</span></li>
<li class="li step stepexpand"><span class="ph cmd">After a field is selected, modify any data definition properties
required.</span> <p class="p">For example, provide a label, change the data type,
select a formatting, translate or validate expression, and require or hide
the field.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Select another field and specify additional changes.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Apply</span> or <span class="ph uicontrol">OK</span> to
apply you data definition changes.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_cre_data_def_file_reuse"><a name="t_cre_data_def_file_reuse"><!-- --></a><h4 class="title topictitle4">Creating a data definition file for reuse</h4>
<div class="body taskbody"><p class="shortdesc">Follow these steps to create a data definition file for reuse.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Place a Rich Data Definition builder in a model that contains the
schema you want to modify.</span></li>
<li class="li step"><span class="ph cmd">In the builder editor, select the schema and use the data definition
editor to map changes to various fields.</span></li>
<li class="li step"><span class="ph cmd">After you complete all the changes required, click <span class="ph uicontrol">Create
Data Definition File</span>.</span></li>
<li class="li step"><span class="ph cmd">Provide a name and save location for this XML file when prompted
and press <span class="ph uicontrol">OK</span>.</span></li>
</ol>
<div class="section result">The builder creates an XML file that contains the specified data definitions.</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_overview_pages"><a name="c_overview_pages"><!-- --></a><h3 class="title topictitle3">Creating pages</h3>
<div class="body conbody"><p class="shortdesc">Pages in <span class="ph">IBM WebSphere Portlet Factory</span> models
can be obtained from outside the model or created as you work in the
model.</p>
<div class="p">Use one of the following methods:<ul class="ul"><li class="li">Import from existing HTML or JSP pages with the Imported Page
builder. </li>
<li class="li">Create pages within the model with the Page builder. </li>
</ul>
</div>
<p class="p">Other builder calls can act on these pages and modify or add to
the HTML controls that they display.</p>
<div class="section"><h4 class="title sectiontitle">Page automation</h4><p class="p">The Data Page builder, along
with the other builders that use Data Page, can automatically generate
HTML for displayed pages. We call this feature “Page Automation”.
 You can control the look and feel of this generated HTML by using
Page Automation HTML Templates.</p>
<p class="p">For more information and real
world applications, see this <span class="ph">IBM WebSphere Portlet Factory</span> <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/what-is-page-automation" target="_blank">wiki</a> article.</p>
</div>
</div>
<div class="related-links"></div><div class="topic task nested3" xml:lang="en-us" id="t_use_on_named_tag_technique"><a name="t_use_on_named_tag_technique"><!-- --></a><h4 class="title topictitle4"> Using the On Named Tag technique</h4>
<div class="body taskbody"><p class="shortdesc">The On Named Tag technique is the simplest of the three page location
methods and is meant to replace a named element on the page with the JSP code
that implements the builder control.</p>
<div class="section context"><p class="p">To place a control builder call on a page using the On Named Tag
technique:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Select the page on which you want to place the builder call from
the <span class="ph uicontrol">Page</span> select box.</span> <p class="p">The <span class="ph uicontrol">Page</span> select
box displays the names of all the Imported Page and Page builder calls in
the model as well as the Imported Page and Page builder calls in any linked
models (provided that their <span class="ph uicontrol">Expose to linked model</span> input
is enabled).</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Select the named element on which you want to place the builder
call from the <span class="ph uicontrol">Find Tag</span> select box.</span></li>
</ol>
<div class="section result">The <span class="ph uicontrol">Find Tag</span> select box displays all the named <samp class="ph codeph">&lt;input
/&gt;</samp> and <samp class="ph codeph">&lt;span /&gt;</samp> tags on the selected page.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_use_relative_to_named_tag_technique"><a name="t_use_relative_to_named_tag_technique"><!-- --></a><h4 class="title topictitle4">Using the relative to named tag technique</h4>
<div class="body taskbody"><p class="shortdesc">In placing a control builder call on a page, the relative
to named tag technique is a little more complex than the on named
tag method. </p>
<div class="section context"><p class="p">If you use <span class="ph uicontrol">Relative to Named Tag</span> in
the builder <span class="ph uicontrol">Page Location</span> input, you can choose
to replace the contents of a named tag, insert a new tag inside the
specified tag, or insert a new tag oriented in some way near the named
tag. To use the relative to named tag technique, take the following
steps. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the builder <span class="ph uicontrol">Page Location</span> input,
enable <span class="ph uicontrol">Relative to Named Tag</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Select the page on which to place the builder call from
the <span class="ph uicontrol">Page</span> select box. </span> <p class="p">The <span class="ph uicontrol">Page</span> select
box displays the names of all the pages in the WebApp. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Select the named element on which to place the builder
call from the <span class="ph uicontrol">Find Tag</span> select box.</span> <p class="p">The <span class="ph uicontrol">Find
Tag</span> select box displays all the named <samp class="ph codeph">&lt;input
/&gt;</samp> and <samp class="ph codeph">&lt;span /&gt;</samp> tags on the selected
page.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Select one of the following insertion modes for placing
the builder call on the page.</span> <dl class="dl"><dt class="dt dlterm">Replace Node</dt>
<dd class="dd">Builder call output replaces the element specified in the <span class="ph uicontrol">Tag</span> select
box.<div class="note note"><span class="notetitle">Note:</span> In the profile, this choice will be represented by the profile
value Rename. As a result, in the <span class="ph uicontrol">Profile</span> dialog,
the value you see in the values table representing Replace Node behavior
will be Rename.</div>
</dd>
<dt class="dt dlterm">Before</dt>
<dd class="dd">Builder call output gets inserted before the element specified
in the <span class="ph uicontrol">Find Tag</span> select box with the name set
to the value you specify in the <span class="ph uicontrol">New Tag Name</span> text
input.</dd>
<dt class="dt dlterm">After</dt>
<dd class="dd">Builder call output gets inserted after the element specified
in the <span class="ph uicontrol">Find Tag</span> select box with the name set
to the value you specify in the <span class="ph uicontrol">New Tag Name</span> text
input.</dd>
<dt class="dt dlterm">Inside Top</dt>
<dd class="dd">Builder call output gets inserted as the first child element of
the named element specified in the <span class="ph uicontrol">Find Tag</span> select
box with the element name set to the value you specify in the <span class="ph uicontrol">New
Tag Name</span> text input.</dd>
<dt class="dt dlterm">Inside Bottom</dt>
<dd class="dd">Builder call output gets inserted as the last child element of
the named element specified in the <span class="ph uicontrol">Find Tag</span> select
box with the element name set to the value you specify in the <span class="ph uicontrol">New
Tag Name</span> text input.</dd>
<dt class="dt dlterm">TableWrapAbove</dt>
<dd class="dd">Builder call output gets added as a new table row, duplicating
the table row in which the element named in the <span class="ph uicontrol">Find Tag</span> select
box appears. For example, where <var class="keyword varname">#old#</var> and <var class="keyword varname">#new#</var> specify
the element specified in the <span class="ph uicontrol">Find Tag</span> select
box and the new element, respectively:<pre class="pre codeblock">&lt;table&gt;
&lt;tr&gt;&lt;td&gt;<var class="keyword varname">#new#</var>&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;<var class="keyword varname">#old#</var>&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</pre>
<div class="note note"><span class="notetitle">Note:</span> If the named element is inside a <samp class="ph codeph">&lt;tr&gt;</samp> node,
the TableWrapAbove only makes a new <samp class="ph codeph">&lt;tr&gt;</samp> node
above it.</div>
</dd>
<dt class="dt dlterm">TableWrapBelow</dt>
<dd class="dd">Builder call output gets added as a new table row, duplicating
the table row in which the element named in the <span class="ph uicontrol">Find Tag</span> select
box appears. For example, where <var class="keyword varname">#old#</var> and <var class="keyword varname">#new#</var> specify
the element specified in the <span class="ph uicontrol">Find Tag</span> select
box and the new element, respectively:<pre class="pre codeblock">&lt;table&gt;
&lt;tr&gt;&lt;td&gt;<var class="keyword varname">#old#</var>&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;<var class="keyword varname">#new#</var>&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</pre>
<div class="note note"><span class="notetitle">Note:</span> If the named element is inside a <samp class="ph codeph">&lt;tr&gt;</samp> node,
the TableWrapBelow only makes a new <samp class="ph codeph">&lt;tr&gt;</samp> node
below it.</div>
</dd>
<dt class="dt dlterm">TableWrapLeft</dt>
<dd class="dd">Builder call output gets added as a new <samp class="ph codeph">&lt;td&gt;</samp> element
to the left of the <samp class="ph codeph">&lt;td&gt;</samp> element named in the Find
Tag select box. For example, <var class="keyword varname">#old#</var> and <var class="keyword varname">#new#</var> specify
the old node and the new node, respectively in the following code.<pre class="pre codeblock">&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;<var class="keyword varname">#new#</var>&lt;/td&gt;
&lt;td&gt;<var class="keyword varname">#old#</var>&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</pre>
<div class="note note"><span class="notetitle">Note:</span> If the node is inside a <samp class="ph codeph">&lt;td&gt;</samp> node
and the containing <samp class="ph codeph">&lt;tr&gt;</samp> node has no siblings,
the TableWrapLeft only makes a new <samp class="ph codeph">&lt;td&gt;</samp> node before
the selected <samp class="ph codeph">&lt;td&gt;</samp>.</div>
</dd>
<dt class="dt dlterm">TableWrapRight</dt>
<dd class="dd">Builder call output gets added as a new <samp class="ph codeph">&lt;td&gt;</samp> element
to the right of the <samp class="ph codeph">&lt;td&gt;</samp> element named in the
Find Tag select box. For example, <var class="keyword varname">#old#</var> and <var class="keyword varname">#new#</var> specify
the old node and the new node, respectively in the following code.<pre class="pre codeblock">&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;<var class="keyword varname">#old#</var>&lt;/td&gt;
&lt;td&gt;<var class="keyword varname">#new#</var>&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</pre>
<div class="note note"><span class="notetitle">Note:</span> If the node is inside a <samp class="ph codeph">&lt;td&gt;</samp> node
and the containing <samp class="ph codeph">&lt;tr&gt;</samp> node has no siblings,
the TableWrapRight only makes a new <samp class="ph codeph">&lt;td&gt;</samp> node
after the selected <samp class="ph codeph">&lt;td&gt;</samp>.</div>
</dd>
<dt class="dt dlterm">Wrapper</dt>
<dd class="dd">The element is wrapped with a new SPAN tag and the new tag is
given the name specified in New Tag Name field. </dd>
</dl>
 </li>
<li class="li step stepexpand"><span class="ph cmd">If you selected an insertion mode other than Replace Node,
enter a name for the element to be inserted in the <span class="ph uicontrol">New
Tag Name</span> text input.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested3" xml:lang="en-us" id="r_locating_builders"><a name="r_locating_builders"><!-- --></a><h4 class="title topictitle4">Locating control builder calls on pages</h4>
<div class="body refbody"><p class="shortdesc">Each page location technique results in the generation
of a Page Location string that determines on what pages, and where
on those pages, the control builder calls are added.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">On Named Tag</dt>
<dd class="dd">Allows you to specify one named location (<samp class="ph codeph">&lt;input /&gt;</samp> or <samp class="ph codeph">&lt;span
/&gt;</samp> element) on the page on which to place the builder call.</dd>
<dt class="dt dlterm">Relative to Named Tag</dt>
<dd class="dd">Allows you to specify one location on a page that either replaces
the named element or uses that named element to orient the placement
of a new named element on which the builder call gets placed.</dd>
<dt class="dt dlterm">Advanced</dt>
<dd class="dd">Allows you to enter the Page Location syntax that specifies one
or more locations on one or more pages on (or by which) to place the
builder call.</dd>
<dt class="dt dlterm">Profiling builder Location Inputs</dt>
<dd class="dd">Allows you to customize the location of controls on a page based
on user profiles and roles.</dd>
<dt class="dt dlterm">Wrapper</dt>
<dd class="dd">One of the Placement options when you enable the <span class="ph uicontrol">Relative
to Named Tag</span> Page Location technique. It wraps the element
with a new SPAN tag and gives the new tag the name specified in <span class="ph uicontrol">New
Tag Name</span> field.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested4" xml:lang="en-us" id="r_locating_builders_advanced"><a name="r_locating_builders_advanced"><!-- --></a><h5 class="title topictitle5">Using the advanced technique for locating builders</h5>
<div class="body refbody"><p class="shortdesc">The Advanced page location technique allows you to create complex
page location strings to locate control builder calls on multiple pages in
multiple ways.</p>
<div class="section">You can use the Advanced technique after using the On Tag or Relative
to Named Tag techniques to build up a page location expression and then build
on that expression using the Advanced technique.<p class="p">The following page location
examples are meant to show the flexibility of the page location syntax:</p>
<ul class="ul"><li class="li"><samp class="ph codeph">Page StartingPage NameSearch firstBuilder</samp><p class="p">The firstBuilder
tag on the StartingPage page.</p>
</li>
<li class="li"><samp class="ph codeph">AllPages NameSearch firstBuilder</samp> <p class="p">All locations named
firstBuilder on all (non-generated) Pages</p>
</li>
<li class="li"> <samp class="ph codeph">Page StartingPage NameSearch firstBuilder else XPath HTML/BODY
InsertInsideBottom firstBuilder</samp> <p class="p">In StartingPage, search for an
element named <samp class="ph codeph">firstBuilder</samp>. If it is found, that is the node.
If not found, search for the XPath "<samp class="ph codeph">HTML/BODY</samp>" and use <samp class="ph codeph">InsertInsideBottom</samp> to
insert a new node and name it <samp class="ph codeph">firstBuilder</samp>.</p>
</li>
<li class="li"> <samp class="ph codeph">(Page StartingPage NameSearch theBody else XPath HTML/BODY) InsertInsideBottom
firstBuilder</samp> <p class="p">In StartingPage, search for an element named <samp class="ph codeph">theBody</samp>.
If it is not found, search for the XPath "<samp class="ph codeph">HTML/BODY</samp>." In
either case, use <samp class="ph codeph">InsertInsideBottom</samp> to insert a new node
and name it "firstBuilder."</p>
</li>
<li class="li"> <samp class="ph codeph">AllPages XPath HTML/BODY InsertInsideBottom Foo</samp><p class="p">In
all pages, just inside the BODY tag insert a new node at the bottom and name
it <samp class="ph codeph">Foo</samp></p>
</li>
<li class="li"> <samp class="ph codeph">(Pages where (Public = true), Page Extra) XPath HTML//FORM InsertInsideTop
Header</samp> <p class="p">In all public pages and in Page named Extra, use XPath
to search for a FORM tag, then insert a new node inside it at the top. Name
the new node <samp class="ph codeph">Header</samp>.</p>
</li>
<li class="li"> <samp class="ph codeph">((Page A, Page B) NameSearch OKButton, Page C NameSearch OK)
TableWrapRight Cancel </samp><p class="p">At the three elements named (the element
named OKButton on Pages A and B, and the element named OK on Page C), create
a new element to the right, and name it Cancel.</p>
</li>
<li class="li"> <samp class="ph codeph">PagesWhere (true &amp; TopLevel = true) NameSearch AdvancedButton</samp><p class="p">For
all pages with the property TopLevel set to true, search for a node with the
name "AdvancedButton."</p>
</li>
<li class="li"> <samp class="ph codeph">PagesWhere (TopLevel = true | AddAdvanced = true) NameSearch
AdvancedButton</samp> <p class="p">For all pages with the property TopLevel set to
true, or the property AddAdvanced set to true, search for a node with the
name <samp class="ph codeph">AdvancedButton</samp>.</p>
</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_profiling_builder_location"><a name="r_profiling_builder_location"><!-- --></a><h5 class="title topictitle5">Profiling Builder Location Inputs</h5>
<div class="body refbody"><p class="shortdesc">You can profile the individual fields of the Page Location section
of builder input, as well as the entire Page Location section.</p>
<div class="section">You might want to do this to customize the look and feel of the controls
on a page based on the users profile. You have two profiling approaches you
can use:<dl class="dl"><dt class="dt dlterm">Profile entire Page Location section</dt>
<dd class="dd">Use this approach to provide a level a generalized customization of the
page.</dd>
<dt class="dt dlterm">Profile individual fields within the Page Location section</dt>
<dd class="dd">Use this approach to provide more granular customization of the page.</dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> It makes little sense to use both approaches. If both
the entire section and individual fields are profiled, the profile assigned
to the entire section will be used.</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_guidelines_javascript"><a name="c_guidelines_javascript"><!-- --></a><h4 class="title topictitle4">JavaScript guidelines: coding defensively</h4>
<div class="body conbody"><p class="shortdesc">Coding your model defensively prevents script errors.</p>
<div class="section">Coding defensively involves always checking for the existence of
an element before scripting it. For example, events and code can start executing
before the page is fully loaded. This means that the script may attempt to
access an element before it exists.<p class="p">Before accessing the element, check
whether it exists in the document. Do this by testing whether or not the element
is null. If the element is null, it does not yet exist in the object model.</p>
<p class="p">To
implement this fix, create a simple function that takes and tests an object.
If the test fails, the user receives an error message, and if the test succeeds
the code continues to execute as expected. For example:</p>
<pre class="pre codeblock">function isTheObjectAroundYet(object) { 
  var passed = (object!=null) 
  if (!passed) 
  alert("The page is not completely loaded. 
  Please wait a moment and try again.") 
  return passed 
}
function exampleFunction() { 
  var theformneededtobeprocessed = document.forms["myForm"] 
  if (isTheObjectAroundYet(theformneededtobeprocessed)) {
  // it's okay to script to the form 
  } 
}</pre>
<p class="p">This test is appropriate for small, localized tests. However,
it may be easier just to test whether the page is loaded. Remember that the
onload event does not fire until after the content and all the images on your
page have been downloaded. If a user has a slow connection, this means the
event may not fire for quite some time. The onload event is necessary in some
cases (for example, you want the images to be loaded or you are doing dynamic
content in Internet Explorer). However, many times only knowing whether the
elements are ready for scripting is required (images that are not yet loaded
can still be scripted).</p>
<p class="p">Rather than use the onload event, make the script
the last item on your page. For example:</p>
<pre class="pre codeblock">&lt;SCRIPT&gt; 
  function doLoad() { 
  // This is the script that will 
  // execute when the page content is 
  // loaded 
  } 
&lt;/SCRIPT&gt; 
&lt;BODY&gt; 
  ...body content... 
  &lt;SCRIPT&gt; 
  // The last element in your document 
  // is a script calling the doLoad() 
  // function 
  doLoad() 
  &lt;/SCRIPT&gt; 
&lt;/BODY&gt;
&lt;/HTML&gt;</pre>
<p class="p">You can create a flag variable for tracking whether
the page content is available. This approach can be used instead of testing
each individual element.</p>
<pre class="pre codeblock">&lt;SCRIPT&gt; 
  var isLoaded = false 
  function doSomething() { 
  if (isLoaded) { 
  // run script 
  } 
  } 
&lt;/SCRIPT&gt; 
&lt;BODY&gt; 
  ...body content... 
  &lt;SCRIPT&gt; 
  // The last element in your document 
  // is a script that sets the isLoaded 
  // flag 
  isLoaded = true 
  &lt;/SCRIPT&gt; 
&lt;/BODY&gt;</pre>
<p class="p">In summary, script defensively. Do not discount how
different timing can affect your scripts since events and scripts can start
executing before a page is completely loaded. Test for the existence of objects,
and be careful with the onload event and images. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_guidelines_jsp"><a name="c_guidelines_jsp"><!-- --></a><h4 class="title topictitle4">JavaServer pages guidelines</h4>
<div class="body conbody"><p class="shortdesc">You can incorporate JavaServer Pages (JSPs) into your models using
the following builders:</p>
<dl class="dl"><dt class="dt dlterm">JSP Directive</dt>
<dd class="dd">Adds JSP directives to a page in the model.</dd>
<dt class="dt dlterm">JSP Proxy Page</dt>
<dd class="dd">Routes requests to an existing JSP page to an action in the model, allowing
you to insert model functionality into an existing JSP application.</dd>
<dt class="dt dlterm">JSP Tag</dt>
<dd class="dd">Allows you to use a JSP Tag library within a page in the model.</dd>
</dl>
<p class="p">In addition to these JSP-specific builders, you can also hand code JSP
or use existing JSP in any <span class="ph">IBM WebSphere Portlet Factory</span> pages
(Imported Page builder, Page builder, Imported Directory builder, and so on),
as long as they do not perform the following actions:</p>
<ul class="ul"><li class="li"> Forwarding </li>
<li class="li"> Setting response headers </li>
</ul>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> pages are always
invoked using include, disallowing these actions.</p>
<p class="p">The Imported Directory builder can often work quite well for bringing in
a set of existing JSPs, including inter-page actions/links, provided that
they adhere to the caveats above.</p>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_process_redirect"><a name="c_process_redirect"><!-- --></a><h5 class="title topictitle5">Processing redirections</h5>
<div class="body conbody"><p class="shortdesc">If any of the JSP pages that you import for use in a model contain
any redirection code, you will need to re-implement this behavior with a method
in your model.</p>
<div class="section">For example, if a page in your model contains the following JSP code,
you need to create a method that processes the appropriate page.<pre class="pre codeblock">&lt;%
response.sendRedirect(response.encodeRedirectURL("http://127.0.0.1:7001/MyApp/results/success.html"));
%&gt;</pre>
<p class="p">The action that processes this page needs to be altered
to include any logic contained in the JSP page and to process the success.html
page. You should import the success.html with a call to the Imported Page
builder. For example, the method in your model would contain code similar
to the following:</p>
<pre class="pre codeblock">...
// incorporate any logic in JSP here.
webAppAccess.processPage("SuccessPage");
...</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="t_replace_html_with_builder"><a name="t_replace_html_with_builder"><!-- --></a><h4 class="title topictitle4">Replacing HTML controls with builder calls</h4>
<div class="body taskbody"><p class="shortdesc">Once you import your pages into a model, you can replace some or
all of the HTML controls with calls to the corresponding builders.</p>
<div class="section context">The criteria for replacing HTML controls with builder calls are:<dl class="dl"><dt class="dt dlterm">The control needs to get data from, or supply data to, other elements
in the model</dt>
<dd class="dd">Replace the existing control with a builder if you want to supply that
control with data from a method, variable, or user input in your model. If
the control is part of a form and you want to process the form submission
in your model, use a builder call to replace the HTML control.</dd>
<dt class="dt dlterm">The control needs to behave differently for different types of users</dt>
<dd class="dd">Replace the existing control with a builder if you want to supply that
control with data from a method, variable, or user input in your model. If
the control is part of a form and you want to process the form submission
in your model, use a builder call to replace the HTML control.</dd>
</dl>
<p class="p">To replace an HTML control with a corresponding builder
call:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the builder call editor for the appropriate builder. For example,
if you want to replace an HTML button, open the builder call editor for the
Button builder.</span></li>
<li class="li step"><span class="ph cmd">In the Page Location widget of the builder call editor, select
the name of the page in the model that contains the HTML button you want to
replace with a Button builder call.</span></li>
<li class="li step"><span class="ph cmd">Once you select the page, choose the named <samp class="ph codeph">&lt;input /&gt;</samp> or <samp class="ph codeph">&lt;span
/&gt;</samp> tag from the list of named tags on the page.</span></li>
<li class="li step"><span class="ph cmd">Configure the builder call according to its function in the application.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_form"><a name="t_cre_form"><!-- --></a><h3 class="title topictitle3">Creating forms</h3>
<div class="body taskbody"><p class="shortdesc">If you do decide to create your own forms, you will need to perform
the following steps:</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Create an HTML page onto which you will place the builder calls
that provide for the prompting and display of data.</span></li>
<li class="li step"><span class="ph cmd">Create a method, service call, or SQL statement to provide the
data to display or that will consume the data input into the form.</span></li>
<li class="li step"><span class="ph cmd">Provide controls for the prompting of input or display of data.</span></li>
<li class="li step"><span class="ph cmd">Trigger a form submission.</span></li>
<li class="li step"><span class="ph cmd">Implement other forms-related functionality including form validation,
translating and formatting form values, and controlling the display of the
form.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_forms_css_styles"><a name="c_forms_css_styles"><!-- --></a><h4 class="title topictitle4">About specifying CSS styles for form elements</h4>
<div class="body conbody"><p class="shortdesc">You can define form element style and specify those styles in the
Data Page and Data Field Modifier builders.</p>
<div class="section">You can determine the appearance of table titles, field labels, and
other form elements by creating a stylesheet (or defining styles directly
in the HTML page) and specifying those CSS styles in the Data Page and Data
Field Modifier builders.<p class="p">You can modify the generated HTML page, specifying
your own CSS classes in the HTML page and creating the appropriate CSS file.</p>
<p class="p">To
confirm that your changes are getting propagated to the model, open the Imported
Page builder that imports the page into the model and click <span class="ph uicontrol">OK</span> in
the builder call editor.</p>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested4" xml:lang="en-us" id="r_gen_style_names"><a name="r_gen_style_names"><!-- --></a><h5 class="title topictitle5">Use of the generated style names</h5>
<div class="body refbody"><p class="shortdesc">If you generate a sample HTML page from within the Data Page builder
call (from the Advanced group in the builder call editor), the HTML page uses
the following CSS class names.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">label</dt>
<dd class="dd">Used for the label text for leaf nodes (elements that do not contain other
elements).</dd>
<dt class="dt dlterm">sectionLabel</dt>
<dd class="dd">Used as the label for branch nodes (elements that have child elements).</dd>
<dt class="dt dlterm">outputData</dt>
<dd class="dd">Used for the data contained in leaf nodes</dd>
<dt class="dt dlterm">entireTable</dt>
<dd class="dd">Used for all rows in a table of repeated elements</dd>
<dt class="dt dlterm">tableHead</dt>
<dd class="dd">Used for the first row in a table of repeated elements</dd>
<dt class="dt dlterm">tableRow</dt>
<dd class="dd">Used for "body" rows in a table of repeated elements</dd>
<dt class="dt dlterm">tableRowEven</dt>
<dd class="dd">Used for evenly numbered rows in a table of repeated elements provided
that you use a Data Field Modifier builder call to set this style for the
associated element in the data.</dd>
<dt class="dt dlterm">tableRowOdd</dt>
<dd class="dd">Used for oddly numbered rows in a table of repeated elements provided
that you use a Data Field Modifier builder call to set this style for the
associated element in the data.</dd>
<dt class="dt dlterm">Required</dt>
<dd class="dd">Used for the character(s) denoting a required field in an input form.</dd>
<dt class="dt dlterm">ErrorMessage</dt>
<dd class="dd">Used for the error message(s) displayed when validation fails.</dd>
</dl>
<p class="p">You could use the following CSS style definitions as a starting
point. Copy them into an empty CSS file or embed them into a <samp class="ph codeph">&lt;STYLE
/&gt;</samp> element in the generated HTML page.</p>
<pre class="pre codeblock">.label { font-family: Arial, Helvetica, sans-serif; font-size:10pt;
font-weight: bold; color: #004E8E}
.sectionLabel { font-family: Arial, Helvetica,
sans-serif;font-size: 14pt; font-weight: bold; color: #000000}
.outputData { font-family: Arial, Helvetica, sans-serif;font-size:
10pt; font-weight: bold; color: #000000}
.entireTable { background-color: #e0e0e0}
.tableHead {background-color:#404040;color: #ffffff;font-family:
Arial,Helvetica,sans-serif; font-size: 10pt;font-weight: bold; }
.tableRow {background-color: #e0e0e0; color: #000000;font-family:
Arial, Helvetica, sans-serif; font-size: 10pt; }
.tableRowEven {background-color: #e0e0ff; color:
#000000;font-family: Arial, Helvetica, sans-serif; font-size: 10pt;
}
.tableRowOdd {background-color: #e0e0e0; color:
#000000;font-family: Arial, Helvetica, sans-serif; font-size: 10pt;
}
.Required {font-family: Arial, Helvetica, sans-serif;
font-size:10pt; font-weight: bold; color: #ff0000}
.ErrorMessage {font-family: Arial, Helvetica, sans-serif;font-size:
10pt; font-weight: bold; color: #ff0000}</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="t_cre_inputform"><a name="t_cre_inputform"><!-- --></a><h4 class="title topictitle4">Creating an input form</h4>
<div class="body taskbody"><p class="shortdesc">Use the Data Page builder to create forms that prompt the user
for input.</p>
<div class="section context">To create an input form with the Data Page builder:</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a page to your model that you will use to display the data.</span> This HTML page can be as simple or as sophisticated as the data or your
use cases require. </li>
<li class="li step stepexpand"><span class="ph cmd">Add a Data Page builder call to your model, specifying the page
on which to display the data and the variable that contains the data.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Add a Button builder call (or other action builder that submits
the form). </span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Set its <span class="ph uicontrol">Action Type</span> to <kbd class="ph userinput">Submit
form and invoke action</kbd>.</span></li>
<li class="li substep"><span class="ph cmd">Set its <span class="ph uicontrol">Action</span> to the <var class="keyword varname">pageName</var>_NextAction
method, where <var class="keyword varname">pageName</var> is the name of the page on which
the Data Page builder call operates.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Run the model.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_overview_forms"><a name="c_overview_forms"><!-- --></a><h5 class="title topictitle5">Overview: creating forms</h5>
<div class="body conbody"><p class="shortdesc">You can create forms in <span class="ph">IBM WebSphere Portlet Factory</span> applications
in several ways.</p>
<div class="section"><ul class="ul"><li class="li">Use the Data Page and Data Field Modifier builders to automate the display
and processing of forms.</li>
<li class="li">Use individual builder calls to implement the display of data, prompting
for user input, and processing the user inputs.</li>
</ul>
<p class="p">In many cases, the framework provided by the Data Page and Data Field
Modifier builders offers enough extensibility to implement sophisticated forms.
If you have requirements that cannot be implemented with these builders, you
can create your own forms using individual builder calls or even your own
forms framework. Forms that you implement with the Data Page and Data Field
Modifier builders provide a much more robust framework for handling form display
and for validating inputs, processing inputs, and handling errors.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_forms_input"><a name="c_forms_input"><!-- --></a><h5 class="title topictitle5">Creation of input forms</h5>
<div class="body conbody"><p class="shortdesc">You can use the Data Page builder to create forms that prompt the
user for input and to automate the display of input controls and the processing
of inputs.</p>
<p class="p">Use the Input Form Builder when you want to create an input page for my
data service operation, which does not return result data.  This builder creates
an input page for a data service operation or a method. It is much like View
&amp; Form input page support, but the next action after submitting the input
form is a user-specified action. This builder is suitable for operations that
do not have result data to display.</p>
<p class="p">Because the Data Page builder uses a schema to control its behavior, you
can change the form simply by altering the schema that defines the form input.</p>
<p class="p">The Data Page builder inserts the input form at a named location on a page
in the model. This page can be as simple as the <samp class="ph codeph">page1</samp> page
included in the <samp class="ph codeph">Main and Page</samp> base model or it can be an
imported page that has been created by an HTML designer. If the page contains
input elements, the Data Page builder can map the elements in an XML variable
to these inputs. You can also configure the Data Page builder to determine
the input fields to display based on a schema associated with the variable
or a combination of the input fields defined on the page and the elements
defined by the schema.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_forms_override_builders"><a name="c_forms_override_builders"><!-- --></a><h5 class="title topictitle5">About overriding form behavior with additional builder calls</h5>
<div class="body conbody"><p class="shortdesc">Use the Data Field Modifier builder to override form behavior.</p>
<p class="p">For any given element in the data, you can override the behavior the Data
Page implements by using Data Field Modifier builder call, specifying the
builder you'd like to use to control the element's behavior. In general, you
override the default behavior for an element if you cannot adequately determine
the elements behavior in the HTML page or in the schema associated with the
data.</p>
<p class="p">Some specific use cases that call for overriding the Data Page functionality
include:</p>
<ul class="ul"><li class="li"> Creating a link out of some data.</li>
<li class="li"> Using the data to display an image (for example, the file name for a
logo to use could be stored as part of the data).</li>
</ul>
<p class="p">To override an element default behavior with a form created using the Data
Page builder, add a Data Field Modifier builder to your model and specify
the element whose behavior you want to change.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_forms_using_html"><a name="c_forms_using_html"><!-- --></a><h5 class="title topictitle5">About using your own HTML form pages</h5>
<div class="body conbody"><p class="shortdesc">You can determine the appearance of your display or input form.</p>
<p class="p">Supply your own HTML page that implements the layout and display you want.
The Data Page builder reconciles the named <samp class="ph codeph">&lt;input /&gt;</samp> and <samp class="ph codeph">&lt;span
/&gt;</samp> tags in the HTML you provide with the element names in the data.
In the Data Page builder call, choose to have the form be determined solely
by the HTML page, solely by the associated data schema, or by both the HTML
and schema. If the HTML page contains tables to display repeated elements,
either specify the table completely or just with a table and row name. Deriving
table appearances with both the HTML page and schema is not good practice.</p>
<div class="section"><h6 class="title sectiontitle">Before creating your own HTML page</h6><div class="p">You can use your
own HTML page with the Data Page builder. The named <samp class="ph codeph">&lt;input /&gt;</samp> and <samp class="ph codeph">&lt;span
/&gt;</samp> tags should correspond with the data elements in the variable
that you want to store or display.<div class="note note"><span class="notetitle">Note:</span> If you set the Data Page builder <span class="ph uicontrol">Page
Type</span> input to <span class="ph uicontrol">Infer from HTML</span>, the Data
Page does not use a resource bundle to determine the labels for the elements
in the form. The HTML page you specify must contain the labels for the form
fields.</div>
</div>
</div>
<div class="section"><h6 class="title sectiontitle">About adding data from another source to a table</h6><p class="p">Just
as you can limit the data shown in a table by limiting the named <samp class="ph codeph">&lt;span
/&gt;</samp> or <samp class="ph codeph">&lt;input /&gt;</samp> tags used, you can display additional
data to the table by adding a named <samp class="ph codeph">&lt;span /&gt;</samp> or <samp class="ph codeph">&lt;input
/&gt;</samp> tag to the table and using some other builder call to display
data from another source. For example, if you want to display the email address
for each customer in the sample data, you add another <samp class="ph codeph">&lt;td /&gt;</samp> element
to the customer row and populate this column from a variable containing the
email addresses for each customer.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="t_mod_inputform"><a name="t_mod_inputform"><!-- --></a><h4 class="title topictitle4">Modifying the input form</h4>
<div class="body taskbody"><p class="shortdesc">Use various builders and CSS styles to modify an input form.</p>
<div class="section context">Modify the form generated by the Data Page builder in the following
ways:</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Changing Field Labels</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">In the Data Page builder call, open the Label Translation Settings
input group and click <span class="ph uicontrol">Generate Resource Bundle</span>.</span></li>
<li class="li substep"><span class="ph cmd">Modify the generated properties file so that each of the listed
elements have an appropriate label.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Formatting and Validating Form Values</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Use a Data Field Modifier builder call and a "formatter" class
to format user input into a "data-friendly" format, translate data into "user-friendly"
formats, and perform server-side validation for the submitted inputs.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Controlling the Appearance of the Form</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Specify CSS styles in a stylesheet.</span></li>
<li class="li substep"><span class="ph cmd">Associate that style sheet with the page on which the form appears.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Altering the Layout of the Form</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Use a Data Field Modifier builder call to hide or change the
display orientation of the form elements.</span></li>
</ol>
</li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_forms_altering_layout"><a name="c_forms_altering_layout"><!-- --></a><h5 class="title topictitle5">About altering form layout</h5>
<div class="body conbody"><p class="shortdesc"> You can alter the layout of a form generated by the Data Page
builder.</p>
<p class="p">Use a Data Field Modifier builder to hide or control the display of an
element of the data. You can hide an element of the form data by using a Data
Field Modifier builder call, specifying the element you want to hide, and
enabling the <span class="ph uicontrol">Hide Element</span> input.</p>
<p class="p">By default, the Data Page builder vertically displays non-repeating elements,
such as the <samp class="ph codeph">&lt;street /&gt;</samp>, <samp class="ph codeph">&lt;city /&gt;</samp>, <samp class="ph codeph">&lt;state
/&gt;</samp>, and <samp class="ph codeph">&lt;zip /&gt;</samp> elements in the sample data.
To display these elements horizontally, set the <span class="ph uicontrol">Fields</span> input
to the element that contains the non-repeating elements (in this case, <samp class="ph codeph">&lt;address
/&gt;</samp>) and enabling the <kbd class="ph userinput">Horizontally</kbd> option for
the <span class="ph uicontrol">Container Display Direction</span>.</p>
<p class="p">By default, the Data Page builder displays repeating elements in a table.
To display repeated elements vertically, set the <span class="ph uicontrol">Fields</span> input
to the element that contains the repeating elements and enabling the <kbd class="ph userinput">Vertically</kbd> option
for the <span class="ph uicontrol">Container Display Direction</span> input.</p>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_forms_multivar_forms"><a name="t_forms_multivar_forms"><!-- --></a><h3 class="title topictitle3">Creating forms from multiple variables</h3>
<div class="body taskbody"><p class="shortdesc">You can create a form from multiple variables generated
by the Profiled Web Service Call builder. </p>
<div class="section context"><p class="p">Service calls often define several inputs for a particular
service call operation. You can configure the Profiled Web Service
Call builder to generate variables from which it gets the value for
the corresponding input to the service call. (Use the Web Service
Call builder if you have the operation defined in a WSDL document.)
To generate an input form for these inputs, you can use a Data Page
builder call, specifying all the input variables generated by the
service call. </p>
<p class="p">The following steps outline the process of configuring
the service call to generate variables and setting the Data Page builder
call to generate a form based on those variables.</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a service call to your model that takes multiple inputs. </span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Enable the <span class="ph uicontrol">AutoCreate Input Vars</span> input
in the Profiled Web Service Call builder call editor.</span></li>
<li class="li substep substepexpand"><span class="ph cmd">Note the names of the variables created (you can change
these names, as well).</span> <p class="p">These are the variables that
the Data Page builder call can use to create the input form. For example,
MyServiceCall_arg1_fromZip and MyServiceCall_arg2_toZip.</p>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Data Page builder call to your model, specifying
a value similar to the following.</span> <div class="p"><pre class="pre codeblock">Variables/MyServiceCall_arg*</pre>
Note
the use of the wild card character (<samp class="ph codeph">*</samp>). This value
prompts the Data Page to use all variables whose names start with
MyServiceCall_arg. </div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Continue configuring the Data Page builder call as you
would normally.</span> <p class="p">When you display the page on which
the Data Page inserts the form, the multiple inputs are shown as if
they were from a single variable.</p>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_forms_initialize"><a name="t_forms_initialize"><!-- --></a><h3 class="title topictitle3">Resetting a form</h3>
<div class="body taskbody"><p class="shortdesc">You can redisplay a form page, resetting the form values
to their initial values. </p>
<div class="section context">Use the <var class="keyword varname">pageName</var>_Initialize method added
to the WebApp by the Data Page builder call. The Data Page builder
call adds this method when you use a Data Field Modifier builder call
to set an initial value for one or more fields in the form.<p class="p">To initialize
a form, perform the following steps. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a Data Field Modifier builder call to your model for
each of the fields for which you want to set an initial value.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In each Data Field Modifier call, set the <span class="ph uicontrol">Initial
Value</span> input.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the model action or Java code that reloads the form
page, add a call to the <var class="keyword varname">pageName</var>_Initialize method.</span> <div class="p">For example, the following code could be used to re-initialize
the form when a user clicks on a Reset button on the form. <pre class="pre codeblock">public void resetForm(WebAppAccess webAppAccess) {
webAppAccess.callMethod("myFormPage_Initialize");
webAppAccess.processPage("myFormPage");
}</pre>
</div>
 </li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_dsply_iformxmlvar"><a name="t_dsply_iformxmlvar"><!-- --></a><h3 class="title topictitle3">Displaying an input form based on an XML variable</h3>
<div class="body taskbody"><p class="shortdesc">In a simple form in which you access the contents of an XML variable,
you can display the data based on the contents of the XML variable.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the Data Page builder call.</span></li>
<li class="li step"><span class="ph cmd">Set <span class="ph uicontrol">Page Type</span> to <kbd class="ph userinput">Data Entry</kbd>.</span></li>
<li class="li step"><span class="ph cmd">Run the model.</span></li>
</ol>
<div class="section result"><div class="note note"><span class="notetitle">Note:</span> You will need to add an action control, such as a Button builder
call, to submit the form and store the inputs in the variable you specified
in the Data Page builder call.</div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_example_simple_forms"><a name="c_example_simple_forms"><!-- --></a><h4 class="title topictitle4">Example: simple forms</h4>
<div class="body conbody"><p class="shortdesc">You can create a model that you can use to experiment with the
Data Page builder and its various features.</p>
<p class="p">The form resulting from the model is basic, but serves to provide a context
for other form-related tasks, for example, altering the layout of a form,
specifying CSS styles for form elements, and setting input labels.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_example_forms_xml"><a name="c_example_forms_xml"><!-- --></a><h4 class="title topictitle4">Simple forms: sample XML</h4>
<div class="body conbody"><p class="shortdesc">This is a sample XML form.</p>
<pre class="pre codeblock">&lt;customers&gt;
   &lt;customer&gt;
      &lt;name&gt;Joe&lt;/name&gt;
      &lt;id&gt;1122&lt;/id&gt;
      &lt;address&gt;
         &lt;street&gt;416  Lowell St.&lt;/street&gt;
         &lt;city&gt;Andover&lt;/city&gt;
         &lt;state&gt;MA&lt;/state&gt;
         &lt;zip&gt;01810&lt;/zip&gt;
      &lt;/address&gt;
   &lt;/customer&gt;
&lt;/customers&gt;</pre>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_dsply_xmlvarblcont"><a name="t_dsply_xmlvarblcont"><!-- --></a><h3 class="title topictitle3">Displaying the contents of an XML variable</h3>
<div class="body taskbody"><p class="shortdesc">You can create a "View Only" form that displays the contents of
an XML variable.</p>
<div class="section context">Perform the following steps:</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create a new "Main and Page" model. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Create an XML variable with the data to display. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Generate a schema by adding a Simple Schema Generator builder call
to the model. Set the <span class="ph uicontrol">Modify Variable</span> to <kbd class="ph userinput">true</kbd>,
which will declare your original variable as being of the type defined by
the new schema. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Add a Data Page builder call to the model. </span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Set <span class="ph uicontrol">Page</span> to <kbd class="ph userinput">page1</kbd>.</span></li>
<li class="li substep"><span class="ph cmd">Set <span class="ph uicontrol">Variable</span> to the one you created in
step 2.</span></li>
<li class="li substep"><span class="ph cmd">Set <span class="ph uicontrol">Page Type</span> to <kbd class="ph userinput">View Only</kbd>.</span></li>
<li class="li substep"><span class="ph cmd">Leave <span class="ph uicontrol">Create Tags from Schema</span> enabled.</span></li>
<li class="li substep"><span class="ph cmd">Set <span class="ph uicontrol">Location for new tags</span> to <kbd class="ph userinput">namedTag</kbd>.</span></li>
<li class="li substep"><span class="ph cmd">Set <span class="ph uicontrol">Add HTML Element Names</span> to <kbd class="ph userinput">Add
Names</kbd>.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Run the model.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_mk_formronly"><a name="t_mk_formronly"><!-- --></a><h3 class="title topictitle3">Making form fields read-only</h3>
<div class="body taskbody"><p class="shortdesc">You can use the input controls on a generated page to specify elements
that the user can change.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the Data Page builder call.</span></li>
<li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Create Sample HTML</span> page button.</span> The generated page contains named <span class="keyword cmdname">&lt;span /&gt;</span> tags
on which the Data Page builder places an input control for each element in
the variable.</li>
<li class="li step"><span class="ph cmd">Open the generated HTML page and change the tag type for the elements
that you want the user to change from <samp class="ph codeph">&lt;span /&gt;</samp> to <samp class="ph codeph">&lt;input
/&gt;</samp>.</span></li>
<li class="li step"><span class="ph cmd">Add an Imported Page builder call to the model, specifying the
sample HTML file as the file to import into the model.</span></li>
<li class="li step"><span class="ph cmd">Open the Data Page builder call and set the <span class="ph uicontrol">Page Type</span> to <kbd class="ph userinput">Infer
from HTML</kbd>.</span></li>
<li class="li step"><span class="ph cmd">Run the model.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_add_bldrcallsubmit"><a name="t_add_bldrcallsubmit"><!-- --></a><h3 class="title topictitle3">Adding a builder call to submit the form</h3>
<div class="body taskbody"><p class="shortdesc">Use the Button builder, the Link builder or HTML event action for
form submittal.</p>
<div class="section context">Like any other HTML form page, the page on which the Data Page builder
operates needs to have some UI control that allows the user to submit the
form. You can use a Button or Link builder call to add the corresponding control
to the page or you could use an HTML Event Action to allow the user to submit
the form when they cause a particular HTML event to be fired (for example,
clicking on a control or changing the value of a text box).<p class="p">To add a control
that allows the user to submit the form:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Determine how you want to allow the user to submit the form.</span> This example uses the Button builder as an example. Use the settings
for action type and action described here for a Link, HTML Event Action, or
Image Button builder.</li>
<li class="li step"><span class="ph cmd">Set the <span class="ph uicontrol">Action Type</span> value to <kbd class="ph userinput">Submit
form and invoke action</kbd>.</span></li>
<li class="li step"><span class="ph cmd">Set the <span class="ph uicontrol">Action</span> value to <kbd class="ph userinput">DataPageName_NextAction</kbd></span></li>
</ol>
<div class="section result"><div class="note note"><span class="notetitle">Note:</span> If you want to perform any server-side validation, specify the
name of that method for the submit control's <span class="ph uicontrol">Action</span> value.
In the method that performs the validation, make sure that you call the <samp class="ph codeph">DataPageName_NextAction</samp> method
as the last action to perform.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_add_datapgbldrcall"><a name="t_add_datapgbldrcall"><!-- --></a><h3 class="title topictitle3">Adding the Data Page builder call to the model</h3>
<div class="body taskbody"><p class="shortdesc">If the model has a page on which the Data Page builder can place
(or work with) a form, configure the Data Page builder call to implement the
form behavior you want.</p>
<div class="section context"><p class="p">The Data Page builder can operate on input forms, view-only forms,
or forms that mix input and view-only fields. These instructions pertain to
creating an input form. To configure the Data Page builder call to create
an input form:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the Data Page builder call editor, specify the variable to which
you want to save the data.</span> If the inputs are not defined by the
HTML page, associate this variable with a schema element that describes the
fields to be included in the form. </li>
<li class="li step"><span class="ph cmd">Enable the <span class="ph uicontrol">Data Entry</span> radio button for the <span class="ph uicontrol">Page
Type</span> input.</span> This prompts the Data Page builder to insert <samp class="ph codeph">&lt;input
/&gt;</samp> tags for each element in the data on which the Data Page operates. </li>
<li class="li step">Optional: <span class="ph cmd">Expand the <span class="ph uicontrol">Input Control Settings</span> input
section specify values for the inputs.</span> These inputs determine how
the page renders input controls. </li>
<li class="li step"><span class="ph cmd">Expand the <span class="ph uicontrol">Required Field</span> and <span class="ph uicontrol">Input
Validation Settings</span> input section and specify values for the <span class="ph uicontrol">Success
Action</span> and <span class="ph uicontrol">Failure Action</span> inputs.</span> Doing so prompts the Data Page builder call to add a <samp class="ph codeph">DataPageName_NextAction</samp> method
to the WebApp. You will specify this method as the value for submit control's <span class="ph uicontrol">Action</span> input. </li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_smplpgform"><a name="t_cre_smplpgform"><!-- --></a><h3 class="title topictitle3">Creating a sample HTML page for the form</h3>
<div class="body taskbody"><p class="shortdesc">Use the Data Page builder to create a sample HTML page for the
input form.</p>
<div class="section context">Generate this sample page and then import that generated page into
you model. An HTML designer can take this page, re-design according to the
project requirements. As long as the designer does not remove or change the
named <samp class="ph codeph">&lt;span /&gt;</samp> tag on which the data page operates,
everything will work.<p class="p">To create a sample HTML page using the Data Page builder:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the Data Page builder call editor, expand the <span class="ph uicontrol">Advanced</span> inputs
section. </span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Create Sample HTML</span>.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Create Sample HTML</span> dialog, specify
a location for the page and click <span class="ph uicontrol">Create</span>.</span></li>
<li class="li step"><span class="ph cmd">The page is not created until you save the builder call. To save
the builder call, click <span class="ph uicontrol">Apply</span> or <span class="ph uicontrol">OK</span> in
the Data Page builder call editor.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_propfileformfld"><a name="t_cre_propfileformfld"><!-- --></a><h3 class="title topictitle3">Creating a properties file for all form fields</h3>
<div class="body taskbody"><p class="shortdesc">Use the the Data Page builder to modify all labels in a form.</p>
<div class="section context">You can use the Data Page builder's "Create Resource Bundle" functionality
to create a properties file that defines the label for each element in a form.
Using a properties file to determine field labels allows you to modify form
labels without having to edit the model. It also provides you with a head
start if you decide to localize the application.<p class="p">To generate a properties
file for all the form fields:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the Data Page builder call in your model.</span></li>
<li class="li step"><span class="ph cmd">Expand the Label Translation Settings input group.</span></li>
<li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Create Resource Bundle</span> button
and specify a location and name for the properties file.</span> For
example, FormLabels.properties. (Be sure to include the .properties extension.) The location must be in the <span class="ph">IBM WebSphere Portlet Factory</span> class
path. During development, <span class="ph filepath">WEB-INF/work/classes</span> is recommended
so that you can see changes to the properties file without having to restart
the <span class="ph"> WebSphere Portlet
Factory</span> application.</li>
<li class="li step"><span class="ph cmd">Set the <span class="ph uicontrol">Resource Bundle Name</span> input to the
name of the properties file you just created.</span> Do not use the .properties
file extension. For example, <span class="ph">example_simple_forms</span>.</li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> in the Data Page builder call editor.</span> An error displays saying that the properties file cannot be found. Click
the <span class="ph uicontrol">Generate Model</span> icon to "pick up" your new properties
file.</li>
<li class="li step"><span class="ph cmd">Edit the new properties file in your favorite text editor and save
it.</span></li>
<li class="li step"><span class="ph cmd">Run the model to see the new form.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_mod_labeloneform"><a name="t_mod_labeloneform"><!-- --></a><h3 class="title topictitle3">Modifying the label for a single form element</h3>
<div class="body taskbody"><p class="shortdesc">To alter the label for just one element in the data, use a Data
Field Modifier builder.</p>
<div class="section context">To change the label for an individual field:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Add a Data Field Modifier builder call to your model, specifying
the element whose label you want to change.</span></li>
<li class="li step"><span class="ph cmd">Enable the <span class="ph uicontrol">Yes</span> option for the <span class="ph uicontrol">Generate
Labels</span> input.</span></li>
<li class="li step"><span class="ph cmd">Enter the new label as the value for the <span class="ph uicontrol">Label</span> input.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_forms_input_labels"><a name="c_forms_input_labels"><!-- --></a><h4 class="title topictitle4">About setting labels for form fields</h4>
<div class="body conbody"><p class="shortdesc">You can override default labels that are generated by the Data
Page builder.</p>
<p class="p">The Data Page builder generates the labels for each form field according
to element names defined in the schema associated with the data being displayed
on the form. For example, the input label for an element <samp class="ph codeph">&lt;customer
/&gt;</samp> is "customer". Typically, you set your own label
for each form field.</p>
<p class="p">You can override the default input labels by using a properties file that
lists each element name and the label to use for each. For example,  <samp class="ph codeph">&lt;customer=Customer
Name&gt;</samp> could be one entry in the properties file. In the form, the
field corresponding with the  <samp class="ph codeph">&lt;customer /&gt;</samp> element in
the data would be <span class="ph uicontrol">Customer Name</span>.</p>
<p class="p">You can use the Data Page builder to generate a properties file containing
an entry for each element on the form. You can then specify this properties
file as the resource bundle for the Data Page builder to use.</p>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_gen_htmlpgfrdata"><a name="t_gen_htmlpgfrdata"><!-- --></a><h3 class="title topictitle3">Generating an HTML page from the data</h3>
<div class="body taskbody"><p class="shortdesc">You can configure the Data Page builder call to generate an HTML
page based on the data.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the Advanced inputs group.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Create Sample HTML</span>, then click <span class="ph uicontrol">OK</span> in
the builder call editor.</span></li>
</ol>
<div class="section result">The Data Page builder call generates an HTML page with <samp class="ph codeph">&lt;input
/&gt;</samp> and <samp class="ph codeph">&lt;span /&gt;</samp> tags named according to
the data contained in the Data Page variable.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_use_tblinform"><a name="t_use_tblinform"><!-- --></a><h3 class="title topictitle3">Using tables in forms</h3>
<div class="body taskbody"><p class="shortdesc">If you create the HTML page for use with a Data Page builder, you
can control how the Data Page creates this table.</p>
<div class="section context">Perform one of the following procedures:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Allow the Data Page builder to construct the table.</span></li>
<li class="li step"><span class="ph cmd">Create the HTML table yourself.</span></li>
<li class="li step"><span class="ph cmd">Allow the HTML page to determine the elements to display in the
table as well as the table's appearance.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic task nested3" xml:lang="en-us" id="t_use_tblinform1"><a name="t_use_tblinform1"><!-- --></a><h4 class="title topictitle4">Allowing the Data Page builder to construct the table</h4>
<div class="body taskbody"><p class="shortdesc">This technique uses an empty <samp class="ph codeph">&lt;table name="ContainerElement
"/&gt;</samp> node in your HTML page on which the Data Page constructs the
table for you.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Data Page builder call editor, enable the <span class="ph uicontrol">Make
UI From Data</span> input for the container node.</span> The Data
Page Builder will analyze the children of <samp class="ph codeph">&lt;customer /&gt;</samp> to
create a row of Table headers and a row (which is repeated) of the table data.
Look at the following sample data:<pre class="pre codeblock">...
&lt;customers&gt;
&lt;customer&gt;
&lt;name&gt;Joe&lt;/name&gt;
&lt;id&gt;111&lt;/id&gt;
&lt;phone_number&gt;555-1234&lt;/phone_number&gt;
&lt;/customer&gt;
&lt;customer&gt;
&lt;name&gt;Jane&lt;/name&gt;
&lt;id&gt;222&lt;/id&gt;
&lt;phone_number&gt;555-2345&lt;/phone_number&gt;
&lt;/customer&gt;
&lt;customer&gt;
&lt;name&gt;Jill&lt;/name&gt;
&lt;id&gt;333&lt;/id&gt;
&lt;phone_number&gt;555-3456&lt;/phone_number&gt;
&lt;/customer&gt;
&lt;/customers
...</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">To prompt the Data Page builder to construct the table to display
the customer elements:</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Use the following HTML in your page to define the table:</span> <samp class="ph codeph">&lt;table name="customers" /&gt;</samp></li>
<li class="li substep"><span class="ph cmd">In a Data Page builder call, enable the <span class="ph uicontrol">Make UI from
Data</span> input.</span></li>
</ol>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_use_tblinform2"><a name="t_use_tblinform2"><!-- --></a><h4 class="title topictitle4">Creating the HTML table yourself</h4>
<div class="body taskbody"><p class="shortdesc">This technique applies if you want to control more precisely the
layout of the table.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In your HTML page, implement the table with named <samp class="ph codeph">&lt;span
/&gt;</samp> tags that match each of the data elements in the repeated elements
of the structure you want to display.</span></li>
<li class="li step"><span class="ph cmd">When you create the HTML table yourself, disable the <span class="ph uicontrol">Make
UI from Schema</span> input in the Data Page builder call.</span> Otherwise,
the data page will try to mix the UI you have provided with the UI that generates,
which will most likely be not what you want.</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_use_tblinform3"><a name="t_use_tblinform3"><!-- --></a><h4 class="title topictitle4">Allowing the HTML page to determine the elements to display in the
table and the table's appearance</h4>
<div class="body taskbody"><p class="shortdesc">Follow these steps to allow the HTML page to determine the elements
to display in the table and the table's appearance.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Include all the code for the table in the HTML page. </span> For
example, the following HTML specifies a header row followed by a data row
that gets repeated for each repeated element in the data:<pre class="pre codeblock">&lt;table name="customers"&gt;
&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;ID&lt;/th&gt;&lt;/tr&gt;
&lt;tr name="customer"&gt;&lt;td&gt;&lt;span name="name"&gt;&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span name="id"&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</pre>
<div class="note note"><span class="notetitle">Note:</span>  This HTML also removes the <samp class="ph codeph">&lt;phone_number
/&gt;</samp> element from the table. Any data that matches the named <samp class="ph codeph">&lt;span
/&gt;</samp> or <samp class="ph codeph">&lt;input /&gt;</samp> tags in the HTML will be
displayed.</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">In a Data Page builder call, disable the <span class="ph uicontrol">Make UI from
Data</span> input.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="forms_display_data"><a name="forms_display_data"><!-- --></a><h3 class="title topictitle3">Displaying data with the Data Page builder</h3>
<div class="body taskbody"><p class="shortdesc">The Data Page builder provides you with the ability to display
the results of a service call, SQL statement, or any other builder call that
provides data.</p>
<div class="section context">The data does need to be defined by a schema for the Data Page builder
to work. Most service calls and SQL statement builder calls add a schema to
the model that defines the data being returned.<p class="p">To display data with the
Data Page builder:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Add a builder call to your model that provides the data to be displayed.</span> For example, you can display the results of a service call or SQL
statement builder call with the Data Page builder.</li>
<li class="li step"><span class="ph cmd">Add a page to your model that you will use to display the data.</span> This HTML page can be as simple or as sophisticated as the data or your
use cases require.</li>
<li class="li step"><span class="ph cmd">Add a Data Page builder call to your model, specifying the page
on which to display the data and the variable that contains the data.</span></li>
<li class="li step"><span class="ph cmd">Add a builder call to your model that executes the action that
retrieves the data and displays the page.</span></li>
<li class="li step"><span class="ph cmd">Run the model.</span></li>
</ol>
<div class="section result">The resulting page displays, in a relatively raw form, the data in
the variable you specified in the Data Page builder call.</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_determine_data_to_display"><a name="c_determine_data_to_display"><!-- --></a><h4 class="title topictitle4">About determining the data to display</h4>
<div class="body conbody"><p class="shortdesc">Regardless of the source of the data, the Data Page builder operates
on a variable in the model.</p>
<p class="p">Service calls store their results in the <var class="keyword varname">ServiceCallName</var>_reply
variable and you store the results from an SQL statement in a
variable by using the SQL Transform to XML builder call.</p>
<p class="p">If you want to display all the data in a variable, set the Data Page builder
call's <span class="ph uicontrol">Variable</span> input to the name of the variable that
contains the data you want to display.</p>
<p class="p">If you want to display a portion of that data, use the reference chooser
to "walk" down the XML structure to the node that you want to display.</p>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_set_dattimappwide"><a name="t_set_dattimappwide"><!-- --></a><h3 class="title topictitle3">Setting up an application-wide date and time format</h3>
<div class="body taskbody"><p class="shortdesc">Use the Date / Time Formatter builder to control the display
of date and time values in a specific format.</p>
<div class="section context"><p class="p">This builder changes the default date and time format
of the server so that all date and time variables in a model are assigned
the same format. To specify a particular date and time format for
the server, perform the following steps. </p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open a Date / Time Formatter builder call editor.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Date Format</span> input, select
a value.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Time Format</span> input, select
a value.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">DateTime Format</span> input, select
a value.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> to save the builder call.</span></li>
</ol>
<div class="section result"><p class="p">When you run a model that includes this builder, you see
dates and times in the formats you specify. Remember, the formats
that you select are overriding the formats set by the server and apply
to the contents of all Date, Time, and DateTime variables in the model.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_valdt_datetimedfield"><a name="t_valdt_datetimedfield"><!-- --></a><h3 class="title topictitle3">Validating with the Data Field Modifier builder</h3>
<div class="body taskbody"><p class="shortdesc">The Data Field Modifier builder can be used to validate dates and
times.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Configure a Data Field Modifier builder as follows:</span>  <pre class="pre codeblock">Name: inputdate
Fields
List of Fields to be modified:
[page1]page1/DateTime/inputdate
Label: Date &amp; Time Variable:
Formatter Class: com.bowstreet.builders.webapp.pageautomation.StandardFormatter
	Validate Expression: Required Date(FormatString)
	Validate Exp Argument: "empty"</pre>
<p class="p">If you leave the Validate Exp Argument empty, the default format
is used.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Enter another format in Validate Exp Argument to have the builder
validate the date in another format.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_valdt_datetimedpage"><a name="t_valdt_datetimedpage"><!-- --></a><h3 class="title topictitle3">Validating date and time with the Date/Time Formatter builder</h3>
<div class="body taskbody"><p class="shortdesc">The Date/Time Formatter builder can be used to validate dates and
times.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Open the Date/Time Formatter builder, and follow these steps:</span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">If the variable to validate is a DateTime or dateTime data type,
do nothing. </span> The Date/Time Formatter will try to validate the date
according to several formats already included in the builder.<p class="p">If you scroll
down the Date, Time, and DateTime fields and do not see the format you wish
to use, then you can enter this format in the Requested Parsers fields. The
builder will attempt all formats in these fields from top to bottom first,
before it attempts to parse the formats that are built into <span class="ph">IBM WebSphere Portlet Factory</span> Designer.</p>
<pre class="pre codeblock">Requested Parsers:
Format:
dd MM yyyy hh:mm</pre>
</li>
<li class="li substep substepexpand"><span class="ph cmd">If the variable you wish to validate is not a DateTime or dateTime
data type, but should be treated like one of these data types, such as a Sstring,
then enter this variable in the <span class="ph uicontrol">Fields:</span> field. </span> This will tell the builder to attempt to convert/cast the data type
that the variable is declared to be into a valid dateTime or DateTime data
type. Then the builder will attempt to parse the variable to see if it matches
a format in the builder or one in the <span class="ph uicontrol">Requested Parsers</span> field.</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">For each variable you can also decide how you would like the builder
to convert this variable. In the "Fields" Table, enter DateTime, Date, or
Time</span> <pre class="pre codeblock">Fields:
Fields: Type
[page2]dateTimeVarDisplay/dateTimeVar DateTime</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd"> Place a Data Page Formatter builder at the bottom of the builder
call list.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_forms_format_translate"><a name="t_forms_format_translate"><!-- --></a><h3 class="title topictitle3">Formatting and validating form values</h3>
<div class="body taskbody"><p class="shortdesc">Use the steps in this description to do specialized, detailed
formatting of fields.</p>
<div class="section context"><p class="p">To perform limited changes to settings that are used for
displaying fields, used the Data Field Settings builder. </p>
<div class="p">The
Data Field Modifier builder, in conjunction with methods in a Java class, allows you to alter
the format of field values as they are displayed or stored as data
and provides for server-side validation of input values. The methods
used to perform the formatting and validating are defined in the following Java interface. <pre class="pre codeblock">com.bowstreet.methods.IInputFieldFormatter</pre>
You
can change the display format, data format, and validation method
for one or more fields.</div>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create a formatter <samp class="ph codeph">com.bowstreet.methods.IInputFieldFormatter</samp> interface.</span> Add the methods and format expressions that perform the desired
transformations between formats.</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Data Field Modifier builder call to your model, specifying
the following input values:</span> <dl class="dl"><dt class="dt dlterm">Fields</dt>
<dd class="dd">Use the chooser to select one or more fields on which the specified
formatting methods will operate.</dd>
<dt class="dt dlterm">Formatter Class</dt>
<dd class="dd">Enter the fully-qualified name of the formatter class you created.</dd>
<dt class="dt dlterm">Format Expression</dt>
<dd class="dd">Choose one of the listed format expressions. These format expressions
are specified in the formatter class and correspond to a method in
that class. This method changes the format of the field as it is stored
in the data to make it more readable or fulfill some other display
requirement.</dd>
<dt class="dt dlterm">Translate Expression</dt>
<dd class="dd">Choose one of the listed translate expressions. These translate
expressions are specified in the formatter class and correspond to
a method in that class. This method changes the format of the field
value as it is entered by the user to one specified by the schema
or some other data storage requirement.</dd>
<dt class="dt dlterm">Validate Expression</dt>
<dd class="dd">Choose one of the listed validate expressions. These validate
expressions are specified in the formatter class and correspond to
a method in that class. This method changes the format of the field
as it is stored in the data to make it more readable or fulfill some
other display requirement.</dd>
</dl>
</li>
<li class="li step stepexpand"><span class="ph cmd">Run the model.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_howdoi_format_datetime"><a name="c_howdoi_format_datetime"><!-- --></a><h4 class="title topictitle4">Formatting Date and Time values</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> Designer
provides several builders you can use to control the formatting of date, time,
and datetime values.</p>
<p class="p">In most cases these values are stored in variables, and their formats can
be controlled individually or globally throughout the model or application.
You can customize date and time formats for display, and also perform validation
of user input of date and time values. The <span class="ph">IBM WebSphere Portlet Factory</span> Designer
includes a <samp class="ph codeph">StandardFormatter</samp> class that is used to control
date and time formatting operations.</p>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_valid_datetime"><a name="c_valid_datetime"><!-- --></a><h5 class="title topictitle5">Validate Date or Time user input</h5>
<div class="body conbody"><p class="shortdesc">There are two ways you can validate Data or Time input data.</p>
<div class="section">First, use the Data Page Formatter builder which will attempt to
find a format that is included in the <span class="ph">IBM WebSphere Portlet Factory</span> Designer
or match it to a custom format in the Required Parser section. Second, use
a Data Field Modifier builder to validate and translate using the Standard
Formatter included in the Designer.</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_cre_formatter_class"><a name="c_cre_formatter_class"><!-- --></a><h4 class="title topictitle4">Creating a formatter class</h4>
<div class="body conbody"><p class="shortdesc">A formatter class provides formatting and validation functionality
for the fields and inputs controlled by a Data Field Modifier builder
call.</p>
<div class="section">Formatter classes implement the <samp class="ph codeph">com.bowstreet.methods.IInputFieldFormatter</samp> interface
and include code for the following aspects of formatting and validating
form fields:<ul class="ul"><li class="li">Defines a list of expressions for formatting, translating, and
validating inputs. These expressions describe a corresponding method
that performs the operation and are used in the Data Field Modifier
builder call to identify each of the methods in the formatter class.</li>
<li class="li">Implements format, translate, and validate methods.</li>
<li class="li">Implements utility methods to get and set error messages or get
lists of expressions, for example.</li>
</ul>
<p class="p">The formatter takes raw phone number data (for example, 2075558487)
and formats it to either a dot-separated format (for example, 207.555.8487)
or a dash-separated (for example, (207)555-8487) format. It also makes
sure that the user enters only numeric characters with its validate
method.</p>
<p class="p">You can implement any number of format, translation,
or validation operations in a single formatter class.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_iinputfieldformatter"><a name="c_iinputfieldformatter"><!-- --></a><h5 class="title topictitle5">The IInputFieldFormatter interface</h5>
<div class="body conbody"><p class="shortdesc">As you begin development of your formatter class,
implement the IInputFieldFormatter interface.</p>
<div class="section">The code below serves as the start to a simple formatter:<pre class="pre codeblock">import java.util.List;
import java.util.ArrayList;
import com.bowstreet.methods.IInputFieldFormatter;
import com.bowstreet.webapp.WebAppAccess;
public class SimpleFormatter implements IInputFieldFormatter
{
}</pre>
<p class="p">The imported classes are used to build the expression lists
and to interact with the webAppAccess object.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_formatter_implement"><a name="r_formatter_implement"><!-- --></a><h5 class="title topictitle5">A format method implementation</h5>
<div class="body refbody"><p class="shortdesc">The format method examines the expression it receives and calls
the appropriate operation, passing the value as an argument to that operation.</p>
<div class="section"><div class="note note"><span class="notetitle">Note:</span> This implementation includes a check to see if the error message
is null before it formats the value, allowing you to redisplay the form with
the users' inputs as they entered them instead of those inputs being formatted.</div>
<pre class="pre codeblock">public String format(String value, String expression) {
String result = null;
if(getErrorMessage() == null) {
if (expression.equals(PHONEDOTS)) {
result = phoneWithDots(value);
}
else if (expression.equals(PHONEDASHES)){
result = phoneWithDashes(value);
}
}
else {
result = value;
}
return result;
}</pre>
<p class="p">In this case, the format method checks to see if the expression
equals one of the expression constants defined earlier. The following code
snippets show the <samp class="ph codeph">phoneWithDots</samp> and <samp class="ph codeph">phoneWithDashes</samp> methods.</p>
<pre class="pre codeblock">String phoneWithDots(String value) {
String dotvalue = value.substring(0,3)+ "." + value.substring(3,6) +
"." + value.substring(6,value.length());
return dotvalue;
}
String phoneWithDashes(String value) {
String dashvalue = "(" + value.substring(0,3)+ ") " + value.substring(3,6) +
"-" + value.substring(6,value.length());
return dashvalue;
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_formatter_infrastructure"><a name="r_formatter_infrastructure"><!-- --></a><h5 class="title topictitle5">Formatter infrastructure</h5>
<div class="body refbody"><p class="shortdesc">Before adding the code that does the formatting, translating, and
validating, you need to facilitate the creation of the various expression
lists and some error message text.</p>
<div class="section">The SimpleFormatter uses the following member variables for the formatter
infrastructure:<pre class="pre codeblock">private String errorMessage;
private WebAppAccess webApp;
protected static List formatExpressionList = null;
protected static List translateExpressionList = null;
protected static List validateExpressionList = null;
// Set constants for format expressions
public final static String PHONEDOTS = "Phone # with Dot Separators";
public final static String PHONEDASHES = "Phone # with Dash Separators";
// Build up array of format expression constants
private static final String[] formatExpressions =
{
PHONEDOTS, PHONEDASHES
};
// Use the makeList method to build up the expression lists
static
{
formatExpressionList = makeList(formatExpressions);
//translateExpressionList = makeList(translateExpressions);
//validateExpressionList = makeList(validateExpressions);
}
// You can create your own way to build up the expression lists or copy this one
protected static List makeList(String[] array)
{
List list = new ArrayList(array.length);
for (int i = 0; i &lt; array.length; i++)
list.add(array[i]);
return list;
}</pre>
<p class="p">Also, the IInputFieldFormatter interface declares methods to
get and set these resources. The following code shows simple implementations
of these methods:</p>
<pre class="pre codeblock">/* These methods are quick implementations of those defined in the IInputFieldFormatter
*/
public void setErrorMessage(String msg) { errorMessage = msg; }
public String getErrorMessage() { return errorMessage;}
public void setWebAppAccess(WebAppAccess webApp) { this.webApp = webApp; }
public WebAppAccess getWebAppAccess() { return webApp; }
public void setTranslateSuccessFlag(boolean parm1) { }
public boolean getTranslateSuccessFlag() { return true; }
public List getFormatExpressionList() { return formatExpressionList; }
public List getTranslateExpressionList() { return translateExpressionList; }
public List getValidateExpressionList() { return validateExpressionList; }</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_translate_implement"><a name="r_translate_implement"><!-- --></a><h5 class="title topictitle5">A Translate Method Implementation</h5>
<div class="body refbody"><p class="shortdesc">When the users enter a phone number, they may enter it without
any separators or use some sort of separator such as dots or dashes.</p>
<div class="section">You can use a translate method to alter user input
into a format expected by the data. The following shows a translate method,
which is quite similar to the format method in that it examines the expression
passed to it and calls the corresponding operation that actually translates
the user input into the valid data format.<pre class="pre codeblock">public String translate(String value, String expression) {
String result = null;
if (expression.equals(PHONEDATA)) {
result = stripPhoneNumber(value);
}
return result;
}</pre>
<p class="p">As in the case for the format method, the translate method
checks to see if the expression equals one of the pre-defined expression constants
and calls a method supplying the value as its argument. The following code
example shows the stripPhoneNumber method:</p>
<pre class="pre codeblock">private String stripPhoneNumber(String value) {
String result = value;
String temp = value;
if(value.indexOf('.') &gt; -1) {
temp = value.trim();
StringBuffer sb = new StringBuffer(temp);
for(int i= sb.length() - 1;i &gt; -1;i--){
char c = sb.charAt(i);
if (c == '.'){
sb.deleteCharAt(i);
}
}
result = sb.toString();
} //end if
else if (value.indexOf('-') &gt; -1) {
StringBuffer sb = new StringBuffer(temp);
for(int i= sb.length() - 1;i &gt; -1;i--){
char c = sb.charAt(i);
if (c == ' ' || c == '(' || c == ')' || c == '-'){
sb.deleteCharAt(i);
} //end if
}
result = sb.toString();
}
return result;
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_validate_implement"><a name="r_validate_implement"><!-- --></a><h5 class="title topictitle5">A Validate Method Implementation</h5>
<div class="body refbody"><p class="shortdesc">The validate method follows the process of analyzing an expression
and calling the appropriate method to perform the actual operation; in this
case validating that the user used only numeric characters for the phone number
input.</p>
<div class="section"><pre class="pre codeblock">public boolean validate(String value, String expression) {
boolean result = false;
if(expression.equals(VALIDATEPHONE)) {
result = validatePhoneNumber(value);
}
return result;
}</pre>
<p class="p">The validatePhoneNumber method checks to see if the value
argument is only made up of numeric characters:</p>
<pre class="pre codeblock">boolean validatePhoneNumber(String value) {
boolean result = true;
char ch;
for(int index = 0; index &lt; value.length(); index++) {
ch = value.charAt(index);
if (ch&lt;48 || ch&gt;57) {
result=false;
setErrorMessage("Phone numbers cannot include letters.");
}
}
return result;
}</pre>
</div>
<div class="section"><h6 class="title sectiontitle">An Error Message for Failed Validation</h6><p class="p">In the code
example above, notice that if a character was found to be outside of the ASCII
range of numeric characters, the code calls the setErrorMessage method, setting
the message string with an appropriate error message.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_source_forms_simpleformatter"><a name="r_source_forms_simpleformatter"><!-- --></a><h5 class="title topictitle5">SimpleFormatter source</h5>
<div class="body refbody"><div class="section"><pre class="pre codeblock">package doctest.datapage;
import java.util.List;
import java.util.ArrayList;
import com.bowstreet.methods.IInputFieldFormatter;
import com.bowstreet.webapp.WebAppAccess;
public
class SimpleFormatter implements IInputFieldFormatter
{
private
String errorMessage;
private WebAppAccess webApp;
protected static
List formatExpressionList = null;
protected static List translateExpressionList
= null;
protected static List validateExpressionList = null;
public
final static String PHONEDOTS = "Phone # with Dot Separators";
public
final static String PHONEDASHES = "Phone # with Dash Separators";
public
final static String PHONEDATA = "Translate Phone # to Data Fromat";
public
final static String VALIDATEPHONE ="Validate Phone #";
private static
final String[] formatExpressions =
{
PHONEDOTS, PHONEDASHES
};
private
static final String[] translateExpressions =
{
PHONEDATA
};
private
static final String[] validateExpressions =
{
VALIDATEPHONE
};
static
{
formatExpressionList
= makeList(formatExpressions);
translateExpressionList = makeList(translateExpressions);
validateExpressionList
= makeList(validateExpressions);
}
/**
* @see com.bowstreet.methods.IInputFieldFormatter#format(String,
String)
*/
public String format(String value, String expression)
{
String result = null;
if(getErrorMessage() == null) {
if
(expression.equals(PHONEDOTS)) {
result = phoneWithDots(value);
}
else
if (expression.equals(PHONEDASHES)) {
result = phoneWithDashes(value);
}
}
else
{
result = value;
}
return result;
}
/**
*
@see com.bowstreet.methods.IInputFieldFormatter#translate(String, String)
*/
public
String translate(String value, String expression) {
String result =
null;
if (expression.equals(PHONEDATA)) {
result = stripPhoneNumber(value);
}
return
result;
}
/**
* @param value The input value to be validated.
*
@param expression The description of the validation method to be performed.
*
*
@see com.bowstreet.methods.IInputFieldFormatter#validate(String, String)
*/
public
boolean validate(String value, String expression) {
boolean result =
false;
if(expression.equals(VALIDATEPHONE)) {
result = validatePhoneNumber(value);
}
return
result;
}
/* These methods are quick implementations of those
defined in the IInputFieldFormatter
*/
public void setErrorMessage(String
msg) { errorMessage = msg; }
public String getErrorMessage() { return
errorMessage;}
public void setWebAppAccess(WebAppAccess webApp) { this.webApp
= webApp; }
public WebAppAccess getWebAppAccess() { return webApp; }
public
void setTranslateSuccessFlag(boolean parm1) { }
public boolean getTranslateSuccessFlag()
{ return true; }
public List getFormatExpressionList() { return formatExpressionList;
}
public List getTranslateExpressionList() { return translateExpressionList;
}
public List getValidateExpressionList() { return validateExpressionList;
}
String phoneWithDots(String value) {
String dotvalue = value.substring(0,3)+
"." + value.substring(3,6) +
"." + value.substring(6,value.length());
return
dotvalue;
}
String phoneWithDashes(String value) {
String
dashvalue = "(" + value.substring(0,3)+ ") " + value.substring(3,6) +
"-"
+ value.substring(6,value.length());
return dashvalue;
}
/**
*
Method stripPhoneNumber.
* @param value
* @return String
*/
private
String stripPhoneNumber(String value) {
String result = value;
String
temp = value;
if(value.indexOf('.') &amp;gt; -1) {
temp = value.trim();
StringBuffer
sb = new StringBuffer(temp);
for(int i= sb.length() - 1;i &amp;gt; -1;i--){
char
c = sb.charAt(i);
if (c == '.'){
sb.deleteCharAt(i);
}
}
result
= sb.toString();
} //end if
else if (value.indexOf('-') &amp;gt; -1)
{
StringBuffer sb = new StringBuffer(temp);
for(int i= sb.length()
- 1;i &amp;gt; -1;i--){
char c = sb.charAt(i);
if (c == ' ' || c ==
'(' || c== ')' || c== '-'){
sb.deleteCharAt(i);
} //end if
}
result
= sb.toString();
}
return result;
}
boolean validatePhoneNumber(String
value) {
boolean result = true;
char ch;
for(int index =
0; index &lt; value.length(); index++)
{
ch = value.charAt(index);
if
(ch&lt;48 || ch&amp;gt;57)
{
result=false;
setErrorMessage("Phone
numbers cannot include letters.");
}
}
return result;
}
protected
static List makeList(String[] array)
{
List list = new ArrayList(array.length);
for
(int i = 0; i &lt; array.length; i++)
list.add(array[i]);
return
list;
}
}&lt;/p&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_cre_tbladdrows"><a name="t_cre_tbladdrows"><!-- --></a><h2 class="title topictitle2">Creating a table that supports adding rows</h2>
<div class="body taskbody"><p class="shortdesc">You can create a table that uses a button to add a row.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add the following builders to the model:</span> <ul class="sl simple"><li class="sli">Page</li>
<li class="sli">Main action list (loads page)</li>
<li class="sli">Variable, SQL Call or some other builder to act as the source
of the data</li>
<li class="sli">Data Page to create the UI for the Data (set this to be Data
Entry)</li>
<li class="sli">Data Column Modifier</li>
</ul>
<ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">In the Data Column Modifier, add Row Method = blank.</span> This can actually be left blank unless you need to write additional
code to be executed during the add row process. Again, this is generally
something you might need for adding a row to a database.</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a button to the page and label it "Add Row".</span> An add row method is created for you by Data Page.</li>
<li class="li step stepexpand"><span class="ph cmd">Set the button action to use the rowName_Add method.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Run the model and click the <span class="ph uicontrol">Add Row</span> button.</span> A new row is added to the bottom of the table.</li>
</ol>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_cre_tbldeleterows"><a name="t_cre_tbldeleterows"><!-- --></a><h3 class="title topictitle3">Creating a Table That Incorporates Delete Rows</h3>
<div class="body taskbody"><p class="shortdesc">You can create a table that uses buttons, links or check boxes
to delete rows.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add the following builders to the model.</span> <ul class="sl simple"><li class="sli">Page</li>
<li class="sli">Main action list (loads page)</li>
<li class="sli">Variable, SQL Call or some other builder to act as the source of the
data</li>
<li class="sli">Data Page to create the UI for the Data (set this to be Data Entry)</li>
<li class="sli">Data Column Modifier</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Configure the Data Column Modifier with the following values:</span> <ul class="sl simple"><li class="sli"><span class="ph uicontrol">Delete Column Style</span> = <kbd class="ph userinput">Link</kbd> (This
can also be <kbd class="ph userinput">Button</kbd> or <kbd class="ph userinput">Checkbox</kbd>.)</li>
<li class="sli"><span class="ph uicontrol">Delete Link Text</span> = <kbd class="ph userinput">Delete Row</kbd> (Use
whatever text you like here.)</li>
<li class="sli"><span class="ph uicontrol">Delete Method Type</span> = <kbd class="ph userinput">None</kbd> (The
other selections are used when you need to write your own delete code for
more control over the process, such as when you need to also delete from a
database.)</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Run the model.</span> A table will be displayed
where the last column contains links that can be used to delete a row. These
rows will not only be removed from the table, but also from the XML variable
used by Data Page.</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_add_tblcolumns"><a name="t_add_tblcolumns"><!-- --></a><h3 class="title topictitle3">Adding Columns to a Table</h3>
<div class="body taskbody"><p class="shortdesc">You can use the Data Column modifier builder to add columns to
a table in your model.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Data Column modifier, enter names for the new columns in
the <span class="ph uicontrol">Add Columns</span> input. Separate the names with a comma.</span> This will add the columns to the table in the Data Column modifier
and allow you to configure the column. However, these columns are empty until
you supply data. You will need another data source separate from the one used
by Data Page. This datasource can be another variable, another SQL call, or
some other source.</li>
<li class="li step stepexpand"><span class="ph cmd">You will also need to select another builder for displaying the
additional data.</span> This can be any page control.</li>
<li class="li step stepexpand"><span class="ph cmd">If the variable used by the Data Page builder contains 20 rows
of data, create another variable that also contains 20 rows, where each row
has new column names.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Add your Page Control builder.</span> This may
be a text input, a text builder or any other control that you want to use
to display your data. </li>
<li class="li step stepexpand"><span class="ph cmd">Configure the control to use the new page location that was created
when you added the extra columns using the Data Column Modifier.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Set the source data for the control to be the second variable and
use the loop counter as an index for your variable.</span> For example
if there is a variable named Shoes that looks like this:<pre class="pre codeblock">&lt;top&gt;
&lt;shoe&gt;
&lt;size&gt;5&lt;/size&gt;
&lt;color&gt;red&lt;/color&gt;
&lt;/shoe&gt;
&lt;shoe&gt;
&lt;size&gt;6&lt;/size&gt;
&lt;color&gt;green&lt;/color&gt;
&lt;/shoe&gt;
&lt;shoe&gt;
&lt;size&gt;7&lt;/size&gt;
&lt;color&gt;blue&lt;/color&gt;
&lt;/shoe&gt;
&lt;/top&gt;</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Use a reference such as <samp class="ph codeph">${Variables/Shoes/top/shoe[myRowLoopVar]/size}</samp>,
where "myRow" is the name of the rows from the Data Page variable and "myRowLoopVar"
is the name of the counter generated for the Data Page variable.</span></li>
</ol>
<div class="section result">When a control is added for each row by the repeat logic in Data Page,
the matching row in the data will be accessed.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_add_othersrctotbl"><a name="t_add_othersrctotbl"><!-- --></a><h3 class="title topictitle3">Adding data from another source to a table on which a
data page operates</h3>
<div class="body taskbody"><p class="shortdesc">You can display additional data to a table by adding a named tag
to the table.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the HTML for the table, include a <samp class="ph codeph">&lt;td /&gt;</samp> element
for the additional column.</span> For example:<pre class="pre codeblock">&lt;table name="customers"&gt;
&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;ID&lt;/th&gt;&lt;/tr&gt;
&lt;tr name="customer"&gt;
&lt;td&gt;&lt;span name="name"&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;span name="id"&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;span name="email"&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a variable or some other source of XML data that contains the
email address for each customer in the data.</span> For example:<pre class="pre codeblock">&lt;emailAddresses&gt;
&lt;emailAddress&gt;tfrid@acme.com&lt;/emailAddress&gt;
&lt;emailAddress&gt;lhammond@acme.com&lt;/emailAddress&gt;
&lt;emailAddress&gt;hdolan@acme.com&lt;/emailAddress&gt;
&lt;emailAddress&gt;jdoe@acme.com&lt;/emailAddress&gt;
&lt;/emailAddresses&gt;</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a builder call to the model, to display the additional data
in the column.</span> Use the loop variable added to WebApp by the Data
Page to specify the index of the email element to display. For
example, for a Text builder call, specify the following indirect reference
to display the email address for the current customer row in the table:<pre class="pre codeblock">${Variables/email/emailAddresses/emailAddress[${Variables/customerCounterVar}]}</pre>
</li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_chng_themeprop"><a name="t_chng_themeprop"><!-- --></a><h2 class="title topictitle2">Changing a theme property for a project</h2>
<div class="body taskbody"><p class="shortdesc">You can change a property for the default theme of a project. </p>
<div class="section context"><div class="p">You can do one of the following procedures.<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#t_chng_themeprop" title="You can change a property for the default theme of a project.">Changing a theme property for a project</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#t_chng_themeprop" title="You can change a property for the default theme of a project.">Changing a theme property for a project</a></li>
</ul>
</div>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_edit"><a name="t_edit"><!-- --></a><h3 class="title topictitle3">Edit the current default theme file</h3>
<div class="body taskbody"><ol class="ol steps"><li class="li step"><span class="ph cmd">Open the default theme file for the project. </span></li>
<li class="li step"><span class="ph cmd">Change the value of the desired property. </span></li>
<li class="li step"><span class="ph cmd">Save and close the file. </span></li>
</ol>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_extend"><a name="t_extend"><!-- --></a><h3 class="title topictitle3">Extend the current default theme file</h3>
<div class="body taskbody"><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create a new file that extends an existing theme. </span> <p class="p">To extend a theme, add an <samp class="ph codeph">extends</samp> attribute
to the Theme element in the <span class="ph filepath">.uitheme</span> XML file. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">For the property to be changed, add a new entry for the
property in the new file and set the value of the property so that
it differs from the existing theme. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Locate the theme file outside the <span class="ph filepath">WEB-INF/factory/themes</span> folder
to keep your content separate from the product-supplied content. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Set the <samp class="ph codeph">bowstreet.themeFile</samp> property for
the project to point to the new theme file. </span></li>
</ol>
<div class="section result"><p class="p">At the next regeneration, the new value is in use. </p>
</div>
</div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_themes"><a name="c_themes"><!-- --></a><h3 class="title topictitle3">Themes and user interface control</h3>
<div class="body conbody"><p class="shortdesc">You can use themes to specify and control the appearance
of the user interface (UI) in Web applications. </p>
<p class="p">A theme is a collection of style information that can be used to
drive builder inputs that provide the application UI in your model.
This information can include but is not limited to HTML templates,
style sheets (CSS), base pages, highlighting style, and paging style. </p>
<div class="p">The UI-related builder inputs associated with a theme are contained
in a simple XML file with the <span class="ph filepath">.uitheme</span> extension.
Themes supplied by <span class="ph">IBM WebSphere Portlet Factory</span> are
stored in the <span class="ph filepath">WEB-INF\factory\themes</span> folder.
In addition to the default project theme, <span class="ph filepath">wpfbase.uitheme</span>,
the <span class="ph filepath">green.uitheme</span> and the <span class="ph filepath">blue.uitheme</span> files
are supplied. The following code shows lines from <span class="ph filepath">blue.uitheme</span>. <pre class="pre codeblock">&lt;Theme extends="/WEB-INF/factory/themes/"&gt;
    
&lt;DataPage_StyleSheetOverride&gt;/factory/html_templates/gridtable_blue.css&lt;/DataPage_StyleSheetOverride&gt;

&lt;ViewAndForm_ViewPageStyleSheetOverride&gt;/factory/html_templates/gridtable_blue.css&lt;/ViewAndForm_ViewPageStyleSheetOverride&gt;

&lt;ViewAndForm_HighlighterBackground&gt;#60A1EA&lt;/ViewAndForm_HighlighterBackground&gt;
&lt;ViewAndForm_HighlighterForeground&gt;#FFFFFF&lt;/ViewAndForm_HighlighterForeground&gt;

&lt;InputForm_StyleSheetOverride&gt;/factory/html_templates/gridtable_blue.css&lt;/InputForm_StyleSheetOverride&gt;

&lt;PagingLinks_BasePage&gt;/factory/pages/paging/data_paging_links_blue.html&lt;/PagingLinks_BasePage&gt;
.......
   
&lt;/Theme&gt;</pre>
</div>
<div class="p">Theme support is provided on multiple levels.<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#c_themes__projectlevel">Project-level theme support</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_themes__modellevel">Model theme support</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_themes__builderinputlevel">Builder input theme support</a></li>
</ul>
</div>
<div class="section" id="c_themes__projectlevel"><a name="c_themes__projectlevel"><!-- --></a><h4 class="title sectiontitle">Project-level theme support</h4><p class="p"></p>
<div class="p">Theme
support within a project is defined by a single property setting.
A default <span class="ph"> WebSphere Portlet
Factory</span> theme
can be applied in builders and models in a project. The default theme
is specified in the <samp class="ph codeph">bowstreet.themeFile</samp> property
in the <span class="ph filepath">cluster.properties</span> file in <span class="ph filepath">WEB-INF\config\</span>.
To specify a different default theme, place a line similar to the
following one in the <span class="ph filepath">override.properties</span> file
for your project and indicate a different <span class="ph filepath">.uitheme</span> file. <pre class="pre codeblock">bowstreet.themeFile=/WEB-INF/factory/themes/blue.uitheme</pre>
</div>
<div class="p">You
enable use of the theme support by setting the <span class="ph uicontrol">Use Theme</span> input
in the following builders.<ul class="sl simple"><li class="sli">Data Page</li>
<li class="sli">Input Form</li>
<li class="sli">View and Form</li>
</ul>
With the <span class="ph uicontrol">Use Theme</span> input enabled in these
builders, the base pages, HTML template, and style sheets to use are
fetched from values in the theme rather than from inputs specified
in the builders. This arrangement lets you centrally change the look
of your application without having to edit each of the builders. </div>
</div>
<div class="section" id="c_themes__modellevel"><a name="c_themes__modellevel"><!-- --></a><h4 class="title sectiontitle">Model theme support</h4><p class="p">In a
single model, you can override the theme used by including a Theme
builder. The Theme builder overrides the project theme if one was
specified or can let you override individual theme-driven inputs for
certain builders. The Theme builder also lets you create your own
theme file. </p>
</div>
<div class="section" id="c_themes__builderinputlevel"><a name="c_themes__builderinputlevel"><!-- --></a><h4 class="title sectiontitle">Builder input theme support</h4><p class="p">For
UI-related builders other than Data Page, Input Form, and View and
Form, you can use an indirect reference to theme property data that
you create. For an individual builder input, you can define an element
and a related value in the theme file and refer to that definition
in the related builder input. For example, for a button image, you
define in the theme file an element that specifies the path to the
image file and use the indirect reference in the related builder inputs
to access the related property data. With this arrangement, you can
define a single type of input in one place and refer to it in multiple
builders. </p>
</div>
<div class="section" id="c_themes__stylesheet"><a name="c_themes__stylesheet"><!-- --></a><h4 class="title sectiontitle">Style sheet determination</h4><div class="p">HTML
templates provided by <span class="ph"> WebSphere Portlet
Factory</span> do
not refer directly to a style sheet to use but provide a style sheet
hint (<samp class="ph codeph">StyleSheetHint</samp>). The following precedence is
used when determining the style sheet to apply in the Web application. <ul class="ul"><li class="li">Builder input<p class="p">If a UI-related builder like Data Page has a value
specified for the <span class="ph uicontrol">Style Sheet Override</span> input,
that style sheet is used. </p>
</li>
<li class="li">Theme file<p class="p">If no <span class="ph uicontrol">Style Sheet Override</span> input
is specified and the theme being used has a definition for a CSS for
a particular builder, that CSS is used. </p>
</li>
<li class="li">Style sheet hint<p class="p">If no <span class="ph uicontrol">Style Sheet Override</span> input
is specified and theme file value is not specified, the hint in the
related HTML template determines the CSS file used. </p>
</li>
</ul>
</div>
</div>
<div class="section"><h4 class="title sectiontitle">Themes and style sheets in different
portlets</h4><p class="p">If you intend to use different themes in different
portlets on the same portal page, ensure that your themes use unique
style sheet class names to avoid collisions. To ensure uniqueness
in the different portlets, change all the class style names in the
HTML template files, and in the corresponding style sheet. For example,
you cannot use the two supplied themes (<span class="ph filepath">blue.uitheme</span> and <span class="ph filepath">green.uitheme</span> files)
in different portlets placed on the same portal page. The themes share
a common HTML template and therefore use the same style sheet class
names, which will collide. </p>
<p class="p">These class style name changes may
have to be done for other base pages and style sheets as well.</p>
</div>
<div class="section"><h4 class="title sectiontitle">Theme control for button styling</h4><p class="p">You can
apply styling for buttons used in a paging builder in
web applications. The <span class="ph filepath">.uitheme</span> file can have
multiple elements that start with Button_ActionRole_, for example,
Button_ActionRole_Submit.   These elements specify the name of a CSS
class. You can use these elements to apply different styles for buttons.
The default role is Default.  The <span class="ph filepath">blue.uitheme</span> file
has one role class: <samp class="ph codeph">Button_ActionRole_Default = wpfBlueButton</samp>. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_themefile"><a name="t_cre_themefile"><!-- --></a><h3 class="title topictitle3">Creating a theme file</h3>
<div class="body taskbody"><p class="shortdesc">You can create a theme file to provide your own custom
look for your application. </p>
<div class="section prereq"><p class="p">A good way to start is finding an existing theme file from
which to begin. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create a new file in one of the following ways. </span><ul class="ul choices"><li class="li choice">Copy an existing theme file and give it a new name. <p class="p">For
example, start with the <span class="ph filepath">blue.uitheme</span> file and
give it the name <span class="ph filepath">red.uitheme</span>.</p>
</li>
<li class="li choice">In the Theme builder, specify the inputs for the theme and
click the <span class="ph uicontrol">Create Theme File</span> button. </li>
</ul>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">If you copied an existing theme file
that extends another theme file, make a copy of the base theme file
also. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Create new HTML templates, style sheets, and base pages
as needed. </span> <div class="note note"><span class="notetitle">Note:</span> If you plan to use different
themes in different portlets on the same portal page, ensure that
your themes use unique style sheet class names. Change all the class
style names in the HTML template files and in the corresponding style
sheet. Do the same for other base pages and style sheets. </div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Open the new theme file in a text editor and modify the
property values to point to the new resources that you need to use. </span> <div class="p">For example, change references to the <span class="ph filepath">gridtable_blue.css</span> file
to the <span class="ph filepath">gridtable_green.css</span> file for the View
&amp; Form builder. <pre class="pre codeblock">&lt;ViewAndForm_ViewPageStyleSheetOverride&gt;
/factory/html_templates/gridtable_red.css
&lt;/ViewAndForm_ViewPageStyleSheetOverride&gt;</pre>
</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Set the <samp class="ph codeph">bowstreet.themeFile</samp> property to
point to your new theme file. </span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_set_theme"><a name="t_set_theme"><!-- --></a><h3 class="title topictitle3">Setting the global theme</h3>
<div class="body taskbody"><p class="shortdesc">You can set a single property to specify a theme file to
be used within a project. </p>
<div class="section context"><p class="p">The theme file set by the property makes the theme available
to each model in your project. The <samp class="ph codeph">bowstreet.themeFile</samp> property
in the <span class="ph filepath">cluster.properties</span> file controls the theme
setting. </p>
<p class="p">Change the global theme for a project as follows:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the <span class="ph filepath">\WEB-INF\config</span> folder, open
the <span class="ph filepath">override.properties</span> file. </span> <p class="p">Create
one if it does not exist. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph filepath">override.properties</span> file, search
for the string <samp class="ph codeph">bowstreet.themeFile</samp>. </span></li>
<li class="li step stepexpand"><span class="ph cmd">If the string does not exist, enter a line similar to the
following one. </span> <pre class="pre codeblock">bowstreet.themeFile=/WEB-INF/proj_files/proj.uitheme</pre>
 <p class="p">If the string exists, change the value of the property to
point to the new theme. </p>
<p class="p">The theme file that you use must be
located outside the <span class="ph filepath">factory</span> folder. This action
keeps your project content separate from product-supplied
files. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Save and close the file. </span></li>
</ol>
<div class="section result"><p class="p">The theme is available to each model in your project. The
default values in related builder inputs are obtained from the project
theme. </p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_overview_data_services"><a name="c_overview_data_services"><!-- --></a><h2 class="title topictitle2">Working with data services</h2>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> Service-Oriented
Architecture (SOA) defines service provider models that access backend
data and services.</p>
<div class="section"><p class="p">The SOA also defines service consumer or presentation
models that provide the frontend web user interface. <span class="ph"> WebSphere Portlet
Factory</span> automates the generation
of both these layers and the necessary artifacts to enable loose coupling
between them.</p>
<p class="p">This clean separation of layers, combined with
a set of SOA-specific <span class="ph"> WebSphere Portlet
Factory</span> features,
allows you to de-couple implementation and testing of the UI from
the backend access and to streamline SOA development and publishing.</p>
<p class="p">The
goals of <span class="ph"> WebSphere Portlet
Factory</span> supporting
features for Service-Oriented Architectures are to:</p>
<ul class="ul"><li class="li">Enable independence and flexibility between the presentation and
the services layers, both at implementation and when publishing. </li>
<li class="li">Speed SOA application development with increased levels of automation,
including generating appropriate service testing pages. </li>
<li class="li">Make the most common service creation scenarios (SQL, packaged
applications, WSDL/SOAP) easy, including eliminating the need for
backend access during implementation of the user interface (UI) (presentation
layer). </li>
<li class="li">Support a formal interface to speed the creation of alternate
service implementations, for substituting backend interfaces or providing
backup services. </li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_howdoi_data_services"><a name="c_howdoi_data_services"><!-- --></a><h3 class="title topictitle3">Using data services</h3>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> provides
the services category of builders that you can use to create, test, use, and
document data services.</p>
<p class="p">The services builders rely on various data integration builders (for example,
SQL Call, SAP Function Call, and Domino Data Access) to access data from a
backend database.</p>
<div class="section"></div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_operation_add_custom_input"><a name="c_operation_add_custom_input"><!-- --></a><h4 class="title topictitle4">Adding custom input or result processing to an operation</h4>
<div class="body conbody"><p class="shortdesc">To perform additional manipulation or validation of data, you can
call Java code during operation execution.</p>
<div class="section">For example, you might need to convert <span class="ph uicontrol">Date</span> fields
from a format used by back-end service, or you might want to have special
handling for empty inputs to the service operation. Use the <span class="ph uicontrol">Additional
Processing</span> inputs of the Service Operation builder to accomplish
both tasks.<p class="p">There are two points during execution where you can invoke processing:</p>
<dl class="dl"><dt class="dt dlterm">Pre-Execute</dt>
<dd class="dd">Immediately before the called action is invoked</dd>
<dt class="dt dlterm">Post-Execute</dt>
<dd class="dd">Immediately before the service operation results are returned.</dd>
</dl>
<p class="p">In each case you can kick off processing by either firing
an event or by calling an action. Here is how to use an event:</p>
<p class="p">Call
one of two events to initiate processing: <samp class="ph codeph"><var class="keyword varname">operationname</var>PreExecute</samp> and <samp class="ph codeph"><var class="keyword varname">operationname</var>PostExecute</samp>. Each event takes two IXml arguments. <samp class="ph codeph">PreExecute</samp> event
arguments are <samp class="ph codeph">operationInputs</samp>, which holds the inputs passed
to your operation, and <samp class="ph codeph">calledActionInputs</samp>, holding the inputs
to the action you are calling, after any transformations have been performed
as specified in the <span class="ph uicontrol">Input Field Value</span> table. <samp class="ph codeph">PostExecute</samp> arguments
are <samp class="ph codeph">calledActionResults</samp>, which holds the results from the
action you call, and <samp class="ph codeph">operationResults</samp>, holding the results
to your operation, after any transformations have been performed as specified
in the <span class="ph uicontrol">Result Field Values</span> table.</p>
<div class="note note"><span class="notetitle">Note:</span> The SimpleServiceProvider
sample model provides an example of additional pre-execute processing. It
checks input fields for null and changes them to "%" to use as a wildcard
in SQL statement.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_service_mapping_registry_file"><a name="c_service_mapping_registry_file"><!-- --></a><h4 class="title topictitle4">Usage of a Service Mapping Registry File</h4>
<div class="body conbody"><p class="shortdesc">One of the greatest benefits of using a Service Oriented
Architecture (SOA) approach to building data-driven applications is
that the data services code and the application using the data are
completely separate. </p>
<div class="section"><p class="p">This separation allows the Service Provider model to be
swapped for a different one. Use the Service Mapping Registry to switch
between service provider implementations without having to edit any
consumer models.   For example, you want to automatically use a stub
implementation of a service. This swapping of service providers can
be accomplished by any of the following methods.</p>
<ul class="ul"><li class="li">Manually changing the Service Provider model reference in the
Service Consumer builder call in the application (Service Consumer)
model.</li>
<li class="li">Profiling the Service Provider reference in the Service Consumer
builder call in the application model and then applying various values
via various profiles to the get correct Service Provider model to
be applied.</li>
<li class="li">Declaring selection and mapping rules for swapping Service Provider
models in Service Mapping Registry files.</li>
</ul>
<p class="p">Using a Service Mapping Registry file has particular advantages
over manual or profiled changes to the Service Provider references
in the Service Consumer builder call.</p>
<ul class="ul"><li class="li">A Service Mapping Registry file can change the Service Provider
at run-time and regen-time while the other methods only apply to regen-time.</li>
<li class="li">Service Mapping Registry files can be configured easily to effect
many or even all Service Provider and Service Consumer relationships
in a given web application project.</li>
<li class="li">Service Mapping Registry files can be configured to swap Service
Providers based upon simple conditions such as pattern matching with
the filenames of the Service Provider models or the value of a mapping
parameter declared in the Service Consumer builder call.</li>
</ul>
<p class="p">There are several key constructs available in a Service Mapping
Registry file. These constructs are divided into categories of Selectors
and Mappings. Selectors provide the conditions under which Service
Providers should be swapped with other Service Providers. The Mappings
provide the names of the replacement Service Provider models.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_smrf_mappings"><a name="c_smrf_mappings"><!-- --></a><h4 class="title topictitle4">Registry mapping file mappings</h4>
<div class="body conbody"><p class="shortdesc">The definitions of the mappings are fairly easy to
understand.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">UseService</dt>
<dd class="dd">Use the named Service Provider model. If the named Service Provider does
not exist, the Service Consumer model will generate an error.</dd>
<dt class="dt dlterm">UseStub</dt>
<dd class="dd">Use the stub model referenced in the Service Provider model's Service
Definition builder call. If there is no reference in that builder call, the
original Service Provider is used. If there is a reference but the referenced
stub model does not exist, the Service Consumer model will generate an error.</dd>
<dt class="dt dlterm">ModifyName</dt>
<dd class="dd">Use the Service Provider whose model ID matches the resultant model ID
once the declared pattern and replacement attributes are applied. For example,
in the following construct, the selector uses pattern matching to identify
which Service Provider models should be swapped and the <samp class="ph codeph">&lt;ModifyName&gt;</samp> mapping
declares the replacement names. In this case, any attempt to use a Service
Provider containing the substring <samp class="ph codeph">_testing</samp> in its model ID
will cause a Service Provider with the substring <samp class="ph codeph">_production</samp> to
be used instead. <samp class="ph codeph">services/myDataServices_testing</samp> would be
replaced by <samp class="ph codeph">services/myDataServices_production</samp><pre class="pre codeblock">&lt;ForServiceMatching pattern="_testing"&gt;
&lt;ModifyName pattern="_testing" replacement="_production" /&gt;
&lt;/ForServiceMatching&gt; </pre>
</dd>
</dl>
<p class="p">More examples of allowable constructs are found in the following
file: <span class="ph filepath">WEB-INF\config\service_mappings\mappings.xml.example</span></p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_smrf_redirect_refs"><a name="c_smrf_redirect_refs"><!-- --></a><h4 class="title topictitle4">Redirecting service provider references</h4>
<div class="body conbody"><p class="shortdesc">Essentially, a Service Mapping Registry file works by identifying
conditions under which a Service Provider reference need to be replaced by
or swapped with another Service Provider reference and providing the model
ID of the replacement Service Provider.</p>
<div class="section">For example, a Service Consumer builder call might refer to a Service
Provider model named <span class="ph filepath">services\myDataServices.model</span> in
the <span class="ph filepath">WEB-INF\models</span> folder in the web application project.
A second Service Provider model named <span class="ph filepath">services\myDataServices_stub.model</span>,
built as a stub by using the stub generating features in the Service Definition
builder call of the first Service Provider model, could exist in the project
and be referenced by the Service Provider model.<p class="p">For the convenience of
the developer, a Service Mapping Registry file could be configured
so that at regeneration time, the stub provider is always used but at runtime,
the real Service Provider, which relies on live data, would be used. To set
up this configuration, the following XML instructions must exist in an XML
Service Mapping Registry file stored in the web application project in the
 <span class="ph filepath">WEB-INF\config\service_mappings</span> folder.</p>
<pre class="pre codeblock">&lt;ForService name="services/myDataServices" when="regen-time"&gt; 
&lt;UseStub /&gt; 
&lt;/ForService&gt;  </pre>
<p class="p">In this case, the Service Consumer builder
would reference the <span class="ph filepath">services/myDataServices</span> model as
the Service Provider. At regen-time, <span class="ph"> WebSphere Portlet
Factory</span> would
know to swap out the myDataServices Service Provider model and use the stub
model referenced in the myDataServices model's Service Definition builder
call.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_smrf_selectors"><a name="c_smrf_selectors"><!-- --></a><h4 class="title topictitle4">Registry mapping file selectors</h4>
<div class="body conbody"><p class="shortdesc">Selectors evaluate to either true or false. If the conditions exist
that make a selector's criteria evaluate to true, then the mapping declared
inside the selector is used.</p>
<div class="section">Consider this example:<pre class="pre codeblock">&lt;ForService name="services/myDataServices" when="regen-time"&gt;
&lt;UseStub /&gt;
&lt;/ForService&gt;  </pre>
<p class="p">The ForService selector accepts
an attribute called name. If the value of the name attribute matches the model
ID of the Service Provider referenced in the Service Consumer model, then
the mapping gets applied. The model ID is derived from the full path and filename
of the Service Provider model. A full path and filename of a Service Provider
model looks like this: <span class="ph filepath">WEB-INF\models\<var class="keyword varname">subfolders\...\filename.model</var></span>.
The model ID omits the leading <span class="ph filepath">WEB-INF\models\</span> and the
.model at the end of the filename. It also reverses the slashes. Therefore,
a model located at <span class="ph filepath">WEB-INF\models\services\myDataServices.model</span> has
a model ID of <samp class="ph codeph">services/myDataServices</samp>.</p>
<p class="p">There are other
selectors that can be used in Service Mapping Registry files.</p>
<dl class="dl"><dt class="dt dlterm">ForAllServices</dt>
<dd class="dd">Always evaluates to true unless additional attributes are supplied. For
example, <pre class="pre codeblock">&lt;ForAllServices when="regen-time"&gt;
&lt;UseStub /&gt;
&lt;/ForAllServices&gt;</pre>
 evaluates to true at regeneration time
but false at runtime.</dd>
<dt class="dt dlterm">ForServiceMatching</dt>
<dd class="dd">Uses a regular expression (RegEx) pattern matching value in an attribute
named pattern. Service Providers whose model IDs match the pattern get replaced
by the Service Providers declared in the mapping portion of the Selector.
For example, <pre class="pre codeblock">&lt;ForServiceMatching pattern="_testing"&gt;
&lt;ModifyName pattern="_testing" replacement="_production" /&gt;
&lt;/ForServiceMatching&gt; </pre>
<p class="p">Assuming a naming convention of
Service Provider models that includes the substrings <samp class="ph codeph">_testing</samp> and <samp class="ph codeph">_production</samp>,
this construct would swap all Service Providers whose model IDs contained
the substring <samp class="ph codeph">_testing</samp> and replace them with the substring <samp class="ph codeph">_production</samp>.
The actual models would not be changed, but any attempt to use a <samp class="ph codeph">_testing</samp> Service
Provider would cause the corresponding <samp class="ph codeph">_production</samp> Service
Provider to be used instead.</p>
</dd>
<dt class="dt dlterm">IfParameterEquals</dt>
<dd class="dd">Relies on mapping parameters declared in the Service Consumer builder
call of the application model. This construct designates which Service Provider
to use when certain name-value pairs exist in the Service Consumer model.
For example, the construct below states for any attempt to use the <span class="ph filepath">services/myDataServices</span> provider
model, check to see if there is a mapping parameter called mode having a value
of  testing or production and swap the Service Provider accordingly. If no
mapping parameter exists or if the value of the parameter does not match either
value, then the  <span class="ph filepath">services/myDataServices</span> Service Provider
model should be used. <pre class="pre codeblock">&lt;ForService name="services/myDataServices"&gt;
&lt;IfParameterEquals name="mode" value="testing"&gt;
&lt;UseService name="services/myDataServices_testing" /&gt;
&lt;/IfParameterEquals&gt;
&lt;IfParameterEquals name="mode" value="production"&gt;
&lt;UseService name="services/myDataServices_production" /&gt;
&lt;/IfParameterEquals&gt;
&lt;UseService name="services/myDataServices" /&gt;
&lt;/ForService&gt; </pre>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_transform_service_data"><a name="c_transform_service_data"><!-- --></a><h4 class="title topictitle4">Transforming data returned by a service</h4>
<div class="body conbody"><p class="shortdesc">You can transform operation inputs and results into a different
schema structure using this Service Operation builder.</p>
<div class="section">To do this, make sure the desired schema is available in the WebApp.
This schema can be created with a builder such as Schema or Simple Schema
Generator, or you can use any schema in the WebApp that was created by any
other builder.<div class="note note"><span class="notetitle">Note:</span> When you call a service operation via the Service Consumer
builder, the result IXml data for the operation is a reference to the same
IXml object specified in the provider's Service Operation builder. It is not
a separate copy of the data. This means that if the provider code keeps a
reference to the IXml object, and if the result data is then modified in the
Consumer model, the data will be changed in both places.</div>
<dl class="dl"><dt class="dt dlterm">Transform inputs</dt>
<dd class="dd">Select <span class="ph uicontrol">Specify input schema</span> in the field for Input
Structure Handling. Select your schema type in the <span class="ph uicontrol">Input Schema</span> field.
Then select <kbd class="ph userinput">Specify input values</kbd> for <span class="ph uicontrol">Input
Field Mapping</span>. This gives you the <span class="ph uicontrol">Input Field Values</span> table.<p class="p">Input
fields for the called operation are listed in the name column. You specify
values for an input in the values column. If you open the value picker, all
the fields from your operation's inputs are listed in the <span class="ph uicontrol">Arguments</span> section.
This makes it easy to map between fields if the two structures have different
field names. You can also specify any other value to supply to the called
action. For example, you may have some fields that have hard-coded values,
or values from a variable.</p>
</dd>
<dt class="dt dlterm">Result Transformation</dt>
<dd class="dd">Use the same approach for result transformation as you did for input transformation.
Select <kbd class="ph userinput">Specify result schema</kbd> in the field for <span class="ph uicontrol">Result
Structure Handling</span>. Select a schema type in the <span class="ph uicontrol">Result
Schema</span> field. Then select <kbd class="ph userinput">Specify result values</kbd> for <span class="ph uicontrol">Input
Field Mapping</span>. This gives you the<span class="ph uicontrol"> Result Field Values</span> table. <p class="p">Result
fields from your new operation are listed the name column. You specify values
for a result in the values column. If you open the value picker, all the fields
from the results of the action you are calling are listed in the <span class="ph uicontrol">Results</span> section.
This makes it easy to map between fields if the two structures have different
field names. You can also specify any other value to supply to the result
field. For example, you may want to call a method to calculate a field value
by picking from the <span class="ph uicontrol">MethodCall</span> section.</p>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_add_action_method_ljo_to_operation"><a name="t_add_action_method_ljo_to_operation"><!-- --></a><h3 class="title topictitle3">Using an action list, method, or LJO method in an operation</h3>
<div class="body taskbody"><p class="shortdesc">Follow these steps to use an action list, method, or LJO method
in an operation.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Place a Service Definition builder in a model to hold the operation
you want to add.</span> The model must also contain the desired action
list, method, or LJO you want to use. The Service Operation builder supports
the following types of method arguments and return values:<dl class="dl"><dt class="dt dlterm">Method arguments</dt>
<dd class="dd">Arguments can be empty, a single IXml argument, or multiple simple types
(String, int/Integer, double/Double, and so on) You cannot, for example, have
multiple IXml arguments, any complex Java object arguments, or a combination
of IXml and simple type arguments.</dd>
<dt class="dt dlterm">Return values</dt>
<dd class="dd">Return can be void (no results) or IXml.</dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> For XML inputs or results, you must have a schema in
the WebApp that defines the structure you want. The schema can be created
with a builder such as Schema or Simple Schema Generator, or you can use any
schema in the WebApp that was created by any other builder.</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Service Operation builder to the model and for <span class="ph uicontrol">Operation
Name</span>, and enter the name you want to use for your operation.</span> For <span class="ph uicontrol">Action To Call</span>, look under <span class="ph uicontrol">Methods</span> and
select the action to call.</li>
<li class="li step stepexpand"><span class="ph cmd">Next, configure your operation's inputs.</span> You will have
three possible choices:<dl class="dl"><dt class="dt dlterm">Method has no arguments</dt>
<dd class="dd">Select <kbd class="ph userinput">No inputs</kbd> for <span class="ph uicontrol">Input Structure
Handling</span>.</dd>
<dt class="dt dlterm">Method has a single IXml argument</dt>
<dd class="dd">In the <span class="ph uicontrol">Input Schema</span> field, provide a schema type
for the data. You can reference any schema in the WebApp.</dd>
<dt class="dt dlterm">Method has multiple simple arguments</dt>
<dd class="dd">Select either <kbd class="ph userinput">Use structure from called action</kbd>,
which will generate a schema from the arguments, or <kbd class="ph userinput">Specify input
schema</kbd>, which lets you map your new operation inputs to the called
methods inputs.</dd>
</dl>
</li>
<li class="li step stepexpand"><span class="ph cmd">If your operation has results, specify the schema structure in
the <span class="ph uicontrol">Result Schema</span> field.</span> You can reference
any schema in the WebApp.</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_op_integration_builder"><a name="t_cre_op_integration_builder"><!-- --></a><h3 class="title topictitle3">Creating an operation based on an integration builder</h3>
<div class="body taskbody"><p class="shortdesc">These steps describe how to create an operation based on an integration
builder.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In a model, add a Service Definition builder that identifies the
service that holds the operation.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the model, place an integration builder (for example, SAP Function
Call, SQL Call, Web Service Call, or Domino View) that can successfully access
back-end data.</span> <p class="p">See the one of the getting started guides for
information on setting up integration services. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Service Operation builder to the model and, for the <span class="ph uicontrol">Operation
Name</span> input, enter the name to use for your operation.</span> <p class="p">A
typical name might look like <samp class="ph codeph">findEmployees</samp>.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">For the <span class="ph uicontrol">Action To Call</span> input in the Service
Operation builder, look under Data Services for the back end operation.</span> <p class="p">For example, for an SQL Call, this might be something
like <samp class="ph codeph">employeeSearch/execute</samp>.</p>
 <p class="p">You can
configure the inputs (if any) and results of your operation. To use the same
input and result structure as the back end operation you are calling, select <span class="ph uicontrol">Use
Structure From Called Action</span> for both inputs and results, and
leave the <span class="ph uicontrol">Input Field Mapping</span> and <span class="ph uicontrol">Result
Field Mapping</span> input choices on <span class="ph uicontrol">Automatic</span>.</p>
<div class="note note"><span class="notetitle">Note:</span> You
must use different techniques when working with data services and methods. <p class="p">For
example, <span class="ph">IBM WebSphere Portlet Factory</span> integration builders
create data service operations and methods to support their operations in
the WebApp. In the <span class="ph uicontrol">Action To Call</span> input, you can select
either <span class="ph uicontrol">Data Services</span> or <span class="ph uicontrol">Methods</span>.
However, as a general rule, you should select the data service operation rather
than the equivalent method. When you select an operation from <span class="ph uicontrol">Data
Services</span>, the Service Operation builder can access information
about the input and output parameters of the operations, including the schema
type information. When you select from <span class="ph uicontrol">Methods</span>, you
must specify the schema type for XML inputs or results.</p>
</div>
<div class="note note"><span class="notetitle">Note:</span> The
only supported methods are those with the following types of argument. <ul class="ul"><li class="li">No argument</li>
<li class="li">A single IXML argument</li>
<li class="li">One or more simple arguments (String, int/Integer, Double, Boolean, and
the like)</li>
</ul>
<p class="p">So, for example, you cannot use methods that take a Bean argument
or that take an IXML argument and one or more simple arguments.</p>
</div>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_doc_data_service"><a name="t_doc_data_service"><!-- --></a><h3 class="title topictitle3">Data service documentation</h3>
<div class="body taskbody"><p class="shortdesc">Follow these steps to display information on the selected services,
their operations and parameters.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Add a Service Documentation builder call to a service provider
model.</span> This model must contain a Service Definition builder and
a Service Operation builder that define the data service.</li>
<li class="li step"><span class="ph cmd">In the Service Documentation builder select <kbd class="ph userinput">This model</kbd> for
the <span class="ph uicontrol">Model Selection</span> input, and <kbd class="ph userinput">Services
implemented</kbd> for the <span class="ph uicontrol">Report Type</span>.</span></li>
<li class="li step"><span class="ph cmd">Run the model to generate a page that displays information on the
selected services, their operations and parameters.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_work_disconnected_backend"><a name="t_work_disconnected_backend"><!-- --></a><h3 class="title topictitle3">Working disconnected from back-end data</h3>
<div class="body taskbody"><p class="shortdesc">Follow these steps to work disconnected from back-end data.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a Service Stub builder call to the model you want to test.</span> This model must contain a Service Definition builder and a Service Operation
builder that define the data service.</li>
<li class="li step stepexpand"><span class="ph cmd">In the Service Stub builder choose the public data service name.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Select a new model name for the stub service model.</span></li>
<li class="li substep"><span class="ph cmd">Save the builder call.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Service Test builder call and provide any necessary default
inputs. Save the Service Test builder call and the model.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Refresh your project.</span> You should see a newly-created
model that implements a fully functional stubbed-out version of the original
service.</li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_services_overview"><a name="c_services_overview"><!-- --></a><h2 class="title topictitle2">Using web services</h2>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> Designer
allows you to call a web service.</p>
<p class="p">You can access a web service by adding a Web Service Call builder
to your model and use other builder calls to display or interact with
the data returned by the service. The following are the general steps
to accessing a web service. </p>
<ol class="ol"><li class="li"> Find the URL to the web service. </li>
<li class="li"> Add a Web Service Call builder call to a model. </li>
<li class="li"> Invoke the service call. </li>
<li class="li"> Access the outputs of the service. </li>
</ol>
<p class="p">You can expose one or more methods in a model as SOAP services
described by a WSDL document. In the Service Definition builder, enable
the <span class="ph uicontrol">Generate WSDL</span> input. To obtain the URL
of the WSDL document, enable the testing support and run the model.
The test index page has a link to the WSDL URL. </p>
<p class="p">You can create a web service from a model. Use the Web Service
Enable builder for each method in your model that you want to expose
as a web service. </p>
<div class="p">The following web service technologies are supported.<ul class="sl simple"><li class="sli">Web Services Description Language (WSDL) 1.1</li>
<li class="sli">Simple Object Access Protocol (SOAP) 1.1</li>
<li class="sli">Web Services Interoperability Organization (WS-I) Basic Profile
recommendation</li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_add_service_call"><a name="t_add_service_call"><!-- --></a><h3 class="title topictitle3">Adding a web service call to a model</h3>
<div class="body taskbody"><p class="shortdesc">After you find a web service, add a Web Service Call builder to
the model.</p>
<div class="section context"><p class="p">For HTTP services (Get or Post), add the REST Service Call builder
to the model. </p>
<p class="p">If the service you are calling takes an XML structure
as an input, the Web Service Call builder adds a schema to the model that
describes that XML structure. </p>
<p class="p">To add a web service call:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">With the URL to a service WSDL document in hand, open a model in <span class="ph">IBM WebSphere Portlet Factory</span> Designer and add a
Web Service Call builder.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the builder call editor for the service call, specify the URL
to the WSDL document for the service. </span> <p class="p">The builder call
editor displays input fields according to the information contained in the
WSDL document.</p>
 </li>
<li class="li step stepexpand"><span class="ph cmd">Take note of the type specified for any XML inputs. </span>  <p class="p">You
set the inputs variable you create to be of this type.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Select a method in the service and specify the input values to
that method.</span> <p class="p">The Web Service Call builder also allows you to
specify any basic authorization needed. You can also configure other aspects
of the service call such as logging the inputs and outputs and profiling individual
inputs on the builder call itself.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a variable to the model.</span> <p class="p">Set the variable to
be of the type specified for the XML input to the service.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">When you select a complex type defined by a schema, the builder
call editor of the Variable builder displays a <span class="ph uicontrol">Create Sample Data</span> button.
Click this button to pre-set your service inputs variable.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Now that you have sample data in the variable, set the individual
element values with methods in your model or edit the XML in the Variable
builder call editor.</span></li>
</ol>
<div class="section result"><p class="p">Now you can call the service. </p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_service_call"><a name="c_service_call"><!-- --></a><h4 class="title topictitle4">Web service calls in a model</h4>
<div class="body conbody"><p class="shortdesc">With the URL to a service WSDL document in hand, you can
add a service call to a model in <span class="ph">IBM WebSphere Portlet Factory</span> Designer.</p>
<div class="section"><p class="p">In the builder call editor for the Web Service Call builder,
you specify the URL to the WSDL document for the service. The builder
call editor displays input fields according to the information contained
in the WSDL document. You select a method in the service and specify
the input values to that method.</p>
<p class="p">The Web Service Call builder
also allows you to specify any basic authorization needed and configure
other aspects of the service call such as logging the inputs and outputs
and profiling individual inputs on the builder call itself.</p>
<p class="p">If
you have the Web Service Call builder in your model, you can call
the specified service by calling the <samp class="ph codeph"><var class="keyword varname">service</var>CallName_invoke()</samp> method
that the Web Service Call builder adds to the model. The <samp class="ph codeph"><var class="keyword varname">service</var>CallName_reply</samp> variable
stores the output from the service call.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_service_publish"><a name="c_service_publish"><!-- --></a><h4 class="title topictitle4">Publishing web services</h4>
<div class="body conbody"><p class="shortdesc">You can expose your web services to other developers by distributing
the URL to the <samp class="ph codeph">getWSDL</samp> action for your model.</p>
<div class="p">The <samp class="ph codeph">getWSDL</samp> action is a special model action that returns
a WSDL document for the web-service-enabled methods in a model. For example: <pre class="pre codeblock">http://acme.com/bowstreet/webengine/servicemodels/GetCustomerInfo/Action!getWSDL</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_call_web_service"><a name="t_call_web_service"><!-- --></a><h3 class="title topictitle3">Calling a web service</h3>
<div class="body taskbody"><p class="shortdesc">After you use the Web Service Call builder to add a web service
to a model, you can initiate a call to the web service.</p>
<div class="li step"><span class="ph cmd">Once you have the web service call definition in your model, call
the specified service in one of the following ways:</span><ul class="ul choices"><li class="li choice"> With the <samp class="ph codeph">serviceCallName.invoke()</samp> method that the
Web Service Call builder adds to the model. For example, to execute the service
call from a method:<pre class="pre codeblock">webAppAccess.callMethod("ServiceCallName.invoke");</pre>
</li>
<li class="li choice">Add an Action List builder to the model and, from the Action Chooser
displayed by clicking the ellipsis <span class="ph uicontrol">[...]</span> button, select <span class="ph uicontrol">DataServices</span> and <span class="ph uicontrol">ServiceCallName.execute</span>.</li>
</ul>
</div>
<div class="section result"><p class="p">The <samp class="ph codeph">serviceCallName_reply</samp> variable stores the
output from the service call. If the service returns XML, the Web Service
Call builder also adds a schema that defines the service results.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_create_composite_services"><a name="t_create_composite_services"><!-- --></a><h3 class="title topictitle3">Creating composite web services</h3>
<div class="body taskbody"><p class="shortdesc">You can create composite web services by setting the
inputs of one service to be the output from another service, by configuring
the appropriate service call to use the output from the first service as its
input and creating a method that invokes the two services.</p>
<div class="section context">The following steps describe the process in more detail:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Determine which service(s) return the inputs to the subsequent
service call.</span></li>
<li class="li step"><span class="ph cmd">Configure the service call that uses the output from one or more
services as its inputs.</span></li>
<li class="li step"><span class="ph cmd">Write a wrapper method that invokes the "input" services and then
invokes the "consumer" service.</span></li>
<li class="li step"><span class="ph cmd">Web service enable the wrapper method.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_creating_services"><a name="c_creating_services"><!-- --></a><h4 class="title topictitle4">About creating web services</h4>
<div class="body conbody"><p class="shortdesc">You can create a web service by exposing a method in a
model as a web service. </p>
<p class="p">Add a Web Service Enable builder call to a model and choose a method
to expose as a web service. To expose more than one method in a model
as a service, simply add additional Web Service Enable builders to
the model.</p>
<p class="p">If your method takes XML inputs (inputs of a complex type), you
need to create a schema that defines the structure that your method
expects to receive as an input. This schema gets included into the
generated WSDL document and is used by other developers calling your
service to structure the XML input to your service.</p>
<p class="p">You can expose the web service to either incoming SOAP requests
to the server hosting the application or to service calls in local
models. </p>
<div class="note note"><span class="notetitle">Note:</span> Adding a Web Service Enable builder to a model
makes sense only for publishing in a development Web application tesenvironmentnt, not for portlet WARs that run in the context of a portal.</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_create_schema_complex_argreturn"><a name="c_create_schema_complex_argreturn"><!-- --></a><h5 class="title topictitle5">Creating schemas for complex argument and return types</h5>
<div class="body conbody"><p class="shortdesc">If the method you want to expose as a Web service takes one or
more XML arguments or returns an XML structure, you need to create a schema
that describes the structure for the argument and return types and then add
a Schema builder call to your model to add the schema to the model.</p>
<div class="section">The WSDL document generated by the "getWSDL" action includes any
schemas needed for describing the inputs and outputs of a service.<p class="p">The Schema
builder will accept only XML Schema 2001 XSD which you can create with third-party
tools such as "XML Spy." Alternately, the Simple Schema Generator builder
will build a schema into the model from simple XML such as that shown below.</p>
<p class="p">For
example, if the method takes an IXml argument with the following structure:</p>
<pre class="pre codeblock">&lt;customers&gt;
&lt;customer&gt;
&lt;name&gt;&lt;/name&gt;
&lt;id&gt;&lt;/id&gt;
&lt;/customer&gt;
...
&lt;/customers&gt;</pre>
<p class="p">The corresponding schema would be:</p>
<pre class="pre codeblock">&lt;?xml version="1.0" ?&gt;
&lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
targetNamespace="http://www.acme.com"
xmlns="http://www.acme.com"&gt;
&lt;xsd:element name="customers"&gt;
&lt;xsd:complexType&gt;
&lt;xsd:sequence&gt;
&lt;xsd:element name="customer" minOccurs="1" maxOccurs="unbounded"&gt;
&lt;xsd:complexType&gt;
&lt;xsd:sequence&gt;
&lt;xsd:element name="name" type="xsd:string" /&gt;
&lt;xsd:element name="id" type="xsd:string" /&gt;
&lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;
&lt;/xsd:element&gt;
&lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;
&lt;/xsd:element&gt;
&lt;/xsd:schema&gt;</pre>
<p class="p">This schema requires the developer calling
this service to pass a <samp class="ph codeph">&lt;customers /&gt;</samp> structure that
contains at least one <samp class="ph codeph">&lt;customer /&gt;</samp> element.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_find_wsdl_docs"><a name="c_find_wsdl_docs"><!-- --></a><h5 class="title topictitle5">About finding WSDL documents for services</h5>
<div class="body conbody"><p class="shortdesc">You can find the WSDL documents for a web service to call either
on a public web site or in a public or private registry. </p>
<div class="section"><p class="p">You can call any of these web services by using the related WSDL
document to configure the Web Service Call builder.</p>
<p class="p">The <span class="ph filepath">xmethods.com</span> (or <span class="ph filepath">xmethods.org</span>)
site consistently updates the list of available services. The site provides
all the information (including the WSDL document) needed to call the services
listed on their site.</p>
<p class="p">Most services published to the public Universal
Description, Discovery and Integration (UDDI) protocol registries (for example, <span class="ph filepath">uddi.xml.org</span>)
have associated WSDL documents.  Public UDDI registries are also hosted by
IBM, Microsoft, and other companies. A private UDDI registry can be hosted
within your own organization or within a partner organization.</p>
<p class="p">The <span class="ph">IBM WebSphere Portlet Factory</span> documentation assumes
that a WSDL document exists for the web service. If you are calling a web
service that is not described by a WSDL document, the described steps are
similar if not the same. However, you need to know the inputs to the service
so that you can configure the service call to pass the appropriate inputs.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_find_web_services"><a name="t_find_web_services"><!-- --></a><h3 class="title topictitle3">Finding a web service</h3>
<div class="body taskbody"><p class="shortdesc">You can find a web service through public or private resources.</p>
<div class="section context"><p class="p">To find a service on xmethods.org:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In a browser, navigate to <a class="xref" href="http://www.xmethods.org" target="_blank">http://www.xmethods.org</a>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Scroll through the list of services and click the link to on one
that you want to use.</span></li>
<li class="li step stepexpand"><span class="ph cmd"> In the information page that the browser displays, copy the URL
for the service WSDL document.</span> The following URL is for the WSDL
document for a stock service implemented with .NET: <p class="p"><a class="xref" href="http://ws.cdyne.com/delayedstockquote/delayedstockquote.asmx?wsdl" target="_blank">http://ws.cdyne.com/delayedstockquote/delayedstockquote.asmx?wsdl</a></p>
</li>
</ol>
<div class="section postreq">Once you have the URL for the service WSDL document, you can add
a Web Service Call builder to a model to call the service.</div>
</div>
<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><img src="./sout.gif" alt="" /><a href="http://www.xmethods.com" target="_blank">xmethods.org</a></strong><br />
</li>
</ul>
</div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_howdoi_database"><a name="c_howdoi_database"><!-- --></a><h2 class="title topictitle2">Working with a database</h2>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> provides a variety
of database tools from high-level to low-level.</p>
<p class="p">These tools allow you to connect to and interact with a database. In terms
of functionality, the tools can be described as follows:</p>
<dl class="dl"><dt class="dt dlterm">Relational Database New Model wizard</dt>
<dd class="dd">A wizard that walks you through the steps required to build a model that
contains all the builders necessary to retrieve, create, update, edit, and
delete database entries. This wizard provides the best solution for most general
database tasks and will also construct an SQL query and set up page displays
for the data.</dd>
<dt class="dt dlterm">SQL Call builder</dt>
<dd class="dd">Use this builder if you need to run an SQL statement or stored
procedure on a database. In addition to providing basic connectivity, this
builder includes a database explorer that will assist you in constructing
an SQL query. This builder also provides settings that allow you to control
the formatting and translation of a returned result set.</dd>
<dt class="dt dlterm">SQL Family of builders</dt>
<dd class="dd">These builders provide the core functionality required to access and use
a database installed on a local or remote application server. The SQL builders
interact with a database through a Java Naming and Directory Interface (JNDI)
datasource on the application server. The application server manages all aspects
of database connections (for example, pooling, credentials, or time outs).</dd>
</dl>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_cfg_smp_datasource"><a name="t_cfg_smp_datasource"><!-- --></a><h3 class="title topictitle3">Configuring a sample datasource</h3>
<p class="shortdesc">We provide a sample datasource and database pre-configured
on the <span class="ph">IBM WebSphere Application
Server</span> Community
Edition (WAS CE) we distribute. You can configure this database and
datasource on your own <span class="ph">WebSphere Application
Server</span> 
Community Edition or your <span class="ph">IBM WebSphere Application
Server</span> server.</p>
<div class="related-links"></div><div class="topic task nested3" xml:lang="en-us" id="taskWedOct221401582008"><a name="taskWedOct221401582008"><!-- --></a><h4 class="title topictitle4">Configuring a sample datasource on<span class="ph">WebSphere Application
Server</span>  Community Edition
(WAS CE)</h4>
<div class="body taskbody"><div class="section context"><span class="ph">IBM WebSphere Portlet Factory</span> auto-enables
the  <span class="ph">WebSphere Application
Server</span>  Community
Edition (WAS CE) sample datasource, by default if you install  <span class="ph">WebSphere Application
Server</span>  Community Edition
(WAS CE) with the product.  Once a project is published to  <span class="ph">WebSphere Application
Server</span>  Community Edition
(WAS CE), a sample datasource will be added to the project, that points
to<span class="ph filepath"> jdbc/MyDataSource</span>. If for any reason you no
longer want the  <span class="ph">WebSphere Application
Server</span> 
Community Edition (WAS CE) sample datasource automatically added to
your project, then follow these steps to configure a sample datasource
on <span class="ph">WebSphere Application
Server</span>  Community
Edition (WAS CE).</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Remove the <span class="ph filepath">&lt;INSTALLROOT&gt;\WASCE\var\derby\sample\wasce-datasource-results.txt</span> file
from the filesystem. This will prevent <span class="ph"> WebSphere Portlet
Factory</span>  from automatically
creating the datasource reference.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Re-publish the application. If you opted out of the <span class="ph">WebSphere Application
Server</span>  Community Edition
(WAS CE)  installation, but chose to install into your own existing
copy of <span class="ph">WebSphere Application
Server</span>  Community
Edition (WAS CE), you can still add the employee sample database,
and have <span class="ph">IBM WebSphere Portlet Factory</span> automatically
configure your project for the datasource, by using the following
steps:</span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Extract <span class="ph filepath">&lt;INSTALLIMAGE&gt;/config/EmployeeSampleDB.zip</span> to <span class="ph filepath">&lt;WASCE_ROOT&gt;/var/derby</span></span></li>
<li class="li substep substepexpand"><span class="ph cmd">From a command console, change to the <span class="ph filepath">&lt;WASCE_ROOT&gt;/var/derby/sample
directory</span></span></li>
<li class="li substep substepexpand"><span class="ph cmd">In command console enter: <span class="keyword cmdname">wasce-deploy-sample
--user system --password manager</span></span></li>
<li class="li substep substepexpand"><span class="ph cmd">Check the <span class="ph filepath">wasce-datasource-results.txt</span> for
confirmation of datasource creation.</span></li>
<li class="li substep substepexpand"><span class="ph cmd">Add the appropriate <span class="ph filepath">web.xml</span> and <span class="ph filepath">geronimo-web.xml</span> fragments
to your project, that will include the datasource information. Each
extension folder will have a <span class="ph filepath">Readme.txt</span> in it,
that will describe, in detail, the proper steps to take:</span> <pre class="pre codeblock">&lt;PROJECTROOT&gt;WEB-INF\bin\deployment\extensions\geronimo.web\Readme.txt &lt;PROJECTROOT&gt;WEB-INF\bin\deployment\extensions\standalone.web\Readme.txt
&lt;PROJECTROOT&gt;WEB-INF\bin\deployment\extensions\geronimo.web\Readme.txt &lt;PROJECTROOT&gt;WEB-INF\bin\deployment\extensions\standalone.web\Readme.txt</pre>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Re-publish the application. </span></li>
</ol>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="forwas"><a name="forwas"><!-- --></a><h4 class="title topictitle4">Configuring a sample datasource on <span class="ph">WebSphere Application
Server</span> </h4>
<div class="body taskbody"><div class="section context">Follow these steps to configure a sample datasource on <span class="ph">WebSphere Application
Server</span>.</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Extract <span class="ph filepath">&lt;INSTALLIMAGE&gt;/config/EmployeeSampleDB.zip</span> to
the <span class="ph filepath">AppServer\derby\databases</span> directory. </span></li>
<li class="li step"><span class="ph cmd">Edit the <span class="ph filepath">was-datasource.bat</span> file,
changing the values of SOAP_CONNECTOR_ADDRESS, USERNAME, and PASSWORD
to reflect the values for your server. </span></li>
<li class="li step"><span class="ph cmd">From a command console change to the <span class="ph filepath">AppServer\derby\databases</span> directory. </span></li>
<li class="li step"><span class="ph cmd">Execute the <span class="ph filepath">was-datasource.bat</span> file. </span></li>
<li class="li step"><span class="ph cmd">You do not need to republish your application to use the
sample datasource on WAS.</span></li>
</ol>
</div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_bld_sqlsttmntdbexplrr"><a name="t_bld_sqlsttmntdbexplrr"><!-- --></a><h3 class="title topictitle3">Building an SQL statement</h3>
<div class="body taskbody"><p class="shortdesc">You can use the SQL Call builder to work with SQL statements. </p>
<div class="section context"><p class="p">The SQL Call builder provides a smart alternative to writing
SQL code from scratch. You can use the Database Explorer feature of
this builder to build an SQL statement. </p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the Database Explorer portion of the SQL Call builder
edit page.</span></li>
<li class="li step"><span class="ph cmd">Browse data tables and construct and generate sample SQL
code.</span></li>
<li class="li step"><span class="ph cmd">Edit this sample code to create the exact statement you
need.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic reference nested3" xml:lang="en-us" id="r_sql_builders"><a name="r_sql_builders"><!-- --></a><h4 class="title topictitle4">The SQL Builders</h4>
<div class="body refbody"><p class="shortdesc">The SQL builders are used to implement database operations.</p>
<div class="section">This powerful set of builders not only support JNDI database
connectivity, but they also provide schema translation services that
facilitate the conversion and display of ResultSet data. In addition,
most SQL builders can be configured to fire database-related events.
You can use these events to control and drive model actions.<p class="p">SQL
builders implement a JNDI-based approach to accessing DataSources,
and support connections to both local and remote DataSources. </p>
<div class="note note"><span class="notetitle">Note:</span> <span class="ph">IBM WebSphere Portlet Factory</span> relies on the application
server to oversee all aspects all database management, including connection
pooling and driver selection.</div>
<p class="p">SQL builders also support the
generation of database-related server statistics and logging. These
statistics provide a way for you to analyze database performance issues.
Logging information allows you to maintain audit trail of database
operations, such as database changes and commits. The SQL builders
include:</p>
<dl class="dl"><dt class="dt dlterm">SQL Call</dt>
<dd class="dd">This builder provides a smart alternative to writing SQL code
from scratch. It encapsulates the functionality of several low-level
SQL builders (SQL DataSource, SQL Statement, SQL Transform to XML,
and so on) into a single builder call. Use the SQL Call builder to
get started interacting with a database. If you require the additional
functionality of the low level SQL builders, use them as needed. The
database explorer supports the use of single-table queries as well
as stored procedures. In addition, you can create select, insert,
update and delete statements that incorporate positional parameters.</dd>
<dt class="dt dlterm">SQL DataSource</dt>
<dd class="dd">Allows a model (and the other SQL builders) to obtain database
connections from a local or remote JNDI-based DataSource. The DataSource
is typically defined and managed by your application server and made
available through a JNDI server provided as part of the application
server's implementation.</dd>
<dt class="dt dlterm">SQL Statement</dt>
<dd class="dd">Creates Prepared or Callable SQL statements that are ready for
execution. This builder manages all your DML (Data modeling Language)
and DDL (Data Definition Language) operations. In this builder you
write SQL-based database instructions such as stored procedure calls,
inserts, deletes, selects, updates, create tables, create indices,
and so on.</dd>
<dd class="dd">This builder provides more basic functionality than the SQL Call
builder. The SQL Statement builder is designed to work with a prepared
or callable SQL statement that is ready for execution. The builder
allows you to specify to the statement values for positional parameters.
You can also make various performance-enhancing settings to the ResultSet
and execution throttles to tune the query to the database.<p class="p">Transforming
Statement Results:</p>
<p class="p">This builder also provides settings that
allow for special-handling of columns via method-driven transforms.
For example, you can use this feature to transform an output parameter
to a record set.</p>
<p class="p">In addition to SQL composition, the SQL Statement
builder provides a way for you to apply a custom transform method
to a column in a ResultSet. This allows you to control the XML formatting
of returned data on a column-by-column basis. You might need to do
this if the ResultSet contains complex JDBC column types, or if you
want to apply other formatting to the ResultSet.</p>
<ol class="ol"><li class="li">Add a SQL Transform to XML builder to the model to store your
results in an XML variable.</li>
<li class="li">Add a SQL Transaction builder to the model, specifying the name
of your DataSource, SQL Statement, and SQL Transforms as a transaction
step.</li>
</ol>
</dd>
<dt class="dt dlterm">SQL Transaction</dt>
<dd class="dd">You use the SQL Transaction builder to chain together other SQL
builders in the model to create a transaction sequence. Once you have
composed a query and provided transformation information, you can
build an entire transaction. This builder can create either a short-lived
or a long-lived SQL transaction. Such a transaction might identify
a datasource, the SQL statement to execute, and a transform to apply
to the ResultSet.<p class="p">When running an SQL statement against a database,
you can track statement-related database events in the model and also
generate statistics and logs related to a statement execution. These
options allow you to assess performance and maintain an audit trail
of statement usage.</p>
<p class="p">If the SQL statement returns data, you can
use a Data Page builder to display it.</p>
</dd>
<dt class="dt dlterm">SQL Transform to XML</dt>
<dd class="dd">Converts the result of an executed SQL statement into XML. The
builder can create a full XML document or a paged version of an XML
document. In the latter case, this output can be used by <span class="ph"> WebSphere Portlet
Factory</span>'s Data Paging builder.</dd>
<dt class="dt dlterm">SQL Transform to XML Schema</dt>
<dd class="dd">Generates a complete XML schema as a result of the execution of
one or more SQL statements. The schema created by this builder might
serve as an input to another builder, such as a data page builder,
at generation time.</dd>
</dl>
<p class="p">SQL builders are designed to work in unison. For
example, you can mix-and-match DataSource builders with a Statement
builder to perform the same query on a variety of DataSources. Or,
you can apply a single XML transform to a variety of result sets.</p>
</div>
<div class="section"><h5 class="title sectiontitle">Server statistics and SQL statement logging</h5><div class="p">Server
statistics and SQL statement logging are enabled across all of the
SQL builders regardless of the individual builder input settings.
These logs are saved in your project file:<pre class="pre codeblock">projectname.war\WEB-INF\logs\event.log</pre>
and
the server statistics are saved here:<pre class="pre codeblock">projectname.war\WEB-INF\logs\serverStats.txt</pre>
</div>
<p class="p">This default can be overridden in these properties
of the cluster.properties file:<samp class="ph codeph">bowstreet.builder.enableGlobalSqlBuilderServerStatistics</samp> and <samp class="ph codeph">bowstreet.builder.enableGlobalSqlBuilderStatementLogging</samp>.
 When set to true, the default, all SQL builders will create server statistics
and diagnostic logging messages.  When set to false the individual
SQL builder statistics and logging inputs will take effect.  The two
properties are independent.  serverStats.txt is always written by
Factory.  The default update setting is 5 minutes, so you have to
wait a bit to see any SQL statistics logged after running a model.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_db_connect"><a name="c_db_connect"><!-- --></a><h4 class="title topictitle4">Connecting to a database</h4>
<div class="body conbody"><p class="shortdesc">There are several ways you can establish a connection to a JNDI
datasource installed and running on an application server.</p>
<div class="section"><div class="note note"><span class="notetitle">Note:</span> JNDI datasources must be correctly installed and configured
on the application server to be accessible from a model.</div>
<ul class="ul"><li class="li"> Create a Relational Database model </li>
<li class="li"> Add an SQL Call builder to an existing model </li>
<li class="li"> Add an SQL Datasource builder to an existing model </li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_exec_sql_statement"><a name="c_exec_sql_statement"><!-- --></a><h4 class="title topictitle4">Execution of an SQL statement</h4>
<div class="body conbody"><p class="shortdesc">The SQL Transaction builder chains together other SQL builders
in the model to create a transaction sequence.</p>
<p class="p">Once you have composed a query and provided transformation information,
you can build an entire transaction. This builder can create either a short-lived
or a long-lived SQL transaction. Such a transaction might identify a datasource,
the SQL statement to execute, and a transform to apply to the ResultSet. When
running an SQL statement against a database, you can track statement-related
database events in the model and also generate statistics and logs related
to a statement execution. These options allow you to assess performance and
maintain an audit trail of statement usage. If the SQL statement returns data,
you can use a Data Page builder to display it.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_db_cache_query"><a name="c_db_cache_query"><!-- --></a><h4 class="title topictitle4">Caching query results</h4>
<div class="body conbody"><p class="shortdesc">The Cache Control builder is the tool you use to cache the results
of a database query.</p>
<div class="section">This builder allows you to store the results of a model action, such
as a method that initiates a database call. Results of the action are placed
in the model's output cache and are available to multiple users having the
same profile. In database operations this means that a single query can be
used to service multiple users, providing those users have similar profiles.
This minimizes unnecessary trips to the database and reduces system load.<p class="p">This
type of caching is appropriate for data that does not change too frequently
(once per hour) and also data that is identical for a number of users. A typical
example of data that might benefit from caching is employee data accessed
by an HR department group.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_db_init_transaction"><a name="c_db_init_transaction"><!-- --></a><h4 class="title topictitle4">Initiate a transaction and display the results</h4>
<div class="body conbody"><p class="shortdesc">A transaction is a combination of database related activities that
culminates in the display of data returned from a database by a query.</p>
<div class="section"><span class="ph">IBM WebSphere Portlet Factory</span> provides
support for sophisticated database transactions in the form of the "SQL" family
of builders. By combining SQL builders in various ways, you can create a complex
transaction that runs an SQL statement against a particular JDBC datasource,
transforms the ResultSet data returned, builds a schema from
the data, and displays the formatted data on a page in your model.<p class="p">The key
to transaction management is the SQL Transaction builder. This builder works
in conjunction with other SQL builders to create either a short-lived or a
long-lived SQL transaction. Using this builder you can create a list of prepared
statements or callable transactions that are execution-ready.</p>
<p class="p">Usually
you will want to feed the results of a transaction to a display mechanism
to view the results. <span class="ph"> WebSphere Portlet
Factory</span> provides
several display options, with the most powerful being the Data Page builder.
This builder can automatically create a form that either displays data and/or
prompts the user to enter data.</p>
<p class="p">The Data Page builder references a schema
(possibly created by the SQL Transform to XML Schema builder) or a variable
associated with a schema type, to determine the form fields to display. The
Data Page builder can also create input forms based on an element type defined
by a schema and an associated variable.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_db_optimize"><a name="c_db_optimize"><!-- --></a><h4 class="title topictitle4">Optimization of database operations</h4>
<div class="body conbody"><p class="shortdesc">There are several techniques you can use to optimize your database
operations.</p>
<div class="section">These include:<ul class="ul"><li class="li">Use a Cache Control builder to store relatively-static results of a query.
If the data does not change more frequently than hourly, caching the database
action is a good strategy.</li>
<li class="li">Use settings available in the low-level SQL builders to maximize database
efficiency. For example, The SQL Datasource builder provides Timeout settings
to manage connection and acquisition of a database. The SQL Statement builder
provides ResultSet Performance Hints settings and Execution Throttles that
allow you to optimize ResultSet handling and control the amount of data being
retrieved.</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_add_sqlcallbldrxstmdl"><a name="t_add_sqlcallbldrxstmdl"><!-- --></a><h3 class="title topictitle3">Adding an SQL Call builder to an existing model</h3>
<div class="body taskbody"><p class="shortdesc">Use the SQL Call builder to establish a database connection and
retrieve data.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Place an SQL Call builder in a model.</span></li>
<li class="li step"><span class="ph cmd">Fetch datasource names and assign a datasource to the builder.</span></li>
<li class="li step"><span class="ph cmd">Use the builder's Database Explorer to locate tables or stored
procedures or to generate a sample SQL statement.</span></li>
<li class="li step"><span class="ph cmd">Use the builder's ResultSet handling settings to format data returned
by the query and transform results into XML for display.</span></li>
<li class="li step"><span class="ph cmd">Use a Data Page builder to display the data returned by the SQL
Call builder.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_add_sqldatsrcbldxstmdl"><a name="c_add_sqldatsrcbldxstmdl"><!-- --></a><h4 class="title topictitle4">About adding an SQL Datasource builder to an existing model</h4>
<div class="body conbody"><p class="shortdesc">Use this approach to add basic database connectivity to a model.</p>
<div class="section">Add other builders to the model to do the following operations:<ul class="ul"><li class="li">Implement an SQL query.</li>
<li class="li">Format the data for display. </li>
<li class="li">Display query results.</li>
</ul>
When you configure the SQL Datasource builder, you identify the JNDI
datasource you want to access and the credentials required for access. If
the server on which the datasource resides is remote, provide additional configuration
items required by the server.<p class="p">This builder provides low-level connectivity,
and its functionality is incorporated in both the Relation Database Model
wizard and the SQL Call builder. The builder also provides many additional
configuration inputs. You can use additional builder inputs to accomplish
advanced connection tasks including:</p>
<ul class="ul"><li class="li"> Connecting to a remote JNDI server </li>
<li class="li"> Providing authentication information to the database </li>
<li class="li"> Defining connection timeout parameters </li>
<li class="li"> Firing database connection-related events that can be handled in the
WebApp </li>
<li class="li"> Generating and logging database connection statistics and activities </li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_reltnldb"><a name="t_cre_reltnldb"><!-- --></a><h3 class="title topictitle3">Creating a relational database model</h3>
<div class="body taskbody"><p class="shortdesc">Use the <span class="ph uicontrol">New Model</span> wizard to build
a relational database model.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the <span class="ph">IBM WebSphere Portlet Factory</span> perspective,
click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Model</span></span>.</span> <p class="p">The <span class="ph uicontrol">New Model</span> wizard
starts. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Select a project in which to create the new model and click <span class="ph uicontrol">Next</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Select Model dialog, click <span class="ph menucascade"><span class="ph uicontrol">Service
Providers</span> &gt; <span class="ph uicontrol">Database Service Provider</span></span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Proceed through the wizard pages providing the requested
database information. </span> <p class="p">When you click <span class="ph uicontrol">Finish</span>,
a new model is created that provides access to the JNDI datasource
that you specified.</p>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_dsply_resultset_oracle"><a name="t_dsply_resultset_oracle"><!-- --></a><h3 class="title topictitle3">Displaying result sets from Oracle stored procedures</h3>
<div class="body taskbody"><p class="shortdesc">Oracle stored procedures return a REF_CURSOR object from which
the results of the stored procedure may be made available to <span class="ph">IBM WebSphere Portlet Factory</span> builders.</p>
<div class="section context">To use the REF_CURSOR object, the results from the stored procedure
must be explicitly cast in a Java method. You can use either a Method builder
call, or a method in a linked Java object. <p class="p">To cast the output parameter
of an Oracle stored procedure, follow these steps:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Use the SQL Call builder to call the stored procedure.</span> You
can use the Database Explorer functionality in the builder call editor to
select the stored procedure you want to call and to generate the SQL statement.</li>
<li class="li step stepexpand"><span class="ph cmd">Create a method to cast the output parameter for the REF_CURSOR
object.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Method builder call, the <span class="ph uicontrol">Arguments</span> input
should be:</span> <dl class="dl"><dt class="dt dlterm">buildername</dt>
<dd class="dd">String</dd>
<dt class="dt dlterm">statement</dt>
<dd class="dd">Object</dd>
<dt class="dt dlterm">position</dt>
<dd class="dd">int</dd>
<dt class="dt dlterm">action</dt>
<dd class="dd">String</dd>
<dt class="dt dlterm">Return Type</dt>
<dd class="dd">void</dd>
<dt class="dt dlterm">body of the method</dt>
<dd class="dd"><pre class="pre codeblock">{    
try
    {
      // Code is specific to a CallableStatement.  Cast will throw an exception
     // if the caller tries to pass anyother type of object into the method.
      final CallableStatement cs = (CallableStatement) statement;
      if( cs != null &amp;&amp; "cast".equals( action ) ) 
     {
        // Cast and register the output parameter at position "position" to be an
       // Oracle CURSOR type.  If the Oracle JDBC driver ZIP / JAR file is not
       // in the method compiler's classpath, then this will cause an error.
        cs.registerOutParameter( position, OracleTypes.CURSOR );
      }
      else if( cs != null &amp;&amp; "set".equals( action ) )
      {
        // The "set" action is not supported for result sets so throw an
       // exception to alert the caller to the problem.
        throw new Exception( "Cannot set the value of a ResultSet" );
      }
    }
    catch( Throwable t )
    {
        // If anything goes wrong, then log an error to the Bowstreet Event log
       // and rethrow the exception for handling by the model.
       LogEvent.writeLogEntry( Severity.ERROR, Component.MODEL, t );
       throw new WebAppRuntimeException( t );
    }
  }</pre>
</dd>
<dt class="dt dlterm">Import List</dt>
<dd class="dd">java.sql.CallableStatement oracle.jdbc.driver.OracleTypes com.bowstreet.appserver.logmanager.*
com.bowstreet.webapp.engine.WebAppRuntimeException</dd>
</dl>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the SQL Call builder call, enter the name of the method directly
as the value for the parameter's <span class="ph uicontrol">Value</span> or <span class="ph uicontrol">Set/Cast
Method</span>.</span> In this example, "castRefCursor". <div class="note note"><span class="notetitle">Note:</span> Do not use the reference chooser to select the method; you just
want to provide the method name for the <span class="ph uicontrol">Value</span> or <span class="ph uicontrol">Set/Cast
Method</span> input.</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add the ojdbc14.jar you are using for your datasource and add it
to the project's <span class="ph filepath">WEB-INF/work/lib</span> directory.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph filepath">WEB-INF/config/override.properties</span> file,
copy the bowstreet.methods.classpath property and its value in the WEB-INF/config/cluster.properties
file and paste it into the override.properties file.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Add the ojdbc.jar to the method compiler classpath value.</span> For example:<pre class="pre codeblock"># This will be used as the method compiler class path, if not
specified then the System property "java.class.path" will be used.
# Note - You can specify multiple items by using a comma ","
separator. There is no need to change the separator based on target
OS.
bowstreet.methods.classPath=${bowstreet.rootDirectory}/work/lib/ojdbc14.jar,
${bowstreet.rootDirectory}/clientLibs/j2ee.jar,${bowstreet.rootDirectory}/classes,
${bowstreet.rootDirectory}/clientLibs/portlet.jar</pre>
</li>
</ol>
<div class="section result">You will now be able to work with the results from the Oracle stored
procedure.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_edt_sqlsttmntpreprd"><a name="t_edt_sqlsttmntpreprd"><!-- --></a><h3 class="title topictitle3">Working with a prepared SQL statement</h3>
<div class="body taskbody"><p class="shortdesc">The SQL Statement builder provides more basic functionality than
the SQL Call builder. The SQL Statement builder is designed to work with a
prepared or callable SQL statement that is ready for execution.</p>
<div class="section context">The builder allows you to specify to the statement values for positional
parameters. You can also make various performance-enhancing settings to the
ResultSet and execution throttles to tune the query to the database.
To use a prepared SQL statement in this builder, follow these steps.</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Code a valid SQL statement in the SQL Call builder or in an editor
such as Notepad.</span></li>
<li class="li step"><span class="ph cmd">Paste the text of the statement into the SQL Statement builder
or identify an indirect reference where the text is located, such as a Variable.</span></li>
<li class="li step"><span class="ph cmd">If the statement includes positional parameters (?), identify those
parameters in the builder Statement Parameters tables.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_imp_dbtransaction"><a name="t_imp_dbtransaction"><!-- --></a><h3 class="title topictitle3">Implementing a database transaction</h3>
<div class="body taskbody"><p class="shortdesc">Follow these steps to implement a database transaction.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Make sure you have an SQL DataSource builder call in your model
that points to the JNDI database you want to query.</span></li>
<li class="li step"><span class="ph cmd">Include an SQL Statement builder in the model to create a statement
or stored procedure to run against the database.</span></li>
<li class="li step"><span class="ph cmd">Create an XML transform to format the returned ResultSet.</span></li>
<li class="li step"><span class="ph cmd">Use the SQL Transaction builder to link together various SQL builder
artifacts in the model.</span></li>
<li class="li step"><span class="ph cmd">If desired, use an SQL Transform to XML Schema builder to generate
a schema for the returned data.</span></li>
<li class="li step"><span class="ph cmd">Use the results of the transaction as input to a Data Page builder
to create a display page/form that exactly matches the data.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_set_cachngdbquery"><a name="t_set_cachngdbquery"><!-- --></a><h3 class="title topictitle3">Setting up caching for a database query</h3>
<div class="body taskbody"><p class="shortdesc">Use the Cache Control builder to set up caching for a database
query.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Place a Cache Control builder in a model.</span></li>
<li class="li step"><span class="ph cmd">Configure the builder by selecting <span class="ph uicontrol">Action to Cache</span>.</span> In most cases, the specific "Action to Cache" is the executeForCaching
method on the <var class="keyword varname">sqlCallName</var>Transform LJO. This LJO is added
to the WebApp by the SQL Call builder.</li>
<li class="li step"><span class="ph cmd">Specify in the builder the length of time to retain information
in the cache (<span class="ph uicontrol">Refresh Interval</span> input) and the trigger
to use to refresh the cache (<span class="ph uicontrol">Keys</span> input).</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_trnsfrm_stmntres_sqlst"><a name="t_trnsfrm_stmntres_sqlst"><!-- --></a><h3 class="title topictitle3">Transforming statement results with the SQL statement builder</h3>
<div class="body taskbody"><p class="shortdesc">The SQL Statement builder provides settings that allow for special-handling
of columns via method-driven transforms. For example, you can use this feature
to transform an output parameter to a record set.</p>
<div class="section context">In addition to SQL composition, the SQL Statement builder provides
a way for you to apply a custom transform method to a column in a ResultSet.
This allows you to control the XML formatting of returned data on a column-by-column
basis. You might need to do this if the ResultSet contains complex JDBC column
types, or if you want to apply other formatting to the ResultSet.</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Add an SQL Transform to XML builder to the model to store your
results in an XML variable.</span></li>
<li class="li step"><span class="ph cmd">Add an SQL Transaction builder to the model, specifying
the name of your DataSource, SQL Statement, and SQL Transforms as a transaction
step. </span></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_overview_events"><a name="c_overview_events"><!-- --></a><h2 class="title topictitle2">Handling events</h2>
<div class="body conbody"><p class="shortdesc">Your model can use events to trap and process different
types of occurrences in the <span class="ph">web application or</span> widget.</p>
<div class="section"><div class="p">Your model can process the following types of events:<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#c_overview_events__system">System events</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_overview_events__user">User events</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_overview_events__declared">Declared events</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_overview_events__widget_events">Widget events</a></li>
</ul>
</div>
<p class="p">When firing an event, your model can send data and can
broadcast that a particular action has occurred.</p>
</div>
<div class="section" id="c_overview_events__system"><a name="c_overview_events__system"><!-- --></a><h3 class="title sectiontitle">System events</h3><p class="p">All models support
the following predefined system events:</p>
<dl class="dl"><dt class="dt dlterm">System: OnWebAppLoad</dt>
<dd class="dd">Fired each time a new instance of the model WebApp is instantiated
for a session.</dd>
<dt class="dt dlterm">System: OnRequest</dt>
<dd class="dd">Fired each time an external request is made (typically, from a
browser) to the WebApp.</dd>
<dt class="dt dlterm"> System: OnUnhandledError</dt>
<dd class="dd">Fired when an error occurs and is not handled by an explicit error
handler.</dd>
<dt class="dt dlterm">Page:pageName:OnPageLoad</dt>
<dd class="dd">Fired each time the specified page is requested. Each page in
the model gets its own OnPageLoad event declaration.</dd>
</dl>
<p class="p">To process any of these events, add an Event Handler
builder to the model and specify the action to perform when the event
occurs.</p>
</div>
<div class="section" id="c_overview_events__user"><a name="c_overview_events__user"><!-- --></a><h3 class="title sectiontitle">User events</h3><p class="p">As the user interacts
with the HTML controls of your application, you can process those
events with the HTML Event Action builder. This builder monitors a
specified HTML control (added to the page by another builder) and
performs an action when the specified event occurs. For example, to
submit a form when the user clicks on a link, use the HTML Event Action
builder call.</p>
</div>
<div class="section" id="c_overview_events__declared"><a name="c_overview_events__declared"><!-- --></a><h3 class="title sectiontitle">Declared events</h3><p class="p">You can declare
application-specific events by adding an Event Declaration builder
to a model. The Event Declaration builder adds a <samp class="ph codeph">fireEventName</samp> method
to the model that allows you to fire the event. Any models that have
an identical Event Declaration builder call (either added directly
or indirectly with an imported model) can handle that event.</p>
</div>
<div class="section" id="c_overview_events__widget_events"><a name="c_overview_events__widget_events"><!-- --></a><h3 class="title sectiontitle">Widget events</h3><p class="p">A Widget
event is a special event that is handled by widgets in <span class="ph">IBM Lotus Mashups</span>. Create widget
events using the Widget Event builder.</p>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_events_declaring"><a name="t_events_declaring"><!-- --></a><h3 class="title topictitle3">Declaring events</h3>
<div class="body taskbody"><p class="shortdesc">You can declare events for your application by adding one
or more Event Declaration builder calls to your model.</p>
<div class="section context">You can also create a model that contains all the event declaration
builder calls used in an application or by a set of related models
and import that model into the other models. This approach saves you
from adding event declarations to the target models.</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create an empty model.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Add an Event Declaration builder call for each event you
want to be able to process.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">In the builder picker, under <span class="ph uicontrol">Builder</span>,
double-click Event Declaration.</span></li>
<li class="li substep"><span class="ph cmd">In the builder call editor, specify in the <span class="ph uicontrol">Event
Name</span> input a name for the event.</span></li>
<li class="li substep"><span class="ph cmd">If you want to send data as part of processing the event,
set the argument names and types.</span></li>
<li class="li substep"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> to save the inputs and
close the builder call editor. </span></li>
</ol>
 Whether you decide to add event declaration builder calls directly
to the models firing and handling those events or implement the repository
approach, adding the Event Declaration builder calls themselves is
the same.</li>
<li class="li step stepexpand"><span class="ph cmd">Save the model.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Import the model that defines the event declarations into
each model that you want to be able to fire or process one of the
declared events.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_events_handling"><a name="c_events_handling"><!-- --></a><h4 class="title topictitle4">About handling events</h4>
<div class="body conbody"><p class="shortdesc">Add an Event Handler builder to your model to handle events declared
in the model.</p>
<p class="p">Once your model contains the appropriate event declarations, you can handle
those events by adding an Event Handler builder. In the builder, specify the
event to handle and the action to run. Any arguments passed when the event
gets fired get passed to the action specified by the event handler. Make sure
that the action you specify takes the appropriate arguments.</p>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_fire_evntmdl"><a name="t_fire_evntmdl"><!-- --></a><h3 class="title topictitle3">Firing an event at a specific model</h3>
<div class="body taskbody"><p class="shortdesc">You can fire an event at a specific model or at a specific target.</p>
<div class="section context"><p class="p">To fire an event at a specific model, use the webAppAccess.getModelInstance()
method to retrieve the WebAppAccess object for another model:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the source model, create a method or method call that calls
the fireEventName or fireTargetedEventName method.</span> <p class="p">For example,
you might create a Method Call builder that calls the fireTargetedEvent1 method,
passing an instance of the WebAppAccess object for the target model and two
string arguments.</p>
<pre class="pre codeblock">WebAppAccess targetModel =
webAppAccess.getModelInstance("TargetModel", null, true);</pre>
 You can also call the fireEventName or fireTargetedEventName
method directly in a method as shown below:<pre class="pre codeblock">fireTargetedEvent1(webAppAccess, targetModel, "This is foo.","This
is bar.");</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Execute the method or method call that fires the event as part
of another method or by adding it as an action in an Action List builder call.</span> The following code calls the FireTargetedEvent method call shown above: <pre class="pre codeblock">webAppAccess.callMethod("FireTargetedEvent");</pre>
 </li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_events_firing"><a name="c_events_firing"><!-- --></a><h4 class="title topictitle4">About firing events</h4>
<div class="body conbody"><p class="shortdesc">If you have an event declared, you can fire that event. </p>
<p class="p">You can call either the <samp class="ph codeph">fire<var class="keyword varname">EventName</var></samp> or
the <samp class="ph codeph">fireTargeted<var class="keyword varname">EventName</var></samp> method
added to the WebApp by the Event Declaration builder call.</p>
<p class="p">You can target an event towards a particular model by calling the <samp class="ph codeph">fireTargeted<var class="keyword varname">EventName</var></samp> method
and specifying a WebAppAccess object for the target model and any
arguments defined in the event declaration. In the target model, include
an event handler which specifies an action that processes the arguments
passed and executes some model action.</p>
<div class="note note"><span class="notetitle">Note:</span> Widget events (created with the Widget Event builder) cannot
be targeted. iWidget events are always broadcast to all registered
listeners. </div>
<p class="p">You can target an event to the following locations (these names
correspond to String constants in <samp class="ph codeph">com.bowstreet.webapp.WebAppAccess</samp>):</p>
<dl class="dl"><dt class="dt dlterm"><samp class="ph codeph">EVENT_TARGET_ALL</samp></dt>
<dd class="dd">Target the event to all models. Each model receives the event.
If it has a matching event declaration and an event handler, the event
is processed.</dd>
<dt class="dt dlterm"><samp class="ph codeph">EVENT_TARGET_PARENT</samp></dt>
<dd class="dd">Target the event to the parent of this model, which can be the
model that contains this model or links to this model.</dd>
<dt class="dt dlterm"><samp class="ph codeph">EVENT_TARGET_SELF</samp></dt>
<dd class="dd">Target the event to this model. No other models receive notification
of the event occurring.</dd>
<dt class="dt dlterm">An instance of the WebAppAccess object for the target model</dt>
<dd class="dd">Target the event to a specific model. Use the <samp class="ph codeph">webAppAccess.getModelInstance()</samp> method
to retrieve the WebAppAccess object for another model. </dd>
</dl>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_fire_evnttrgt"><a name="t_fire_evnttrgt"><!-- --></a><h3 class="title topictitle3">Firing an event at a specified target</h3>
<div class="body taskbody"><p class="shortdesc">You can fire an event at a specific target or at a specific model.</p>
<div class="li step"><span class="ph cmd">To fire an event at a specified target, do one of the following
actions:</span> <ul class="ul"><li class="li"> From an action list, fire targeted event at one of the defined targets,
for example, PARENT. <pre class="pre codeblock">fireTargetedEvent2(${Java/WebAppAccess.EVENT_TARGET_PARENT})</pre>
 </li>
<li class="li"> From a Java method, fire targeted event at one of the defined targets,
for example, PARENT. <pre class="pre codeblock">webAppAccess.callMethod("fireTargetedEvent2",WebAppAccess.EVENT_TARGET_PARENT);</pre>
 </li>
</ul>
 </div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_events_passing_args"><a name="t_events_passing_args"><!-- --></a><h3 class="title topictitle3">Passing arguments to an event handler</h3>
<div class="body taskbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> can pass arguments
to an event handler by specifying that an event accepts arguments in the appropriate
builder call and supplying those arguments when you call the fire<var class="keyword varname">EventName</var> method.</p>
<div class="section context">There are two kinds of events: standard events and widget events.
To specify general events, use the Event Declaration builder call. For widget
events, use the Widget Event builder call. <p class="p">For standard events, configure
the method specified by the Event Handler to accept arguments of the same
number and type as those defined in the Event Declaration builder call. Your
method can then process the arguments passed as needed.</p>
<p class="p">For widget events,
configure whether the widget fires, handles, or both fires and handles the
events. For each widget, configure the Widget Event builder inputs to accept
arguments of the same number and type as those defined in the widget that
fires the events. Your method can then process the arguments passed as needed.
No event handler is required.</p>
<p class="p">For standard events, to
pass arguments to an event handler:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Event Declaration builder call, specify a name and type
for each argument that you want to be able to pass to the action that handles
the event. </span></li>
<li class="li step stepexpand"><span class="ph cmd"> When you call the fire<var class="keyword varname">EventName</var> method, supply
the required arguments.</span> For example: <samp class="ph codeph">webAppAccess.fireMyEvent("CustomerName",
"CustomerID");</samp></li>
<li class="li step stepexpand"><span class="ph cmd">Configure the method that the Event Handler specifies as its action,
to take the same number and type of arguments defined in the Event Declaration
builder call.</span> In this case, the method takes two arguments of type
String.</li>
<li class="li step stepexpand"><span class="ph cmd">In the method, process the inputs according to your requirements.</span> For example, you could store the customer name and id in two variables:<pre class="pre codeblock">...
webAppAccess.getVariables().setText("Customer_Name", arg1);
webAppAccess.getVariables().setText("Customer_ID", arg2);</pre>
</li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_passing_arguments"><a name="c_passing_arguments"><!-- --></a><h4 class="title topictitle4">Passing arguments to actions</h4>
<div class="body conbody"><p class="shortdesc">The Input Mappings group allows you to specify argument names and
values to pass to an action.</p>
<div class="section"><span class="ph">IBM WebSphere Portlet Factory</span> Designer
contains several builders that execute some action during their OnClick event.
These builders, Button, Image Button, Form Submit Action, HTML Event Action,
and Link, can submit a form, link to another model action or external Web
site, or execute a JavaScript script.<p class="p">If the specified action for these
builder calls takes one or more arguments, you can specify those arguments
in the <span class="ph uicontrol">InputMappings</span> input, which allows you to specify
the argument name and the value for that argument that you want to pass.</p>
<p class="p">When
you specify argument values in an Arguments list, you need to ensure that
the argument names and values you specify match the names and the data types
declared for the action. If you specify a method as the action, the names
of the arguments (if any) are displayed in the Arguments list.</p>
<div class="note note"><span class="notetitle">Note:</span> Special
characters that are passed in an argument such as a single quote ( ' ), double
quote ( " ) and backslash ( \ ) must be escaped. For example, here is how
you might pass double quote characters: <samp class="ph codeph">\"Hello World Button\"</samp></div>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_error_handling_about"><a name="c_error_handling_about"><!-- --></a><h2 class="title topictitle2">Handling errors in web applications</h2>
<div class="body conbody"><p class="shortdesc">You can modify, define, handle, and log errors in <span class="ph">IBM WebSphere Portlet Factory</span> web applications.</p>
<div class="p">The following ways can handle errors in web applications:<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#c_error_handling_about__java">Java Try Catch</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_error_handling_about__builder">Error Handler builder</a></li>
</ul>
</div>
<p class="p">A typical way to handle an error is to display an error page to
the user. The <span class="ph"> WebSphere Portlet
Factory</span> provides
a default error page that is displayed when an unhandled error occurs.
You can also create and substitute your own custom error page in place
of this default.  </p>
<div class="section" id="c_error_handling_about__java"><a name="c_error_handling_about__java"><!-- --></a><h3 class="title sectiontitle">Java Try Catch</h3><p class="p">Error handling
for web applications developed with the <span class="ph"> WebSphere Portlet
Factory</span> is similar to error
handling in Java development. You can use the Java language Try Catch
error handling mechanisms to handle exceptions generated by methods
and linked Java objects included in your application. You specify
an action to try and if that action fails, you specify an action to
catch and process the error. </p>
</div>
<div class="section" id="c_error_handling_about__builder"><a name="c_error_handling_about__builder"><!-- --></a><h3 class="title sectiontitle">Error Handler builder</h3><p class="p">To catch
and handle an exception (error) in a model or an action, you can place
an Error Handler builder in the model and assign it to an action.
When you place this builder in a model, you specify:</p>
<dl class="dl"><dt class="dt dlterm">Try Action</dt>
<dd class="dd">This is the action you want the builder to monitor. For example,
such an action might be the loading of a particular page.</dd>
<dt class="dt dlterm">Catch Action</dt>
<dd class="dd">This is the action you want the builder to initiate if an exception
occurs. For example, you might want to invoke a method or display
a specific error-related page. </dd>
</dl>
<p class="p">The difference with error handling in the <span class="ph"> WebSphere Portlet
Factory</span> is that an Error Handler
builder call specifies the try and catch actions, instead of an individual
action specifying its own try catch actions.</p>
<p class="p">You can monitor
exceptions at various levels. You can assign as the try action a page
action, a method action, or an individual action in an action list.
In addition, you can enable the builder to catch and handle all unhandled
exceptions in a model. This approach ensures that any unexpected error
is caught and handled. </p>
<p class="p">You can place multiple Error Handler
builders in a model. To work with a specific type of exception in
a method, you can specify an exception class in the Error Handler
builder. (The indirect reference widget for this builder input allows
you to select a Java class in your project.) Thus you can assign multiple
Error Handler builders to multiple exceptions on the same method or
model.</p>
</div>
<div class="section"><h3 class="title sectiontitle">Testing an error handler</h3><p class="p">The easiest way
to test the error handler is to force an error explicitly.</p>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_hndl_errormodel"><a name="t_hndl_errormodel"><!-- --></a><h3 class="title topictitle3">Catching and handling an error in a model</h3>
<div class="body taskbody"><p class="shortdesc">Use the Error Handler builder to catch and handle any unhandled
error or all errors encountered when the model runs.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add an Error Handler builder to the model. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Assign the builder to an action.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Specify one of the following builder inputs:</span><ul class="ul choices"><li class="li choice"><span class="ph uicontrol">Try Action</span><p class="p">This is the action for the builder
to monitor, for example, the loading of a particular page. </p>
</li>
<li class="li choice"><span class="ph uicontrol">Catch Action</span><p class="p">This is the action for the builder
to initiate if an exception occurs. For example, you can invoke
a method or display a specific error-related page. </p>
</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add more Error Handler builders to the model.</span> <p class="p">With
multiple Error Handler builders in a model, you can monitor exceptions at
various levels. For example, you can assign as the try action a page action,
a method action, or an individual action in an action list. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">To work with a specific type of exception in a method, in the Error
Handler builder, specify an <span class="ph uicontrol">Exception Class</span> input. </span> <p class="p">The indirect reference widget for this builder input allows you to
select a Java class in your project. This technique allows you to assign multiple
Error Handler builders to multiple exceptions on the same method or model. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">To catch and handle any unhandled errors encountered when the model
is run, set <span class="ph uicontrol">Catch all Errors</span>.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_howdoi_errors"><a name="c_howdoi_errors"><!-- --></a><h4 class="title topictitle4">Catch and handle an error in a model</h4>
<div class="body conbody"><p class="shortdesc">There are several ways you can handle errors and exceptions generated
by an application. </p>
<ul class="ul"><li class="li">You can use the Error Handler builder to catch and handle exceptions in
a model. </li>
<li class="li">You can use the Java language try and catch error handling mechanisms
to handle exceptions generated by methods and linked java objects included
in your application.</li>
</ul>
<div class="section"><h5 class="title sectiontitle">Handle an error in Java code</h5><p class="p">You can handle errors
in LJO methods using the standard try and catch mechanism. In the catch code,
you extract the error information that the <span class="ph">IBM WebSphere Portlet Factory</span> servlet
stores in the request. After you process the error information, you can perform
one or more actions to allow processing to proceed or you can simply return
an error page.  </p>
<p class="p">For example, if the method tries to open a file and
fails because the file does not exist, the catch actions can store the error
in a variable to be used to supply an error message and display a page in
which the user can name another file to open. Unhandled, a file not found
error results in the application stopping and the display of the default unhandled
error page.  See <a class="xref" href="designer-html-wrapper.htm#c_howdoi_errors__example">Examples</a>.</p>
</div>
<div class="example" id="c_howdoi_errors__example"><a name="c_howdoi_errors__example"><!-- --></a><h5 class="title sectiontitle">Examples</h5><div class="p">The following code sample
shows a method that tries to open a file, and, if it is not found, stores
the error message in a variable and displays a page:  <pre class="pre codeblock">catch (IOException ioe) {
   HttpServletRequest request = webAppAccess.getHttpServletRequest();
   Throwable ex = (Throwable)request.getAttribute("bowstreet.errorhandler.Exception");
   String actionName = (String)request.getAttribute("bowstreet.errorhandler.ActionName");
   String errorMessage = ex.toString() + " occurred in: " + actionName;
   //set a the value of a variable to the error message
   webAppAccess.getVariables().setString("ErrorVariable", errorMessage);
   //display a page prompting for new information
   webAppAccess.processPage("ErrorPage");
}</pre>
You can write the above error to the log with the <samp class="ph codeph">logError()</samp> method
on the <samp class="ph codeph">webAppAccess</samp> object as shown below: <pre class="pre codeblock">//log the error
   webAppAccess.logError(actionName, ex);</pre>
</div>
<p class="p">The <samp class="ph codeph">logError()</samp> method takes a string and
a throwable object. The <samp class="ph codeph">actionName</samp> variable is the value
of the <samp class="ph codeph">bowstreet.errorhandler.ActionName</samp> attribute in the
request and <samp class="ph codeph">ex</samp> is the value of the <samp class="ph codeph">bowstreet.errorhandler.Exception</samp> attribute
in the request. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_handle_errors_ljo"><a name="c_handle_errors_ljo"><!-- --></a><h4 class="title topictitle4">Handling errors in linked Java object (LJO) methods</h4>
<div class="body conbody"><p class="shortdesc">You can handle errors in LJO methods using the standard try/catch
mechanism.</p>
<div class="section">In the "catch" code, you extract the error information that the <span class="ph">IBM WebSphere Portlet Factory</span> servlet stores in the
request. Once you process the error information, you can perform one or more
actions to allow processing to proceed or you can simply return an error page.<p class="p">For
example, if the method tries to open a file and fails because the file does
not exist, the catch actions could store the error in a variable to be used
to supply an error message and display a page in which the user can name another
file to open. Unhandled, a <tt class="ph systemoutput">file not found</tt> error
results in the application stopping and the display of the default unhandled
error page.</p>
<p class="p">The following code sample shows a method that tries to open
a file, and if it is not found, stores the error message in a variable and
displays a Specify New File page:</p>
<pre class="pre codeblock">catch (IOException ioe) {
HttpServletRequest request = webAppAccess.getHttpServletRequest();
Throwable ex = (Throwable)request.getAttribute("bowstreet.errorhandler.Exception");
StString errorMessage = ex.toString() + " occurred in: " + actionName;
ring actionName = (String)request.getAttribute("bowstreet.errorhandler.ActionName");
//log the error
webAppAccess.logError(actionName, ex);
//set a the value of a variable to the error message
webAppAccess.getVariables().setString("ErrorVariable", errorMessage);
//display a page prompting for new information
webAppAccess.processPage("ErrorPage");
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_log_errors"><a name="c_log_errors"><!-- --></a><h4 class="title topictitle4">Logging errors</h4>
<div class="body conbody"><p class="shortdesc">You can write the above error to the log with the <samp class="ph codeph">logError()</samp> method
on the <samp class="ph codeph">webAppAccess</samp> object.</p>
<p class="p">The <samp class="ph codeph">logError()</samp> method takes a string and a Throwable object
as shown below:</p>
<pre class="pre codeblock">//log the error
webAppAccess.logError(actionName, ex);</pre>
<p class="p">Where <samp class="ph codeph">actionName</samp> is the value of the <samp class="ph codeph">bowstreet.errorhandler.ActionName</samp> attribute
in the request and <samp class="ph codeph">ex</samp> is the value of the <samp class="ph codeph">bowstreet.errorhandler.Exception</samp> attribute
in the request.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_mod_unhandled_error_page"><a name="c_mod_unhandled_error_page"><!-- --></a><h4 class="title topictitle4">About modifying <span class="ph">IBM WebSphere Portlet Factory</span>'s
unhandled error page</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph"> WebSphere Portlet
Factory</span> includes
a default error page.</p>
<div class="section">It lists the:<ul class="ul"><li class="li">Error that occurred</li>
<li class="li">Stack trace</li>
<li class="li">Actions executed up to the action in which the error occurred.</li>
</ul>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span>'s error
handler processes any errors that occur outside the scope of any other error
handlers that you define. You can create your own unhandled error page by
copying the existing page (<span class="ph filepath">factory/webapp/defaulterror.jsp</span>)
and setting the <samp class="ph codeph">errorHandler</samp> property in the <span class="ph filepath">WEB-INF/config/bowstreet.properties</span> file,
as shown below:</p>
<pre class="pre codeblock"># Default error page (JSP) for unhandled exceptions.
bowstreet.webapp.errorHandler=/path/to/your_error_page.jsp</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested3" xml:lang="en-us" id="r_log4j_categories"><a name="r_log4j_categories"><!-- --></a><h4 class="title topictitle4">Log4j categories</h4>
<div class="body refbody"><p class="shortdesc">The log4j <span class="ph">IBM WebSphere Portlet Factory</span> categories
are listed in the <span class="ph filepath">WEB-INF\config\log4j.properties</span> file
in the project. </p>
<div class="section"><div class="p">The values in this file control logging on the server.
Some of the categories can be used to control logging in <span class="ph"> WebSphere Portlet
Factory</span> Designer by changing
values in the following location.<pre class="pre codeblock"><span class="ph filepath"><var class="keyword varname">install_root</var>/WPFDesigner/eclipse/plugins/com.bowstreet.designer.core_<var class="keyword varname">x</var>.<var class="keyword varname">y</var>.<var class="keyword varname">z</var>/config/log4j.properties</span></pre>
</div>
<p class="p">The
following table lists the category names and their functionality.
Advanced users can use this information to modify log4j logging behavior.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="top"><th class="entry" valign="top" id="d52e31726">Category Name</th>
<th class="entry" valign="top" id="d52e31728">Logging at INFO Level</th>
<th class="entry" valign="top" id="d52e31730">Additional Functionality When the DEBUG Level Is Used</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" colspan="3" valign="top" headers="d52e31726 d52e31728 d52e31730 ">bowstreet.system.builderCalls</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e31726 "> </td>
<td class="entry" valign="top" headers="d52e31728 "><ul class="ul"><li class="li">Session ID</li>
<li class="li">Model name</li>
<li class="li">Builder ID</li>
<li class="li">Builder inputs</li>
</ul>
</td>
<td class="entry" valign="top" headers="d52e31730 ">No additional information is logged.</td>
</tr>
<tr class="row"><td class="entry" colspan="3" valign="top" headers="d52e31726 d52e31728 d52e31730 ">bowstreet.system.builderCallTiming</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e31726 "> </td>
<td class="entry" valign="top" headers="d52e31728 ">No information is logged.</td>
<td class="entry" valign="top" headers="d52e31730 ">The output is similar to the model action tracing
with the following added data. <ul class="ul"><li class="li">Regeneration phase</li>
<li class="li">Phases for subordinate models</li>
<li class="li">Indented traces for higher-level builders calls to constituent
builders</li>
<li class="li">Temporary transitions to Construction from PostConstruction</li>
</ul>
</td>
</tr>
<tr class="row"><td class="entry" colspan="3" valign="top" headers="d52e31726 d52e31728 d52e31730 ">bowstreet.system.modelActions </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31726 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31728 "><ul class="ul"><li class="li">Logs all model actions (methods, pages, action lists, linked Java
object calls) for a specified model </li>
<li class="li">Session ID</li>
<li class="li">Model name</li>
<li class="li">Action name</li>
<li class="li">Timing</li>
</ul>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31730 ">No additional information
is logged.</td>
</tr>
<tr class="row"><td class="entry" colspan="3" valign="top" headers="d52e31726 d52e31728 d52e31730 ">bowstreet.system.modelActions.[modelName]<sup class="ph sup">1</sup></td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31726 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31728 "><ul class="ul"><li class="li">Logs all model actions (methods, pages, action lists, linked Java
object calls) for a specified model </li>
<li class="li">Session ID</li>
<li class="li">Model name</li>
<li class="li">Action name</li>
<li class="li">Timing</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> To log for a single model within a local directory, use
underscore characters (<samp class="ph codeph">_</samp>) to denote the path.</div>
<p class="p">For
example, to log for a model named <samp class="ph codeph">myModel</samp> located
in a directory named <span class="ph filepath">myDir</span>, the syntax is as
follows: <samp class="ph codeph">system.modelActions.myDir_myModel</samp></p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31730 ">No additional information
is logged.</td>
</tr>
<tr class="row"><td class="entry" colspan="3" valign="top" headers="d52e31726 d52e31728 d52e31730 ">bowstreet.system.profileSelection</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31726 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31728 "><ul class="ul"><li class="li">Session ID </li>
<li class="li">Profiles selected (including profile set name) </li>
<li class="li">Model name </li>
</ul>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31730 ">No additional information
is logged.</td>
</tr>
<tr class="row"><td class="entry" colspan="3" valign="top" headers="d52e31726 d52e31728 d52e31730 ">bowstreet.system.regen</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31726 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31728 "><ul class="ul"><li class="li">Regen information</li>
<li class="li">Session ID</li>
<li class="li">Profiles selected</li>
<li class="li">Model name</li>
</ul>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31730 ">No additional information
is logged.</td>
</tr>
<tr class="row"><td class="entry" colspan="3" valign="top" headers="d52e31726 d52e31728 d52e31730 ">bowstreet.system.request</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e31726 "> </td>
<td class="entry" valign="top" headers="d52e31728 "><ul class="ul"><li class="li">Requests</li>
<li class="li">Session ID</li>
<li class="li">Model name</li>
<li class="li">Action name</li>
<li class="li">Timing</li>
</ul>
</td>
<td class="entry" valign="top" headers="d52e31730 ">Request parameters are logged.</td>
</tr>
<tr class="row"><td class="entry" colspan="3" valign="top" headers="d52e31726 d52e31728 d52e31730 ">bowstreet.system.webservice.incomingSOAPRequest</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31726 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31728 "><ul class="ul"><li class="li">Incoming SOAP requests</li>
<li class="li">Timing</li>
<li class="li">Action name</li>
<li class="li">Model name</li>
</ul>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31730 ">It logs the following:<ul class="sl simple"><li class="sli">SOAP arguments </li>
<li class="sli"> Return results </li>
</ul>
</td>
</tr>
<tr class="row"><td class="entry" colspan="3" valign="top" headers="d52e31726 d52e31728 d52e31730 ">bowstreet.system.webservice.serviceCall</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31726 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31728 "><ul class="ul"><li class="li">Service calls</li>
<li class="li">Session ID</li>
<li class="li">Model name</li>
<li class="li">Outgoing request URL</li>
<li class="li">Timing</li>
</ul>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e31730 ">No additional information
is logged.</td>
</tr>
</tbody>
</table>
</div>
<div class="note note"><span class="notetitle">1:</span> Not in the file by default,
but it can be added.</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic reference nested2" xml:lang="en-us" id="r_replace_the_default_error_page"><a name="r_replace_the_default_error_page"><!-- --></a><h3 class="title topictitle3">Replacing the Default Error Page</h3>
<div class="body refbody"><p class="shortdesc">If an exception occurs during a web application request,
which is not caught and handled by the web application, the exception
is passed to a JSP error page.</p>
<div class="section">The error page is determined by the following configuration
property in <span class="ph filepath">WEB-INF/config/bowstreet.properties</span>:<pre class="pre codeblock"># Default error page (JSP) for unhandled exceptions.
bowstreet.webapp.errorHandler=/factory/webapp/defaulterror.jsp</pre>
<p class="p">If it is required for your particular project, you can change the look and feel of this provided error page,
or change this property to point to your own custom error reporting
JSP page. The value of this property is a URL relative to the application
context where <span class="ph">IBM WebSphere Portlet Factory</span> is
installed.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_dsply_errorpgcustom"><a name="t_dsply_errorpgcustom"><!-- --></a><h3 class="title topictitle3">Displaying a custom error page for unhandled errors</h3>
<div class="body taskbody"><p class="shortdesc">You can display your own error page when an error that
is not handled by an Error Handler builder occurs in a model.</p>
<div class="section context">Do one of the following:</div>
<ul class="ul steps-unordered"><li class="li step stepexpand"><span class="ph cmd">Override the default page provided and substitute your
own JSP error page (preferred). </span><ol class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">In the <span class="ph filepath">factory/webapp/</span> directory,
create your own JSP error page. </span> <p class="p">Use the <span class="ph filepath">defaulterror.jsp</span> in
the directory as a model. </p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Open the <span class="ph filepath">override.properties</span> file
located in the project <span class="ph filepath">/WEB-INF/config</span> directory. </span></li>
<li class="li substep substepexpand"><span class="ph cmd">Change the <span class="ph">IBM WebSphere Portlet Factory</span> property
that determines the error page that is called when an unhandled error
occurs. </span> <div class="p">Edit the following comment and property entry
that specifies the page to be displayed. <pre class="pre codeblock"># Default error page (JSP) for unhandled exceptions.
 bowstreet.webapp.errorHandler=/factory/webapp/defaulterror.jsp</pre>
</div>
<p class="p">In
the property entry, replace the name of the <span class="ph filepath">defaulterror.jsp</span> page
with the name of your JSP error page.</p>
<div class="note note"><span class="notetitle">Note:</span> Because the <span class="ph filepath">WebContent/WEB-INF/config</span> directory
is by default an excluded resource, you need to override the team
file and directory exclusion to ensure that your new or modified file
is kept updated in source control storage. </div>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Create an alternate JSP error page for display. </span><ol class="ol substeps"><li class="li substep"><span class="ph cmd">Make a backup copy the existing default error page <span class="ph filepath">factory/webapp/defaulterror.jsp</span>. </span></li>
<li class="li substep"><span class="ph cmd">Modify the original as required. </span></li>
</ol>
 <p class="p">Your alternate JSP page can be overwritten if you upgrade <span class="ph"> WebSphere Portlet
Factory</span> versions.</p>
</li>
</ul>
<div class="section result">The Throwable instance of the Java Exception object is automatically
made available to the JSP error page to be displayed or logged. </div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_catch_timeout"><a name="t_catch_timeout"><!-- --></a><h3 class="title topictitle3">Catching a timeout exception</h3>
<div class="body taskbody"><p class="shortdesc">Perform the following steps to catch a timeout exception.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create a page to be displayed if the service call or SQL transaction
times out.</span></li>
<li class="li step stepexpand"><span class="ph cmd">On that page, include a named <samp class="ph codeph">&lt;span /&gt;</samp> tag
to be used for a Text builder call that displays the message from the timeout
exception.</span>  <p class="p">This example uses <samp class="ph codeph">FailurePage</samp> for
this page name.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a variable to your model.</span> <p class="p">This example uses <samp class="ph codeph">ErrorMessage</samp> for
the variable name.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Text builder to your model. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Locate the Text builder on the page and tag that you created. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Set its <span class="ph uicontrol">Text</span> input to the value of the <samp class="ph codeph">ErrorMessage</samp> variable.</span> <p class="p">For example, <samp class="ph codeph">${Variables/ErrorMessage}</samp>.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Method named <samp class="ph codeph">handleTimeout</samp>, with the following
Body value:</span> <pre class="pre codeblock">{
 HttpServletRequest request = webAppAccess.getHttpServletRequest();
 Throwable ex = (Throwable)request.getAttribute("bowstreet.errorhandler.Exception");
 String actionName = (String)request.getAttribute("bowstreet.errorhandler.ActionName");
 String errorMessage = ex.toString() + " occurred in: " + actionName;
 webAppAccess.getVariables().setString("ErrorMessage", errorMessage);
 webAppAccess.processPage("FailurePage");
}</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add an Error Handler builder call to your model, with the following
input values:</span> <dl class="dl"><dt class="dt dlterm">Try Action</dt>
<dd class="dd">Set to the invoke method for the service call or SQL statement. For example, <samp class="ph codeph">ServiceCallTest.invoke</samp>.</dd>
<dt class="dt dlterm">Catch Action</dt>
<dd class="dd">Set to the model action that handles the error. In this case, <samp class="ph codeph">handleTimeout</samp>.</dd>
</dl>
</li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_handle_errors_advanced"><a name="c_handle_errors_advanced"><!-- --></a><h4 class="title topictitle4">Advanced error handling techniques</h4>
<div class="body conbody"><p class="shortdesc">If the method calls within the Java-based method have an error
handler, the lower-level handler, which is the handler in the method calls
that are contained in the Java-based method, is called.</p>
<div class="section"><p class="p">To pass the handler to a higher-level, the handler must re-throw
the exception.</p>
<p class="p">The action called to handle the error has access to the
original exception through an attribute on the request object. This allows
access to the exception information from a method or a JSP page.</p>
<div class="p">For
example, in a method that was specified to handle an error, you can find the
exception by using the following code:<pre class="pre codeblock">HttpServletRequest request = webAppAccess.getHttpServletRequest();
Throwable ex = (Throwable)request.getAttribute("bowstreet.errorhandler.Exception");
String actionName = (String)request.getAttribute("bowstreet.errorhandler.ActionName");</pre>
</div>
<p class="p">When
adding the Error Handler builder to a specified action, associate the error
handler with the action at which you want processing to stop upon failure.</p>
<p class="p">For
example, assume you added to a model an Action List builder (main) containing
two actions, with the first one a <samp class="ph codeph">method(MyMethod)</samp> and the
second action a <samp class="ph codeph">page(MyPage)</samp>. If you type <samp class="ph codeph">MyMethod</samp> in
the <span class="ph uicontrol">Try Action</span> field and an exception occurs in that
action, the error handler is called. If your error handler does a normal return, <samp class="ph codeph">MyPage</samp> page
is still called, instead of stopping the processing.</p>
<p class="p">To stop the processing
when the exception is called, type <kbd class="ph userinput">Main</kbd> in the <span class="ph uicontrol">Try
Action</span> field. This technique places the handler on the main Action
List builder call, containing <samp class="ph codeph">MyMethod</samp> and <samp class="ph codeph">MyPage</samp>.
This technique stops the processing of the action on an exception.</p>
</div>
<div class="section"><h5 class="title sectiontitle">Handling data entry validation errors</h5><p class="p">A data entry
page is a page which is managed by the Data Page builder. On a data entry
page, any of the fields can be set to data entry. There are a variety of techniques
you can use to deal with errors a user makes when entering data in such a
page. These techniques are beyond the scope of the Error Handler builder.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_example_catching_timeout"><a name="c_example_catching_timeout"><!-- --></a><h4 class="title topictitle4">Example: catching a timeout exception</h4>
<div class="body conbody"><p class="shortdesc">You can handle the case in which a service call or SQL transaction
takes longer than the specified timeout value.</p>
<p class="p"> Add an Error Handler builder and a Method builder to your model. The Error
Handler builder performs a try and catch operation on the specified model
action and the method determines what to do in the event the specified action
fails. </p>
<p class="p">One way of catching a timeout error for a service call or SQL statement
is write a method to handle the error and use the Error Handler builder to
run the method. This is the general process of handling errors in <span class="ph">IBM WebSphere Portlet Factory</span> applications. </p>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_overview_ws_portlets"><a name="c_overview_ws_portlets"><!-- --></a><h2 class="title topictitle2">Developing portlets</h2>
<div class="body conbody"><p class="shortdesc">You can develop <span class="ph">IBM WebSphere Portlet Factory</span> models
to be run as portlets.</p>
<p class="p">This development involves most of the same practices that are used
when you develop standard models. You use the models to develop a
portlet user interface or a data service. Portlets created with <span class="ph"> WebSphere Portlet
Factory</span> are dynamic, robust
Java 2 Enterprise Edition (J2EE) applications. However, there are
differences you need to take into account when developing a model
that is to be used as a portlet.</p>
<p class="p">The following list describes the major differences between WebSphere
portlet models and standard models. </p>
<dl class="dl"><dt class="dt dlterm">Using edit and configure modes</dt>
<dd class="dd">Portlet models use the Portlet Adapter builder for tighter integration
with the <span class="ph">IBM WebSphere Portal</span> environment. </dd>
<dt class="dt dlterm">Using portlet events</dt>
<dd class="dd"><span class="ph">WebSphere Portal</span> portlets
can use JSR 168, JSR 286, or Click-to-Action (C2A) for inter-portlet
communication. </dd>
<dt class="dt dlterm">Using profiling in portlets</dt>
<dd class="dd">Portlets can use the <span class="ph">WebSphere Portal</span> Server
Group Segment Handler, which associates a user with a group defined
in the <span class="ph">WebSphere Portal</span> and
with the WPSPortalMode profile set that allows you to profile builder
call inputs based on whether the model runs as a WebSphere portlet.</dd>
</dl>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_cre_coopprtltsrcmdl"><a name="t_cre_coopprtltsrcmdl"><!-- --></a><h3 class="title topictitle3">Creating a cooperative portlet source model</h3>
<div class="body taskbody"><p class="shortdesc">If you developed a cooperative portlet target model, you
can develop a cooperative portlet source model. </p>
<div class="section context">When you develop a cooperative portlet application, develop
a target portlet first to define the type of data or events to receive.
This approach simplifies your design decisions when you develop a
source portlet. </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a Cooperative Portlet Source builder to your model. </span> <p class="p">The output information specified in the Cooperative Portlet
Source builder of any source portlets that wish to interact must match
the input information in the Cooperative Portlet Target builder.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Use the Cooperative Portlet Source builder to add either
a Property Broker or C2A Single menu link to a specified location
on a page in your model. </span> <p class="p">Use Property Broker Action
if you intend to manually add your own user interface (UI), for example,
a button or link, to trigger the Property Broker action. </p>
<div class="note note"><span class="notetitle">Note:</span> The
Property Broker Link and Action functionality is available only for
JSR 168 and JSR 286 portlets. C2A menu functionality is available
only for IBM native portlets.</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Specify the page location in your model on which the menu
or link is to appear and specify the value to be passed to the target
portlet. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Ensure that the data type matches the information specified
in your Cooperative Portlet Target builder. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Add a Portlet Adapter builder to the model.</span> <p class="p">This
builder call provides your model with a portlet title so that the
portlet can be added to a page in <span class="ph">IBM WebSphere Portal</span> server. Because
cooperative portlets are designed to function in a <span class="ph">WebSphere Portal</span> environment, it
is important to remember this simple, but important, step.</p>
</li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_howdoi_coop"><a name="c_howdoi_coop"><!-- --></a><h4 class="title topictitle4">How do I use cooperative portlets?</h4>
<div class="body conbody"><p class="shortdesc">Cooperative portlets are available in <span class="ph">IBM WebSphere Portal</span> version 6 and later.
Cooperative portlets can interact with each other to share information.</p>
<div class="section">One or more target portlets on a portal page can automatically
react to changes from a source portlet when the source portlet triggers
an action or an event.<p class="p">Portlets that are targets of this event can
react so that users are not required to make repetitive changes or
actions in other portlets on the page. This provides a coordinated
and consistent behavior between the portlets on the page
and enhances user experience.</p>
<p class="p">Cooperation between source and
target portlets is facilitated by a <span class="ph">WebSphere Portal</span> runtime entity
called the Property Broker. Portlets on a page can cooperate in this
way even if they were developed independently, without awareness of
other cooperative portlets.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_overview_ibmportlet"><a name="c_overview_ibmportlet"><!-- --></a><h4 class="title topictitle4">Introduction to portlets</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> enables
you to rapidly deliver dynamic, highly customizable, and adaptive
portlets.</p>
<p class="p">With <span class="ph"> WebSphere Portlet
Factory</span>, you can
quickly and easily create, re-purpose, or assimilate web applications
and web services into portlets. These portlets can be customized by
users, administrators, and developers, all within a protected and
controllable framework. In addition, business users can change the
various aspects (exposed through <span class="ph"> WebSphere Portlet
Factory</span> profiles) of the portlet
functionality, such as presentation or business process, in real time.</p>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> applications
can exist as stand alone web applications, portlets, and web services
without creating any additional code or requiring the duplication
or branching of the current code base. By eliminating the need to
code all of these implementations and their variations, there is a
significant reduction to the development, publishing
and change management process.</p>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_overview"><a name="c_overview"><!-- --></a><h5 class="title topictitle5"><span class="ph">IBM WebSphere Portlet Factory</span> overview</h5>
<div class="body conbody"><p class="shortdesc"><span class="ph"> WebSphere Portlet
Factory</span> enables
you to rapidly deliver dynamic, highly customizable and adaptive <span class="ph">portlets to <span class="ph">IBM WebSphere Portal</span> and </span>widgets
to <span class="ph">IBM Lotus Mashups</span> and
to <span class="ph">IBM InfoSphere MashupHub</span>. </p>
<p class="p"><span class="ph">With <span class="ph"> WebSphere Portlet
Factory</span>, you
can quickly and easily create, re-purpose or assimilate web applications
and web services into <span class="ph">portlets and </span>widgets. </span>These <span class="ph">portlets and </span>widgets can be customized by users,
administrators and developers, all within a protected and controllable
framework. In addition, business users can change the various aspects
(exposed through <span class="ph"> WebSphere Portlet
Factory</span> profiles)
of the <span class="ph">portlet and </span>widget functionality in
real time, such as presentation or business process.</p>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> web applications
can exist as stand alone web applications, <span class="ph">portlets, </span>widgets,
and web services without creating any additional code or requiring
the duplication or branching of the current code base. By eliminating
the need to code all these implementations and their variations, there
is a significant reduction to the development, publishing and change
management process. <span class="ph">All portlets developed with <span class="ph"> WebSphere Portlet
Factory</span> utilize the IBM Portlet Adapter to integrate
with <span class="ph">WebSphere Portal</span>. </span> All
widgets developed with <span class="ph"> WebSphere Portlet
Factory</span> utilize
the IBM Widget Adapter to integrate
with <span class="ph">Lotus Mashups</span>.</p>
<div class="section"><h6 class="title sectiontitle">Resources</h6><p class="p">This topic is part of a set of
topics that describes how to administer the <span class="ph"> WebSphere Portlet
Factory</span> servlet and how to
develop J2EE applications, web services, as well as widgets<span class="ph"> and IBM WebSphere portlets</span>.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_cre_portlets"><a name="c_cre_portlets"><!-- --></a><h6 class="title topictitle6">Creating portlets</h6>
<div class="body conbody"><p class="shortdesc">You use <span class="ph">IBM WebSphere Portlet Factory</span>'s
Designer to develop the portlet's functionality.</p>
<div class="section"><p class="p"> <span class="ph"> WebSphere Portlet
Factory</span> Designer
includes several builders useful in developing portlets for <span class="ph">IBM WebSphere Application
Server</span> in
addition to the more general builders used for J2EE application development.
These builders include:</p>
<dl class="dl"><dt class="dt dlterm">Portlet Adapter</dt>
<dd class="dd">Adding this builder call to a model allows for tighter integration with
the Websphere Portal and allows you to define portlet information such as
a name and description as well as specifying the HTML pages or <span class="ph"> WebSphere Portlet
Factory</span> models
to be used when the user configures or edits the portlet.</dd>
<dt class="dt dlterm">Event Declaration</dt>
<dd class="dd">Adding this builder call to a model allows you to declare an event that
can be handled through the Websphere Portal's event processes. Other portlets,
whether they are created with <span class="ph"> WebSphere Portlet
Factory</span> or
not, may handle these events.</dd>
<dt class="dt dlterm">Portlet Customizer</dt>
<dd class="dd">Adding this builder call to a model allows you to quickly create custom
Configure and Edit models for a particular portlet.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_dev_portlets"><a name="c_dev_portlets"><!-- --></a><h6 class="title topictitle6">Developing portlets with <span class="ph">IBM WebSphere Portlet Factory</span></h6>
<div class="body conbody"><p class="shortdesc">During the course of development, you will use the <span class="ph"> WebSphere Portlet
Factory</span> Designer to create
the portlet functionality and run <span class="ph"> WebSphere Portlet
Factory</span>'s scripts to create
a WAR file that contains the portlets you created.</p>
<div class="section">You then install the generated portlet WAR as a portlet application
using the Websphere Portal Administration tools. In summary, developing <span class="ph">IBM WebSphere Application
Server</span> portlets with<span class="ph"> WebSphere Portlet
Factory</span> consists of these
steps:<ul class="ul"><li class="li">Implement the portlet functionality using <span class="ph"> WebSphere Portlet
Factory</span> Designer to model
and profile the application. You can also create customized Configure
and Edit functionality with <span class="ph"> WebSphere Portlet
Factory</span> Designer. </li>
<li class="li">Run the <span class="ph"> WebSphere Portlet
Factory</span> scripts
to create a portlet WAR file. </li>
<li class="li">Install the generated portlet WAR file using the WebSphere Portal
Administration tools. </li>
</ul>
<p class="p">As you make changes to the portlet models, log out and log
back in to the portal to see the effects of those changes on your
portlets.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_portlet_adapter"><a name="c_portlet_adapter"><!-- --></a><h6 class="title topictitle6">IBM WebSphere Portlet adapter</h6>
<div class="body conbody"><p class="shortdesc">Websphere Portlet Adapter functions as the integration
point between the <span class="ph">IBM WebSphere Portal</span> and
the <span class="ph">IBM WebSphere Portlet Factory</span> web application
development platform.</p>
<div class="section">Using the Portlet Adapter as an abstract portlet in the Portal
Server, you can expose any <span class="ph"> WebSphere Portlet
Factory</span> model
as a concrete portlet. Using the Portlet Adapter to create portlets
adds the following benefits to the usual process of creating portlets
for use with the <span class="ph">WebSphere Portal</span> Server:<dl class="dl"><dt class="dt dlterm">Rapidly create portlets</dt>
<dd class="dd">With typical development tools, creating and making changes to
a portlet requires a full Java class creation and publishing process
(modifying Java source, compiling, or publishing a .war file, for
example), just to be able to create or change a portlet. The Portlet
Adapter eliminates this complexity. To create a new portlet you create
a concrete instance of the Portlet Adapter, specifying the <span class="ph"> WebSphere Portlet
Factory</span> model you want to
use as a portlet. All <span class="ph"> WebSphere Portlet
Factory</span> models
are portlet-ready without adding code. As you make changes to the
portlet's underlying model, those changes are picked up the next time
you run the portal.</dd>
<dt class="dt dlterm">Maximize reuse of existing IT assets</dt>
<dd class="dd"><span class="ph"> WebSphere Portlet
Factory</span>'s builders
enable rapid integration of all current web applications and artifacts
into dynamic <span class="ph"> WebSphere Portlet
Factory</span> models.
Once you incorporate these assets into a model, they can exist as
web services, web applications, portlets or linked models to other <span class="ph"> WebSphere Portlet
Factory</span> applications without
coding or duplicating or versioning artifacts.</dd>
<dt class="dt dlterm">Create many portlets from one</dt>
<dd class="dd">You can create minor variations to existing portlets as well as
major variations to create new adaptations of portlets, using <span class="ph"> WebSphere Portlet
Factory</span> profiles which eliminates
additional development time, republishing of .war files,
publishing of HTML, JSP, and so on.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested4" xml:lang="en-us" id="c_portlet_appearance"><a name="c_portlet_appearance"><!-- --></a><h5 class="title topictitle5">Designing the appearance of portlet pages</h5>
<div class="body conbody"><p class="shortdesc">Portlets developed using <span class="ph">IBM WebSphere Portlet Factory</span> should
adhere to the design standards of other portlets provided by the portal server.</p>
<div class="section">To ensure consistency in the appearance of the user interface, applications
should use common style classes instead of inline style definitions. The style
classes provided by <span class="ph">IBM WebSphere Portal</span> server
are maintained in the file, <span class="ph filepath">styles_portlets.jspf</span>. The
class names are the same as those suggested by the Web Services for Remote
Portlets (WSRP) 1.0 specification to ensure consistency as portlets are ported
across different portal implementations.</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_access_portlet_api"><a name="c_access_portlet_api"><!-- --></a><h5 class="title topictitle5">Access to portlet APIs from a model</h5>
<div class="body conbody"><p class="shortdesc">You can access the Portlet API directly from a model by retrieving
the <samp class="ph codeph">PortletRequest</samp>, <samp class="ph codeph">PortletResponse</samp>, or <samp class="ph codeph">PortletConfig</samp> from
request attributes.</p>
<div class="section">Both the JSR-168 and <span class="ph">WebSphere Portal</span> portlet
adapters place these objects in the <samp class="ph codeph">HttpServletRequest</samp> on
each request using predefined keys from the <samp class="ph codeph">com.bowstreet.adapters.Constants</samp> class.<p class="p">Here
are examples of retrieving each of the Portlet objects:</p>
<pre class="pre codeblock">PortletRequest portletRequest = (PortletRequest) webAppAccess.getHttpServletRequest().getAttribute(Constants.PORTLET_REQUEST);

PortletResponse portletResponse = (PortletResponse) webAppAccess.getHttpServletRequest().getAttribute(Constants.PORTLET_RESPONSE);

PortletConfig portletConfig = (PortletConfig) webAppAccess.getHttpServletRequest().getAttribute(Constants.PORTLET_CONFIG);</pre>
<div class="note note"><span class="notetitle">Note:</span> When
running your model outside of a portal, these objects will be
null.</div>
<p class="p">You will need to import the proper object types based on your
JSR-168 or <span class="ph">WebSphere Portal</span> environment.</p>
<dl class="dl"><dt class="dt dlterm">Imports for JSR-168 portlets:</dt>
<dd class="dd"><pre class="pre codeblock">com.bowstreet.adapters.Constants
javax.portlet.PortletRequest;
javax.portlet.PortletResponse;
javax.portlet.PortletConfig;</pre>
</dd>
<dt class="dt dlterm">Imports for <span class="ph">WebSphere Portal</span> portlets:</dt>
<dd class="dd"><pre class="pre codeblock">com.bowstreet.adapters.Constants
org.apache.jetspeed.portlet.PortletRequest
org.apache.jetspeed.portlet.PortletResponse
org.apache.jetspeed.portlet.PortletConfig</pre>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_develop_portlets"><a name="c_develop_portlets"><!-- --></a><h5 class="title topictitle5">Development and Production WAR files</h5>
<div class="body conbody"><p class="shortdesc">During the course of development, you will use <span class="ph"> WebSphere Portlet
Factory</span> Designer to create
the functionality and WAR files that you can use for testing your
application.</p>
<div class="section"><p class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer
generates WAR files for development testing in the Publishing function.
These files contain items not included (or desirable) in a production
WAR file. For example, a WAR for development testing might contain
some or all of the following:</p>
<dl class="dl"><dt class="dt dlterm"><span class="ph filepath">/factory/designer/preview_webapp.jsp</span></dt>
<dd class="dd">Should not be on a production server</dd>
<dt class="dt dlterm"><span class="ph filepath">/factory/portletadapter/*</span></dt>
<dd class="dd">Not needed in production WARs</dd>
<dt class="dt dlterm"><span class="ph filepath">/WEB-INF/bin/deployment/*/*</span></dt>
<dd class="dd">Not needed in production WARs</dd>
<dt class="dt dlterm"><span class="ph filepath">/WEB-INF/clientlibs/*</span></dt>
<dd class="dd">Not needed in production WARs</dd>
<dt class="dt dlterm"><span class="ph filepath">/WEB-INF/models/factory/adapters/*</span></dt>
<dd class="dd">Not needed in production WARs</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_restrict_modelsasportlets"><a name="c_restrict_modelsasportlets"><!-- --></a><h5 class="title topictitle5">Restrictions on models used as portlets</h5>
<div class="body conbody"><p class="shortdesc">Most models run fine both as standalone web applications and as
portlets. The following are restrictions on models that you intend to use
as portlets:</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">Use the POST method</dt>
<dd class="dd">Use <samp class="ph codeph">method="POST"</samp> in your input <samp class="ph codeph">&lt;form&gt;</samp> tags
in your HTML pages rather than <samp class="ph codeph">method="GET"</samp> or unspecified
which defaults to <samp class="ph codeph">GET</samp>.</dd>
<dt class="dt dlterm">Accessing input data</dt>
<dd class="dd">The JSR 168 Portlet request life cycle processes Action requests separately
from Render requests in order to allow portlets on a page to be rendered multiple
times per explicit portlet action. Due to behavior you cannot rely on request
parameters being available in the page rendering stage. For example, do not
use <samp class="ph codeph">${Inputs/inputname}</samp> as an indirect reference for Page
Control builders (Text builder, and so on). Instead, save necessary inputs
to Variables or application state data and reference them in page controls
from that saved state instead.<div class="p">For example, the sample code below accesses
the <samp class="ph codeph">RequestInput</samp> data from a webApp instance, and saves the
results into the XML variable named <samp class="ph codeph">formdata</samp>.<pre class="pre codeblock">{   Iterator itr = webAppAccess.getRequestInputs().getInputNames();  IXml formData = webAppAccess.getVariables().getXml("formdata");  formData.removeChildren(); //clear old form data out of variable.  String inputName = new String();   while (itr.hasNext()) {    inputname = (String)itr.next();    formData.addChildWithText(inputname, webAppAccess.getRequestInputs().getInputValue(inputname));   } }</pre>
</div>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_coopprtlttgtmdl"><a name="t_cre_coopprtlttgtmdl"><!-- --></a><h3 class="title topictitle3">Creating a Cooperative Portlet Target Model</h3>
<div class="body taskbody"><p class="shortdesc">In creating cooperative portlets, you create the target portlet
first.</p>
<div class="section context">When developing a cooperative portlet application, develop a target
portlet first to define the type of data or events you want to receive. This
approach will simplify your design decisions when developing source portlets.
To develop a target portlet, add the following to your model:</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a Cooperative Portlet Target builder to your model and use
this builder to define the event.</span> <p class="p">You must specify the <span class="ph uicontrol">Event
Name</span>, <span class="ph uicontrol">Input Name</span>, <span class="ph uicontrol">Input Type</span>, <span class="ph uicontrol">Input
Type Name</span>, <span class="ph uicontrol">Namespace</span> and <span class="ph uicontrol">Caption</span> inputs.</p>
<p class="p">It
is also important to remember that the input information in the Cooperative
Portlet Target builder must match the output information specified in the
Cooperative Portlet Source builder of any source portlets that wish to interact.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add an Event Handler builder to the model.</span> <p class="p"> The Event
Handler will perform an action when an event occurs.</p>
<p class="p">In this case, you
want to make sure that the <span class="ph uicontrol">Event Name</span> input matches
the <span class="ph uicontrol">Event Name</span> input from your Cooperative Portlet
Target builder to ensure that the event will trigger the action.</p>
<div class="note note"><span class="notetitle">Note:</span> Prior
to specifying the Event Handler builder, you should develop the method or
page that the Event Handler will execute. This will allow you to select the
event from the Action drop-down list in the Event Handler builder call editor,
rather than typing it in manually.</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Portlet Adapter builder to the model.</span></li>
</ol>
<div class="section result">This builder call provides your model with a portlet
title so that the portlet can be added to a page in <span class="ph">IBM WebSphere Portal</span>.
Since cooperative portlets were designed to function in a <span class="ph">WebSphere Portal</span> environment,
it is important to remember this simple, but important, step.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_snd_coopprtltevnttgt"><a name="t_snd_coopprtltevnttgt"><!-- --></a><h3 class="title topictitle3">Sending cooperative portlet events to target portlets</h3>
<div class="body taskbody"><p class="shortdesc">You can send events to multiple target portlets.</p>
<div class="section context">Because cooperative portlets use the <span class="ph">IBM WebSphere Portal</span> Property
Broker technology, sending events to multiple target portlets is as easy as
sending events to a single portlet. To send an event to multiple portlets:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Do not change your source portlet.</span></li>
<li class="li step"><span class="ph cmd">Add additional cooperative portlet targets, with the same input
type information, to a portal page.</span></li>
<li class="li step"><span class="ph cmd">Ensure that the outputs type information in the Cooperative Portlet
Source builder match the input type information specified in the Cooperative
Portlet Target builder.</span> This is a requirement when broadcasting
to multiple portlets.</li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_implement_interportlet_comm"><a name="c_implement_interportlet_comm"><!-- --></a><h4 class="title topictitle4">Implementing inter-portlet communication</h4>
<div class="body conbody"><p class="shortdesc">Use inter-portlet communication to have portlets interact and share
information.</p>
<p class="p">There are two ways you can set up inter-portlet communications:</p>
<dl class="dl"><dt class="dt dlterm">Using cooperative portlets</dt>
<dd class="dd">Available in portlets built to the IBM Standard (JSR 168) Portlet API</dd>
<dt class="dt dlterm">Using click-to-action portlets</dt>
<dd class="dd">Available in portlets built using the deprecated IBM (legacy) Portlet
API</dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> If you use <span class="ph">IBM WebSphere Application
Server</span> 6
or later, use cooperative portlets.</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_change_portlet_title"><a name="t_change_portlet_title"><!-- --></a><h3 class="title topictitle3">Changing a portlet title or description</h3>
<div class="body taskbody"><p class="shortdesc">You can change the title or description of a portlet that
you have published.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the Outline view, right-click the Portlet Adapter builder
entry in the builder call list, click <span class="ph uicontrol">Disable</span> to
disable the builder, and click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Save</span></span> to save the model.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph">IBM WebSphere Portlet Factory</span> Designer,
right-click the associated project and click <span class="ph uicontrol">Publish Application</span>.</span></li>
<li class="li step"><span class="ph cmd">In the Portlet Adapter builder call editor, change the <span class="ph uicontrol">Title</span> or <span class="ph uicontrol">Description</span> input.</span></li>
<li class="li step"><span class="ph cmd">In the Outline view, right-click the Portlet Adapter builder
entry in the builder call list, click <span class="ph uicontrol">Enable</span> to
enable the builder, and click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Save</span></span> to save the model.</span></li>
<li class="li step"><span class="ph cmd">Right-click the associated project in the <span class="ph">IBM WebSphere Portlet Factory</span> Designer and click <span class="ph uicontrol">Publish
Application</span>.</span></li>
</ol>
<div class="section result">The WAR file is republished and the <span class="ph filepath">portlet.xml</span> file
contained in the WAR is updated to reflect your changes.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_c2arcvrprtlt"><a name="t_cre_c2arcvrprtlt"><!-- --></a><h3 class="title topictitle3">Creating a Click to Action receiver portlet</h3>
<div class="body taskbody"><p class="shortdesc">In developing a C2A application, develop a receiver portlet first.</p>
<div class="section context">By developing a receiver portlet first, you can define the type of
data or events you want to receive. This approach can simplify your design
decisions when developing sender portlets. To develop a receiver portlet,
perform the following operations in your model. </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a C2A Event Declaration builder to your model and use this
builder to define a C2A event.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Define the <span class="ph uicontrol">Event Name</span>, <span class="ph uicontrol">Input
Name</span>, <span class="ph uicontrol">Input Type Name</span>, <span class="ph uicontrol">Namespace</span> and <span class="ph uicontrol">Caption</span> inputs. </span></li>
<li class="li substep"><span class="ph cmd">Ensure that any sender portlets that wish to interact with this
receiver portlet use the same value specified in the <span class="ph uicontrol">Input Type
Name</span> input. </span></li>
<li class="li substep"><span class="ph cmd">Ensure that the <span class="ph uicontrol">Input Type</span> input you
select matches that of the data that the portlet receives.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Before you add an Event Handler builder to
your model, develop the method or page that the Event Handler executes. </span> <p class="p">If you have the method or page available beforehand, you can select
the event from the <span class="ph uicontrol">Action</span> drop-down list in the Event
Handler builder call editor, rather than typing it in manually.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add an Event Handler builder to the model. </span> <p class="p">The Event
Handler builder performs an action when an event occurs. In this case, ensure
that the <span class="ph uicontrol">Event Name</span> input matches the <span class="ph uicontrol">Event
Name</span> input from your C2A Event Declaration builder to ensure that
the C2A event triggers the action.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Portlet Adapter builder to the model.</span> <p class="p">This
builder call provides your model with a portlet title so that the portlet
can be added to a page in <span class="ph">IBM WebSphere Portal</span> server.
Since C2A was designed to function in a <span class="ph">WebSphere Portal</span> environment,
it is important to remember this simple, but important step.</p>
</li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_howdoi_c2a"><a name="c_howdoi_c2a"><!-- --></a><h4 class="title topictitle4">How do I use Click-to-Action portlets?</h4>
<div class="body conbody"><p class="shortdesc">Click-to-Action (C2A) is a feature of <span class="ph">IBM WebSphere Portal</span> that
allows data to be transferred and shared among multiple <span class="ph">WebSphere Application
Server</span> portlets
via UI elements such as drop-down menus.</p>
<div class="section">Development of portlets containing C2A functionality using <span class="ph">IBM WebSphere Portlet Factory</span> Designer
is not much different than developing any other kind of portlet using <span class="ph"> WebSphere Portlet
Factory</span> Designer.</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_ibmportlet_c2a_enable"><a name="c_ibmportlet_c2a_enable"><!-- --></a><h5 class="title topictitle5">Enabling Click-to-Action</h5>
<div class="body conbody"><p class="shortdesc">When building <span class="ph">IBM WebSphere Application
Server</span> portlets,
you can enable a feature called Click-to-Action (C2A) that provides
automatic front-end integration of portlets.</p>
<p class="p">Click-to-Action lets users transfer data from a source portlet
to one or more target portlets. The target portlet will react to the
transferred data, causing information on its page to be refreshed.</p>
<p class="p">One advantage of using Click-to-Action portlets is that the C2A-enabled
menu on the source portlet will show only actions that other portlets
on the page are listening for. If you do not know which portlets will
be on a portal page, you may not want to create a link to explicitly
call an action in case the portlet receiving that action is not available.
In this case, using a Click-to-Action portlet is desirable because
it will look at the portal page and see what actions portlets are
listening for, and show only menu items for the relevant actions.</p>
<div class="section"><h6 class="title sectiontitle">General procedure for enabling C2A events</h6><p class="p">The
general procedure for creating models to be the source and target
for Click-to-Action events is as follows:</p>
<ol class="ol"><li class="li">Create a C2A target model. </li>
<li class="li">Create a C2A source model. </li>
<li class="li">Publish a WAR to the <span class="ph">IBM WebSphere Portal</span> server.</li>
<li class="li">View the C2A portlet. </li>
</ol>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_create_c2a_source_model"><a name="c_create_c2a_source_model"><!-- --></a><h6 class="title topictitle6">About creating a C2A source model</h6>
<div class="body conbody"><p class="shortdesc">A source portlet uses a C2A event to send data to a target
portlet. </p>
<div class="p">Use the Cooperative Portlet Source builder to add a C2A event to
your model. <ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#c_create_c2a_source_model__c2a_events">C2A events in a source model</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_create_c2a_source_model__tagattributes">Tag attributes</a></li>
</ul>
</div>
<div class="section" id="c_create_c2a_source_model__c2a_events"><a name="c_create_c2a_source_model__c2a_events"><!-- --></a><h6 class="title sectiontitle">C2A events in a source model</h6><p class="p">To
enable the source model for C2A events, add a Cooperative Portlet
Source builder call. The Cooperative Portlet Source builder places
the  <samp class="ph codeph">&lt;C2A:encodeProperty/&gt;</samp> or <samp class="ph codeph">&lt;C2A:encodeProperties/&gt;</samp> tag
on a model page and specifies what data to send to the target portlet.
These tags are used to build a menu that can fire a C2A event to a
target portlet on the same page that matches the specified type. The <span class="ph uicontrol">Type</span> input
in the Cooperative Portlet Source builder call editor specifies which
of the two tags are used.</p>
<ul class="ul"><li class="li"> Select <span class="ph uicontrol">C2A Single Action</span> for the <samp class="ph codeph">&lt;C2A:encodeProperty/&gt;</samp> tag. </li>
<li class="li"> Select <span class="ph uicontrol">C2A Multiple Action</span> for the <samp class="ph codeph">&lt;C2A:encodeProperties/&gt;</samp> tag. </li>
</ul>
<p class="p">For information about tag attributes, see <a class="xref" href="designer-html-wrapper.htm#c_create_c2a_source_model__tagattributes">Tag attributes</a>.</p>
<p class="p">A Cooperative
Portlet Source builder call supports either a Single Action or Multiple
Action type, but not both at the same time. However, you can add two
Cooperative Portlet Source builder calls to a model, with one builder
call configured to C2A Single Action and there other to C2A Multiple
Action.</p>
<p class="p">Because you expose the source model as a <span class="ph">IBM WebSphere Portal</span> portlet, you must
add the Portlet Adapter builder to the model.</p>
</div>
<div class="section" id="c_create_c2a_source_model__tagattributes"><a name="c_create_c2a_source_model__tagattributes"><!-- --></a><h6 class="title sectiontitle">Tag attributes</h6><p class="p">The <samp class="ph codeph">&lt;C2A:encodeProperty/&gt;</samp> tag
has the following attributes, which are passed to the target portlet.</p>
<div class="p"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 16. Attributes of the <samp class="ph codeph">&lt;C2A:encodeProperty/&gt;</samp> tag</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e33727">Attribute </th>
<th class="entry" valign="bottom" id="d52e33729">C2A Menu Input Field</th>
<th class="entry" valign="bottom" id="d52e33731">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33727 ">value</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33729 ">Value</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33731 ">The data to be sent
by the source portlet.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33727 ">type</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33729 ">Input Type Name</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33731 ">The type of data
to be sent by the source portlet. The Click-to-Action runtime uses
the type and namespace attributes to match source data to actions
on targets.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33727 ">namespace</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33729 ">Namespace</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33731 ">The namespace for
the type. This attribute is used to group related types in a single
domain.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33727 ">broadcast</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33729 ">Broadcast</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33731 ">If set to <samp class="ph codeph">true</samp>,
the source data is broadcasted to all target portlets with matching
actions, and the generated menu will display an item to broadcast
the source to all matching targets. The default is <samp class="ph codeph">false</samp>. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33727 ">generateMarkupWhenNested</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33729 ">Generate When Nested</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e33731 ">If set to <samp class="ph codeph">true</samp>,
the tag will generate markup even when nested within the <samp class="ph codeph">&lt;C2A:encodeProperties/&gt;</samp> tag.
The default is  <samp class="ph codeph">false</samp>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<p class="p">The <samp class="ph codeph">&lt;C2A:encodeProperties/&gt;</samp> tag
is used to allow the user to send multiple related sources to target
portlet with one click. In this scatter action, multiple <samp class="ph codeph">&lt;C2A:encodeProperty/&gt;</samp> tags
are enclosed within one <samp class="ph codeph">&lt;C2A:encodeProperties/&gt;</samp> tag.
Because each <samp class="ph codeph">&lt;C2A:encodeProperty/&gt;</samp> tag contributes
one source data object for the scatter, each of these tags must specify
a different  type attribute. The <samp class="ph codeph">&lt;C2A:encodeProperties/&gt;</samp> tag
generates a menu with one item. When the item is selected by the user,
each action that matches a <samp class="ph codeph">&lt;C2A:encodeProperty/&gt;</samp> tag
is invoked simultaneously.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_create_c2a_target_model"><a name="c_create_c2a_target_model"><!-- --></a><h6 class="title topictitle6">About creating a C2A target model</h6>
<div class="body conbody"><p class="shortdesc">A target portlet accepts data from a source portlet by receiving
a C2A event from the source portlet.</p>
<p class="p">To enable the target portlet for C2A events, add the Cooperative Portlet
Target builder and provide the C2A event information. You also need to add
an Event Handler builder for the C2A event.</p>
<p class="p">Because you expose the target model as a <span class="ph">IBM WebSphere Portal</span> portlet,
add the Portlet Adapter builder to the model.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_view_c2a_portlet"><a name="c_view_c2a_portlet"><!-- --></a><h6 class="title topictitle6">Viewing the C2A portlet</h6>
<div class="body conbody"><p class="shortdesc">Use the <span class="ph">WebSphere Application
Server</span> Work
with Pages tool to add the source and target C2A models to a new or existing
page.</p>
<div class="section">You can then view the portal page that contains the source and target
portlets. The source portlet should have the C2A icons on it. If you click
the icon, you should see a menu item for your target model. If you select
the menu item, a C2A event with the specified data will be sent to your target
model's event handler.</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="publishingclick-to-actionandcooporativeportlets"><a name="publishingclick-to-actionandcooporativeportlets"><!-- --></a><h6 class="title topictitle6">Publishing Click-to-action and Cooperative portlets</h6>
<div class="body conbody"><p class="shortdesc">After you add the Cooperative Portlet Source and Cooperative
Portlet Target builders that add Property Broker or Click-to-Action
functions to a model, you must republish the portlet WAR.  </p>
<p class="p">These builders describe target portlet actions using WSDL definitions,
and these WSDL files must be added to the portlet WAR file. Republishing
the portlet WAR will add these definitions to it.  If the Publish
Application function is not enabled in the project, manually update
the portlet WAR with the Portal Server administration tool after republishing
the portlet WAR.</p>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_crec2asndrprtlt"><a name="t_crec2asndrprtlt"><!-- --></a><h3 class="title topictitle3">Creating a Click to Action sender portlet</h3>
<div class="body taskbody"><p class="shortdesc">Once you have developed a receiver portlet, you can develop a sender
portlet.</p>
<div class="section context">To develop a sender portlet, add the following to the sender portlet
model:</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a Cooperative Portlet Source builder and use this builder to
add a C2A menu to a page.</span> <p class="p"> Make sure to specify the page in
your project on which the menu is to appear and the tag within that page with
which the menu is to be associated. It is also important to remember that
the <span class="ph uicontrol">Input Type Name</span> must match the <span class="ph uicontrol">Input
Type Name</span> input of the Cooperative Portlet Target builder from
your receiver portlet.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Portlet Adapter builder.</span> <p class="p">This builder
call provides your model with a portlet title so that the portlet can be added
to a page in <span class="ph">IBM WebSphere Portal</span> server.
Because cooperative portlets were designed to function in a <span class="ph">WebSphere Portal</span> environment,
it is important to remember this simple, but important, step.</p>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_snd_c2aevnttgt"><a name="t_snd_c2aevnttgt"><!-- --></a><h3 class="title topictitle3">Sending a Click to Action event to multiple portlets</h3>
<div class="body taskbody"><p class="shortdesc">Because C2A technology follows a broadcaster paradigm, sending
C2A events to multiple portlets is as easy as sending C2A events to a single
portlet.</p>
<div class="section context">To send C2A events to multiple portlets, you need not change your
sender portlet at all. To broadcast to multiple portlets, ensure the following
type matches concerning the Cooperative Portlet Target builder in each of
your receiver portlets. </div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Match the type entered to the Cooperative Portlet Target builder
in the <span class="ph uicontrol">Input Type</span> input to the type of the input that
is to be passed to the Event Handler from the C2A source.</span> For
example, if a value of type <samp class="ph codeph">:string</samp> is to be passed from
the C2A source, that must be reflected in this input.</li>
<li class="li step"><span class="ph cmd">Match the value entered in the the <span class="ph uicontrol">Input Type Name</span> input
to the value entered in the <span class="ph uicontrol">Input Type Name</span> input from
the Cooperative Portlet Source builder in your sender portlet model.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_develop_websphere_portlet"><a name="c_develop_websphere_portlet"><!-- --></a><h3 class="title topictitle3">Development of a WebSphere portlet</h3>
<div class="body conbody"><p class="shortdesc">You use <span class="ph">IBM WebSphere Portlet Factory</span> Designer
to develop the portlet functionality.</p>
<div class="section"><span class="ph"> WebSphere Portlet
Factory</span> Designer
includes several builders useful in developing portlets for <span class="ph">IBM WebSphere Portal</span> server
in addition to the more general builders used for J2EE application development.
These builders include:<dl class="dl"><dt class="dt dlterm">Portlet Adapter</dt>
<dd class="dd">Adding this builder call to a model allows you to define portlet information
such as a name and description as well as specifying the HTML pages or <span class="ph"> WebSphere Portlet
Factory</span> models to be used
when the user configures or edits the portlet.</dd>
<dt class="dt dlterm">Cooperative Portlet Source</dt>
<dd class="dd">Adding this builder call to a model lets you create portlets that can
communicate with one another. With the Cooperative Portlet Target builder
to define events and with Event Handler builder to associate actions with
events, you establish an environment for communicating between portlets. Cooperation
between source and target portlets is facilitated by the <span class="ph">WebSphere Portal</span> runtime
entity called the Property Broker. </dd>
<dt class="dt dlterm">Portlet Customizer</dt>
<dd class="dd">Adding this builder call to a model allows you to quickly create custom
Configure and Edit models for a particular portlet, providing the portal you
are using supports these features.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_portlet_dply_summary"><a name="c_portlet_dply_summary"><!-- --></a><h4 class="title topictitle4">Summary of development steps</h4>
<div class="body conbody"><p class="shortdesc">In summary, developing a portlet with the <span class="ph">IBM WebSphere Portlet Factory</span> consists of these general
steps:</p>
<div class="section"><ol class="ol"><li class="li">Create a project that implements the portlet functionality using <span class="ph"> WebSphere Portlet
Factory</span> Designer to model
and profile the application. <p class="p">For <span class="ph">IBM WebSphere Portal</span> portlets, you can
also create customized Configure and Edit functionality with <span class="ph"> WebSphere Portlet
Factory</span> Designer. </p>
</li>
<li class="li">In <span class="ph"> WebSphere Portlet
Factory</span> Designer,
create a server configuration. <p class="p">In the server configuration,
indicate the type of portal server (<span class="ph">WebSphere Portal</span> 6.<var class="keyword varname">x</var>,
 or JSR 168). </p>
</li>
<li class="li">Use the project context menu to build the portlet WAR. </li>
<li class="li">You can indicate in the <span class="ph uicontrol">Websphere Portlet Factory Project
Properties</span> whether to automatically synchronize changed
files in the project with the files in the portlet WAR on the portal
server. </li>
</ol>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_develop_jsr_portlet"><a name="c_develop_jsr_portlet"><!-- --></a><h4 class="title topictitle4">Development of JSR 286 and JSR 168 portlets on <span class="ph">IBM WebSphere Portal</span> server</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> Designer
supports development of Web applications that use either the Java
Portlet Standard 2.0 (JSR 286) or the Java Portlet Standard 1.0 (JSR
168) API. </p>
<div class="section"><p class="p">These applications can run in the <span class="ph">WebSphere Portal</span> server but cannot
use features specific to that server. </p>
</div>
<div class="section"><h5 class="title sectiontitle">Development of a WebSphere JSR 168 portlet</h5><p class="p">To
limit yourself to the functionality defined in JSR 168, you cannot
use features specific to <span class="ph">WebSphere Portal</span> server,
such as Click-to-Action (C2A) or People Awareness. These features
work on a <span class="ph">WebSphere Portal</span> server
that uses JSR 168, but do not work on other JSR 168 portals.</p>
<p class="p">The
JSR 168 portlet specification does not support J2EE 1.2 portlet applications.
If you build JSR 168 portlets, the portlets must be based on the J2EE
1.3 or later specification.</p>
<p class="p">Do not rely on HTTP headers for
the functionality of your models and portlets. The JSR 168 Portlet
Specification states the following :</p>
<blockquote class="lq"><span class="q">"Depending on the underlying
web-server/servlet container and the portal/portlet container implementation,
client request HTTP headers may not be always available. Portlets
should not rely on the presence of headers to function properly."</span></blockquote>
<p class="p">Portlets
may run remote to the portal server, by Web Services for Remote Portlets
(WSRP). As such, do not rely on HttpServletRequest API methods that
in a traditional Web application return information about the caller
or browser request (for example, <samp class="ph codeph">getRemoteAddr</samp>, <samp class="ph codeph">getRemoteHost</samp>, <samp class="ph codeph">getRequestURL</samp>, <samp class="ph codeph">getProtocol</samp>).
In other words, the HTTP request to the portlet may not be the same
as the HTTP request from the browser to the portal.</p>
<p class="p">Existing
portlets configured using the <span class="ph">WebSphere Portal</span> portlet adapter
are not immediately and automatically configured once the JSR 168
Portlet Adapter is installed. To make an existing deployed portlet
available as a JSR 168 portlet, simply perform a copy of the base
portlet and set the model name. Your portlets can then run as JSR
168 portlets and do not require any code changes.</p>
</div>
<div class="section"><h5 class="title sectiontitle">Web Services for Remote Portlets (WSRP) support</h5><p class="p"><span class="ph"> WebSphere Portlet
Factory</span>  provides qualified
support for WSRP 1.0 on <span class="ph">WebSphere Portal</span> 6.0.1
and for WSRP 2.0 on <span class="ph">WebSphere Portal</span> 6.1
and later systems. </p>
<p class="p"></p>
<p class="p">The following <span class="ph"> WebSphere Portlet
Factory</span> functionality does
not work in a portlet that is built to the WSRP specification. </p>
<ul class="ul"><li class="li">Partial-page refresh and Ajax operations</li>
<li class="li">Usage of the PUMA API and any portlets that utilize the PUMA API</li>
<li class="li">Content Model builders</li>
<li class="li">Spreadsheet Export builder</li>
<li class="li">Lotus Forms Embed and Lotus Forms Launch builders</li>
<li class="li">WebSphere Portal Server Group Segment handler</li>
<li class="li">Edit Defaults (Shared Settings) </li>
</ul>
These limitations are not inclusive of any limitations imposed
by <span class="ph">WebSphere Portal</span> and WSRP
specifications. <div class="p">Additionally, cooperative portlets (Property Broker)
are only supported when the Java Portlet Standard 2.0 API is used
on <span class="ph">WebSphere Portal</span> 6.1 and
later systems with WSRP 2.0.   <div class="note note"><span class="notetitle">Note:</span> Although <span class="ph"> WebSphere Portlet
Factory</span> generates applications
that conform to the WSRP 1.0 and WSRP 2.0 specifications, IBM provides
no explicit support for the production or consumption of portlets
for specific WSRP compliant portlet containers, portal servers, and
application servers other than <span class="ph">WebSphere Portal</span> server and <span class="ph">WebSphere Application
Server</span>.</div>
For more
information on WSRP support, see the <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> wiki</a>. </div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_build_portlet_war"><a name="c_build_portlet_war"><!-- --></a><h4 class="title topictitle4">About exporting a portlet WAR file</h4>
<div class="body conbody"><p class="shortdesc">The <span class="ph uicontrol">Export Portlet WAR</span> command creates
a new web archive for your portlet. </p>
<div class="section"><p class="p">You typically export a WAR when you make changes to your
model or profile sets, for example, when you add a builder. Normally
you do not need to re-export aWAR unless you make changes that modify
the <span class="ph filepath">web.xml</span> file. If you make changes that do
not modify the <span class="ph filepath">web.xml</span> file, you can copy the
changed files to the published location. The <span class="ph uicontrol">Export Portlet
WAR</span> accomplishes this task. You can automate this feature
by setting the <span class="ph uicontrol">Automatically Synchronize Portlet WAR</span> option
on the <span class="ph uicontrol">WebSphere Portlet Factory Project Properties</span> dialog.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_rebuild_dev_war"><a name="c_rebuild_dev_war"><!-- --></a><h4 class="title topictitle4">Rebuilding application server WAR files</h4>
<div class="body conbody"><p class="shortdesc">For application development, developers sometimes need
to completely rebuild the WAR.</p>
<div class="section">You might need to rebuild a WAR file if you
add a portlet to the WAR, delete files from the project, or make other
changes that require revision of the <span class="ph filepath">portlet.xml</span> file.
Portlet WARs can be rebuilt from <span class="ph"> WebSphere Portlet
Factory</span> Designer menu commands
or by using a script. However, to see these development changes in
your published portlets, you must update the portlet WAR with the
republished one or re-publishing using the new WAR.<p class="p">You can rebuild
a WAR file by clicking the <span class="ph uicontrol">Publish Application</span> command
and choosing the desired server configuration.</p>
<div class="p">You might occasionally
want to publish your Application Server WAR to remove files from the
WAR that have been deleted from your project, because deleting a file
from your project does not automatically delete it from the WAR. You
can publish an Application Server WAR in the same manner: by using <span class="ph"> WebSphere Portlet
Factory</span> Designer menu commands
or by running an Ant script. <div class="note note"><span class="notetitle">Note:</span> When using JMX, the server needs
to be running to publish your application. </div>
</div>
<p class="p"> <span class="ph uicontrol">Publish
Application</span> accomplishes its work by initially deleting
all files in the project installed WAR location. This is typically
the installed applications directory of the server. The entire contents
of the project are copied to the installed applications location.
In the case of WebSphere, the application server WAR in <span class="ph filepath">installableApps</span> and
the exploded application in the <span class="ph filepath">\installedApps</span> folder
are updated. In the case of portlets, the <span class="ph filepath">portlet.xml</span> is
regenerated and the portlet WAR is recreated.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_portlet_config_edit"><a name="c_portlet_config_edit"><!-- --></a><h3 class="title topictitle3">Providing configure and edit functionality</h3>
<div class="body conbody"><p class="shortdesc">When the user views <span class="ph">WebSphere Application
Server</span> portlets,
they may have the option to configure or edit the portlet, which entails setting
values for any configurable or editable properties of the portlet.</p>
<div class="section">For portlets created with <span class="ph"> WebSphere Portlet
Factory</span>,
these properties are the profile names and entries declared to be configurable
or editable in the WPS Portlet Adapter builder call. The Websphere Portal
provides default Configure and Edit functionality, but you can alter the appearance
of the Configure and Edit pages for the portlet by specifying an HTML page
that you create to be used instead of the default. Also, you can implement
your own Configure and Edit functionality by creating <span class="ph"> WebSphere Portlet
Factory</span> models
that include an Portlet Customizer builder call.<ul class="ul"><li class="li">Create HTML pages for configure and edit pages if you want to customize
the appearance of the configure and edit pages.</li>
<li class="li">Specify created the filenames of the HTML pages in the WPS Portlet Adapter
builder call.</li>
<li class="li">Specify edit or configure model in WPS Portlet Adapter builder call.</li>
<li class="li">Create specified model, using Portlet Customizer builder call for the
basic functionality.</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_ibmportlet_profiling"><a name="c_ibmportlet_profiling"><!-- --></a><h3 class="title topictitle3">Profiling a portlet</h3>
<div class="body conbody"><p class="shortdesc">You can profile a portlet like any other <span class="ph">IBM WebSphere Portlet Factory</span> model.</p>
<p class="p">You can use profiles to allow for configure (optional in JSR 168 portals)
or edit mode functionality. You can use profiles to vary your portlet behavior
based on the group to which the user belongs and whether the model is being
executed as a portlet or as a standalone web application.</p>
<p class="p">You can profile a portlet according to <span class="ph">IBM WebSphere Application
Server</span> group
information and the execution mode of the model. In <span class="ph">WebSphere Application
Server</span> portlets,
you can also use profiles to implement configure and edit functionality. (Procedures
for JSR 168 portlets are similar. Refer to your portal documentation for additional
information.)</p>
</div>
<div class="related-links"></div><div class="topic task nested3" xml:lang="en-us" id="t_cre_config_edit_model"><a name="t_cre_config_edit_model"><!-- --></a><h4 class="title topictitle4">Creating a custom model for configure and edit modes</h4>
<div class="body taskbody"><p class="shortdesc">To create your own model to display during Configure or Edit Mode
for the Portlet:</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the <span class="ph">IBM WebSphere Portlet Factory</span> Designer,
create an empty model and add a Portlet Customizer builder call to it.</span> The Portlet Customizer adds all the WebApp elements you need to
implement the Configure or Edit functionality for your portlet. You can add
to the base behavior by adding builder calls or importing an alternate HTML
page as described above.</li>
<li class="li step"><span class="ph cmd">In the Portlet Customizer, determine which profile entries you
want to expose and how those entries will be displayed.</span> See the
Portlet Customizer help for more information.</li>
<li class="li step"><span class="ph cmd">In the portlet model, open the builder call editor for the Portlet
Adapter builder call and expand the <span class="ph uicontrol">Advanced</span> input
group.</span></li>
<li class="li step"><span class="ph cmd"> Set the <span class="ph uicontrol">Custom Edit Type</span> or the <span class="ph uicontrol">Custom
Configure Type</span> input to <kbd class="ph userinput">Custom Model</kbd> and
use the model chooser to specify the model with the portlet customizer call
in it as the value for the Custom Configure model or Custom Edit Model input.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_config_edit_config_bc"><a name="c_config_edit_config_bc"><!-- --></a><h5 class="title topictitle5">Configuring the Portlet Adapter builder call</h5>
<div class="body conbody"><p class="shortdesc">You can expose profiled inputs in the model by setting the behavior
for the profile set that contains them in the model's Portlet Adapter builder
call.</p>
<div class="section">The builder call editor for the Portlet Adapter lists any profile
sets associated with the model in its <span class="ph uicontrol">Profile Sets</span> input.
For each profile set listed, set the behavior to one of the following:<dl class="dl"><dt class="dt dlterm">Do not expose in Portal tools</dt>
<dd class="dd">Prevents any exposure of its name or profile values in the Configure and
Edit modes of the portlet. Use this setting when you want the <span class="ph"> WebSphere Portlet
Factory</span>'s
profile selection handler to determine the profile to apply to the portlet's
underlying model.</dd>
<dt class="dt dlterm">Show individual profile values in Edit</dt>
<dd class="dd">Allows the user to specify values for each entry in the profile set when
in the Edit mode for the portlet. Use this setting to allow the user to set
portlet parameters at execution time. For example, a stock-symbol list, zip-code
for weather, background color, and so on.</dd>
<dt class="dt dlterm">Show profile names in Edit</dt>
<dd class="dd">Allows the user to specify a profile to apply to the portlet. Use this
setting to allow the user to apply all the values determined by the selected
profile to the portlet. For example, a profile set could contain profiles
oriented towards the user's region. Using this setting on such a profile set
allows the user to determine the regional profile to use, but the developer
retains control over the individual values in that profile.</dd>
<dt class="dt dlterm">Show individual profile values in Configure</dt>
<dd class="dd">Allows the portal administrator to specify values for each entry in the
profile set when in the Configure mode for the portlet. Use this setting to
allow the portal administrator to set portlet parameters when they add the
portlet to a page. These settings apply to all the users of the portal.</dd>
<dt class="dt dlterm">Show profile names in Configure</dt>
<dd class="dd">Allows the portal administrator to specify a profile to apply to the portlet.
Use this setting to allow the portal administrator to apply all the values
determined by the selected profile to the portlet. These settings apply to
all the users of the portal.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_config_edit_implement"><a name="c_config_edit_implement"><!-- --></a><h6 class="title topictitle6">Implementing portlet Configure and Edit modes</h6>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portal</span> administrators
have the ability to set parameters for a portlet by configuring that portlet.</p>
<p class="p"><span class="ph">WebSphere Portal</span> users may alter
aspects of a portlet by editing that portlet. For portlets developed with <span class="ph">IBM WebSphere Portlet Factory</span>, the profiled builder
call inputs, in conjunction with settings in the Portlet Adapter builder,
determine the values exposed in these configure and edit modes of the portlet.</p>
<p class="p">To expose profiled builder call inputs in the Configure and Edit modes
of the portlet, you need to add a Portlet Adapter builder call to the <span class="ph"> WebSphere Portlet
Factory</span> model and declare
how the associated profile sets are to be used in the Configure and Edit modes.</p>
<p class="p">You can determine the look and feel of the Configure and Edit modes of
the portlet by creating an alternate HTML page to use or create an separate
model that implements the Configure or Edit functionality.</p>
<div class="note note"><span class="notetitle">Note:</span> Portlet configuration might not be available in a JSR 168 portal. Configuration
is an optional feature in these portlets and its availability is determined
by the portal administrator. If configuration capability is available in the
portal, you can take advantage of it.</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_config_edit_override"><a name="c_config_edit_override"><!-- --></a><h6 class="title topictitle6">Overriding the default Configure and Edit display</h6>
<div class="body conbody"><p class="shortdesc">You can alter the display of the Edit and Configure pages that
get displayed when the user or administrator clicks on the <span class="ph uicontrol">Edit</span> or <span class="ph uicontrol">Configure</span> icons
in the portlet's title bar.</p>
<p class="p">You do this by creating your own HTML page to implement the display or
creating a <span class="ph">IBM WebSphere Portlet Factory</span> model
that displays the editable portlet settings and sets the portlet's parameters
from the user's inputs.</p>
</div>
<div class="related-links"></div><div class="topic concept nested6" xml:lang="en-us" id="c_config_edit_override_model"><a name="c_config_edit_override_model"><!-- --></a><h6 class="title topictitle6">Using a different model for the Configure or Edit mode</h6>
<div class="body conbody"><p class="shortdesc">If changing the look and feel of the Edit page does not provide
you with the changes you want to implement, you can create a <span class="ph"> WebSphere Portlet
Factory</span> model
that implements all the Configure or Edit functionality you want.</p>
<div class="section">An example of when you needed to implement your own Configure or
Edit model would be if you wanted to provide alternate controls for setting
input values, such as a file chooser for a user to set a background image
or a List builder call that simplifies the multi-selection of available options.
These UI controls are not included as controls which can edit a profile entry,
so you would need to override the default behavior.<p class="p">You can create a model
that implements the Configure or Edit functionality for your portlet by using
the Portlet Customizer builder. The Portlet Adapter builder call in the portlet
model references the model with the Portlet Customizer in it as its Edit or
Configure model. In turn, the Portlet Customizer builder call specifies the
portlet model as the portlet for which it implements the Configure or Edit
functionality.</p>
<p class="p">Before you create a Configure or Edit model for your
portlet, confirm that your portlet model has a Portlet Adapter builder call
in it and that it has profiled builder call inputs.</p>
<div class="note note"><span class="notetitle">Note:</span> When switching
from Configure to Edit modes, be aware of the following behavior when working
with the Configure and Edit modes of portlets: If you create a portlet that
has one or more profile sets switched to "configure" in the Portlet Adapter
builder, you can click on the configure (wrench) icon to configure the profile
set. However, if you decide to switch that portlet from configure to edit,
in the portlet adapter the edit functionality will not work properly.</div>
<p class="p">While
it appears that you are still able to click the edit (pencil) icon and modify
the profiles, changes are not be picked up in the portlet when you view the
portlet in the portal. You can fix this by cloning the portlet by re-copying
the IBM portlet adapter and choosing the same model.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested6" xml:lang="en-us" id="c_config_edit_override_page"><a name="c_config_edit_override_page"><!-- --></a><h6 class="title topictitle6">Using a different HTML page for the Configure and Edit modes</h6>
<div class="body conbody"><p class="shortdesc">You may wish to change the display of the default Edit or Configure
page, for example, by adding logos and additional content.</p>
<div class="section">You can do this by creating an HTML page that contains the new content
and adding the following HTML to the page at an appropriate location:<pre class="pre codeblock">&lt;FORM&gt; &lt;table cellpadding="3" cellspacing="0" border="0" align="left"&gt; 
&lt;tr name="repeat"&gt; 
&lt;td&gt;&lt;span name="entry_prompt" &gt;&lt;/span&gt;&lt;/td&gt; 
&lt;td&gt;&lt;span name="entry_value"&gt;&lt;/span&gt;&lt;/td&gt; 
&lt;/tr&gt; 
&lt;tr&gt; 
&lt;td colspan="2"&gt;&lt;input name="submitbutton" &gt;&lt;/td&gt; 
&lt;/tr&gt; 
&lt;/table&gt; 
&lt;/FORM&gt; </pre>
<p class="p">The display elements (cellpadding, border, and
so on) can be altered but the name of the elements (<samp class="ph codeph">repeat</samp>, <samp class="ph codeph">entry_prompt</samp>, <samp class="ph codeph">entry_value</samp>, <samp class="ph codeph">submitbutton</samp>) cannot. Also note that the HTML is contained within
FORM elements.</p>
<p class="p">Save your the HTML page you want to use for the Configure
or Edit page in a directory in, or below, the <span class="ph">IBM WebSphere Portlet Factory</span>'s
servable root directory. In the Portlet Adapter builder call in your portlet
model, specify the path to this HTML page as the value for the <span class="ph uicontrol">Portlet
Edit Page to Import</span> or the <span class="ph uicontrol">Portlet Configure Page to
Import</span> inputs.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="t_profiling_group"><a name="t_profiling_group"><!-- --></a><h4 class="title topictitle4">Profiling based on the group</h4>
<div class="body taskbody"><p class="shortdesc">You can alter the way your portlet works according to the group
to which the user belongs by profiling the underlying <span class="ph">IBM WebSphere Portlet Factory</span> model
and associating the profile set with the WPS Group Segment Handler.</p>
<div class="section context"><p class="p">To profile a model based on the <span class="ph">IBM WebSphere Application
Server</span> group
to which a user belongs:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In <span class="ph">IBM WebSphere Portal</span> Admin:
Create any users and groups for your portal application.</span></li>
<li class="li step"><span class="ph cmd">In <span class="ph"> WebSphere Portlet
Factory</span> Designer:
Create your  models,  profile sets, and profiles.</span></li>
<li class="li step"><span class="ph cmd">In <span class="ph"> WebSphere Portlet
Factory</span> Designer:
 Profile the builder call inputs that will drive the variability of your portlet.</span></li>
<li class="li step"><span class="ph cmd">In <span class="ph"> WebSphere Portlet
Factory</span> Designer's
Profile Manager: Use the Select Handler editor to set the selection handler
for the profile set to WPS Group Segment Handler.</span></li>
<li class="li step"><span class="ph cmd"> In <span class="ph"> WebSphere Portlet
Factory</span> Designer's
Profile Manager: In the  Manage Profiles editor, edit the profile and use
the <span class="ph uicontrol">Add External</span> button to specified a group name. </span> You must specify the <span class="ph">WebSphere Application
Server</span> Group
name exactly.</li>
<li class="li step"><span class="ph cmd"> In <span class="ph">WebSphere Portal</span> Admin:
Set permissions for each of your portlets for each <span class="ph">WebSphere Application
Server</span> Group.</span></li>
<li class="li step"><span class="ph cmd">In <span class="ph">WebSphere Portal</span> Admin:
Test your profiling by logging in as one of the users and accessing the profiled
portlets.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_profiling_execmode"><a name="c_profiling_execmode"><!-- --></a><h5 class="title topictitle5">Profiling based on execution-mode with the WPS Execution Mode
handler</h5>
<div class="body conbody"><p class="shortdesc">To select a profile based on run mode in a portlet, use
the WPS Execution Mode Handler.</p>
<div class="section"><p class="p">This handler is for creating models that vary depending
on whether they are running standalone or in a <span class="ph">IBM WebSphere Portal</span> server. This handler
returns Portal if the model is currently running as a portlet in a <span class="ph">WebSphere Portal</span> server; or Standalone
if running standalone.</p>
<p class="p">To use this handler, you create a profile
set that has two profiles called Portal and Standalone. Choose WPS
Execution Mode Handler as the selection handler. In your models, you
can profile builder inputs to this profile set. For example, you can
make it so that portal-only functionality (such as calling <span class="ph">WebSphere Portal</span> APIs) is disabled
when running the model runs standalone. This can be very useful for
developing or testing, so that you can run your models standalone
and also have extra functionality when running in a <span class="ph">WebSphere Portal</span> environment.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested3" xml:lang="en-us" id="t_profiling_userlocale"><a name="t_profiling_userlocale"><!-- --></a><h4 class="title topictitle4">Profiling based on a user's locale</h4>
<div class="body taskbody"><p class="shortdesc">You can use the current Language Locale in the Portal to
drive the localization of a portlet. </p>
<div class="section context"><p class="p">The WPS User object allows you to get the language preference
of users from their user profile.</p>
<p class="p">The Locale Selection Handler
is used to select a profile by matching a user's locale to a profile
within a specified profile set. This handler determines the user's
locale by using the  <samp class="ph codeph">HttpServletRequest.getLocale()</samp> method
on the Locale object to get the locale name as a string.</p>
<p class="p">The
locale value is built up with the language, country, and variant separated
by underscores ("<samp class="ph codeph">en_US_WIN</samp>" or "<samp class="ph codeph">de_DE</samp>").
The language is always lower case (such as "<samp class="ph codeph">en</samp>" for
English) and the country is always upper case (such as "<samp class="ph codeph">GB</samp>").
If the language is missing, the string will begin with an underscore
(for example, "<samp class="ph codeph">_GB</samp>").</p>
<div class="note note"><span class="notetitle">Note:</span> The Locale Selection
Handler can also be used with a standalone web application.</div>
<p class="p">To
profile a portlet based on the user's locale:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In <span class="ph">IBM WebSphere Portal</span> Admin:
Create the users for your portal application.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph">IBM WebSphere Portlet Factory</span> Designer's
Profile Manager: </span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Create a Locale profile set (with language-specific
profiles).</span></li>
<li class="li substep"><span class="ph cmd">Use the Select Handler editor to set the selection handler
for the profile set to Locale Selection Handler.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph"> WebSphere Portlet
Factory</span> Designer:
Profile the builder call inputs that will drive the variability of
your portlet.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph"> WebSphere Portlet
Factory</span> Designer's
Profile Manager: In the Manage Profiles editor, edit the profiles
and for each profile use the <span class="ph uicontrol">Add External</span> button
to associate one or more locale names for the profile segment.</span> <p class="p">For example, if you created a profile named "English",
you should associate <samp class="ph codeph">en</samp> and  <samp class="ph codeph">en_US</samp> with
that profile.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph">WebSphere Portal</span> Admin:
Set permissions for each of your portlets for each <span class="ph">IBM WebSphere Application
Server</span> language locale.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph">WebSphere Portal</span> Admin:
Test your profiling by logging in as one of the users and accessing
the profiled portlets.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_overview_rich_client_platforms"><a name="c_overview_rich_client_platforms"><!-- --></a><h3 class="title topictitle3">Overview of <span class="ph">IBM WebSphere Portlet
Factory</span> support
for rich client platforms</h3>
<div class="body conbody"><p class="shortdesc">In <span class="ph">WebSphere Portlet
Factory</span>,
many <span class="ph">WebSphere Portlet
Factory</span> portlets
can now run on rich client platforms, such as <span class="ph">IBM Lotus Expeditor</span> 6.1.1 and later,
and <span class="ph">IBM Lotus
Notes</span> 8
Standard and later versions.</p>
<p class="p">Rich client platforms use an Eclipse/OSGI (Open Service Gateway
Initiative) based runtime environment that enables Java/SWT and <span class="ph">WebSphere Portlet
Factory</span> based applications
to run directly on client machines. As with all eclipse based platforms,
you extend the platform using eclipse/OSGI plugins also called bundles.
For SWT based components, extensions are provided using eclipse plugins,
just as the Eclipse extensions that implement the <span class="ph">WebSphere Portlet
Factory</span> Designer are
provided with Eclipse plugins. For Portlets, the eclipse extension
is provided using a Web Application Bundle (WAB). A WAB is similar
to a Portlet WAR, but also includes a plugin.xml that describes the
extension, and a manifest that describes OSGI bundle configuration
information such as plugin dependencies and classloading settings.</p>
<p class="p">A typical use might be a <span class="ph">WebSphere Portlet
Factory</span> developer
creating portlets, building a composite application in <span class="ph">IBM WebSphere Portal</span>, possibly wiring
portlets together for property broker events, and then provisioning
that application and the portlet WAB for the project down to <span class="ph">IBM Lotus Expeditor</span> or <span class="ph">Lotus
Notes</span> 8. For more
information on creating portal composite applications, see the <span class="ph">WebSphere Portal</span> Information Center
composite application documentation. For more information on configuring <span class="ph">IBM Lotus Expeditor</span> or <span class="ph">Lotus
Notes</span> 8 against
a <span class="ph">WebSphere Portal</span> server and
provisioning applications from portal, see the <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> documentation. <span class="ph">Lotus
Notes</span> 8 also provides
its own composite application editor, where developers can create
a new composite application within <span class="ph">Lotus
Notes</span> 8 standard,
adding both <span class="ph">Lotus
Notes</span> components
(for example a Contacts view) and portlets from an update site, to
an application page. See the <span class="ph">Lotus
Notes</span> 8 Composite
Application Editor documentation for more information on using CAE
to create composite applications.</p>
<p class="p">See the IBM DeveloperWorks and <span class="ph">WebSphere Portlet
Factory</span> product documentation
sites, and the <span class="ph"> WebSphere Portlet
Factory</span> devWorks
forums for more information on using using <span class="ph">WebSphere Portlet
Factory</span> with <span class="ph">Lotus Expeditor
Toolkit</span> to build
Plugins, Features and Update Sites for rich client platforms</p>
<p class="p">You can use <span class="ph">WebSphere Portlet
Factory</span> to
generate a Web Application Bundle (WAB), an Eclipse Feature referencing
that bundle, and an Eclipse Update Site where that feature and plugin
can be installed from, from a <span class="ph">WebSphere Portlet
Factory</span> project. More
information on the process of building and publishing <span class="ph">WebSphere Portlet
Factory</span> based WABs
can be found in the Building and publishing <span class="ph">WebSphere Portlet
Factory</span> Rich Client
Web Application Bundles help page.</p>
<p class="p">This <span class="ph">WebSphere Portlet
Factory</span> documentation
describes <span class="ph">WebSphere Portlet
Factory</span>-specific
functionality related to building and publishing portlet WABs to the
rich client platforms, but it is not a replacement for those platforms'
own documentation on how to manage, extend and update those platforms.
Refer to each platform's own documentation for more information on
administration, updates and platform-specific features.</p>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="overviewofbuildingwpfbasedwebapplicationbundleswabforrichclientplatformsrcp"><a name="overviewofbuildingwpfbasedwebapplicationbundleswabforrichclientplatformsrcp"><!-- --></a><h4 class="title topictitle4">About Building <span class="ph">IBM WebSphere Portlet
Factory</span>-based
Web Application Bundles (WAB) for Rich Client Platforms (RCP)</h4>
<div class="body conbody"><p class="shortdesc">In <span class="ph">WebSphere Portlet
Factory</span> many <span class="ph">WebSphere Portlet
Factory</span> portlets can now run
on rich client platforms such as <span class="ph">IBM Lotus Expeditor</span> 6.1.1
and later, and <span class="ph">IBM Lotus
Notes</span> 8
Standard and later versions. Web Application Bundles (WAB) let you extend
a portlet for use with Rich Client Platforms. This topic outlines how to build
these bundles for Rich Client Platforms (RCP) using <span class="ph">WebSphere Portlet
Factory</span>.</p>
<p class="p">Rich client platforms use an Eclipse/OSGI (Open Service Gateway Initiative)
based runtime environment that enables Java/SWT and <span class="ph">WebSphere Portlet
Factory</span> based
applications to run directly on client machines. As with all eclipse based
platforms, you extend the platform using eclipse/OSGI plugins also called
bundles. For SWT based components, extensions are provided using eclipse plugins,
just as the Eclipse extensions that implement <span class="ph">WebSphere Portlet
Factory</span> Designer
are provided with Eclipse plugins.  For portlets, the eclipse extension is
provided using a Web Application Bundle (WAB). A WAB is similar to a portlet
WAR, but also includes a plugin.xml that describes the extension, and a manifest
that describes OSGI bundle configuration information such as plugin dependencies
and classloading settings.</p>
<div class="note note"><span class="notetitle">Note:</span> See the<span class="ph">IBM Lotus Expeditor</span> or <span class="ph">IBM Lotus
Notes</span> 8 platform documentation
for information on administering those platforms and managing update sites
for the individual platforms. The capabilities of the two platforms are based
on the same Eclipse/OSGi extension point and update manager capability and
the same <span class="ph">IBM Lotus Expeditor</span> provisioning
mechanisms, but <span class="ph">IBM Lotus
Notes</span> 8
adds administration of update site capabilities that are beyond the scope
of this <span class="ph">WebSphere Portlet
Factory</span>-specific
document, and your <span class="ph">IBM Lotus
Notes</span> 8.x
platform may have additional update site management capabilities not available
at the time this document was authored.</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_install_notes"><a name="c_install_notes"><!-- --></a><h5 class="title topictitle5"><span class="ph">IBM Lotus
Notes</span> 8 install
and setup</h5>
<div class="body conbody"><p class="shortdesc">See <span class="ph">IBM Lotus
Notes</span> 8
documentation for installation and setup.</p>
<p class="p"><span class="ph">IBM Lotus
Notes</span> 8 support
has provided a technote describing how to enable the supplemental features
update site containing optional features such as the web container JSP compiler
bridge.</p>
<p class="p">The J2SE and Eclipse Java Development Tools feature should already be part
of the core <span class="ph">IBM Lotus
Notes</span> 8
install, so you should not have to install those separately, as you do with <span class="ph">IBM Lotus Expeditor</span>.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_add_with_notes_cae"><a name="c_wab_add_with_notes_cae"><!-- --></a><h5 class="title topictitle5">Adding a <span class="ph">IBM WebSphere Portal</span> WAB
to your <span class="ph">IBM Lotus
Notes</span> 8
installation with the <span class="ph">Lotus
Notes</span> Composite
Application Editor (CAE)</h5>
<div class="body conbody"><p class="shortdesc">See the <span class="ph">Lotus
Notes</span> 8 documentation
on the Composite Application Editor for information on creating <span class="ph">Lotus
Notes</span> composite
applications before proceeding.</p>
<div class="section">Use the <span class="ph">Lotus
Notes</span> Composite
Application Editor (CAE) to add components (where a component may
be a portlet, or Eclipse SWT based component) to its palette either
directly from an update site, or as locally installed components,
after having installed a WAB to the platform outside of CAE. The <span class="ph">Lotus
Notes</span> 8 documentation
has more information on the various capabilities of the composite
application editor.<p class="p">To add portlet components to the CAE palette
by the update site, specify a folder-based URL, or an HTTP-based URL,
if you have published your update site to an HTTP server
or J2EE server by the generated WAR file wrapping the update site.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_addtl_info"><a name="c_wab_addtl_info"><!-- --></a><h5 class="title topictitle5">Additional information</h5>
<div class="body conbody"><p class="shortdesc">More up to date information, question and answer threads and samples
may be found on the following <span class="ph"> WebSphere Portlet
Factory</span> related
sites and forums.  Check back regularly, as samples may be added over time
for the new platforms and new functionality.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm"><span class="ph"> WebSphere Portlet
Factory</span> Samples and
Articles</dt>
<dd class="dd">http://www-128.ibm.com/developerworks/websphere/zones/portal/portletfactory/proddoc.html#samples</dd>
<dt class="dt dlterm">Multiple <span class="ph"> WebSphere Portlet
Factory</span> Forums</dt>
<dd class="dd">http://www.ibm.com/developerworks/forums/wsdd_forums.jsp</dd>
<dt class="dt dlterm"><span class="ph">IBM Lotus Expeditor</span> Site</dt>
<dd class="dd">http://www-142.ibm.com/software/sw-lotus/products/product1.nsf/wdocs/expeditor/</dd>
<dt class="dt dlterm"><span class="ph">IBM Lotus Expeditor</span> Support Site</dt>
<dd class="dd">http://www-306.ibm.com/software/lotus/expeditor/support/</dd>
<dt class="dt dlterm"><span class="ph">IBM Lotus Expeditor</span> Forum</dt>
<dd class="dd">http://www-10.lotus.com/ldd/expforum.nsf</dd>
</dl>
<p class="p">More articles and documents on <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">IBM Lotus
Notes</span> may be found off
the developerWorks libary site at http://www.ibm.com/developerworks/views/lotus/libraryview.jsp
by selecting <span class="ph">IBM Lotus Expeditor</span> or <span class="ph">IBM Lotus
Notes</span> as the product to
search for documentation on,</p>
<dl class="dl"><dt class="dt dlterm">Eclipse Article on Update Sites and Update Manager</dt>
<dd class="dd">http://www.eclipse.org/articles/Article-Update/keeping-up-to-date.html</dd>
<dt class="dt dlterm">IBM Lotus Composite Application Blog</dt>
<dd class="dd">http://www-03.ibm.com/developerworks/blogs/page/CompApps</dd>
<dt class="dt dlterm">IBM Lotus Composite Application Blog RSS feed</dt>
<dd class="dd">http://www-03.ibm.com/developerworks/blogs/rss/CompApps?flavor=rssdw</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_build_compapps_provis"><a name="c_wab_build_compapps_provis"><!-- --></a><h5 class="title topictitle5">Building <span class="ph">IBM WebSphere Portal</span> composite
applications and provisioning to <span class="ph">IBM Lotus Expeditor</span>/<span class="ph">IBM Lotus
Notes</span> 8</h5>
<div class="body conbody"><p class="shortdesc">One of the features of <span class="ph">IBM Lotus Expeditor</span> 6.1.1/<span class="ph">IBM Lotus
Notes</span> 8 is the ability
to provision a Composite Application from <span class="ph">WebSphere Portal</span> (we
recommend WP6.0.1 or later) to the XPD/<span class="ph">IBM Lotus
Notes</span> platform</p>
<div class="section"><span class="ph">IBM Lotus Expeditor</span>/<span class="ph">IBM Lotus
Notes</span> 8
installs with a <span class="ph">WebSphere Portal</span> update
called NCI or SCI, which can be used to install Rich Client Platform administration
portlets to your <span class="ph">WebSphere Portal</span> instance. <p class="p">Once
installed, these RCP admin portlets display in the tabs for Edit Layout of
a Composite Application page, (next to the Wiring tab) and allow you to set
information for each portlet, about what the Eclipse/OSGi Feature ID and Version
are for the rich client bundle that implements that portlet, and related information.</p>
<p class="p">If
you set the Feature ID and Version in your <span class="ph"> WebSphere Portlet
Factory</span> Project
Properties RCP dialog, then <span class="ph">WebSphere Portal</span> will
populate those RCP administration settings by default. You may then view those
settings in the RCP Admin portlet for your Composite Application's portlets,
but you should not have to set them all manually, like you may have to for
manually created portlets.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_build_script_gen_rcp"><a name="c_wab_build_script_gen_rcp"><!-- --></a><h5 class="title topictitle5"><span class="ph">IBM WebSphere Portlet Factory</span> build script
and templates for generating the RCP WAB/Feature/UpdateSite</h5>
<div class="body conbody"><p class="shortdesc">Within a <span class="ph"> WebSphere Portlet
Factory</span> project,
under <span class="ph filepath"><var class="keyword varname">projectname</var>/WebContent/WEB-INF/bin/deployment/rcp/</span>,
there are a set of templates for the various property and deployment descriptor
files used to generate a Rich Client Platform Web Application Bundle (WAB),
Feature and Update Site.</p>
<div class="section">In general, you do not need to change these templates for simple
development tasks, but you may want to modify templates such as <span class="ph filepath">feature.properties</span> to
set a copyright notice and license agreement text to be used in your feature.
Some of these properties will be set based on the feature and plugin id and
version you specified in the previous step under the project properties menu. <div class="p">To
change the license and copyright text that displays when you are installing
a WAB feature into a rich client platform, edit the following properties in <span class="ph filepath"><var class="keyword varname">projectname</var>/WebContent/WEB-INF/bin/deployment/rcp/feature.properties</span><pre class="pre codeblock">Feature.license=License 
Feature.copyright=Copyright 2007</pre>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_deploy_to_expeditor"><a name="c_wab_deploy_to_expeditor"><!-- --></a><h5 class="title topictitle5">Publishing <span class="ph">IBM WebSphere Portlet Factory</span>-built
WABs directly to <span class="ph">IBM Lotus Expeditor</span></h5>
<div class="body conbody"><p class="shortdesc">During development, you may want to publish a <span class="ph"> WebSphere Portlet
Factory</span>-built WAB, and the
portlets within it directly to an <span class="ph">IBM Lotus Expeditor</span> client, for testing
individual portlets, outside of a composite application.</p>
<div class="section">If you choose to do so, you may also want to enable a RCP
launch menu item for the portlet(s) in the Portlet Adapter builder,
in the Rich Client Platform input section of the builder, so that
you have a way of launching an individual portlet in the rich client
platform.<p class="p">When you run the build action to create the WAB for your
project then Eclipse/OSGi Feature for that WAB plugin, and an Eclipse/OSGi
"Update Site" for that feature/plugin combination are also created. </p>
<p class="p">To
install this feature to your <span class="ph">IBM Lotus Expeditor</span> client, click on <span class="ph uicontrol">folder
based update site</span> in the <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Application</span> &gt; <span class="ph uicontrol">Install</span> &gt; <span class="ph uicontrol">Search for New Features dialog</span></span> menu
under <span class="ph uicontrol">Add Folder Location</span>.</p>
<p class="p">If you choose
to package the update site into a WAR in your project properties for
RCP menu, the folder based update site will also be packaged into
a WAR file at the root of your project, which you may publish to any
J2EE appserver, to use as an http/url based Eclipse/OSGi update site
for provisioning to <span class="ph">IBM Lotus Expeditor</span>/<span class="ph">IBM Lotus
Notes</span> 8. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_deploy_to_notes"><a name="c_wab_deploy_to_notes"><!-- --></a><h5 class="title topictitle5">Publishing <span class="ph">IBM WebSphere Portlet Factory</span>-built WABs and other
local updates directly to <span class="ph">IBM Lotus
Notes</span> 8 standard
clients</h5>
<div class="body conbody"><p class="shortdesc">For provisioning the supplemental Web Translation bridge
which is required for supporting dynamically generated JSP pages on
the <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">IBM Lotus
Notes</span> platforms,
see the <span class="ph">IBM Lotus
Notes</span> 8
support technote on how to provision <span class="ph">IBM Lotus
Notes</span> 8 supplemental
(optional) features.</p>
<div class="section">By default, <span class="ph">IBM Lotus
Notes</span> 8 disables
access to the Eclipse/<span class="ph">IBM Lotus Expeditor</span> Update
Manager and expects update sites to be managed from the <span class="ph">IBM Lotus
Notes</span> server side.
See the <span class="ph">IBM Lotus
Notes</span> 8
administration documentation for information about managing update
sites.<p class="p">For this reason, it may be difficult to install feature updates
directly to <span class="ph">IBM Lotus
Notes</span> 8
from a file based update site or from your own http url based update
site.</p>
<p class="p">For best results, you should test against a default <span class="ph">IBM Lotus Expeditor</span> installation during
development and then move the WAB to <span class="ph">IBM Lotus
Notes</span> 8 later in
the process.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_enbl_updateui_notes"><a name="c_wab_enbl_updateui_notes"><!-- --></a><h5 class="title topictitle5">Enabling the update manager UI in <span class="ph">IBM Lotus
Notes</span> 8
to develop or test directly against it</h5>
<div class="body conbody"><p class="shortdesc">You can enable the update manager user interface (UI) in <span class="ph">IBM Lotus
Notes</span> 8
to develop or test directly against it. </p>
<div class="section"><p class="p">This is a developer configuration option that may change or be
disabled or removed in future <span class="ph">IBM Lotus
Notes</span> 8
releases.</p>
<div class="note note"><span class="notetitle">Note:</span> Use this option for development only if you are unable
to use the Composite Application Editor to add your portlets to the palette
directly from an update site. Refer to the <span class="ph">IBM Lotus
Notes</span> 8
administration documentation for how to manage update sites.</div>
<div class="p">Change
a setting to enable the Update UI: Edit the <span class="ph filepath"><var class="keyword varname">install_dir</var>/framework/rcp/plugin_customization.ini</span> file
and add the following entry: <pre class="pre codeblock">com.ibm.notes.branding/enable.update.ui=true</pre>
</div>
<p class="p">You
can then browse to an XPD platform update site if you have one, install the
JSP translation bridge, and install <span class="ph">WebSphere Portal</span> WABs
directly from file or HTTP URL based update sites.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_fact_gen_update_site"><a name="c_wab_fact_gen_update_site"><!-- --></a><h5 class="title topictitle5"><span class="ph">IBM WebSphere Portlet Factory</span> generated
update site for the Rich Client WAB and feature</h5>
<div class="body conbody"><p class="shortdesc">This describes the characteristics of an Eclipse/OSGi update
site and suggests update mechanisms. </p>
<div class="section"><p class="p">Typically, an Eclipse/OSGi update site is a folder (either
just on disk or in an HTTP servable content area) that contains a <span class="ph filepath">site.xml</span> file
at the root level, and <span class="ph filepath">features/</span> and <span class="ph filepath">plugins/</span> subfolders
as children of the root (siblings of the <span class="ph filepath">site.xml</span> file).</p>
<p class="p">The
following is a directory listing of a generated update site, feature
and plugin WAB, for a <span class="ph">IBM WebSphere Portal</span> project
named <span class="ph filepath">mytest</span>. The feature jar contains the file, <span class="ph filepath">feature.xml</span>,
which describes the plugins that are associated with that feature.
In the example, the single plugin is for the <span class="ph filepath">mytest</span> WAB.
The plugin jar is the generated portlet WAB. This is the same as a
portlet WAR, but with the addition of the Eclipse <span class="ph filepath">plugin.xml</span> file
and the OSGi <span class="ph filepath">manifest.mf</span> file which describe
the bundle.</p>
<pre class="pre codeblock">Directory of C:\eclipse\workspace\mytest\WPFExpeditorUpdateSitemytest
05/30/2007 01:03 PM    &lt;dir&gt;    .
05/30/2007 01:03 PM    &lt;dir&gt;    ..
05/30/2007 01:03 PM    &lt;dir&gt;    features
05/30/2007 01:03 PM    &lt;dir&gt;    plugins
05/30/2007 01:03 PM        166 site.xml
        1 File(s)      166 bytes
Directory of C:\eclipse\workspace\mytest\WPFExpeditorUpdateSitemytest\features
05/30/2007 01:03 PM    &lt;dir&gt;    .
05/30/2007 01:03 PM    &lt;dir&gt;    ..
05/30/2007 01:03 PM        897 mytest_1.0.0.200705301302.jar
        1 File(s)      897 bytes
Directory of C:\eclipse\workspace\mytest\WPFExpeditorUpdateSitemytest\plugins
05/30/2007 01:03 PM    &lt;dir&gt;    .
05/30/2007 01:03 PM    &lt;dir&gt;    ..
05/30/2007 01:03 PM     5,044,318 mytest_1.0.0.200705301302.jar
        1 File(s)   5,044,318 bytes</pre>
<p class="p">To use this generated update site with the <span class="ph">IBM Lotus Expeditor</span> update manager,
click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Application</span> &gt; <span class="ph uicontrol">Install</span> &gt; <span class="ph uicontrol">Search for New Features dialog</span></span>, and then select <span class="ph uicontrol">Add Folder Location</span>,
and choose <span class="ph filepath">C:\eclipse\workspace\mytest\WPFExpeditorUpdateSitemytest</span> as
the folder based update site location.</p>
<p class="p">To use this generated
update site with the <span class="ph">IBM Lotus
Notes</span> 8 Composite
Application Editor palette, click <span class="ph menucascade"><span class="ph uicontrol">Tools</span> &gt; <span class="ph uicontrol">Component Palette</span> &gt; <span class="ph uicontrol">Add Components</span> &gt; <span class="ph uicontrol">Add Components from Update Site</span></span>,
choose local update site and choose <span class="ph filepath">C:\eclipse\workspace\mytest\WPFExpeditorUpdateSitemytest</span> as
the folder based update site location.  </p>
<p class="p">If you choose to put
the generated folder-based update site on an HTTP server either manually
to your own HTTP server, or by publishing or exporting the generated
WAR that wraps the folder based update site to a J2EE server, then
you would specify remote update site and the HTTP based URL to the <span class="ph filepath">site.xml</span> file
in that hosted update site.</p>
<p class="p">If you use the portlets within a <span class="ph">WebSphere Portal</span> Composite Application,
and then want to automatically provision your project WAB feature
from your update site to <span class="ph">IBM Lotus Expeditor</span>,
when the composite application is provisioned from<span class="ph">WebSphere Portal</span> to <span class="ph">IBM Lotus Expeditor</span>, then you can list
the Update Site in the provisioning preferences for <span class="ph">IBM Lotus Expeditor</span> by setting the
following preference values in the <span class="ph filepath">C:\Program Files\IBM\Lotus\Expeditor\rcp\plugin_customization.ini</span> file:</p>
<pre class="pre codeblock">com.ibm.rcp.provisioning/updateSiteList=file:///eclipse/workspace/mytest/WPFExpeditorUpdateSitemytest|file:///eclipse/workspace/myothertest/WPFExpeditorUpdateSitemyothertest
com.ibm.rcp.provisioning/useList=true
com.ibm.rcp.provisioning/useFeatureURL=true</pre>
<div class="p">Restart <span class="ph">IBM Lotus Expeditor</span>.
See the <span class="ph">IBM Lotus Expeditor</span> developer
and administration guides for more information on setting provisioning
preferences. <div class="note note"><span class="notetitle">Note:</span> You may specify multiple update sites (file URL
or HTTP URL) in the updateSiteList preference by separating them with
the vertical bar (<samp class="ph codeph">|</samp>) character.</div>
</div>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> generates portlet
preferences containing the feature information that you specified
in the <span class="ph"> WebSphere Portlet
Factory</span> Rich Client
Platform project properties dialog that identify which Eclipse feature
id and version is associated with each portlet.  When you provision
a composite application from <span class="ph">WebSphere Portal</span> down to <span class="ph">IBM Lotus Expeditor</span>, if a feature URL
is not also specified in the portlet preferences (either in the <span class="ph filepath">portlet.xml</span> descriptor
or in the <span class="ph">WebSphere Portal</span> Rich
Client Platform administration UI), then the <span class="ph">IBM Lotus Expeditor</span> platform will search
for a feature with the portlet preference specified feature id, in
the provisioning list of update sites. In <span class="ph">IBM Lotus Expeditor</span> 6.1.1 and <span class="ph">IBM Lotus
Notes</span> 8.0.0, the
simplest way to specify the provisioning update site list, is to add
the above preference values to <span class="ph filepath">plugin_customization.ini</span> (which
resides in <span class="ph filepath">C:\notes\framework\rcp</span> for most default <span class="ph">IBM Lotus
Notes</span> 8 installations).</p>
<div class="note note"><span class="notetitle">Note:</span> In
future releases of <span class="ph">IBM Lotus Expeditor</span> 6.x.x
and <span class="ph">IBM Lotus
Notes</span> 8.<var class="keyword varname">x</var>.<var class="keyword varname">x</var>,
there may be administration UIs to manage and possibly restrict the
update site lists used for provisioning features.  At such time, the
default settings set in <span class="ph filepath">plugin_customization.ini</span> may
be overwritten with administrator managed settings, so please refer
to your current <span class="ph">IBM Lotus Expeditor</span> or <span class="ph">IBM Lotus
Notes</span> 8.<var class="keyword varname">x</var> administration
documentation for the correct means of managing update sites for the
current version of your rich client platform.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_proj_build_menu_action"><a name="c_wab_proj_build_menu_action"><!-- --></a><h5 class="title topictitle5"><span class="ph">IBM WebSphere Portlet Factory</span> Project
Build menu action</h5>
<div class="body conbody"><p class="shortdesc">This information describes the <span class="ph"> WebSphere Portlet
Factory</span> Project
Build menu action.</p>
<div class="section"><p class="p">Right click on the project name in the project explorer or navigator
eclipse view to display the project menu for <span class="ph menucascade"><span class="ph uicontrol">Rich
Client</span> &gt; <span class="ph uicontrol">Build WAB for Rich Client</span></span>,
to generate the WAB, Feature and Eclipse Update Site for the <span class="ph"> WebSphere Portlet
Factory</span> portlet
project.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_rcpprops_enable_gen"><a name="c_wab_rcpprops_enable_gen"><!-- --></a><h5 class="title topictitle5"><span class="ph">IBM WebSphere Portlet Factory</span> project
properties for RCP – enable RCP WAB generation for a project</h5>
<div class="body conbody"><p class="shortdesc">You must enable rich client platform support for a <span class="ph"> WebSphere Portlet
Factory</span> project to enable
the project menu option to generate an RCP WAB, and the RCP inputs
to the Portlet Adapter builder.</p>
<div class="section">Right click on a project in a project explorer or navigator
view and select the <span class="ph uicontrol">Properties</span> menu item, then <span class="ph"> WebSphere Portlet
Factory</span>, to modify the Rich
Client Platform properties. These properties include whether or not
you intend to build a RCP WAB, feature and update site for this project,
and the name, description, id and version of the feature. If you choose
to enable building an RCP WAB for the project, then additional RCP
related builder inputs will be available for setting in Portlet Adapter
builder calls. The feature name, description and the feature and plugin
ids default to the project name, but you can change these values.
For example, feature and plugin names often have the form, <samp class="ph codeph">com.mycompany.myproject</samp> or
a similar multicomponent name. The feature version defaults to 1.0.0,
but you can change this value when significant changes have been made
to the functionality provided by the project. By default, a folder
based eclipse update site is generated for the WAB and feature associated
with the project, at the root of the project hierarchy, with a name
like <samp class="ph codeph">WPFExpeditorUpdateSite<var class="keyword varname">projectname</var></samp>,
if RCP WAB generation is enabled with this RCP property dialog. To
generate a WAR file for the update site so that it can be exported to a J2EE appserver and accessed as an http based update site,
select the option to wrap the update site in a WAR. The generated
update WAR file for your site will also be placed in the root of the
project hierarchy if and when it is generated.</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_wab_troubleshoot"><a name="c_wab_troubleshoot"><!-- --></a><h5 class="title topictitle5">Troubleshooting</h5>
<div class="body conbody"><p class="shortdesc">Refer to this information when troubleshooting WABs.</p>
<div class="section"><p class="p">To run <span class="ph">IBM Lotus Expeditor</span> with
a debug console, enter<samp class="ph codeph">C:\Program Files\IBM\Lotus\Expeditor\rcp\rcplauncher.exe
with -debug -console</samp></p>
<div class="p">. To run <span class="ph">IBM Lotus
Notes</span> 8
with a debug console, add the following to <span class="ph filepath">C:\notes\framework\rcp\rcplauncher.propertiesi</span><pre class="pre codeblock">config.notes.10=-console
config.notes.9=-debug</pre>
</div>
<div class="p">You can find the <span class="ph">IBM Lotus Expeditor</span> logs
in the <span class="ph">IBM Lotus Expeditor</span> workspace, for
example: <span class="ph filepath">C:\Documents and Settings\username\Application Data\Lotus\XPD\logs</span><div class="note note"><span class="notetitle">Note:</span> If
you open the XML logs with a browser (and don't block the actions it tries
to take) the logs will be presented in a nice HTML table using a stylesheet.</div>
</div>
<p class="p">You
can find the <span class="ph">IBM Lotus
Notes</span> 8
logs in the <span class="ph">IBM Lotus
Notes</span> workspace,
for example: <span class="ph filepath">C:\notes\data\workspace\logs</span></p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_rcp_limits_diffs"><a name="c_rcp_limits_diffs"><!-- --></a><h5 class="title topictitle5">Known Rich Client Platform limitations and differences</h5>
<div class="body conbody"><p class="shortdesc">There are several known limitations between supported rich
client platforms.</p>
<div class="section"><ul class="ul"><li class="li">While <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8 support
a JSR168 portlet container and Property Broker, they are NOT a full <span class="ph">WebSphere Portal</span>. Just as you cannot
use <span class="ph">WebSphere Portal</span>-specific
APIs in the WAS6.1 JSR168 portlet container, you cannot use <span class="ph">WebSphere Portal</span>-specific APIs (PUMA,
for example) in the <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8 JSR168
containers. Known <span class="ph">WebSphere Portal</span>-specific
APIs that are not available on <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8 include
but may not be limited to: <ul class="ul"><li class="li">PUMA User/Group management</li>
<li class="li">Credential Vault</li>
<li class="li">Portal provided content management services</li>
</ul>
</li>
<li class="li">The <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8 portlet
container support the Edit/Personalize mode of editing portlet preferences,
but not the edit defaults "Shared Settings" or "Configure" portlet
modes and preference levels that <span class="ph">WebSphere Portal</span> supports. Portlets
that rely on Configure or Shared Settings (also known as edit defaults,
to developers) may have to be modified to not rely on those portlet
modes in rich client platform environments. An example might be to
use the edit mode or external configuration properties instead for
portlets that need to run on a rich client platform.</li>
<li class="li">The default Java VM that ships with <span class="ph">IBM Lotus Expeditor</span>r (jclDesktop) does
not support AWT or Swing, so you must upgrade your <span class="ph">IBM Lotus Expeditor</span> to use the J2SE
Java VM (available on the <span class="ph">IBM Lotus Expeditor</span> DRE update site
on your <span class="ph">IBM Lotus Expeditor</span> product
media), to use WebCharts (the 3rdParty charting jar relies on AWT/Swing
classes that only exist in a full Java VM).</li>
<li class="li"><span class="ph"> WebSphere Portlet
Factory</span> has the ability
for push a WAR out to <span class="ph">WebSphere Portal</span> when
you want to publish it. <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8 instead
use the Eclipse model where you tell the platform where to read/pull
it from. While <span class="ph"> WebSphere Portlet
Factory</span> Designer
builds the WAB, Feature and Update Site, <span class="ph">IBM Lotus Expeditor</span> or <span class="ph">Lotus
Notes</span> 8 must provision
from that update site, rather than having the designer push it out
to <span class="ph">IBM Lotus Expeditor</span>/<span class="ph">Lotus
Notes</span>. This could
cause a high network and server demand if you consider that there
may be hundreds of <span class="ph">IBM Lotus Expeditor</span> or <span class="ph">Lotus
Notes</span> clients
that may want to download a portlet WAB, instead of using portlet
WAR that you push to one or more portal servers.</li>
<li class="li">If you build composite applications for <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8, the portlets
are actually running in multiple embedded browsers within the rich
client platform, rather than in one browser as is the case with portal
application pages. The benefit to this is that performing an action
in one portlet does not force the other portlets on the page to re-render.
The disadvantage to this is that portlet based applications that rely
on the otherwise undesirable behavior of re-rendering all portlets
on the page when a single portlet is accessed will perform differently
on the rich client platforms. For example where the portlet receiving
the action updates a shared variable that all other portlets on the
page use when rendering their view, the other portlets will not automatically
be rendered again, so if they were relying on doing so, then either
the portlets or portlet application needs to be modified to not rely
on that behavior, or you need to use a rich client platform supported
portlet to portlet communication mechanism like property broker to
communicate between portlets.</li>
<li class="li">Since <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8 run on
client machines, and it is not efficient to have an administrator
to configure JDBC datasources on every client machine, the <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8 rich client
platforms configure datasources using plugins, rather than through
a platform administrator interface. More information on configuring
datasources for <span class="ph">IBM Lotus Expeditor</span> based
rich client platforms, is available in the <span class="ph">IBM Lotus Expeditor</span> Developers Guide.</li>
<li class="li">Java 1.4.x on Windows appears to have a 256 character filesystem
path limitation, and the <span class="ph">IBM Lotus Expeditor</span> platform
installs extensions fairly deep on the filesystem. If you run into
file not found issues due to file paths greater than 256 characters,
try upgrading to the Java J2SE5 JVM provided with the <span class="ph">IBM Lotus Expeditor</span> DRE update site,
which does not appear to be susceptible to these path limitations.</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_rcp_migrate_apps"><a name="c_rcp_migrate_apps"><!-- --></a><h5 class="title topictitle5">Caveats on migrating applications from <span class="ph">WebSphere Portal</span> to <span class="ph">IBM Lotus Expeditor</span>/<span class="ph">Lotus
Notes</span> 8</h5>
<div class="body conbody"><p class="shortdesc">Not every portal based composite application or portlet
is a good candidate for running locally on end user desktops using
the rich client platform. At the minimum you should perform a thorough
review of your application's security needs to determine the risks
involved.</p>
<div class="section">For example:<ul class="ul"><li class="li">Many applications may store sensitive data within the web application
archive, assuming that the portal server machine and disks will be
protected by physical and network firewall security. Moving such sensitive
data to a rich client platform installed on less privileged and less
trusted end user laptops where the user has direct access to the physical
media has inherent security risks.</li>
<li class="li">Some applications may perform access-control level decisions in
application logic or <span class="ph"> WebSphere Portlet
Factory</span> profiles
stored with the application. Moving such profiles and application
code onto an end-user system where they may be modified (for example,
by manually editing profiles or by using one of the freely available
java decompilers to modify application code) can expose a security
risk. </li>
<li class="li">Applications where a separate backend server, not the web application
logic, controls access to data (Mail applications, for example), is
an example of a reasonable choice for running directly on end-user
client platforms/systems. </li>
</ul>
<p class="p">Not every <span class="ph"> WebSphere Portlet
Factory</span> based
application should be ported "as is" from <span class="ph">WebSphere Application
Server</span> or <span class="ph">WebSphere Portal</span> to the rich client
platforms. Some applications and back end data integration assume
the application is running on a centralized server, and not on possibly
hundreds or thousands of desktop machines. For example:</p>
<ul class="ul"><li class="li">A Datasource on a J2EE AppServer manages a fixed size pool of
connections to databases, shared among all users of that datasource
on the appserver. Your IT dept and DB Administrators probably would
not allow hundreds or thousands of client machines to connect directly
to the corporate database servers, so you might have to redesign an
application so that every client does not need direct connectivity
to the central database server, for example using the <span class="ph">IBM Lotus Expeditor</span> documented database
synchronization mechanisms.</li>
<li class="li">A connection pool manages the connections between <span class="ph"> WebSphere Portlet
Factory</span> applications running
on <span class="ph">IBM WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span> to an SAP server.It
is unlikely that your IT department wants hundreds or thousands of
individual client machines holding connections open to your SAP server,
even if the server can handle that many open connections.   You might
want to design such applications passing application data to a centralized
application server, for example, using web services or similar mechanism,
which then communicates with back end data servers such as SAP.</li>
</ul>
<p class="p">In addition to these examples, there may be other situations
where it is appropriate for a centralized application server to access
a back end resource, that should not or may not be accessible directly
by all of your client machines. Examine your current architecture
and determine if your application design has such connectivity issues
that may need a redesign before your application can be published
or exported in an environment where the code runs on
every client machine.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_rcp_wed_dom_reqs"><a name="c_rcp_wed_dom_reqs"><!-- --></a><h5 class="title topictitle5"><span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8 platform
requirements and pre-requisites</h5>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM Lotus Expeditor</span> 6.1.1
and <span class="ph">Lotus
Notes</span> 8
added the capability to support dynamic translation of JSPs (previous
versions only supported precompiled JSPs) which <span class="ph"> WebSphere Portlet
Factory</span> requires.</p>
<div class="section">Unfortunately, it is not yet in the core features installed
with <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8, but rather
from an update site provided with <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8 where
optional <span class="ph">IBM Lotus Expeditor</span> platform
features may be installed. For <span class="ph">IBM Lotus Expeditor</span>, the Web Translation
feature may be found in the platform update site along with other
optional features provided with the Lotus Expeditor media, and it
may be installed manually using the <span class="ph">IBM Lotus Expeditor</span> update manager,
or using the <span class="ph">IBM Lotus Expeditor</span> managed
server (see the <span class="ph">IBM Lotus Expeditor</span> documentation
for more information on managing <span class="ph">IBM Lotus Expeditor</span> using a centralized
server). A <span class="ph">Lotus
Notes</span> 8
support TechNote documents how to install the <span class="ph">Lotus
Notes</span> Supplemental
Features, including the Web Translator feature.<div class="note note"><span class="notetitle">Note:</span> If you want to
use WebCharts, or any similar portlet features relying on Java AWT/Swing,
you need to be running <span class="ph">IBM Lotus Expeditor</span> on
the full Java J2SE JVM. A full Java J2SE JVM is provided with the <span class="ph">IBM Lotus Expeditor</span> DRE update site,
rather than the default smaller jclDesktop Java Virtual Machine that <span class="ph">IBM Lotus Expeditor</span> installs by default.</div>
</div>
<div class="section"><h6 class="title sectiontitle">Dojo drag and drop support</h6><p class="p">In <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">IBM Lotus
Notes</span> 8, you can
use Dojo drag and drop within the same portlet. However, Dojo drag
and drop does not operate across portlets. Because each portlet window
in this environment is a unique browser window, the Dojo drag and
drop functionality cannot be used to drag from one portlet to another.
   </p>
</div>
<div class="section"><h6 class="title sectiontitle">Event delivery</h6><p class="p">In <span class="ph">IBM Lotus Expeditor</span> and <span class="ph">Lotus
Notes</span> 8, client-side
event delivery does not operate across portlets. Because each portlet
window in this environment  is a unique browser window, the client-side
event delivery specified in the Event Declaration builder cannot be
used to send a client event from one portlet to another.
 </p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="unique_227257649"><a name="unique_227257649"><!-- --></a><h2 class="title topictitle2">Developing widgets with <span class="ph">IBM WebSphere Portlet Factory</span></h2>
<div class="body conbody"><p class="shortdesc">During the course of development, you use the <span class="ph"> WebSphere Portlet
Factory</span> Designer to create
and run widgets locally. </p>
<div class="section"><p class="p">The recommended best practice for rapid development of
widgets is to have a locally-installed <span class="ph">IBM Lotus Mashups</span> server. If
you do not have a local mashup server, refer to Publishing for Production
(see below) for information about how to generate a production WAR
to deploy widgets to a remote mashup server using the <span class="ph">IBM InfoSphere MashupHub</span>. </p>
<p class="p">Developing
widgets with <span class="ph"> WebSphere Portlet
Factory</span> consists
of the following steps. </p>
<ol class="ol"><li class="li">Create and publish the widget functionality using the <span class="ph"> WebSphere Portlet
Factory</span> Designer. <p class="p">You can
also create customized widget functionality with the Designer by profile-enabling
builder inputs, as described in <a class="xref" href="designer-html-wrapper.htm#profiling_overview" title="Creating applications with builders offers benefits over traditional development.">Profiling IBM WebSphere Portlet Factory applications</a>. </p>
<div class="p">                <div class="note note"><span class="notetitle">Note:</span> The following builders are not
supported in <span class="ph">Lotus Mashups</span>. <ul class="sl simple"><li class="sli">Ajax Region</li>
<li class="sli">Cooperative Portlet Source</li>
<li class="sli">Cooperative Portlet Target</li>
<li class="sli">Directory Search</li>
<li class="sli">Lotus Forms Embed</li>
<li class="sli">Lotus Forms Launch</li>
<li class="sli">Lotus Web Content Management
Access</li>
<li class="sli">People Awareness</li>
<li class="sli">Portal Document Manager Access</li>
<li class="sli">Portlet Adapter</li>
<li class="sli">Portlet Customizer</li>
<li class="sli">Web Service Enable</li>
<li class="sli">WebSphere Portal
Credential</li>
<li class="sli">WebSphere Portal
Link</li>
</ul>
</div>
Do not add any of these builders to your model if it is
run in <span class="ph">Lotus Mashups</span>. </div>
</li>
<li class="li">Run the widget models from <span class="ph"> WebSphere Portlet
Factory</span>  Designer to test
them. </li>
<li class="li">Publish the widgets to the <span class="ph">Lotus Mashups</span> toolbox by
right-clicking on the project and selecting <span class="ph menucascade"><span class="ph uicontrol">Widgets</span> &gt; <span class="ph uicontrol">Publish Widgets to Lotus
Mashups toolbox</span></span> to publish the widget. Select
the widgets you want to publish and click <span class="ph uicontrol">OK</span>.</li>
</ol>
<p class="p">If you make additional changes to the widget models after
you include the widgets in a mashup page, log out of the mashup server
and log back in to see the effects of the changes on your widgets.</p>
<p class="p">When
you have finished developing and testing your widgets, export a production
deployment WAR for your project. The project WAR can be published
to the appropriate <span class="ph">Lotus Mashups</span> server
through the <span class="ph">InfoSphere MashupHub</span> as
described in <a class="xref" href="designer-html-wrapper.htm#t_dply_app" title="If you need to create a WAR or WAB file and you already have a server configuration defined, you can export your application for production.">Export for production</a>.</p>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_widget_events"><a name="t_cre_widget_events"><!-- --></a><h3 class="title topictitle3">Using widget events</h3>
<div class="body taskbody"><p class="shortdesc">You can create widgets that use widget events to communicate
with one another.</p>
<div class="section context">To create widgets that use widget events to communicate,
follow these basic steps:<ol class="ol"><li class="li">Create a project.</li>
<li class="li">Create a model that will fire (initiate) the event.</li>
<li class="li">Create a model that will handle the event.</li>
<li class="li">Publish the widgets to the <span class="ph">IBM Lotus Mashups</span> toolbox.</li>
<li class="li">Use <span class="ph">Lotus Mashups</span> to
wire the widgets together.</li>
</ol>
<p class="p">The following procedure shows how to create two widgets: a
source widget and a target widget. The source widget fires an event
that sends a text string to the target widget. The target widget handles
the event and displays the text string.</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create a new project by clicking <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span></span>. Select <span class="ph uicontrol">WebSphere
Portlet Factory Project</span>. Enter a project name (for example, <kbd class="ph userinput">TalkingWidgets</kbd>).
Click <span class="ph uicontrol">Next</span>. Accept the default location, the
selected extensions, and deselect <span class="ph uicontrol">Tutorials and Samples</span>.
Click <span class="ph uicontrol">Finish</span>. When prompted whether you would
like to deploy the project now, click <span class="ph uicontrol">Yes</span> . <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/demo-lotus-widget-factory-creating-a-project" target="_blank">Click here to watch this step.</a></span></li>
<li class="li step stepexpand"><span class="ph cmd">Create a source model. Click the icon for Create a New <span class="ph">Portlet</span> Factory
Model. From the list of Available Projects, select the name of your
new project. Click <span class="ph uicontrol">Next</span>. For the Page Settings,
accept the default <span class="ph uicontrol">Imported Page</span>. Click <span class="ph uicontrol">Next</span>.
For the model type, select <span class="ph uicontrol">Main and Page</span>. Click <span class="ph uicontrol">Next</span>.
Enter a meaningful model name, such as <kbd class="ph userinput">SourceModel</kbd>.
The model name will appear in directory paths and file names where
the project is stored. Click <span class="ph uicontrol">Finish</span>.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Add the Widget Adapter builder. Click the Add a Builder
icon. From the list of builders, select <span class="ph uicontrol">Widget Adapter</span>.
Enter a title for the widget (such as <kbd class="ph userinput">SourceWidget</kbd>),
the drawer where the widget will appear in the <span class="ph">Lotus Mashups</span> toolbox, and
a description of the widget (optional). Click <span class="ph uicontrol">OK</span>.</span></li>
<li class="li substep"><span class="ph cmd">Add the Widget Event builder. Click the Add a Builder
icon. From the list of builders, select <span class="ph uicontrol">Widget Event</span>.
Enter a name for the Widget Event, such as <kbd class="ph userinput">SourceEvent</kbd>.
For Payload, select <span class="ph uicontrol">One Simple Parameter as Payload</span>.
For Payload Type/ID, select <span class="ph uicontrol">string</span>. For Event
Usage, select <span class="ph uicontrol">Fire this Event to other Widgets</span>.
Click <span class="ph uicontrol">OK</span>.</span></li>
<li class="li substep"><span class="ph cmd">Add the Link builder. Click the Add a Builder icon.
From the list of builders, select <span class="ph uicontrol">Link</span>. Enter
a name for the Link (optional). Enter the Page Location, where the
Page is <span class="ph uicontrol">page1</span>, and the Tag is <span class="ph uicontrol">namedTag</span>.
For Link text, enter the text that will constitute the link. For Action
Type, choose <span class="ph uicontrol">Link to an action</span>. For Action,
choose <span class="ph menucascade"><span class="ph uicontrol">Methods</span> &gt; <span class="ph uicontrol">fireSourceEvent</span></span>, where <kbd class="ph userinput">SourceEvent</kbd> is the event
name you entered in the Widget Event builder inputs. In the Arguments
section, for Evaluate arguments, choose <span class="ph uicontrol">As the page is
rendered</span>. In Input Mappings, note that <var class="keyword varname">fireSourceEvent_Arg1</var> is
provided. In the value, enter the text string that you want to send
to the target widget. Click <span class="ph uicontrol">OK</span>. <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/demo-lotus-widget-factory-creating-a-source-model" target="_blank">Click here to watch this step.</a></span></li>
</ol>
 The source widget is created. Click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Save</span></span> to save it.</li>
<li class="li step stepexpand"><span class="ph cmd">Create a target model that receives the message from the
source model. Click the icon for Create a New <span class="ph">Portlet</span> Factory Model. Select the project name
from the list. Click <span class="ph uicontrol">Next</span>. For the model type,
select <span class="ph uicontrol">Main and Page</span>. Click <span class="ph uicontrol">Next</span>.
For the Page Settings, accept the default <span class="ph uicontrol">Imported Page</span>.
Click <span class="ph uicontrol">Next</span>. Enter a meaningful model name,
such as <kbd class="ph userinput">TargetModel</kbd>. Click <span class="ph uicontrol">Finish</span>.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Add the Widget Adapter builder. Click the Add a Builder
icon. From the list of builders, select <span class="ph uicontrol">Widget Adapter</span>.
Enter a title for the widget (such as <kbd class="ph userinput">TargetWidget</kbd>),
the drawer where the widget will appear in the <span class="ph">Lotus Mashups</span> toolbox, and
a description of the widget (optional). Click <span class="ph uicontrol">OK</span>.</span></li>
<li class="li substep"><span class="ph cmd">Add the Variable builder. Click the Add a Builder icon.
From the list of builders, select <span class="ph uicontrol">Variable</span>.
Enter a meaningful variable name, such as <kbd class="ph userinput">MessageVariable</kbd>.
For Type, choose <span class="ph uicontrol">String</span>. For the Initial Value,
enter the initial text that will appear before the event is fired.
Click <span class="ph uicontrol">OK</span>.</span></li>
<li class="li substep"><span class="ph cmd">Add the Text builder. Click the Add a Builder icon.
From the list of builders, select <span class="ph uicontrol">Text</span>. Enter
a meaningful name, such as <kbd class="ph userinput">TargetTag</kbd>. For Page,
choose <span class="ph uicontrol">page1</span>. For Tag, choose <span class="ph uicontrol">namedTag</span>.
For Text, choose <span class="ph menucascade"><span class="ph uicontrol">Variables</span> &gt; <span class="ph uicontrol">MessageVariable</span></span> (the name of
the variable created above). Click <span class="ph uicontrol">OK</span>.</span></li>
<li class="li substep"><span class="ph cmd">Add the Widget Event builder. Click the Add a Builder
icon. From the list of builders, select <span class="ph uicontrol">Widget Event</span>.
Enter a name for the event, such as <kbd class="ph userinput">TargetEvent</kbd>.
For Payload, choose <span class="ph uicontrol">One Simple Parameter as Payload</span>.
For Event Type, choose <span class="ph uicontrol">string</span>. For Event Usage,
choose <span class="ph uicontrol">Handle this event when fired by other widgets</span>.
Scroll down to the Event Handling section. For Action Type, leave
the default setting (<span class="ph uicontrol">Execute one or more actions on the
server</span>). For Action List, choose <span class="ph menucascade"><span class="ph uicontrol">Special </span> &gt; <span class="ph uicontrol">Assignment</span></span>. The Assignment dialog
box appears. For the Assignment Type, choose <span class="ph uicontrol">Replace</span>.
For the Target, choose <span class="ph menucascade"><span class="ph uicontrol">Variables</span> &gt; <span class="ph uicontrol">MessageVariable</span></span>(the variable
created above). For Source, choose <span class="ph menucascade"><span class="ph uicontrol">Arguments</span> &gt; <span class="ph uicontrol">simple_payload</span></span>. Click <span class="ph uicontrol">OK</span> to
complete the Action. Create another Action by clicking the Choose
icon in the next row. Choose <span class="ph menucascade"><span class="ph uicontrol">Pages</span> &gt; <span class="ph uicontrol">page1</span></span>. Click <span class="ph uicontrol">OK</span> to
create the builder.</span></li>
</ol>
 The target widget is created. Click <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">Save</span></span> to save it. <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/demo-lotus-widget-factory-creating-a-target-model" target="_blank">Click here to watch this step.</a></li>
<li class="li step stepexpand"><span class="ph cmd">Publish the widgets. Right-click on the project name. Go
to <span class="ph menucascade"><span class="ph uicontrol">Publish Application</span></span> to
publish the widget to the server environment established in the Server
Configuration. <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/demo-" target="_blank">Click
here to watch this step.</a></span></li>
<li class="li step stepexpand"><span class="ph cmd">Start <span class="ph">Lotus Mashups</span> ,
open Edit view, and open the drawer where you specified in the Widget
Adapter builder. Drag each of the the new widgets onto the page. Use
the <span class="ph uicontrol">Edit Wiring</span> widget menu item to specify
wiring between the source widget and the target widget as follows:</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Click the <span class="ph uicontrol">Edit Wiring</span> menu item
for SourceWidget.</span></li>
<li class="li substep"><span class="ph cmd">Select the <span class="ph uicontrol">Send</span> tab.</span></li>
<li class="li substep"><span class="ph cmd">For <span class="ph uicontrol">Widget to send content</span>, click
the name of the source widget (in this example, <kbd class="ph userinput">SourceWidget</kbd>).</span></li>
<li class="li substep"><span class="ph cmd">For <span class="ph uicontrol">Widget to receive content</span>,
click the name of the target widget (in this example, <kbd class="ph userinput">TargetWidget</kbd>).</span></li>
<li class="li substep"><span class="ph cmd">For <span class="ph uicontrol">Select an action</span>, choose
the name of the target event (in this example, <kbd class="ph userinput">TargetEvent</kbd>).</span></li>
<li class="li substep"><span class="ph cmd">Click <span class="ph uicontrol">Done</span>.</span></li>
</ol>
 The widgets are now wired. Test communication by clicking
the link in the source widget that is formed by the Link text supplied
to the Link builder in the SourceWidget. The text on the target widget
changes from the initial value supplied to the Variable builder in
the TargetWidget, to the text string associated with <span class="ph uicontrol">fireSourceEvent_Arg1</span> in
the Link builder in the SourceWidget. <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/demo-lotus-widget-factory-mashups-widget" target="_blank">Click here to watch this step.</a></li>
</ol>
<div class="section result"><p class="p">This example causes a simple exchange of a text string
from one widget to another. Using additional builders, you can elaborate
on this example by building more functionality into the source and
target widgets.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_overview_ibmwidget"><a name="c_overview_ibmwidget"><!-- --></a><h4 class="title topictitle4">Introduction to widgets</h4>
<div class="body conbody"><p class="shortdesc">You can rapidly deliver dynamic, customizable, and adaptive
widgets.</p>
<p class="p">With <span class="ph"> WebSphere Portlet
Factory</span>, you can
quickly and easily create, re-purpose, or assimilate web applications
into widgets. These widgets can be customized by users within a protected
and controllable framework.</p>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> applications
can be deployed to a local <span class="ph">IBM Lotus Mashups</span> toolbox for
development and testing. When development is completed, the widgets
can be published to a <span class="ph">IBM InfoSphere MashupHub</span> catalog.</p>
<p class="p">Developing a widget with <span class="ph"> WebSphere Portlet
Factory</span> consists
of the following steps.</p>
<ol class="ol"><li class="li">Create a project to contain the new widgets using the <a class="xref" href="designer-html-wrapper.htm#c_working_with_projects" title="A project is the foundation of an application in WebSphere Portlet Factory.">New Project</a> wizard.</li>
<li class="li">Create models that implement the widget functionality. Select
the type of model wizard that best matches the functionality of the
widget you are developing. For more information, see <a class="xref" href="designer-html-wrapper.htm#c_working_with_models" title="A wizard is available to help you create a variety of models.">Creating and opening models</a>.</li>
<li class="li">Use the <a class="xref" href="designer/c_widget_adapter_builder.htm" title="The Widget Adapter builder allows you to set a widget title and description, and to expose profile values for customization when the model is used as a widget.">Widget
Adapter builder</a> to specify the name and category for the widget
when it is published to the <span class="ph">Lotus Mashups</span> server. The
Widget Adapter is required for creating a widget.</li>
<li class="li">You can create a customizer for your widget by using the <a class="xref" href="designer/c_widget_customizer_builder.htm" title="Use the Widget Customizer builder to create a configure model for an existing widget.">Widget Customizer
builder</a>.</li>
<li class="li">To define widget events that provide inter-widget communication,
use the <a class="xref" href="designer/c_widget_event_builder.htm" title="The Widget Event builder adds a form submitted event declaration to the widget.">Widget
Event builder</a>.</li>
<li class="li">Run the model to test it on the local <span class="ph">IBM WebSphere Application
Server</span>. This action also
prompts you to save the model before running it, if you have unsaved
changes. For more information, see <a class="xref" href="designer-html-wrapper.htm#r_running_models" title="Before you can run (launch) a model, you must have created at least one IBM WebSphere Portlet Factory Model launch configuration.">Running models</a>.</li>
<li class="li">Publish the widgets to the local <span class="ph">Lotus Mashups</span> toolbox. Right-click
the project name in the Model Navigator. Click <span class="ph menucascade"><span class="ph uicontrol">Widgets</span> &gt; <span class="ph uicontrol">Publish Widgets to Lotus Mashups toolbox</span></span>.</li>
<li class="li">Deploy the widgets to <span class="ph">InfoSphere MashupHub</span>. For more information
about deploying widgets, refer to <a class="xref" href="designer-html-wrapper.htm#c_overview_war" title="This topic discusses publishing or exporting your widget to a server or a Lotus Mashups toolbox.">Server configurations for widgets</a>.</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_config_edit_implement_widget"><a name="c_config_edit_implement_widget"><!-- --></a><h4 class="title topictitle4">Implementing Widget Customize mode</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM Lotus Mashups</span> developers
have the ability to set parameters for a widget by customizing the
widget.</p>
<p class="p"><span class="ph">Lotus Mashups</span> developers
can alter aspects of a widget by editing the widget. For widgets developed
with <span class="ph">IBM WebSphere Portlet Factory</span>, the profiled
builder call inputs, in conjunction with settings in the Widget Adapter
builder, determine the values exposed in Edit Settings of the widget.</p>
<p class="p">To expose profiled builder call inputs in the Edit Settings mode
of the widget, you need to add a Widget Adapter builder call to the <span class="ph"> WebSphere Portlet
Factory</span> model and declare
how the associated profile sets are to be used in the customization.
Use the Widget Customizer builder to define the customizable parameters.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_implement_interwidget_comm"><a name="c_implement_interwidget_comm"><!-- --></a><h4 class="title topictitle4">Implementing inter-widget communication</h4>
<div class="body conbody"><p class="shortdesc">Use inter-widget communication to have widgets interact and share
information.</p>
<p class="p">There are two steps to setting up inter-widget communication:</p>
<ol class="ol"><li class="li">Use the <a class="xref" href="designer/c_widget_event_builder.htm" title="The Widget Event builder adds a form submitted event declaration to the widget.">Widget Event
builder</a> to establish events for each model either sending or receiving
communication.</li>
<li class="li">Use <span class="ph">IBM Lotus Mashups</span> to wire
the widgets together.</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_overview_war"><a name="c_overview_war"><!-- --></a><h4 class="title topictitle4">Server configurations for widgets</h4>
<div class="body conbody"><p class="shortdesc">This topic discusses publishing or exporting your widget
to a server or a Lotus Mashups toolbox. </p>
<div class="section"><p class="p">Server configurations are properties you can use to build
and publish or export your application to a server. Server configurations
that you create can be reused for other projects. </p>
<p class="p">When you publish your
project, a local WAR file is created. A WAR file is a web application
archive file for distributing a collection of models, profiles, JavaServer
Pages, servlets, Java classes, XML files, tag libraries and static
Web pages (HTML and related files) that together constitute a Web
application.</p>
<div class="p">When you first create your project, you can define
a configuration or associate a current configuration with your project.
You can specify the location in which to store the WAR file. The location
that you specify is stored in the project properties. You have the
following publishing choices.<ul class="sl simple"><li class="sli"><a class="xref" href="designer-html-wrapper.htm#c_overview_war__cre_devwar">Publish a development WAR file</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#c_overview_war__cre_prodwar">Exporting a production WAR file</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#c_overview_war__pub_mashup">Publishing to a Lotus Mashups toolbox</a></li>
</ul>
</div>
</div>
<div class="section" id="c_overview_war__cre_devwar"><a name="c_overview_war__cre_devwar"><!-- --></a><h5 class="title sectiontitle">Publish a development WAR file</h5><p class="p">The
development WAR file contains utilities that help speed your development
time. This file is used to publish your application for development.
After you publish the project, the <span class="ph"> WebSphere Portlet
Factory</span> Designer is configured
to automatically update your application with changes made to your
project.</p>
<p class="p">Steps to publish:</p>
<ol class="ol"><li class="li">Create the project.</li>
<li class="li">Choose to automatically publish the project with the Publish Application
option or create your own configuration.</li>
<li class="li">Create a model. </li>
<li class="li">Click <span class="ph menucascade"><span class="ph uicontrol">Run </span> &gt; <span class="ph uicontrol">Run...</span></span>. Then click <span class="ph menucascade"><span class="ph uicontrol">WebSphere
Portlet Factory</span> &gt; <span class="ph uicontrol">Active Model</span></span> to
test the widget.</li>
<li class="li">Continue development. The application automatically refreshes
the WAR file after each <strong class="ph b">Run</strong> command. <p class="p">If the publishing succeeded, <span class="ph"> WebSphere Portlet
Factory</span> automatically synchronizes
the application from updated project contents.</p>
</li>
</ol>
</div>
<div class="section" id="c_overview_war__cre_prodwar"><a name="c_overview_war__cre_prodwar"><!-- --></a><h5 class="title sectiontitle">Exporting a production WAR file </h5><p class="p">If
you are ready to export your application to a production environment,
you need to build a production WAR file. The production WAR file is
optimized for size and security. This file does not contain the development
and test utilities that are available with the development WAR. </p>
<p class="p">Steps
for publishing for production:</p>
<ol class="ol"><li class="li">Right-click on the project name. Click <span class="ph menucascade"><span class="ph uicontrol">Export</span></span> and choose the type of WAR specific for your environment.</li>
<li class="li">Publish the WAR in either of two ways: <ul class="ul"><li class="li">To a local or network-accessible <span class="ph">Lotus Mashups</span> server.</li>
<li class="li">To a fileshare or a network server accessible from <span class="ph">IBM InfoSphere MashupHub</span> to upload the WAR
file and then export it to <span class="ph">Lotus Mashups</span>.</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="c_overview_war__pub_mashup"><a name="c_overview_war__pub_mashup"><!-- --></a><h5 class="title sectiontitle">Publishing to a Lotus Mashups toolbox </h5><p class="p">Use
this function if you are ready to publish your widgets to the Lotus
Mashups server associated with your project's server configuration,
or defined with overrides in the Designer's Widget preferences page,
and publishes information about each widget enabled model in this
project to the Mashup toolbox.  Widgets published to the Lotus Mashups
toolbox will then be available for constructing mashup pages. </p>
<p class="p">To
publish to a Louts Mashups toolbox, Right-click on the project name.
Click<span class="ph menucascade"><span class="ph uicontrol">Widgets</span> &gt; <span class="ph uicontrol">Publish
Widgets to Lotus Mashups toolbox</span></span> to publish
the widget. Select the widgets you want to publish and click <span class="ph uicontrol">OK</span>.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_config_edit_model_widget"><a name="t_cre_config_edit_model_widget"><!-- --></a><h3 class="title topictitle3">Creating a custom model for Customize mode</h3>
<div class="body taskbody"><p class="shortdesc">To create your own model to display during Customize Mode for the
widget:</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the <span class="ph">IBM WebSphere Portlet Factory</span> Designer,
create an empty model and add a Widget Customizer builder call to it.</span> The Widget Customizer adds all the elements you need to implement
the Customize functionality for your widget. You can add to the base behavior
by adding builder calls as described above.</li>
<li class="li step"><span class="ph cmd">In the Widget Customizer builder, determine which profile entries
you want to expose and how those entries will be displayed.</span> See
the <a class="xref" href="designer/c_widget_customizer_builder.htm" title="Use the Widget Customizer builder to create a configure model for an existing widget.">Widget Customizer
builder</a> help for more information.</li>
<li class="li step"><span class="ph cmd">In the widget model, open the builder call editor for the Widget
Adapter builder call.</span></li>
<li class="li step"><span class="ph cmd"> In the <span class="ph uicontrol">Widget Customizer Model</span> section,
specify the model with the Widget Customizer builder call in it.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_config_edit_config_widget"><a name="c_config_edit_config_widget"><!-- --></a><h4 class="title topictitle4">Configuring the Widget Adapter builder call</h4>
<div class="body conbody"><p class="shortdesc">You can expose profiled inputs in the model by setting the behavior
for the profile set that contains them in the model's Widget Adapter builder
call.</p>
<div class="section">The builder call editor for the Widget Adapter lists any profile
sets associated with the model in its <span class="ph uicontrol">Profile Sets</span> input.
For each profile set listed, set the behavior to one of the following:<dl class="dl"><dt class="dt dlterm">Do not expose for customization</dt>
<dd class="dd">Does not display the profile information.</dd>
<dt class="dt dlterm">Show individual profile values in Edit Settings</dt>
<dd class="dd">Displays the values that the profile makes available.</dd>
<dt class="dt dlterm">Show profile names in Edit Settings</dt>
<dd class="dd">Displays the names of the profiles that are available.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_config_edit_override_widget"><a name="c_config_edit_override_widget"><!-- --></a><h5 class="title topictitle5">Overriding the default Customize display</h5>
<div class="body conbody"><p class="shortdesc">You can alter the display of the Customize pages that get displayed
when the user clicks on the <span class="ph uicontrol">Edit Settings</span> icon in the
widget's title bar.</p>
<p class="p">You do this by creating a <span class="ph">IBM WebSphere Portlet Factory</span> model
that displays the editable widget settings and sets the widget's parameters
from the user's inputs.</p>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_config_edit_override_model_widget"><a name="c_config_edit_override_model_widget"><!-- --></a><h6 class="title topictitle6">Using a different model for customization</h6>
<div class="body conbody"><p class="shortdesc">If changing the look and feel of the Customize page does
not provide you with the changes you want to implement, you can create
a <span class="ph"> WebSphere Portlet
Factory</span> model that implements
the intended customization.</p>
<div class="section"><p class="p">An example of implementing your own customized model is
to provide alternate controls for setting input values, such as a
file chooser for a user to set a background image or a List builder
call that simplifies the multi-selection of available options. These
user interface (UI) controls are not included as controls which can
edit a profile entry, so you need to override the default behavior.</p>
<p class="p">You
can create a model that implements the customization for your widget
by using the Widget Customizer builder. The Widget Adapter builder
call in the widget model references the model with the Widget Customizer
in it as its customization model. In turn, the Widget Customizer builder
call specifies the widget model as the widget for which it implements
the customization.</p>
<p class="p">Before you create a customized model for
your widget, confirm that your widget model has a Widget Adapter builder
call and that it has profiled builder call inputs.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_ibmwidget_profiling"><a name="c_ibmwidget_profiling"><!-- --></a><h3 class="title topictitle3">Profiling a widget</h3>
<div class="body conbody"><p class="shortdesc">You can profile a widget with <span class="ph">IBM WebSphere Portlet Factory</span>.</p>
<p class="p">You can use profiles to allow for customize mode functionality.
You can use profiles to vary your widget behavior based on the group
to which the user belongs.</p>
<p class="p">You can profile a widget according to <span class="ph">IBM WebSphere Application
Server</span> group information
and the execution mode of the model. You can also use profiles to
implement widget customization functionality.</p>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_condit_code"><a name="t_cre_condit_code"><!-- --></a><h3 class="title topictitle3">Creating conditional code based on execution mode</h3>
<div class="body taskbody"><p class="shortdesc">If your model will run as <span class="ph">a portlet as
well as </span>a widget or standalone application, you may need to implement
conditional code based on whether the model runs <span class="ph">in
the context of the <span class="ph">IBM WebSphere Portal</span>, </span>as
a standalone application, or as an <span class="ph">IBM WebSphere Portlet Factory</span> widget application.</p>
<div class="section context"><p class="p">You can do this by profiling the builder inputs or builder
enablement that needs to be excluded or different when not running
in a different context, and using the Portal Execution Mode profile
selection handler to select a profile based on whether your model
is running <span class="ph">as a portlet or </span>in another mode.</p>
<div class="p">When running in portal mode, you can cast the HttpServletRequest
object returned by the webAppAccess.getHttpServletRequest() method
to a PortalRequest object. The same is true for the PortalResponse
and PortalSession objects. The request contains the PortletConfig
object as an attribute and you can access it with code similar to
the following:<pre class="pre codeblock">PortalConfig pc = webAppAccess.getHttpServletRequest().getAttribute("bowstreet.websphere.portlet.config");</pre>
For
example, if you wanted to get the locale out of the request, regardless
of whether the model runs as a <span class="ph">WebSphere Application
Server</span> portlet, you would
perform these steps.</div>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a method builder call to the model, specifying the
name, arguments, and other information.</span></li>
<li class="li step stepexpand"><span class="ph cmd"> Profile the <span class="ph uicontrol">Method Body</span> input of
the Method builder call, specifying the WPSPortalMode profile set
and the mode-specific method body.</span> <div class="p">The value for the <samp class="ph codeph">GetHeaders_Body</samp> entry
in the Standalone profile would be something like:<pre class="pre codeblock"> String locale = webAppAccess.getHttpServletRequest().getLocale(); </pre>
</div>
</li>
</ol>
<div class="section result"><p class="p">When the model runs, the appropriate method
body gets used.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_overview_localization"><a name="c_overview_localization"><!-- --></a><h2 class="title topictitle2">Localizing applications</h2>
<div class="body conbody"><p class="shortdesc">You can set up applications built with <span class="ph">IBM WebSphere Portlet Factory</span> to run with different
local languages.</p>
<dl class="dl"><dt class="dt dlterm">Localizing content with HTML pages</dt>
<dd class="dd">You can localize the HTML content for <span class="ph"> WebSphere Portlet
Factory</span> applications by creating
a version of an HTML page for each language to which you want to localize.</dd>
<dt class="dt dlterm">Localizing UI with resource bundles</dt>
<dd class="dd">You can localize the button labels, form field names, and other
static text by using a Java resource bundle and either the Localized
Resource builder or, for form-related localization, the <span class="ph uicontrol">Localization</span> inputs
on the Data Page builder.</dd>
</dl>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_import_localized_pages_into_app"><a name="t_import_localized_pages_into_app"><!-- --></a><h3 class="title topictitle3">Import localized pages into my application</h3>
<div class="body taskbody"><p class="shortdesc">You can import pages according to the locale of a user by using
a Localized Resource builder call in conjunction with the Imported Page builder
call.</p>
<div class="section context">The URL to the pages consists of the following items:<ul class="ul"><li class="li">Localized Base URL – From the Imported Page builder.</li>
<li class="li">Language or Language_COUNTRY identifier – From the Localized Resource
builder.</li>
<li class="li">Page to Import value – From the Imported Page builder.</li>
</ul>
<p class="p"><span class="ph">IBM WebSphere Portlet Factory</span> automatically
combines these three elements to access localized pages and content. To import
pages based on the user's locale into the web application:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create the directory structure illustrated below.</span> <p class="p">Pages
differentiated by language-only directory:</p>
<ul class="ul"><li class="li">/pages/sp/index.htm</li>
<li class="li">/pages/ru/index.htm</li>
<li class="li">/pages/ja/index.htm</li>
</ul>
<p class="p">Pages differentiated by language_COUNTRY directory:</p>
<ul class="ul"><li class="li">/pages/ru_RU/imported.htm</li>
<li class="li">/pages/ja_JA/imported.htm</li>
<li class="li">/pages/sp_SP/imported.htm</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> The differentiator in the path names is the Language or Language_COUNTRY
key.</div>
 </li>
<li class="li step stepexpand"><span class="ph cmd">In this structure place localized versions of files that you want
to import into a web application.</span> Keep in mind that the directory
structure or file names should be differentiated by the possible values of
the Language or Language_COUNTRY in the Localized Resource builder call. The Imported Page builder will insert the value of the Language
or Language_COUNTRY between the Localized Base URL and the Page to Import
values to build the URL to the page to import.</li>
<li class="li step stepexpand"><span class="ph cmd">Add Localized Resource builder call and specify the default value
for the Language or Language_COUNTRY key input.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Profile-Enable this input (click the <img class="image img_whs6 c9" src="designer/images/mr_profile.gif" alt="profile-enable icon" /> button) and
create a profile set (or use the default).</span></li>
<li class="li step stepexpand"><span class="ph cmd">Create a profile for each Language or Language_COUNTRY.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Specify a value for the Language or Language_COUNTRY entry.</span>  <p class="p">This locale will be used to determine the path to an imported page.</p>
<p class="p">For
example, for the directory and file names used in the example in Step 1, you
can create a profile set called "Language" and create three profiles named
"Spanish", "Russian", and "Japanese", with a value for the Language entry
being "sp", "ru", and "ja", respectively.</p>
 </li>
<li class="li step stepexpand"><span class="ph cmd">Add an Imported Page builder call for each page of which you want
to import a localized version.</span></li>
</ol>
<div class="section result"><p class="p">The Imported Page builder will automatically choose the page in
the directory for the selected profile, based on the Localized Resource builder.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_localization_content"><a name="c_localization_content"><!-- --></a><h4 class="title topictitle4">About localizing content</h4>
<div class="body conbody"><p class="shortdesc">You can localize pages in your web application by using the Imported
Page and Localized Resource builders.</p>
<p class="p">The Imported Page builder allows you to import a page into the Web application
based on a profile associated with the request.</p>
<p class="p">The Localized Resource builder adds a resource bundle to the Web application
based on the <samp class="ph codeph">language</samp> and <samp class="ph codeph">language_COUNTRY</samp> value
of the request. You can use the Imported Page builder to add localized content
to the Web application and use the Localized Resource builder to localize
the input values, for example, button labels and text fields.</p>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_import_localized_pages_into_web_apps"><a name="t_import_localized_pages_into_web_apps"><!-- --></a><h3 class="title topictitle3">Importing localized pages into the web application</h3>
<div class="body taskbody"><p class="shortdesc">You can import pages according to the locale of a user by using
a Localized Resource builder call in conjunction with the <span class="ph uicontrol">Localization</span> inputs
in the Imported Page builder call.</p>
<div class="section context">The URL to the pages consists of the Import Page builder call's Localized
Base URL + Locale Key in the Localized Resource builder call + the Page to
Import value in the Imported Page builder call.<p class="p">You can use this construction
to import localized pages based on a directory name or part or all of a file
name.</p>
<p class="p">To import pages based on the user's locale into the web application:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create the directory structure and the localized files that you
want to import into a web application.</span> Keep in mind that the directory
structure or file names should be differentiated by the possible values of
the Locale Key in the Localized Resource builder call. The imported page inserts
the value of the Locale Key between the Localized Base URL and the Page to
Import values to build the URL to the page to import.  <dl class="dl"><dt class="dt dlterm">Pages differentiated by locale-specific directory</dt>
<dd class="dd">/pages/spanish/index.htm</dd>
<dd class="dd">/pages/russian/index.htm</dd>
<dd class="dd">/pages/japanese/index.htm</dd>
<dt class="dt dlterm">Pages differentiated by locale-specific file name</dt>
<dd class="dd">/pages/russian_imported.htm</dd>
<dd class="dd">/pages/japanese_imported.htm</dd>
<dd class="dd">/pages/spanish_imported.htm</dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> The differentiator in the path names is the locale key.</div>
 </li>
<li class="li step stepexpand"><span class="ph cmd">Add Localized Resource builder call and specify the default value
for the <span class="ph uicontrol">Locale Key</span> input.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Profile-Enable this input (click the <img class="image" src="designer/images/mr_profile.gif" alt="profile-enable icon" /> button) and create a profile set (or
use the default).</span></li>
<li class="li step stepexpand"><span class="ph cmd">Create a profile for each locale.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Specify a value for the Locale Key entry.</span> This locale
key will be used to determine the path to an imported page. For
example, for the directory and file names used in the example in Step 1, you
can create a profile set called "Language" and create three profiles named
"Spanish", "Russian", and "Japanese", with a value for the LocaleKey entry
being "spanish", "russian", and "japanese", respectively.</li>
<li class="li step stepexpand"><span class="ph cmd">Add an Import Page builder call for each page of which you want
to import a localized version. Specify the following inputs to the Imported
Page builder.</span> <dl class="dl"><dt class="dt dlterm">Localize Page</dt>
<dd class="dd">Enable this checkbox.</dd>
<dt class="dt dlterm">Localize URL Base</dt>
<dd class="dd">Enter the path from the servable content root directory down to the portion
of the URL defined by the Locale Key. For example, "pages/"</dd>
<dt class="dt dlterm">Page to Import</dt>
<dd class="dd">Enter the remaining portion of the URL to the file. For example, "_imported.htm"</dd>
</dl>
 As a result of these input settings, the
URL to the imported page will be: page/<var class="keyword varname">LocaleKeyValue</var> _imported.htm,
where <var class="keyword varname">LocaleKeyValue</var> is defined by the profile determined
by the browser's locale setting.</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_export_resbundle"><a name="t_export_resbundle"><!-- --></a><h3 class="title topictitle3">Exporting a resource bundle</h3>
<div class="body taskbody"><p class="shortdesc">Use the Model editor to export a resource bundle. </p>
<div class="section context">You can use either the Application Tree or the Design panel
in the Model editor. </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Do one of the following actions.</span><ul class="ul choices"><li class="li choice">Access the entry for the target page in the Application Tree
(<span class="ph menucascade"><span class="ph uicontrol">WebApp</span> &gt; <span class="ph uicontrol">Pages</span></span>). </li>
<li class="li choice">In the Pages panel, expose the icon for the target page. </li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Right-click on the entry or the icon and click <span class="ph uicontrol">Export
Resource Bundle</span>. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Save dialog, navigate to and select a location in
which to save the resource bundle and click <span class="ph uicontrol">OK</span>. </span></li>
</ol>
<div class="section result"><p class="p">A file with the name of the page and an extension of <span class="ph filepath">.properties</span> is
created in your selected location. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_localize_data_def_props"><a name="t_localize_data_def_props"><!-- --></a><h3 class="title topictitle3">Localizing data definition properties</h3>
<div class="body taskbody"><p class="shortdesc">Use a resource bundle to localize most of the properties or Rich
Data Definition builder inputs specified in a data definition file.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Set the <samp class="ph codeph">resource</samp> attribute in the root element
of the data definition file.</span> For example:<pre class="pre codeblock">&lt;DataDefinitions resources="com.bowstreet.solutions.wfm.base.datenumber_formats"&gt;</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a <samp class="ph codeph">resource_key</samp> attribute for any properties
in a data definition.</span> <p class="p">For example, the following code is
used to look up the date format string from a localized resource bundle.</p>
<pre class="pre codeblock">&lt;FormatExpr resource_key="base_sap_date_format_expr"&gt;Format(yyyy-MM-dd$MM/dd/yyyy)&lt;/FormatExpr&gt;</pre>
</li>
</ol>
<div class="section result"><div class="note note"><span class="notetitle">Note:</span> You cannot localize the <samp class="ph codeph">&lt;EnumerationValues&gt;</samp> property
by specifying a <samp class="ph codeph">resource_key</samp> in the data definition file.
Enumeration Values are accessed by a direct mapping to the Data Definition
or Page Automation <samp class="ph codeph">Leaf.setEnumerationValues()</samp> functionality.
This mapping does not support label and value pairs, but rather just a list
(<samp class="ph codeph">java.util.List</samp>) of values.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_localize_ui"><a name="t_localize_ui"><!-- --></a><h3 class="title topictitle3">Localizing user interface controls</h3>
<div class="body taskbody"><p class="shortdesc">You can use the Localized Resource builder to add a resource
bundle to the web application.</p>
<div class="section context">Depending on the browser's locale setting, the locale-specific
resource bundle gets added to the web application. For example, you
can configure button labels and other non-content elements of your
pages to get their values from the resource bundle.<p class="p">To localize
non-content elements in the web application:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create a resource bundle that contains the labels and related
text strings to be localized.</span> <p class="p">It is a best practice
to store all text for the user interface in one <span class="ph filepath">.properties</span> file
or Java class. </p>
<ul class="ul choices"><li class="li choice">If you use the Data Services User Interface builder to define
the pages in the model, that builder can generate one resource bundle
that contains all the strings to be translated. Additionally, if you
edit any of the strings, the builder keeps the resource bundle synchronized
with the changes. </li>
<li class="li choice">The page automation builders, for example, the Data Page builder,
support creation of a resource bundle. </li>
<li class="li choice">Use the right-click command in the Pages panel and click <span class="ph uicontrol">Export
Resource Bundle</span> to create a <span class="ph filepath">.properties</span> file
for the selected page. </li>
<li class="li choice">If the text is too long for a resource bundle, for example,
a portlet help page, certain builders support translating the entire
page.<p class="p"> If you use the Imported Page builder to bring the page into
the model, the Localized Resource builder looks for the translated
page beneath the location of the source HTML page. </p>
</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add a Localized Resource builder call to the model above
non-content builders in the builder call list and specify the following
input values:</span> <dl class="dl"><dt class="dt dlterm"> Resource Bundle Name </dt>
<dd class="dd">Enter the fully-qualified name of the property file or Java class
that serves as the default resource bundle. For example, enter <span class="ph filepath">com.acme.LabelResources</span> for
the property file stored as, <span class="ph filepath">WEB-INF/work/source/com/acme/LabelResources.properties</span>. <p class="p">Store
the locale-specific versions of this property in the same directory.
For example, in the acme directory, you could store the Japanese version
of the properties file (<span class="ph filepath">LabelResources_ja.properties</span>)
and the Italian version (<span class="ph filepath">LabelResources_it.properties</span>).</p>
</dd>
<dt class="dt dlterm">Language</dt>
<dd class="dd">Enter the ISO language code for the resource bundle to load. Profile
this value and create a profile set (Language), a profile for each
language for which you have a resource bundle, and specify the ISO
code as the Language value for each profile.</dd>
<dt class="dt dlterm">Country</dt>
<dd class="dd">Enter the ISO country code for the resource bundle to load. Profile
this value and create a profile in an appropriate profile set (for
example, Language) and specify the ISO code as the Country value for
each profile.</dd>
</dl>
</li>
<li class="li step stepexpand"><span class="ph cmd">Apply the localization to the builders in the model. </span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">If you use the Data Services User Interface builder,
all the user interface elements are connected to the resource keys
in the resource bundle. </span></li>
<li class="li substep"><span class="ph cmd">If you use a Data Page builder, the builder can rely
on the <samp class="ph codeph">LocaleData</samp> variable that the Localized Resource
builder creates. </span></li>
<li class="li substep"><span class="ph cmd">If you use the View and Form builder, specify the <span class="ph uicontrol">Resource
Bundle Name</span> input. The builder associates the field names
with the resource keys in the resource bundle. The builder can also
use indirect references so that localized strings can be used for
the buttons</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">For any button label, or similar builder call input, set
the value using the reference chooser and selecting the appropriate
entry from the LocaleData variable, which the Localized Resource builder
call adds to the web application.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_localize_portlettitle"><a name="t_localize_portlettitle"><!-- --></a><h3 class="title topictitle3">Localizing portlet titles</h3>
<div class="body taskbody"><p class="shortdesc">Resource bundles are available to facilitate displaying portlet
titles in different local languages.</p>
<div class="section prereq">After you  add a Portlet Adapter builder to a model, and rebuild the
portlet war, the necessary resources are generated and available for you to
establish localization of portlet titles.</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Locate the generated resource bundles for a particular portlet
in the following location.</span> <pre class="pre codeblock"><span class="ph filepath">web-inf/classes/nls/<var class="keyword varname">modelpath</var>/<var class="keyword varname">modelname</var></span></pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Copy the existing resource bundle, and create duplicates for each
language to be supported.</span> <p class="p">For example, you can start with
a resource bundle named <samp class="ph codeph">siebelperson.properties</samp>. Copy this
file so that the name of the translated resource bundle for English would
be <samp class="ph codeph">siebelperson_en.properties</samp> and for French would be <samp class="ph codeph">siebelperson_fr.properties</samp>. </p>
 <p class="p">Each resource bundle file for each language to be supported needs
to have the correct language and country suffix. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Repeat the copy and edit action for the remainder of the existing
portlet resource bundles for this particular project.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Find the appropriate portlet deployment descriptor file. </span><ul class="ul choices"><li class="li choice">For the JSR 168 portlet<pre class="pre codeblock"><span class="ph filepath">web-inf/bin/deployment/portlet_base.standard</span></pre>
</li>
<li class="li choice">For the JSR 286 portlet<pre class="pre codeblock"><span class="ph filepath">web-inf/bin/deployment/portlet_base.standard.286</span></pre>
</li>
</ul>
 </li>
<li class="li step stepexpand"><span class="ph cmd">Open the appropriate portlet deployment descriptor file in a text
editor and perform the following steps.</span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Search to the following section that includes the default supported
locale (English denoted by <samp class="ph codeph">en</samp>).</span> <pre class="pre codeblock">&lt;expiration-cache&gt;0&lt;/expiration-cache&gt;

&lt;supports&gt;
    &lt;mime-type&gt;text/html&lt;/mime-type&gt;
    &lt;portlet-mode&gt;view&lt;/portlet-mode&gt;
&lt;/supports&gt;

&lt;supported-locale&gt;en&lt;/supported-locale&gt;

&lt;resource-bundle&gt;&lt;/resource-bundle&gt;</pre>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Add additional locale entries for each language that you are
facilitating.</span> <pre class="pre codeblock">&lt;expiration-cache&gt;0&lt;/expiration-cache&gt;

&lt;supports&gt;
    &lt;mime-type&gt;text/html&lt;/mime-type&gt;
    &lt;portlet-mode&gt;view&lt;/portlet-mode&gt;
&lt;/supports&gt;

&lt;supported-locale&gt;en&lt;/supported-locale&gt;
&lt;supported-locale&gt;de&lt;/supported-locale&gt;
&lt;supported-locale&gt;fr&lt;/supported-locale&gt;
&lt;supported-locale&gt;es&lt;/supported-locale&gt;

&lt;resource-bundle&gt;&lt;/resource-bundle&gt;</pre>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Save the changes and close the file.</span></li>
</ol>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">If you already deployed the portlet WAR,
remove that portlet WAR.</span> <p class="p">Each portlet only gets the supported
local values registered once when the portlet WAR is first deployed. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Add (or remove) resource bundles for each portlet. </span> <p class="p">You
do not have to remove the portlet war again. </p>
</li>
</ol>
<div class="section postreq"><p class="p">After you deploy the portlet WAR with the supported locales, if
you add additional portlets to the project and to the portlet WAR or add updates
to existing portlets, you only need to add additional locale resource bundles.
You do not need any changes to the portlet deployment descriptor template.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="profiling_overview"><a name="profiling_overview"><!-- --></a><h2 class="title topictitle2">Profiling <span class="ph">IBM WebSphere Portlet Factory</span> applications</h2>
<div class="body conbody"><p class="shortdesc">Creating applications with builders offers benefits over
traditional development.</p>
<ul class="ul"><li class="li">Builders automate development tasks.</li>
<li class="li">Builders change their behavior, and the resulting web application,
based on their inputs.</li>
</ul>
<p class="p">Profiling refers to the process of defining the profiles and profile
entry values from which any profiled builder call inputs get their
values.</p>
<p class="p">The profiling process consists of the following general tasks:</p>
<ol class="ol"><li class="li"> Create a profile set. <p class="p">The profile set is created with a default
profile (named Default) but with no profile entries.</p>
</li>
<li class="li"> Add one or more profile entries to the profile set.</li>
<li class="li"> Add one or more profiles to the profile set. <p class="p">As you add each
profile, the Default profile entries also apply to the profile.</p>
</li>
<li class="li"> Customize each profile by changing one or more default profile
entry values for that profile.</li>
<li class="li"> Profile the builder call inputs in the builder call editor by
selecting a profile entry from a specific profile set.</li>
<li class="li"> Preview the effects of profiling on the model by applying various
profile combinations.</li>
</ol>
<p class="p">Generally, the profiling process is iterative. You can perform
any of these steps at any time. Typically, you do the steps multiple
times to fine tune the variability of your application.</p>
<div class="note note"><span class="notetitle">Note:</span>  Do not use the Navigator to rename a profile set. Because <span class="ph">IBM WebSphere Portlet Factory</span> refers to profile sets
by ID rather than by name, renaming a profile set in the Navigator
causes problems when a model is run. The profile set name and ID will
not be consistent. Always use <span class="ph"> WebSphere Portlet
Factory</span> Designer profile management
tools and views when working with or modifying a profile set.</div>
<p class="p">Profiles make use of various selection handlers to access data.
In addition, profile data can be stored in an external repository
such as a database.</p>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_opn_appldprofvw"><a name="t_opn_appldprofvw"><!-- --></a><h3 class="title topictitle3">Opening the applied profiles view</h3>
<div class="body taskbody"><p class="shortdesc">The Applied Profiles view is where you can apply profiles
to a model.</p>
<div class="section context"><p class="p">To access the Applied Profiles view, ensure that a model
is open in the current model editor and that the model contains at
least one profiled builder input that refers to profile entries within
an existing (and accessible) profile set. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show
View</span> &gt; <span class="ph uicontrol">Other</span></span>. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the Show View dialog, click <span class="ph menucascade"><span class="ph uicontrol">WebSphere Portlet Factory</span> &gt; <span class="ph uicontrol">Applied
Profiles</span></span> and click <span class="ph uicontrol">OK</span>. </span> <p class="p">The Applied Profiles view opens in the task area. For
more information, see the help for the view. </p>
</li>
</ol>
</div>
<div class="related-links"></div><div class="topic reference nested3" xml:lang="en-us" id="r_profiling_view_dialogs"><a name="r_profiling_view_dialogs"><!-- --></a><h4 class="title topictitle4"><span class="ph">IBM WebSphere Portlet Factory</span> Designer
Profiling View and Dialogs</h4>
<div class="body refbody"><p class="shortdesc">This table lists the various tools and views in <span class="ph"> WebSphere Portlet
Factory</span> Designer
that you use to perform profile-related tasks.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e39289">Profile-Related Task</th>
<th class="entry" valign="bottom" id="d52e39291"> <span class="ph"> WebSphere Portlet
Factory</span> Designer
Dialog or Utility To Use </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" headers="d52e39289 ">Profile Set Creation</td>
<td class="entry" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Profile Input dialog</li>
<li class="li">New Profile Set wizard</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e39289 ">Profile Set Modification<p class="p">(change name or description)</p>
</td>
<td class="entry" valign="top" headers="d52e39291 ">Entries tab of the Profile Manager (description can be changed, but
not the name)</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Profile Set Deletion</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Profile Sets view</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Profile Set Listing<p class="p">(show
all the sets)</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Profile Sets view</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Profile Creation</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Manage Profiles editor of the Profile Manager</li>
<li class="li">Profile Input dialog</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Profile Modification<p class="p">(change
name, parent, or associated segments)</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Manage Profiles editor of the Profile Manager</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Profile Customization<p class="p">(change
an entry's Default Value field for a specific profile)</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Manage Profiles editor of the Profile Manager</li>
<li class="li">Profile Input dialog</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Profile Deletion</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Manage Profiles editor of the Profile Manager</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Entry Creation</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Entries tab of the Profile Manager</li>
<li class="li">Profile Input dialog</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Entry Definition Modification<p class="p">(change
field definition data)</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Entries tab of the Profile Manager</li>
<li class="li">Profile Input dialog</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Entry Deletion</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Entries tab of the Profile Manager</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39289 ">Preview the Effects of Profiles</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Applied Profiles view </li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e39289 ">Profile Selection Handler Setting</td>
<td class="entry" valign="top" headers="d52e39291 "><ul class="ul"><li class="li">Select Handler tab of the Profile Manager </li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_prof"><a name="t_cre_prof"><!-- --></a><h3 class="title topictitle3">Creating a profile</h3>
<div class="body taskbody"><p class="shortdesc">This topic describes the steps to follow to create
a profile.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Launch the <span class="ph uicontrol">New Profile</span> dialog:</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">From the Manage Profiles editor, click the <span class="ph uicontrol">New Profile</span> icon
[<img class="image" src="designer/images/new_profile_down.gif" alt="New Profile icon" />].</span></li>
<li class="li substep"><span class="ph cmd">From the <span class="ph uicontrol">Profile Input</span> dialog, click
the <span class="ph uicontrol">Create</span> button in the Profiles section.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">New Profile</span> dialog, enter a name
for the new profile in the <span class="ph uicontrol">Profile Name</span> input box.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Choose a parent profile whose values the new profile inherits from
the <span class="ph uicontrol">Parent Profile</span> select box.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Optionally, use the <span class="ph uicontrol">Advanced</span> pull-down menu
to associate available segments (an entity returned by a profile handler,
such as a J2EERole or an LDAP Group) with the profile. Select the segment
from the Available for Association list and move segment to the <span class="ph uicontrol">Associated</span> pane.</span> For example, if the Profile Handler that you have created returns
LDAP Groups, you can select a role in the Available for Association list to
associate with the profile. You can also click the <span class="ph uicontrol">Add
External</span> button to add an external role to the profile</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> to create the profile.</span></li>
</ol>
<div class="section result"><div class="note note"><span class="notetitle">Note:</span> When a profile is created that is a parent of another profile,
the <span class="ph uicontrol">isContainer</span> check box is enabled. The last child
profile created disables the <span class="ph uicontrol">isContainer</span> check box.
If you are creating profiles to be used as "end user" profiles to be used
for execution time personalization, disable the "Is Container" folder just
to the right of the <span class="ph uicontrol">Name</span> input.</div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_create_profile"><a name="c_create_profile"><!-- --></a><h4 class="title topictitle4">About profile creation</h4>
<div class="body conbody"><p class="shortdesc">You can create a profile in the Manage Profile editor or from the
profile input dialog.</p>
<ul class="ul"><li class="li">Manage Profiles editor of the Profile Manage </li>
<li class="li">Profile input dialog </li>
</ul>
<p class="p">To modify or delete an existing profile, you must be in the Manage Profiles
editor.</p>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_create_delete_profile"><a name="c_create_delete_profile"><!-- --></a><h5 class="title topictitle5">Create and delete profiles</h5>
<div class="body conbody"><p class="shortdesc">You can create an entirely new profile from within the Manage Profiles
view.</p>
<div class="section">Icons that represent the following functions are displayed at the
top of the Profile Data table. <dl class="dl"><dt class="dt dlterm">New Profile  <img class="image" src="designer/images/new_profile_down.gif" alt="Create new profile button" /></dt>
<dd class="dd">Provides access to the <span class="ph uicontrol">New Profile</span> dialog. Use
this tool to create a new profile. When completed, the profile will be displayed
on a new row within the Profile Data table.</dd>
<dt class="dt dlterm">Edit Profile <img class="image" src="designer/images/profile_open.gif" alt="Edit Profile button" /></dt>
<dd class="dd">Provides access to the <span class="ph uicontrol">Edit Profile</span> dialog. Use
this tool to change the name and/or other attributes of an existing profile.</dd>
<dt class="dt dlterm">Delete Profile <img class="image" src="designer/images/delete_profile_down.gif" alt="Delete profile button" /></dt>
<dd class="dd">Deletes the selected profiles from the Profile Data table. A deleted profile
can be recovered using the undo function.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_create_profile_hierarch"><a name="c_create_profile_hierarch"><!-- --></a><h5 class="title topictitle5">About creating hierarchical profiles</h5>
<div class="body conbody"><p class="shortdesc">There are many ways to implement the customization of a web application.
An application can use any number of profiles to implement different web applications
for different users. One way to construct your profile sets is to use a hierarchical
structure of profiles that you can repeat for each type of user. This approach
allows you to develop a profile set that more closely resembles the variable
elements of your application.</p>
<div class="section">For example, if your application can be customized for a given organization
and the Engineering and HR groups within that organization, it would make
sense to have a profile set structure that contained a profile for all the
members in the organization and a profile for the Engineering group and a
profile for the HR group in the organization.<p class="p">As you need to add support
for different customers, you can create a new profile for customer-wide values
and two more profiles named "Engineering" and "HR."</p>
<p class="p">To avoid conflicts
between the HR profile values for Cisco and the HR profile values for Sears,
the inheritance structure determines the actual name of the profile. <span class="ph">IBM WebSphere Portlet Factory</span> uses
these fully-qualified profile names everywhere profile names are used.</p>
<p class="p">As
a result, the profiles listed in the image above actually have the following
names:</p>
<ul class="ul"><li class="li"> Cisco </li>
<li class="li"> Cisco.Engineering </li>
<li class="li"> Cisco.HR </li>
<li class="li"> IBM </li>
<li class="li"> IBM.Engineering </li>
<li class="li"> IBM.HR </li>
<li class="li"> Sears </li>
<li class="li"> Sears.Engineering </li>
<li class="li"> Sears.HR </li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_generated_file_names"><a name="c_generated_file_names"><!-- --></a><h5 class="title topictitle5">About generated file names</h5>
<div class="body conbody"><p class="shortdesc">On some application servers, there is a length limit on
path names (including the file name) of 255 characters.</p>
<div class="section"><p class="p"><span class="ph">IBM WebSphere Portlet Factory</span> generates
JSP files and method classes based on the model name and any profiles
applied to the model. In most cases, the file name lengths are well
under 255 characters. <span class="ph">However, when you use the
model as a portlet in nested portals, the generated file could exceed
the file length limitation.</span></p>
<p class="p">To prevent the generation of
file names that are too long, <span class="ph"> WebSphere Portlet
Factory</span> converts the profile
names to a unique ID. You can determine the file length at which <span class="ph"> WebSphere Portlet
Factory</span> converts the profile
name portion of a generated file name to an ID by setting the <samp class="ph codeph">bowstreet.profiles.maxKeyLength</samp> property
in the <span class="ph filepath">WEB-INF/config/cluster.properties</span> file.
The default value is 60.</p>
<div class="note note"><span class="notetitle">Note:</span> The <samp class="ph codeph">maxKeyLength</samp> does
not refer to the length of the whole file name, just the length of
the profile name portion of it. As a result, set the <samp class="ph codeph">maxKeyLength</samp> low
enough to account for the <span class="ph">portlet name, </span>widget
name, model name, and any other parts of the path to the generated
file.</div>
<div class="p">For example, the class generated for
a model named datatablepage that is used as a portlet in a nested
portal could have the following file name:<pre class="pre codeblock"><span class="ph filepath"> dataviewprtlet_main_external_partners_premium_techsource_personalizationroot_techuser_pressreleases_datatabletablepage.java</span></pre>
</div>
<div class="p"><span class="ph"> WebSphere Portlet
Factory</span> checks the length
of the profile names embedded in the name and if it exceeds the value
of the <samp class="ph codeph">maxKeyLength</samp> property (in this case, 60),
it converts them to an ID. <span class="ph">The following would be
the result of the previous example: </span><pre class="pre codeblock"><span class="ph filepath">dataviewprtlet_160568228_datatabletablepage.java</span></pre>
</div>
</div>
<div class="section"><h6 class="title sectiontitle">Name conversions in the log</h6><div class="p">When <span class="ph"> WebSphere Portlet
Factory</span> initiates a name conversion
and the mapping is used for the first time, an entry is made in the
log file. This entry notifies you that a conversion occurred. The
entry can look similar to the following. <pre class="pre codeblock">*-- TIME:[Tue Aug 16 15:28:42 EDT 2002] --*
Severity: WARNING
Component: MODEL
MSG:"Profile key is too long. Adding mapping for ID 139657846 to main_external_
partners_premium_techsource_personalizationroot_techuser_pressreleases"</pre>
</div>
<div class="p">You
can see a generated file in your <span class="ph"> WebSphere Portlet
Factory</span> file system that looks
like the following. <pre class="pre codeblock"> dataviewprtlet_139657846_datatabletablepage.java</pre>
</div>
<p class="p">You
can examine the log file to view the original profile names that were
converted.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_del_prof"><a name="t_del_prof"><!-- --></a><h3 class="title topictitle3">Deleting a profile</h3>
<div class="body taskbody"><p class="shortdesc">This topic describes the steps to follow to delete
a profile from a profile set.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the Manage Profiles editor, select the profile to be deleted.</span></li>
<li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Delete Profile</span> icon [<img class="image" src="designer/images/delete_profile_down.gif" alt="Delete Profile icon" />].</span></li>
<li class="li step"><span class="ph cmd">At the <span class="ph uicontrol">Delete Profile</span> confirmation dialog,
click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_edt_prof"><a name="t_edt_prof"><!-- --></a><h3 class="title topictitle3">Editing a profile</h3>
<div class="body taskbody"><p class="shortdesc">The process of editing an existing profile is similar to that of
creating the profile.</p>
<div class="section context">To edit a profile:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Launch the <span class="ph uicontrol">Edit Profile</span> dialog by clicking
the <span class="ph uicontrol">Edit Profile</span> icon [  <img class="image" src="designer/images/profile_open.gif" alt="Edit Profile icon" />] from the Manage Profiles editor.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Edit Profile</span> dialog, the current
name of the profile will be in the <span class="ph uicontrol">Profile Name</span> input
box.</span> You can enter a new name, as long as it is not the name of
an existing profile in the profile set.</li>
<li class="li step"><span class="ph cmd">The name of the current parent profile will be in the <span class="ph uicontrol">Parent
Profile</span> select box.</span> You can select another parent profile.</li>
<li class="li step">Optional: <span class="ph cmd">Use the <span class="ph uicontrol">Advanced</span> pull-down
menu to add or remove associated segments for the profile. </span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> to apply the profile changes.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_aply_proftomdl"><a name="t_aply_proftomdl"><!-- --></a><h3 class="title topictitle3">Applying profiles to a model</h3>
<div class="body taskbody"><p class="shortdesc">For each profile set associated with the model, you can select
one profile to use for the preview of the web application.</p>
<div class="section context">To apply profiles to a model:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Make sure that a model is in the current model editor and that
the model contains at least one profiled builder that references profile entries
within an existing profile set.</span></li>
<li class="li step"><span class="ph cmd">Access the Applied Profiles view, as described above.</span></li>
<li class="li step"><span class="ph cmd">For each profile set in the list select a profile that you want
to use.</span></li>
<li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Apply</span> button.</span></li>
</ol>
<div class="section result">When you apply the profiles, the model is regenerated. You can then
check the WebApp Page view to see the result of the selected profiles supplying
profile entry values to the profiled builder call inputs in the model. Each
profiled input will also show the profile values in the builder call editors.
If you run the model, the running web application will use the values of the
applied profiles.<div class="note note"><span class="notetitle">Note:</span> The <span class="ph uicontrol">Apply</span> button is enabled
only when you have some profile selections to apply to the model. If the profiles
you select have been applied already, the <span class="ph uicontrol">Apply</span> button
is disabled.</div>
<p class="p">To apply a profile set combination to a model, select
a combination by name from the Existing Combinations list.</p>
<p class="p">The combination
is automatically applied to the model as you select it in list.</p>
<div class="note note"><span class="notetitle">Note:</span> The
'Default' combination is always available and provides way of resetting all
profiles to 'Default'. You cannot modify or remove the 'Default' combination.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_profile_builder_call_input"><a name="t_profile_builder_call_input"><!-- --></a><h3 class="title topictitle3">Profiling a builder call input</h3>
<div class="body taskbody"><p class="shortdesc">You can profile a builder input in the builder call editor. </p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Click the profile button [<img class="image" src="designer/images/mr_profile.gif" alt="profile-enable icon" />] located next to the input you want
to profile.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">Profile Input</span> dialog, use the <span class="ph uicontrol">Profile
Set Name</span> select box to select the profile set that contains the
entry you want to associate with the builder call input.</span> If no
existing profile set meets your needs, you can create a profile set by clicking
on the <span class="ph uicontrol">Create</span> button.</li>
<li class="li step stepexpand"><span class="ph cmd">Use the <span class="ph uicontrol">Profile Entry Name</span> select box to
select the entry to associate with this input.</span> If you want to edit
the selected entry, click the <span class="ph uicontrol">Modify</span> button. <p class="p">Alternatively,
you can add an entry to the profile set by clicking on the <span class="ph uicontrol">Create</span> button.</p>
 </li>
<li class="li step stepexpand"><span class="ph cmd">For each profile in the Profiles table, check the entry settings
in the Profile Values column.</span> If you wish, edit the entry values
as explained below. The entry value will be supplied to the builder call input
when the model executes for the specified profile.<p class="p">To add a new profile
to the profile set, click the <span class="ph uicontrol">Create</span> button.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> to profile the input.</span></li>
</ol>
<div class="section result"><div class="note note"><span class="notetitle">Note:</span> If you set an input to be evaluated at execution time (true),
that input value cannot also be an indirect reference. If it is, the reference
itself rather than the value is returned.</div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_profiling_bc_inputs"><a name="c_profiling_bc_inputs"><!-- --></a><h4 class="title topictitle4">Profiling builder call inputs</h4>
<div class="body conbody"><p class="shortdesc">Profiling a builder call input associates that input with the entry
value specified in a profile.</p>
<div class="section">As a developer, when you run the model associated with one or more
profiles, the builder call input gets whatever value is set for that profile.<p class="p">For
example, you could profile the <span class="ph uicontrol">Text</span> input for a Text
builder call, with the intent being to display a different greeting to each
user based on the type of banking account they have. Other common builder
call inputs that are profiled include:</p>
<ul class="ul"><li class="li">Argument values in service call builder calls</li>
<li class="li">Data Source values for builder calls (select, or repeated region, for
example)</li>
<li class="li">Values of variable builder calls (including XML variables)</li>
<li class="li">Arguments to method builders</li>
<li class="li">Actions in action list builders</li>
<li class="li">Page Location values for control builders</li>
<li class="li">Page to import values for imported page builders</li>
<li class="li">Image values for image builders</li>
</ul>
<p class="p">One approach to profiling is to build your web application without
profiling any builder calls. Once built, you can determine what parts of the
application require variability and profile the specific builder calls to
implement that variability.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_profiles"><a name="c_profiles"><!-- --></a><h4 class="title topictitle4">Profiles</h4>
<div class="body conbody"><p class="shortdesc">Profiles define the values to supply to profiled builder call inputs
based on the segment (J2EE Role, or LDAP Group, for example) to which the
user belongs.</p>
<div class="section"> When you create a profile, you can make one or more
associations with a profile. You can change how the <span class="ph"> WebSphere Portlet
Factory</span> servlet
associates a profile with a request by using one of the alternate profile
selection handlers (either an LDAP group-based or file-based determination).
You can also create your own profile selection handler to implement some other
way of associating a request with a profile.<p class="p">You create profiles either
in the <span class="ph uicontrol">Manage Profiles</span> tab of the profile manager or
when you profile a builder call input. Once you create a profile, you can
specify values for the entries contained in the profile set to which the profile
belongs.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_profile_enable"><a name="c_profile_enable"><!-- --></a><h4 class="title topictitle4">About profiling your builder inputs</h4>
<div class="body conbody"><p class="shortdesc">You can associate the value for a builder input with a
profile set entry by profiling the builder input.</p>
<p class="p">The builder call editor provides a way to profile a builder call
input.</p>
<p class="p">Use the Profile Input dialog when you need to profile a builder
input. This dialog lets you assign a profile set and entry to an input.
The Profile Input dialog also provides you with the ability to perform
these other profile-related tasks. </p>
<ul class="ul"><li class="li">Remove profiling from a builder input</li>
<li class="li">Create a profile set</li>
<li class="li">Modify a profile set</li>
<li class="li">Create or modify a profile entry</li>
<li class="li">Create a profile</li>
</ul>
<p class="p">After profiling the builder inputs, you can use the Applied Profiles
view to preview the affects the profiles on the inputs.</p>
</div>
<div class="related-links"></div><div class="topic reference nested4" xml:lang="en-us" id="r_mod_profile_entry_values"><a name="r_mod_profile_entry_values"><!-- --></a><h5 class="title topictitle5">Modifying profile entry values</h5>
<div class="body refbody"><p class="shortdesc">The  Profile Values column lists the value of the profile entries.
You can modify any entry value before applying profiling to the builder call
input.</p>
<div class="section"><div class="note note"><span class="notetitle">Note:</span> Changing a profile entry value in this dialog is the same as
changing it with the Manage Profiles editor (that is, the profile set on disk
is changed when you save the model).</div>
<p class="p">The following table shows how
to change the entry values in the Profile Values column.</p>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e40181">UI Type</th>
<th class="entry" valign="bottom" id="d52e40183">How To Modify the Value</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40181 ">Check Box</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40183 ">Click the checkbox to check
or uncheck it.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40181 ">Radio Box</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40183 ">Choose another value from
the drop-down select box.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40181 ">Select</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40183 ">Choose another value from
the drop-down select box.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40181 ">Selectable Input</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40183 ">Choose another value from
the drop-down select box.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40181 ">Text Area</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40183 "><ol class="ol"><li class="li">Click the ellipsis (<span class="ph uicontrol">...</span>) button to launch the text
editor.</li>
<li class="li">Change the text in the field.</li>
<li class="li">Click <span class="ph uicontrol">OK</span>.</li>
</ol>
<p class="p">Alternatively, place the cursor on the text in the cell and change
the text.</p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40181 ">Text Input</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40183 "><ol class="ol"><li class="li">Click the ellipsis (<span class="ph uicontrol">...</span>) button to launch the text
editor.</li>
<li class="li">Change the text in the field.</li>
<li class="li">Click <span class="ph uicontrol">OK</span>.</li>
</ol>
<p class="p">Alternatively, place the cursor on the text in the cell and change
the text.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_associate_model_request_profile"><a name="c_associate_model_request_profile"><!-- --></a><h4 class="title topictitle4">Associating model requests with profiles</h4>
<div class="body conbody"><p class="shortdesc">The <span class="ph">IBM WebSphere Portlet Factory</span> servlet
applies a profile to a model for each profile set associated with the model
by performing these steps:</p>
<p class="p">When a user requests (via a URL) a <span class="ph"> WebSphere Portlet
Factory</span> web
application to run, the following process takes place:</p>
<ol class="ol"><li class="li">The <span class="ph"> WebSphere Portlet
Factory</span> servlet
associates the request, typically based on the user, with a profile. </li>
<li class="li">For each profile set associated with the model, the profile selection
handler returns the profile name to use based on: <ul class="ul"><li class="li"> Segment </li>
<li class="li"> Other logic </li>
</ul>
</li>
<li class="li">The <span class="ph"> WebSphere Portlet
Factory</span> servlet
checks to see if a generated instance of the web application, with the appropriate
profile(s) applied, already exists. </li>
<li class="li">If the web application instance exists, the <span class="ph"> WebSphere Portlet
Factory</span> servlet
executes its main action list or method. </li>
<li class="li">If the appropriate web application does not exist, the <span class="ph"> WebSphere Portlet
Factory</span> servlet
regenerates the model, applying the profiles returned by the profile selection
handlers, and executes the web application's main action list or method. </li>
<li class="li">The <span class="ph"> WebSphere Portlet
Factory</span> servlet
stores the regenerated version of the web application for subsequent requests
that use the same profile(s). </li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_removing_profile"><a name="t_removing_profile"><!-- --></a><h3 class="title topictitle3">Removing profiling</h3>
<div class="body taskbody"><p class="shortdesc">To remove profiling from a builder call input:</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the builder call editor, double-click the profiled button of
the input from which you want to remove profiling.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Profile Input</span> dialog, click the <span class="ph uicontrol">Remove
Profiling</span> button and click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_add_profile_entry"><a name="t_add_profile_entry"><!-- --></a><h3 class="title topictitle3">Adding a profile entry</h3>
<div class="body taskbody"><p class="shortdesc">To add a profile entry:</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Launch the <span class="ph uicontrol">New Profile Entry</span> dialog:</span><ul class="ul choices"><li class="li choice">If you are in the Profile Entries editor, click the <span class="ph uicontrol">Add</span> button.</li>
<li class="li choice">If you are in the <span class="ph uicontrol">Profile Input</span> dialog, click
the <span class="ph uicontrol">Create</span> button.</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">New Profile Entry</span> dialog, enter the
values for the entry fields.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> to add the entry.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_profile_entries"><a name="c_profile_entries"><!-- --></a><h4 class="title topictitle4">Profile entries</h4>
<div class="body conbody"><p class="shortdesc">You can create as many profile entries as you need and save them
as a profile set. </p>
<p class="p">A profile set consists of zero or more profile entries. A profile set entry
represents a single aspect of a business relationship that you want to make
variable.</p>
<p class="p">You can map each profile entry in those profiles to a builder call by profiling
that builder input.</p>
<p class="p">You manage profile entries in one of the following ways:</p>
<ul class="ul"><li class="li">The Profile Entries editor can add, modify, and delete entries. <p class="p">To
access the Profile Entries editor, click the <span class="ph uicontrol">Entries</span> tab
of the Profile Manager.</p>
</li>
<li class="li">The Profile Input dialog can add or modify entries. <p class="p">To access this
dialog, click the profile button [<img class="image" src="designer/images/mr_profile.gif" alt="profile-enable button" />] located beside a builder input. </p>
</li>
</ul>
<div class="section"> Every entry that is created has six definition fields:<ul class="ul"><li class="li">Name</li>
<li class="li">Prompt</li>
<li class="li">User interface (UI) Type (for example, a radio box or select box)</li>
<li class="li">Extra Data</li>
<li class="li">Default Value</li>
<li class="li">Execution Time</li>
</ul>
<p class="p">When you add a profile entry, the entry is actually shared by all
existing and future profiles. Except for the <span class="ph uicontrol">Default Value</span> field,
the values of the definition fields are the same for all profiles. The <span class="ph uicontrol">Default
Value</span> field is the only field whose data can be changed on a per-profile
instance. The <span class="ph uicontrol">Default Value</span> field is the only customizable
field. To see the settings of all six fields of an entry, use the <span class="ph uicontrol">Entries</span> tab
of the profile manager.</p>
<p class="p">You customize an entry value for a given profile
either in the Manage Profiles editor of the profile manager or when you profile
a builder call input. In either case, you are changing the <span class="ph uicontrol">Default
Value</span> field of that entry for that profile.</p>
<p class="p">You can also
create a Java class that dynamically assigns data to profile values based
on some runtime condition or business logic. Profile Value Selection handlers,
as these Java classes are known, allow for even more flexibility in providing
variability in your Web application.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_profile_entries_exec_time"><a name="c_profile_entries_exec_time"><!-- --></a><h5 class="title topictitle5">Using execution time profile entries</h5>
<div class="body conbody"><p class="shortdesc">You can set profile entries to be resolved at execution time by
setting their Execution Time value to <kbd class="ph userinput">true</kbd>.</p>
<div class="section">Setting profile entry values to be resolved at execution time is
generally recommended so your Web application can take advantage of the following
benefits:<dl class="dl"><dt class="dt dlterm">Improved performance</dt>
<dd class="dd">Resolving profile entries at execution time limits the number of unique
WebApps and JSPs that need to be generated for different profiles. A smaller
number of WebApps results in fewer compiles for the JSPs in those WebApps.</dd>
<dt class="dt dlterm">Greater flexibility</dt>
<dd class="dd">Profile entries resolved at execution time provide for a greater range
of values. For example, if you want to supply a value to a builder call input
that is dependent on the time of day, highly variable from one request to
another, or any other value that is dependent on the execution time environment.</dd>
</dl>
<p class="p">Not all builder call inputs can use execution time entries.
Notable inputs that cannot take execution time values include the Imported
Page builder's <span class="ph uicontrol">Page to Import</span> input and the Service
Call builder's <span class="ph uicontrol">WSDL URL</span> input. If you inadvertently
profile a builder call input with an execution time value, upon model generation,
you will see an error for that builder call saying that it cannot resolve
an indirect reference.</p>
<p class="p">In general, we recommend that you use execution
time profile entries when you can. Web applications driven by several profile
sets with many entries will benefit most from using execution time values,
but even web applications that are not highly variable will see some benefit.</p>
<div class="note note"><span class="notetitle">Note:</span> A
general rule of thumb for knowing whether a builder call input can take an
execution time value is that if it can take an indirect reference (<samp class="ph codeph">${
... }</samp>) then it probably can be associated with a profile entry that
gets resolved at execution time.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_profile_entry_values"><a name="r_profile_entry_values"><!-- --></a><h5 class="title topictitle5">Values for profile entries</h5>
<div class="body refbody"><p class="shortdesc">Profile entries have a fixed format. </p>
<div class="section"><p class="p">Each profile entry has six fields. You cannot add extra
fields or remove fields; you can only change the default values of
the fields. You must configure the following field values when you
add an entry to a profile set.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 17. Profile entry fields</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e40598">Entry Field </th>
<th class="entry" valign="bottom" id="d52e40600">Description </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40598 ">Name </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40600 ">Name of the profile
entry, which is the name that you enter in the <span class="ph uicontrol">New Profile
Entry</span> dialog. This name will identify the entry in the
Profile Data Table (in the Manage Profiles editor) and in the Profile
Entry Outline view. The name must be a valid XML element name; do
not use spaces or special characters. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40598 ">Prompt </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40600 ">Text that will be
used for the builder call input. The prompt is also displayed in the
Profile Value Editor Work Area (in the Manage Profiles editor) and
in the Profile Entry Outline view. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40598 ">UI Type </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40600 ">The type of UI control
used to represent the profile entry. Available controls are: <dl class="dl"><dt class="dt dlterm">TextInput</dt>
<dd class="dd">A single-line text input box.</dd>
<dt class="dt dlterm">TextArea</dt>
<dd class="dd">A multiple line text entry area.</dd>
<dt class="dt dlterm">Checkbox</dt>
<dd class="dd">A check box with two values.</dd>
<dt class="dt dlterm">Select</dt>
<dd class="dd">A list of predefined selections.</dd>
<dt class="dt dlterm">SelectableInput</dt>
<dd class="dd">A list of predefined selections; however, the user can create
a new selection by typing into the select box.</dd>
<dt class="dt dlterm">Radio Box</dt>
<dd class="dd">An array of radio buttons, only one of which can be enabled.</dd>
</dl>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40598 "> Extra Data </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40600 ">The data used to
populate the UI control, such as <var class="keyword varname">choice-1, choice-2, choice-3,...choice-n</var> for
a Select entry. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40598 "> Default </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40600 ">The default value
assigned to the profile entry. You can customize this value for on
a per-profile basis. The value is displayed for the profile in the
Manage Profiles editor and in the Profile Values table of the <span class="ph uicontrol">Profile
Builder Call Input</span> dialog. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40598 "> Execution Time </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e40600 ">Determines whether
a profiled builder call input gets its value during generation or
during execution time (when the application server executes the JSP
code for the application). <p class="p">Specify <kbd class="ph userinput">true</kbd> if
the builder inputs to which this entry applies can take an indirect
reference. Setting a profile entry to be resolved at execution time
limits the number of WebApp objects generated for your application,
improving performance.</p>
<div class="note note"><span class="notetitle">Note:</span> If you set an input to be evaluated
at execution time, that input's value cannot also be an indirect reference.
If it is, the reference itself rather than the value will be returned.</div>
<p class="p">Notable
inputs that cannot be associated with execution time entries are the
Imported Page builder <span class="ph uicontrol">Page to Import</span> and the
Web Service Call builder <span class="ph uicontrol">WSDL URL</span> input.</p>
<p class="p">A
profile entry may apply to more than one builder call input. If you
set such an entry's Execution Time value to <kbd class="ph userinput">true</kbd>,
any inputs that cannot resolve their values at execution time will
throw an error. This error will vary for different builders, but the
general error will be that the input value is not valid.</p>
 </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_spec_choices_profiles"><a name="c_spec_choices_profiles"><!-- --></a><h5 class="title topictitle5">About specifying choices in profile manager</h5>
<div class="body conbody"><p class="shortdesc">Refer to this information when specifying choices in profile manager.</p>
<p class="p">For the RadioBox, Select, and SelectableInput UI types, you must specify
the UI controls in the form of:</p>
<pre class="pre codeblock">choice-1, choice-2, choice-3,...choice-n</pre>
<p class="p">For these three UI controls, the delimiter is the comma (,) character;
for example:</p>
<p class="p">East, West, North, South</p>
<p class="p">When providing choices for the Select and SelectableInput types, you can
start the list with a blank choice (thus forcing the user to enter or select
an item). To start with a blank choice, simply enter the delimiter twice.</p>
<div class="note note"><span class="notetitle">Note:</span> You must place a list item within quotes if the item contains the delimiter;
for example:<p class="p">"Paris, France", "London, England", "Tokyo, Japan"</p>
</div>
<p class="p">These following examples illustrate various ways you can specify fixed
input to an interface control:</p>
<ul class="ul"><li class="li"> Five choices using the default delimiter: One, Two, Three, Four, Five </li>
<li class="li"> Four choices, including a blank first choice: ,,One, Two, Three </li>
<li class="li"> Choices that include the delimiter character within the choice: "Reno,
NV", ", NV", "Bow, NH" (In this example spaces are stripped from the beginning
and end of each choice, unless the space character is placed within quotes.) </li>
</ul>
</div>
<div class="related-links"></div><div class="topic reference nested5" xml:lang="en-us" id="r_psm_values"><a name="r_psm_values"><!-- --></a><h6 class="title topictitle6">Populating Profile Controls with Values</h6>
<div class="body refbody"><p class="shortdesc">For each entry you include in a profile set, you must define the
UI display element that will represent the object in the profile manager.</p>
<div class="section"><p class="p">For example, if you include "Geographic Region" as a profile set
entry, you might represent this entity with a select list (displaying North,
South, East and West) or with a set of similarly labeled radio buttons.</p>
<p class="p">When
you create an entry, the <span class="ph uicontrol">Add Entry</span> dialog's <span class="ph uicontrol">UI
Type</span> select box has seven interface types from which you can choose:</p>
<dl class="dl"><dt class="dt dlterm">TextInput</dt>
<dd class="dd">Creates a text input area in which the user can enter a text string.</dd>
<dt class="dt dlterm">TextArea</dt>
<dd class="dd">Creates a scrollable text input area in which multiple lines of text can
be entered.</dd>
<dt class="dt dlterm">Select</dt>
<dd class="dd">Creates a list from which an item can be selected.</dd>
<dt class="dt dlterm">SelectableInput</dt>
<dd class="dd">Creates a list from which an item can be selected, but the user also has
the option of entering a new value.</dd>
<dt class="dt dlterm">Checkbox</dt>
<dd class="dd">Creates a check box that can be toggled between enable and disable.</dd>
<dt class="dt dlterm">RadioBox</dt>
<dd class="dd">Creates an array of radio buttons.</dd>
</dl>
</div>
<div class="section"><h6 class="title sectiontitle">Specifying Extra Data</h6><p class="p">The <span class="ph uicontrol">Extra Data</span> field
(in the <span class="ph uicontrol">Entries</span> tab of the profile manager) determines
the content displayed by the input control. This field is populated by the
data that you enter in the UI control fields of the <span class="ph uicontrol">Add Entry</span> or <span class="ph uicontrol">Edit
Entry</span> dialog. The table below lists the UI control fields that
the dialog displays for each UI type.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top">UI Type</td>
<td class="entry" rowspan="1" colspan="1" valign="top">UI Control Field In Add/Edit
Entry Dialog</td>
<td class="entry" valign="top">Description of Field</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top">TextInput</td>
<td class="entry" rowspan="1" colspan="1" valign="top">Width</td>
<td class="entry" rowspan="1" colspan="1" valign="top">A number specifying the width
of the input box, in characters.</td>
</tr>
</tbody>
<tbody class="tbody"><tr class="row"><td class="entry" rowspan="3" valign="top" width="33.33333333333333%">TextArea</td>
<td class="entry" valign="top" width="33.33333333333333%">Columns</td>
<td class="entry" valign="top" width="33.33333333333333%">Number of columns in display region </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="33.33333333333333%">Rows</td>
<td class="entry" valign="top" width="33.33333333333333%">Number of rows in display region</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="33.33333333333333%">Wrap</td>
<td class="entry" valign="top" width="33.33333333333333%">On to enable text wrapping or Off to disable it</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="33.33333333333333%">Select</td>
<td class="entry" valign="top" width="33.33333333333333%">Select Data</td>
<td class="entry" valign="top" width="33.33333333333333%">Choices for the list items, specified as: <var class="keyword varname">choice-1,
choice-2, choice-3,...choice-n</var> </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="33.33333333333333%">SelectableInput</td>
<td class="entry" valign="top" width="33.33333333333333%">Extra Data</td>
<td class="entry" valign="top" width="33.33333333333333%">Choices for the list items, specified as: <var class="keyword varname">choice-1,
choice-2, choice-3,...choice-n</var> </td>
</tr>
<tr class="row"><td class="entry" rowspan="3" valign="top" width="33.33333333333333%">Checkbox</td>
<td class="entry" valign="top" width="33.33333333333333%">Label After Check Box </td>
<td class="entry" valign="top" width="33.33333333333333%">Prompt for the checkbox</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="33.33333333333333%">Checked Value</td>
<td class="entry" valign="top" width="33.33333333333333%">True (the checkbox is checked)</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="33.33333333333333%">Unchecked Value</td>
<td class="entry" valign="top" width="33.33333333333333%">False (the checkbox is not checked)</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="33.33333333333333%">RadioBox</td>
<td class="entry" valign="top" width="33.33333333333333%">Data</td>
<td class="entry" valign="top" width="33.33333333333333%">Choices for the radio buttons, specified as: <var class="keyword varname">choice-1,
choice-2, choice-3,...choice-n</var></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested4" xml:lang="en-us" id="c_cre_prof_value_setter"><a name="c_cre_prof_value_setter"><!-- --></a><h5 class="title topictitle5">Creating profile entry value setters</h5>
<div class="body conbody"><p class="shortdesc">You can assign the values for profile entries at generation time. </p>
<div class="p">Use a Java class that implements one of the following interfaces. <ul class="sl simple"><li class="sli"><a class="xref" href="designer-html-wrapper.htm#c_cre_prof_value_setter__value2"><samp class="ph codeph">com.bowstreet.profiles.ProfileUpdateValue2</samp></a></li>
<li class="sli"><samp class="ph codeph">com.bowstreet.profiles.ProfileUpdateValue</samp></li>
</ul>
</div>
<div class="example" id="c_cre_prof_value_setter__value2"><a name="c_cre_prof_value_setter__value2"><!-- --></a><h6 class="title sectiontitle">Implementing the <samp class="ph codeph">ProfileUpdateValue2</samp> interface</h6><p class="p">The
following code example sets a profile entry value to the user name associated
with the request.</p>
<pre class="pre codeblock">import com.bowstreet.webapp.ModelInstanceCreator;
import com.bowstreet.profiles.*;
import javax.servlet.http.*;
import java.util.Map;

public class SampleTestProfileUpdateValue implements ProfileUpdateValue2

{
  public void updateProfileValues(HttpServletRequest request, Profile profile,
                      String profileSetName, String modelName,
                      String explicitProfile, ModelInstanceCreator modelInstanceCreator)
  {
    // Get the value for the "UserName" and replace it with the current users name.
    ProfileValue profileValue = profile.getValue("UserName");

    if(profileValue != null &amp;&amp; request != null)
    {
        // assume user is authenticated
        String strUserName = request.getUserPrincipal().getName();

        // now replace it
        profileValue.setData(strUserName);
    }
  }
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_prof_api_manip"><a name="c_prof_api_manip"><!-- --></a><h5 class="title topictitle5">Profile API manipulation</h5>
<div class="body conbody"><p class="shortdesc">The exposed API on a profile set is identical to that for getting
a profile from a profile set, however the name can be either the simple profile
name or the fully qualified name that contains its hierarchy.</p>
<div class="section">For example:<pre class="pre codeblock">// you can still do this for profile sets containing non-qualified profile names.
Profile profile = profileSet.getProfile("msmith");
// or this to specify the fully qualified name.
Profile profile = profileSet.getProfile("MetLife.IBM.HR.msmith");</pre>
<p class="p">To
add a new profile to a profile set in both naming cases you do the following:</p>
<div class="note note"><span class="notetitle">Note:</span> If
you use the getName() method from the parent profile then you will always
have the correct name to pass to the addProfile() method.</div>
<pre class="pre codeblock">// you can still do this for profile sets containing non-qualified profile names.
profileSet.addProfile(profile,"HR");
// or this to specify the fully qualified parent name.
profileSet.addProfile(profile, "MetLife.IBM.HR");
// this will always do the right thing
profileSet.addProfile(profile, parentProfile.getName());</pre>
<p class="p">When
creating a new profile object both naming cases work exactly the same way,
where you pass the constructor just the short profile name. This name will
then be fixed if needed when it is added to the profile set.</p>
<p class="p">For example:</p>
<pre class="pre codeblock">// create a new Profile
Profile profile = new Profile("msmith");
// now add it to its parent. This will also fix up the name of the profile to reflect its parent
profileSet.addProfile(profile, parentProfile.getName());</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_preview_prof_enable"><a name="c_preview_prof_enable"><!-- --></a><h5 class="title topictitle5">Previewing the effects of profile-enablement</h5>
<div class="body conbody"><p class="shortdesc">After you have created your profile sets, customized the profile
entries, and profiled one or more builder call inputs, you can test the effects
of profiling on the generated web application by using the Applied Profiles
view.</p>
<p class="p">The Applied Profiles view lets you apply any combination of profiles to
the model. You can then run the web application and clearly see how those
specific profiles affect the various pages and user inputs.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_profile_child_retrieval"><a name="c_profile_child_retrieval"><!-- --></a><h5 class="title topictitle5">Profile child retrieval</h5>
<div class="body conbody"><p class="shortdesc">Using the ProfileSetStorageManager <samp class="ph codeph">getChildProfiles(..)</samp> method
you can now get the immediate children of a specified profile.</p>
<div class="section">This new method will return an iterator of the ProfileDescription
objects.<pre class="pre codeblock">/**
* Gets an Iterator of ProfileDescription objects for the children of the specified parent Profile.
*
* @param name The name of the ProfileSet to operate on.
* @param parentProfile The name of the parent Profile within the ProfileSet.
* @param onlyContainers If true then only container Profiles will be included in the results, if false then all children will be included.
*
* @example
* // Gets all of the root level container profiles
* Iterator iterator = profileSetStorageManager.getChildProfiles("myProfileSet", "Default", true);
*
* // Gets all of the child profiles of "Acme.HR"
* Iterator iterator = profileSetStorageManager.getChildProfiles("myProfileSet", "Acme.HR", false);
*
* @throws ProfileException On error.
* @return An Iterator of ProfileDescription for the children of the specified parent Profile.
* @see com.bowstreet.profiles.ProfileDescription
*/
public Iterator getChildProfiles(String name, String parentProfile, boolean onlyContainers) throws ProfileException</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_profiling_access_profile"><a name="r_profiling_access_profile"><!-- --></a><h5 class="title topictitle5">Accessing profiles from linked Java object methods</h5>
<div class="body refbody"><p class="shortdesc">If you want to determine the current profile being used by the
model or access the profile values for the current profile in an LJO method,
you can access the current profile through the <samp class="ph codeph">com.bowstreet.generation.ProfileData</samp> interface.</p>
<div class="section"> <p class="p">In the LJO Java file you will need to include the following <samp class="ph codeph">import</samp> statements:</p>
<pre class="pre codeblock">import com.bowstreet.webapp.*;
import com.bowstreet.webapp.structures.*;
import com.bowstreet.generation.ProfileData;</pre>
<p class="p">To get the current
the name of the current profile being applied to the model, use code similar
to the following (where "<var class="keyword varname">ProfileSetName</var>" is the name of
the profile set associated with your model):</p>
<pre class="pre codeblock">public String getCurrentProfileName(WebAppAccess waa) {
WebAppImpl webApp = (WebAppImpl)waa.getWebApp();
RegenSettings regenSettings = webApp.getRegenSettings();
ProfileData profileData = regenSettings.getProfileData();
return profileData.getProfile("<var class="keyword varname">ProfileSetName</var>").getName();
}</pre>
<p class="p">To get the current value of a profile entry, use code similar
to the following (where <var class="keyword varname">ProfileSetName</var> is the name of the
profile set associated with your model):</p>
<pre class="pre codeblock">public String getCurrentProfileName(WebAppAccess waa) {
WebAppImpl webApp = (WebAppImpl)waa.getWebApp();
RegenSettings regenSettings = webApp.getRegenSettings();
ProfileData profileData = regenSettings.getProfileData();
return profileData.getString("<var class="keyword varname">ProfileSetName</var>:EntryName");
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_profile_retrieval"><a name="c_profile_retrieval"><!-- --></a><h5 class="title topictitle5">Profile retrieval</h5>
<div class="body conbody"><p class="shortdesc">A new interface is available that supports the retrieval of a potentially
larger number of profiles. This interface is the description of the profile
and not all of its data. The different storage handlers implement this class.</p>
<div class="section"><pre class="pre codeblock">/**
* Interface that describes information about a Profile
*
*/
public interface ProfileDescription
{
/**
* Gets the name of this Profile.
*
* If using qualified profile names the name returned will be the fully qualified name of the Profile (e.g. "acme.hr.gold").
* If not using qualified profile names the name returned will be the non-qualified name (e.g. "gold").
*
* @return The name of this Profile.
*/
 public String getName();
/**
* Gets the non-qualified name of this Profile.
*
* @return The non-qualified Profile name (e.g. "gold").
*/
public String getShortName();
/**
* Gets the name of the parent Profile.
*
* If using qualified profile names the name returned will be the fully qualified name of the Profile (e.g. "acme.hr.gold").
* If not using qualified profile names the name returned will be the non-qualified name (e.g. "gold").
*
* @return The parent name.
*/
public String getParent();
/**
* Gets if this Profile is specified to be a container, which means that it can have children Profile nodes.
*
* @return true if this Profile is a container, else false.
*/
public boolean isContainer();
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_using_execution_time_profile_data"><a name="c_using_execution_time_profile_data"><!-- --></a><h5 class="title topictitle5">Using execution time profile data</h5>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> can
gain access to profile data at execution time rather than at WebApp
generation time.</p>
<div class="section"><p class="p">This is a useful technique to employ to minimize the generating
a new WebApp JSP Page for each user when user personal preferences
are in use (for example, background color or stock symbols)<span class="ph">, for example, if a portlet runs in a portal</span>.</p>
<p class="p">The
profile entry has a property that specifies that its values can be
retrieved at runtime. The inputs definition allow you to specify that
an input accepts runtime profiling. You can set this in the profile
set manager on the on the <span class="ph uicontrol">Entries</span> tab (that
is, Execution Time True/False). This can also be set through the API
using the ProfileDefEntry class.</p>
<pre class="pre codeblock">/**
* Checks if this entry is used for runtime data.
* If true entry can be specified when profiling a Builder input that accepts runtime profile data.
* If false can only be used as a Builder input that accepts regeneration time profile data.
* When true the regeneration process will not consider this entry when determining if the profile has changed and therefore forcing a new WebApp to be generated.
*
* @return true if this entry is specified to be used as runtime profile data, else false.
*/
public boolean isRuntime()
/**
* Sets if this entry is to be used for runtime data.
* If true entry can be specified when profiling a Builder input that accepts runtime profile data.
* If false can only be used as a Builder input that accepts regeneration time profile data.
* When true the regeneration process will not considered this entry when determining if the profile has changed and therefore forcing a new WebApp to be generated.
*
* @param isRuntime true if this entry is specified to be used as runtime profile data, else false.
*/
public void setIsRuntime(boolean isRuntime)</pre>
<div class="p">At regen time, if a builder input is enabled to accept
an execution time profile value and the profile entry is specified
to be execution time, <span class="ph"> WebSphere Portlet
Factory</span> generates
the <samp class="ph codeph">${}</samp> syntax that contains the information so that
the profile value can be resolved. The indirect profile syntax is:<pre class="pre codeblock"> ${Profile/profileSetName/enrtyName}</pre>
</div>
<p class="p"> The <samp class="ph codeph">${..}</samp> is
passed to the builders input value and treated as any other indirect
reference.</p>
<div class="note note"><span class="notetitle">Note:</span> Execution time profile indirect reference syntax
is not supported by the reference picker and cannot be manually entered.</div>
<p class="p">An
indirect reference code generated to support this feature invokes
a method on the WebAppAccess object, which allows access to profile
data that was selected when the WebApp was generated or instantiated.</p>
<pre class="pre codeblock">/**
* This will get the value of the specified entry for the users profile data.
*
* @param profileSetName The name of the profile set to get the value in.
* @param entryName The name of the profile entry to get the value for.
* @return The value of the Profile data, or null if not found.
*/
public Object getProfileData(String profileSetName, String entryName)</pre>
</div>
<div class="example"><h6 class="title sectiontitle">Execution time profile data example</h6><p class="p">If you
profile the text using regenerate time profiling, the actual value
from the profile is placed in every generated JSP page. As a result,
you need a unique JSP page for each user or group of users.</p>
<div class="p">The
profiles section of the page would look something like this:<pre class="pre codeblock"> &lt;P&gt;Managers Name: &lt;SPAN name="profileData"&gt;Bob&lt;/SPAN&gt;</pre>
</div>
<div class="p">If
you use personalization where the profile value is looked up at execution
time, the JSP is as follows, and is exactly the same for every user.<pre class="pre codeblock">&lt;P&gt; Managers Name: &lt;SPAN name=" profileData "&gt;&lt; = com.bowstreet.builders.webapp.TextBuilder.process(DataConverter.toString(webAppAccess.getProfileData("region","ManagerName")) ,false) &gt;&lt;/SPAN&gt;</pre>
</div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_profile_runtime"><a name="c_profile_runtime"><!-- --></a><h6 class="title topictitle6">Builder inputs that can use runtime profile values</h6>
<div class="body conbody"><p class="shortdesc">If a profile value effects the generation of the model,
it cannot be a runtime profile. </p>
<p class="p">It is not easy to determine without detailed knowledge of the builder
whether a value can be a runtime profile value. Items that change
the fundamental structure of the generated WebApp can never be runtime
profiled, for example, the page to import or the schema of a variable
on which the Data Page builder operates. </p>
<p class="p">Items that can be an indirect value in the builder in which the
profile is used can be replaced by a runtime profile that returns
a simple value. A profile value that is itself an indirect reference
can also be used as a runtime profile value.  </p>
<p class="p">The best practice is to try setting a profile entry to be a runtime
value and generate the model. If you do not receive errors, the runtime
reference probably works. If you run the model and it continues to
work, the runtime value does its job.</p>
<div class="section"><h6 class="title sectiontitle">Other considerations with runtime profile values</h6><p class="p">When
a particular user first runs a model, a correct web application instance
must be found for that user. (A web application instance is a copy
of the web application that is created when the model is generated.)
The model is examined to see which profile sets it uses. From those
sets are retrieved data for the profile values, based on whatever
the profile set has defined for those values. </p>
<p class="p">For example,
a profile that is based on the user's locale settings might select
one set of values. Another profile that is based on the user's personalization
settings produces another set of values.</p>
<p class="p">A complete set of values
is assembled for all the possible profile entries in this model. That
set is used as a key to see whether there is already a generated web
application for these values saved in the model instance cache. If
a saved instance is found, the model generation  is unnecessary. A
private copy of the variables is produced and the model is run. </p>
<p class="p">If
a previously generated and cached instance is not found for the given
(non runtime) profile values, the model must be generated to produce
a web application. The generated results are saved in the cache. The
next user who has exactly the same profile values can use the cached
instance.</p>
<p class="p">Profile entries that are marked as runtime values
go into the model as <samp class="ph codeph">${Profile/profileSet/profileEntry}</samp>.
Those values are not evaluated as part of the model generation, but
instead at run time, just as a variable is evaluated. So differences
in those values are not part of the cache key that identifies the
saved web application in the cache.</p>
<p class="p">For personalization, you
want to avoid having non-runtime profile values that are personalized
in a unique way per user. In that case, if the value is not a runtime
value, users can never benefit from cached web applications in the
model instance cache. Every user  triggers a unique generation of
that model. </p>
<p class="p">In summary, if a profile value is driven by personalization,
and users are each likely to have a different personalization value,
it is best for it to be a runtime value. Typically, this value is
like the user's name, used for display on a page. The user's name
makes a fine runtime value. The values that really affect that structure
of the resulting web application typically are not different for every
single user. Groups of users can all get the same values. Thus, performance
is not reduced if these structural values are not runtime values.</p>
<p class="p">Using
runtime profiling for something like the user name can be unnecessary.
A value like the user name is available by the API at runtime. It
can be accessed with runtime indirection, for example, from a Text
builder with the following indirection.</p>
<pre class="pre codeblock">${Java/webAppAccess.getUserInfo().getUserID()}  </pre>
<p class="p">If
you want to expose the value to a user through the Edit/Personalize
mode of a portlet,  runtime profiling can be useful. If you can get
the value with a simple runtime API lookup,  you probably do not need
to use runtime profiling. </p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested4" xml:lang="en-us" id="c_container_node_flag"><a name="c_container_node_flag"><!-- --></a><h5 class="title topictitle5">Container node flag</h5>
<div class="body conbody"><p class="shortdesc">A container node flag supports the ability to query a profile set
for its hierarchy without having to filter out thousands of leaf nodes.</p>
<div class="section">This flag is a boolean on each profile that can specify that it is
a container. The hierarchy should be fairly limited in size compared to the
number of leaf nodes, which in theory can number thousands or hundreds of
thousands.<p class="p">By default all new profiles created are containers and therefore
you must manually set its container flag to false if you intend it to not
be a container. This flag is also exposed as a profile property in the profile
set manager.</p>
<p class="p">To get/set the container flag through the API the following
two methods have been added to the profile class.</p>
<pre class="pre codeblock">/**
* Gets if this Profile is a container, which specifies that this Profile may have child Profile nodes.
* This is informational and is not enforced. It is used when retrieving Profile from the ProfileSetStorageManager, and also effects the Profile caching since containers are used when calculating profile values.
*
* @return true if this Profile is a container, else false.
*
* @see com.bowstreet.profiles.ProfileSetStorageManager#getChildProfiles(String, String, boolean)
*
*/
public boolean isContainer()
/**
* Sets if this Profile is a container, which specifies that this Profile may have child Profile nodes.
* This is informational and is not enforced. It is used when retrieving Profile from the ProfileSetStorageManager, and also effects the Profile caching since containers are used when calculating profile values.
*
* @param isContainer true if this Profile is a container, else false.
*
* @see com.bowstreet.profiles.ProfileSetStorageManager#getChildProfiles(String, String, boolean)
*
*/
public void setIsContainer(boolean isContainer)</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_view_profile_entry_inherit"><a name="t_view_profile_entry_inherit"><!-- --></a><h3 class="title topictitle3">View profile entry value and inheritance</h3>
<div class="body taskbody"><p class="shortdesc">To see the value of a profile entry:</p>
<div class="li step"><span class="ph cmd">Click on the cell representing the entry.</span></div>
<div class="section result">A box in the Profile Entry Editing Area displays cell content. Content
represents the value of the profile entry, and this value can be a text string,
a file path, a URL, or even a UI element such as a check box or radio button
list.</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_customize_profile"><a name="c_customize_profile"><!-- --></a><h4 class="title topictitle4">Customization of profiles</h4>
<div class="body conbody"><p class="shortdesc">When you manage a profile, you can customize it by manipulating
values for entries that you have included in a profile set.</p>
<p class="p">Entry values can be changed in either of the following areas in <span class="ph">IBM WebSphere Portlet Factory</span> Designer:</p>
<ul class="ul"><li class="li">Manage Profiles editor</li>
<li class="li">Profile input dialog</li>
</ul>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_display_selected_profile_entry"><a name="c_display_selected_profile_entry"><!-- --></a><h5 class="title topictitle5">Display of selected profile entries</h5>
<div class="body conbody"><p class="shortdesc">To simplify the display of profile entries in the Profile Data
Table, you can choose to display only selected entries.</p>
<div class="section">Use the button at the top of the Manage Profile page to activate
this feature. The <span class="ph uicontrol">Show only selected entries</span> button
toggles the display between all entries and selected entries.</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_edit_profile_entry"><a name="c_edit_profile_entry"><!-- --></a><h5 class="title topictitle5">Edit a profile entry</h5>
<div class="body conbody"><p class="shortdesc">You edit the values for profile entries in the Profile Entry Work
Area.</p>
<div class="section">Click on an entry cell in the Profile Data table to access the editor
for that entry. Each cell has its own instance editor, and you use an instance
editor to work with the value represented by the cell.<p class="p">Each Profile Entry
Instance Editor displays:</p>
<ul class="ul"><li class="li">The name of the profile entry. </li>
<li class="li">The prompt for the entry. </li>
<li class="li">The current value of the entry. <p class="p">A value might be a text string (button
label), an input control (check box), the path to an image file (company logo)
or anything else that is required by a particular builder input.</p>
 </li>
</ul>
<div class="note tip"><span class="tiptitle">Tip:</span> You can display multiple editors (both Entry Instance
and Profile Properties) if you <span class="ph uicontrol">CTRL+Click</span> or <span class="ph uicontrol">Shift+Click</span> on
profile names and profile entry cells.  <span class="ph uicontrol">CTRL+Click</span> selects
and opens each selected profile, and <span class="ph uicontrol">Shift+Click</span> opens
the entire range of selected profiles. You can have as many editors open as
you like. Use the scroll bars to view all open editors.</div>
<p class="p">An instance
editor header also contains several controls represented by the following
symbols:</p>
<dl class="dl"><dt class="dt dlterm">Locked <img class="image" src="designer/images/locked_icon.gif" alt="Lock cell button" /></dt>
<dd class="dd"> Locks the cell value. A cell must be customized in order to be locked.
Once a cell value is locked, any profiles that inherit the profile entry must
use the locked value. Changes in value down the inheritance chain from this
cell are not possible. <div class="note note"><span class="notetitle">Note:</span> A cell containing an inherited value cannot be
locked</div>
</dd>
<dt class="dt dlterm">Revert <img class="image" src="designer/images/revert_icon.gif" alt="Revert to parent button" /> </dt>
<dd class="dd">Reverts this cell value to that of the parent profile.</dd>
<dt class="dt dlterm">Text <img class="image c12" src="designer/images/text_button.gif" alt="Text edit button" /></dt>
<dd class="dd">Launches an editor that lets you change the value of a TextArea entry.</dd>
</dl>
<p class="p">The <span class="ph uicontrol">Locked</span> and <span class="ph uicontrol">Revert</span> controls
are grayed-out when they do not apply to a particular cell value, and the <span class="ph uicontrol">Text</span> button
is not displayed if the entry is not a TextArea UI type.</p>
<div class="note note"><span class="notetitle">Note:</span> If you are
creating profiles to be used as end user profiles to be used for execution
time personalization, disable the <span class="ph uicontrol">Is Container</span> folder
just to the right of the <span class="ph uicontrol">Name</span> input.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_effect_profiling_model"><a name="c_effect_profiling_model"><!-- --></a><h5 class="title topictitle5">The effects of profiling on a model</h5>
<div class="body conbody"><p class="shortdesc">After you profile the builder call inputs, you can use the Applied
Profiles view to preview the effects of the profiles on the profiled inputs.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_manage_profiles_editor"><a name="c_manage_profiles_editor"><!-- --></a><h5 class="title topictitle5">Manage Profiles editor</h5>
<div class="body conbody"><p class="shortdesc">Working in the Manage Profiles editor, you can quickly inspect
a profile to see entry values, their edit state (locked or not), and their
place in the inheritance hierarchy.</p>
<div class="section">You can also quickly discern the value of any entry and see the overall
level of customization of the profile.<p class="p">You access the Manage Profiles editor
by opening a profile set in <span class="ph">IBM WebSphere Portlet Factory</span> Designer
and clicking <span class="ph uicontrol">Manage Profiles</span>. The Manage Profiles editor
has the following major components:</p>
<dl class="dl"><dt class="dt dlterm">Profile data table</dt>
<dd class="dd">The upper component is a row-and-column table that shows all the profiles
in the profile set and the individual entries they contain.</dd>
<dt class="dt dlterm">Profile entry editing area</dt>
<dd class="dd">The lower component is a workspace in which you can configure individual
profile entries. Each entry has its own editor with which you set the state
and value of that profile entry.</dd>
</dl>
<p class="p">By working with these components, you can create a highly
customized set of profiles that meet the needs of each user-community accessing
your web application.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_profile_data_table"><a name="c_profile_data_table"><!-- --></a><h5 class="title topictitle5">Profile data table</h5>
<div class="body conbody"><p class="shortdesc">The profile data table gives you an overview of the overall state
of a profile.</p>
<div class="section">Once you grasp the big picture by examining the profile at a high
level, you can click on the table cells to learn the specifics about a given
entry in a profile. The table displays individual profiles as rows. Columns
in the table represent individual entries within this profile set. Profile
entry names are listed across the top of the table.<p class="p">The left column of the
table lists all the profiles in the profile set. Indentation is used to represent
profile hierarchy. Child profiles are indented under their parent profile.
You can expand or collapse the profile hierarchy display. A table cell at
the intersection of a row and column represents a profile entry (column) in
a specific profile (row). You can view the content of a table cell by clicking
on it. This content is the value of the profile entry.</p>
<p class="p">The appearance
of a cell is an indicator of the state of the entry the cell represents. A
key to the symbols used in cells appears at the top of the Profile Data table.
A profile entry can have one of the following states:</p>
<dl class="dl"><dt class="dt dlterm"><img class="image" src="designer/images/customized.gif" alt="Custom value button" /> Custom
Value</dt>
<dd class="dd">The value of the entry in the cell is set at cell level.</dd>
<dt class="dt dlterm"><img class="image" src="designer/images/locked_icon.gif" alt="Locking point button" /> Locking
Point</dt>
<dd class="dd">Cell value is set at that cell level and locked. The value of this entry
cannot be changed in any children of this profile.</dd>
<dt class="dt dlterm"><img class="image" src="designer/images/read_only.gif" alt="Read only" /> Read Only</dt>
<dd class="dd">Entry value is set and locked in a parent profile. The value cannot be
changed at this cell's level. Cell highlighting indicates the chain of inheritance.</dd>
<dt class="dt dlterm">Inherited Value</dt>
<dd class="dd">The value of the cell (entry) is inherited from entry in a parent profile.
Cell appears empty, hover text indicates cell inherited value and status.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_del_profile_entry"><a name="t_del_profile_entry"><!-- --></a><h3 class="title topictitle3">Deleting a profile entry</h3>
<div class="body taskbody"><p class="shortdesc">From the Profile Entries editor, you can delete a profile
entry. </p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Select the target entry by clicking it once.</span></li>
<li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Delete</span> button.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_mod_profile_entry"><a name="t_mod_profile_entry"><!-- --></a><h3 class="title topictitle3">Modifying a profile entry</h3>
<div class="body taskbody"><p class="shortdesc">The <span class="ph uicontrol">Modify Profile Entry</span> dialog is used
to modify an existing entry in a profile set.</p>
<div class="section context"><div class="note note"><span class="notetitle">Note:</span> You cannot change the name of the entry.</div>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Launch the <span class="ph uicontrol">Modify Profile Entry</span> dialog: </span><ul class="ul choices"><li class="li choice">If you are in the Profile Entries editor, select an entry from the
Entries table and click the <span class="ph uicontrol">Edit</span> button. (Alternatively,
you can double-click the entry name.)</li>
<li class="li choice">If you are in the <span class="ph uicontrol">Profile Input</span> dialog, choose
an entry from the <span class="ph uicontrol">Profile Entry Name</span> select box and
click the <span class="ph uicontrol">Modify</span> button.</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">Modify Profile Entry</span> dialog, enter
the new values for the entry fields (except for the <span class="ph uicontrol">Name</span> field).</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> to update the entry fields.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_see_profsetcombntn"><a name="t_see_profsetcombntn"><!-- --></a><h3 class="title topictitle3">Seeing how the profiles affect the generated web application</h3>
<div class="body taskbody"><p class="shortdesc">To see how the profiles affect the generated web application:</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Apply a profile combination to the model.</span></li>
<li class="li step"><span class="ph cmd">Run the model.</span></li>
</ol>
<div class="section result">The web application that displays is the result of the selected profiles
supplying profile entry values to the profiled builder call inputs in the
model.</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_activate_profile"><a name="c_activate_profile"><!-- --></a><h4 class="title topictitle4">About previewing the effects of profiles</h4>
<div class="body conbody"><p class="shortdesc">After you profile one or more builder call inputs, you can see how various profiles affect the model.</p>
<p class="p">Use the Applied Profiles view to specify a list of profiles to apply to the model. You use the Profile Input dialog to profile a builder input. This dialog lets you assign a profile set and entry to an input.</p>
<p class="p">Once you apply one or more profiles to the model, you can view their effects in the WebApp Page view, the various builder call editors, and by running the model to see the generated web application.</p>
<p class="p">The Applied Profiles view has two parts:</p>
<dl class="dl"><dt class="dt dlterm">Initial view</dt>
<dd class="dd">Lists all of the profile sets (under the <span class="ph uicontrol">Profile Sets</span> column) that are associated with the current model. Next to each profile set is a select box, titled <span class="ph uicontrol">Profile</span>, that contains the profiles in that profile set. </dd>
<dt class="dt dlterm">Manage Combinations dialog</dt>
<dd class="dd">Available from the <span class="ph uicontrol">Manage Combinations</span> button, this dialog allows you to create, modify and remove profile set combinations.</dd>
</dl>
<p class="p">The <span class="ph uicontrol">Existing Combinations</span> select control lists any profile set combinations that you create for use with the model. If no combinations exist, this control displays only <samp class="ph codeph">Default</samp>.</p>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_profsetcombntn"><a name="t_cre_profsetcombntn"><!-- --></a><h3 class="title topictitle3">Creating a profile set combination</h3>
<div class="body taskbody"><p class="shortdesc">When you need to apply multiple profiles to a model, create
a profile set combination. </p>
<div class="section context"><p class="p">With a named list of profiles to use for previewing, you
can apply profiles according to all the combinations allowed by the
profile sets associated with the model.</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Ensure that a model is in the current model editor and
that the model contains at least one profiled builder that refers
to profile entries within an existing profile set.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In Eclipse, click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show View</span> &gt; <span class="ph uicontrol">Applied Profiles</span></span>.</span> <p class="p">The Applied Profiles view opens
in the task area. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the Applied Profiles view, click <span class="ph uicontrol">Manage Combinations</span>.</span> <p class="p">The Manage Profile Combinations dialog opens. This
dialog lists all profile sets associated with the current model. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">For two or more profile sets in the list, select a profile
that you want to use.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In <span class="ph uicontrol">Name</span>, enter a name that reflects
the selected combination of profiles.</span> <p class="p">For example,
if you select the Northwest profile from the Region profile set and
the Sales profile from the Organization profile set, you might name
the combination <samp class="ph codeph">NW_Sales</samp>.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Add</span> and <span class="ph uicontrol">Close</span>.</span> <p class="p">The profile set combination is saved and its name is
listed in the <span class="ph uicontrol">Existing Combinations</span> box in
the Applied Profiles view.</p>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_aply_profsetcombntn"><a name="t_aply_profsetcombntn"><!-- --></a><h3 class="title topictitle3">Applying a profile set combination</h3>
<div class="body taskbody"><p class="shortdesc">To apply a previously-created profile set combination:</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the Applied Profiles view and choose a profile combination
from the <span class="ph uicontrol">Existing Combinations</span> box.</span></li>
<li class="li step"><span class="ph cmd">Profiles are loaded and displayed in the <span class="ph uicontrol">Profile</span> select
boxes.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Apply</span> to apply the saved profile combination
set to the model.</span></li>
</ol>
<div class="section result">Examine the WebApp Page view for the model and the builder call List.
The WebApp Page view changes according to the builder call input values supplied
by the profiles. The builder call list greys-out any builder calls that have
been disabled by any profile entry values.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_rem_profsetcombntn"><a name="t_rem_profsetcombntn"><!-- --></a><h3 class="title topictitle3">Removing a profile combination set</h3>
<div class="body taskbody"><p class="shortdesc">To remove an existing profile combination set:</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the Applied Profiles view and click the <span class="ph uicontrol">Manage
Combinations</span> button to access the <span class="ph uicontrol">Manage Profile Combinations</span> dialog.</span></li>
<li class="li step"><span class="ph cmd">Choose a profile combination name from the <span class="ph uicontrol">Name</span> box.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Remove</span>.</span></li>
</ol>
<div class="section result">The profile combination is removed and no longer available in the
Existing Combinations list.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_profile_set_designer"><a name="t_cre_profile_set_designer"><!-- --></a><h3 class="title topictitle3"> Creating a profile set from the <span class="ph">IBM WebSphere Portlet Factory</span> Designer
toolbar</h3>
<div class="body taskbody"><p class="shortdesc">You can create a profile set from the <span class="ph"> WebSphere Portlet
Factory</span> Designer
toolbar.</p>
<div class="section context">Note these rules for creating profile sets:<ul class="ul"><li class="li"> The name of the profile set can contain only letters, digits, and periods. </li>
<li class="li"> The profile set's description is mandatory. </li>
</ul>
<p class="p">To create a profile set from the <span class="ph"> WebSphere Portlet
Factory</span> Designer
toolbar:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Click on the New Wizard icon [<img class="image" src="designer/images/new_wizard.gif" alt="New Wizard button" />] in the toolbar or choose <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">Other...</span> from
the <span class="ph uicontrol">File</span> menu. </span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">New</span> dialog, choose <span class="ph uicontrol">Factory
Profile Set</span>. Click <span class="ph uicontrol">Next</span>.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">New Factory Profile Set</span> dialog, enter
the name of the new profile set in the <span class="ph uicontrol">Name</span> input box. </span> The length of the name allowed is determined by the underlying operating
system (or database for profiles stored in a DB). You must give a profile
set a name that is a legal filename on the operating system that you are working
on, or legal for your DB. In all settings, it is good practice to keep profile
set names under the 256-character limit imposed by the Windows operating system.</li>
<li class="li step"><span class="ph cmd">Enter a description for the new profile set in the <span class="ph uicontrol">Description</span> input
box.</span></li>
<li class="li step">Optional: <span class="ph cmd">You can copy the entries and profiles from
an existing profile set in the drop-down menu. If you do so, you can see the
name of the developer who last changed the profile set and the description
by clicking on the <span class="ph uicontrol">Properties</span> button.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Finish</span></span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_profile_set"><a name="c_profile_set"><!-- --></a><h4 class="title topictitle4">Profile sets</h4>
<div class="body conbody"><p class="shortdesc">A profile set defines the profile entries and the profiles that
contain specific values for those entries.</p>
<div class="section">The Profile Manager editor is the primary tool you use to modify
profile sets and profile entry values. (You also interact with profile sets
when you profile a builder call input.) The profile sets are stored as XML
files with a <samp class="ph codeph">.pset</samp> extension in the <span class="ph filepath">WEB-INF/profiles</span> directory.<p class="p">When
you create a profile set, the set is created with a default profile, named
Default, which you cannot delete. All subsequent profiles will inherit either
directly or indirectly from the Default profile. A new profile set will also
have no profile entries.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_new_profileset"><a name="c_new_profileset"><!-- --></a><h5 class="title topictitle5">Creating and opening profile sets</h5>
<div class="body conbody"><p class="shortdesc">You can create and open profile sets.</p>
<p class="p">All existing profile sets are stored as XML files with a <span class="ph filepath">.pset</span> extension
in <span class="ph">IBM WebSphere Portlet Factory</span> <span class="ph filepath">WEB-INF/profiles</span> directory.</p>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_profile_set_structure"><a name="c_profile_set_structure"><!-- --></a><h5 class="title topictitle5">Profile set structure</h5>
<div class="body conbody"><p class="shortdesc">All profile sets share a similar structure, essentially containing
a list of entries and profiles that specify values for those entries.</p>
<div class="section">A profile set includes the following major elements:<dl class="dl"><dt class="dt dlterm">Entries</dt>
<dd class="dd">Contains 0 or more <samp class="ph codeph">&lt;entry /&gt;</samp> elements. Each entry
element corresponds to one "unit" of variability in your web application.
Each entry element includes information about how it is displayed in the profile
manager and the UI control to use to set its value.</dd>
<dt class="dt dlterm">Profiles</dt>
<dd class="dd">Contains a set of <samp class="ph codeph">&lt;profile /&gt;</samp> elements.</dd>
<dt class="dt dlterm">Profile</dt>
<dd class="dd">Contains values for each entry element included in the profile set. When
you profile a builder call input, you associate a builder call input with
a profile entry value.</dd>
</dl>
<p class="p">The following code sample defines a simple profile set:</p>
<pre class="pre codeblock">&lt;ProfileSet name="southwest"&gt;
&lt;Description&gt;Profiles for Southwest users&lt;/Description&gt;
&lt;ProfileDef&gt;
&lt;Entries&gt;
&lt;Entry name="CustomerName"&gt;
&lt;UI type="TextInput"&gt;
&lt;Prompt&gt;Customer Name&lt;/Prompt&gt;
&lt;/UI&gt;
&lt;/Entry&gt;
&lt;Entry name="ProductData"&gt;
&lt;UI type="Checkbox"&gt;
&lt;Prompt&gt;Products&lt;/Prompt&gt;
&lt;ExtraData&gt;&lt;/ExtraData&gt;
&lt;/UI&gt;
&lt;/Entry&gt;
&lt;/Entries&gt;
&lt;/ProfileDef&gt;
&lt;Profiles&gt;
&lt;Profile name="Default" last_modified="1013788720766"&gt;
&lt;Values&gt;
&lt;Value name="CustomerName"&gt;Bobby Jo&lt;/Value&gt;
&lt;Value name="CustomerName_Text_Text"&gt;Bobby Jo&lt;/Value&gt;
&lt;Value name="ProductData"&gt;&lt;/Value&gt;
&lt;/Values&gt;
&lt;Roles /&gt;
&lt;/Profile&gt;
&lt;Profile name="Northeast" last_modified="1013788720766" parent="Default"&gt;
&lt;Values&gt;
&lt;Value name="CustomerName"&gt;Bobby Jo&lt;/Value&gt;
&lt;Value name="CustomerName_Text_Text"&gt;Jo Bob&lt;/Value&gt;
&lt;/Values&gt;
&lt;Roles /&gt;
&lt;/Profile&gt;
&lt;/Profiles&gt;
&lt;/ProfileSet&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_fully_qual_prof_name"><a name="c_fully_qual_prof_name"><!-- --></a><h5 class="title topictitle5">Using a fully qualified profile name in a profile set</h5>
<div class="body conbody"><p class="shortdesc">In some situations, <span class="ph">particularly where
portals are involved, </span> you might need to have two profiles with
the same name in a profile set. </p>
<div class="section"><p class="p"><span class="ph">IBM WebSphere Portlet Factory</span> supports
this ability through the use of qualified naming. A fully qualified
profile name is "MyApp.CompanyB.HR" for referencing the HR Profile
under CompanyB. The default profile is always assumed to be at the
root. The default profile is never specified in the fully qualified
name, unless it is a referent to the default profile.</p>
<p class="p">To be
compatible with existing profile sets and to avoid confusion new Boolean
flag on the profile set is used to indicate that a the profile set
will use fully qualified profile names. This flag defaults to "true"
after creating a new profile set and it can be changed by using the
setUseQualifiedProfileNames(..) method.</p>
<p class="p">If this flag is set
and the profile set is saved, the UseQualifiedProfileNames flag must
not be changed. This is because the profile names stored in the profile
set are stored differently based on this flag. Flipping it when there
is existing data causes two different types of profile names to be
created. The API for this feature looks as follows:</p>
<pre class="pre codeblock">/**
* Set if this profile set should be using full names (e.g. bowstreet.hr.foo).
*
* @param useQualifiedProfileNames true if this profile set should be using full names (e.g. bowstreet.hr.foo), else false.
*/
public void setUseQualifiedProfileNames(boolean useQualifiedProfileNames)</pre>
<p class="p">The
Profile Set Manager in <span class="ph"> WebSphere Portlet
Factory</span> Designer
always creates profile sets that use fully qualified names. To provide
backward compatibility with previous versions of the profile management
tools, the getName() method on the profile class operates under the
following rules:</p>
<ul class="ul"><li class="li"> When using fully qualified profile names, the name returned will
be the fully qualified name of the profile ("MyApp.CompanyA.HR"). </li>
<li class="li"> If not using qualified profile names, the name returned will
be the non-qualified name ("HR"). </li>
</ul>
<p class="p">There is also a new method on the profile class for getting
the short (display) name. This method is:</p>
<pre class="pre codeblock">/**
* Gets the non-qualified name of this Profile.
*
* @return The non-qualified Profile name (e.g. "gold").
*/
public String getShortName()</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_specify_value_setter"><a name="c_specify_value_setter"><!-- --></a><h5 class="title topictitle5">Specifying a value setter for the profile set</h5>
<div class="body conbody"><p class="shortdesc">You can specify a Java class that assigns values to entries in
the profile set. </p>
<div class="section">This Java class is known as a profile entry value setter, and can
be used to set profile entry values according to logic executed during generation.<div class="p">To
specify a profile entry value setter for a profile set, in the <span class="ph uicontrol">Select
Handler</span> tab of the profile manager, enter the fully-qualified
class name in the <span class="ph uicontrol">Value Setter</span> text input. For example:<pre class="pre codeblock">com.bowstreet.profiles.LocaleCustomValueClass</pre>
</div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_localize_value_setter"><a name="c_localize_value_setter"><!-- --></a><h6 class="title topictitle6">Localization and the Profile Custom Value class</h6>
<div class="body conbody"><p class="shortdesc">The Profile Custom Value class can be used as a value setter
to determine the Users Locale settings from <span class="ph">IBM WebSphere Portal</span> server.</p>
<div class="section"><p class="p">Its name is: <samp class="ph codeph">com.bowstreet.ibmportal.profiles.WPSLocaleProfileValue</samp>.
This class is located in the <span class="ph filepath">portlet_adapter.jar</span> file. </p>
<p class="p">This
class expects the profile entry names to match the Locale bean style
access method names (that is, country, displayCountry, language, displayLanguage).</p>
<p class="p">The
following rules are used to determine the Locale. </p>
<ul class="ul"><li class="li"> The class checks the user's <span class="ph">WebSphere Portal</span> server preferred
language setting. </li>
<li class="li"> If no preferred language is set for the user, the preferred locale
that the client will accept content in, based on the Accept-Language
header will be used (using HttpServletRequest getLocale()). </li>
<li class="li"> If the client request does not provide an Accept-Language header,
the default locale for the server is used. </li>
</ul>
<p class="p">Also included is a profile set named wps.locale.value.pset
that has its Profile Value Setter class set to <samp class="ph codeph">com.bowstreet.ibmportal.profiles.WPSLocaleProfileValue</samp>,
and contains entries for country and language.</p>
<p class="p">The combination
of the WPSLocaleProfileValue class and its associated wps.locale.value.pset
profile set is useful when using the Localized Resource builder and
you want to determine the Language, and Country based on individual
users preferences. In place of selecting the Language and Country
in the builders inputs, you can instead profile the Language and Country
inputs using the wps.locale.value.pset profile set and select the
proper profile entry name.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_profile_set_profile"><a name="t_cre_profile_set_profile"><!-- --></a><h3 class="title topictitle3">Creating a profile set from the Profile Input dialog</h3>
<div class="body taskbody"><p class="shortdesc">You can create a profile set from the <span class="ph uicontrol">Profile Input</span> dialog.</p>
<div class="section context">Note these rules for creating profile sets:<ul class="ul"><li class="li"> The name of the profile set can contain only letters, digits, and periods. </li>
<li class="li"> The profile set's description is mandatory. </li>
</ul>
<p class="p">To create a profile set from the <span class="ph uicontrol">Profile Input</span> dialog:</p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Profile Input</span> dialog, click the <span class="ph uicontrol">Create</span> button
(located next to the <span class="ph uicontrol">Profile Set Name</span> select box).</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">New Profile Set</span> dialog, enter the
name of the new profile set in the <span class="ph uicontrol">Name</span> input box.</span> The length of the name allowed is determined by the underlying operating
system (or database for profiles stored in a DB). You must give a profile
set a name that is a legal filename on the operating system that you are working
on, or legal for your DB. In all settings, it is good practice to keep profile
set names under the 256-character limit imposed by the Windows operating system.</li>
<li class="li step"><span class="ph cmd">Enter a description for the new profile set in the <span class="ph uicontrol">Description</span> input
box.</span></li>
<li class="li step"><span class="ph cmd">Optionally, you can copy the entries and profiles from an existing
profile set in the drop-down menu. If you do so, you can see who last changed
the profile set and the description by clicking on the <span class="ph uicontrol">Properties</span> button.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_del_profile_set"><a name="t_del_profile_set"><!-- --></a><h3 class="title topictitle3">Deleting a profile set</h3>
<div class="body taskbody"><p class="shortdesc">Follow these steps to delete a profile set.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the project Navigator view, open the <span class="ph filepath">WEB-INF/profiles</span> folder
to display a list of profile sets in the project.</span></li>
<li class="li step"><span class="ph cmd">Select the profile set to be deleted.</span> You can choose
multiple sets by using the SHIFT key (to select a consecutive range of names)
or the CTRL key (to select a non-consecutive list of names).</li>
<li class="li step"><span class="ph cmd">Right-click and choose <span class="ph uicontrol">Delete</span> from the popup
menu.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Yes</span> at the <span class="ph uicontrol">Confirm Profile
Delete</span> dialog.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_list_avail_profile_sets"><a name="t_list_avail_profile_sets"><!-- --></a><h3 class="title topictitle3">Listing available profile sets</h3>
<div class="body taskbody"><p class="shortdesc">You can view a list of all the profile sets in your <span class="ph">IBM WebSphere Portlet Factory</span> project. </p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the Project Explorer or Model Navigator view, expand
the entry for the project. </span></li>
<li class="li step"><span class="ph cmd">Navigate to and open the <span class="ph filepath">profiles</span> folder.</span></li>
</ol>
<div class="section result"><p class="p">All profile sets in the project are displayed in the <span class="ph filepath">profiles</span> folder,
which is a shortcut to the <span class="ph filepath">WEB-INF/profiles</span> folder. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_open_profile_set"><a name="t_open_profile_set"><!-- --></a><h3 class="title topictitle3">Opening a profile set</h3>
<div class="body taskbody"><p class="shortdesc">The Model Navigator provides easy access to profile sets.</p>
<div class="section context">You can also use the Project Explorer to navigate to the profile
sets in the project. </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Model Navigator, open the <span class="ph uicontrol">Profile sets</span> folder
to display a list of profile sets in the project.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Do one of the following steps. </span><ul class="ul choices"><li class="li choice">Double-click on the profile set to open.</li>
<li class="li choice">Select the first of a range of profile sets to be opened and either
use the SHIFT key (to select a consecutive range of names) or the CTRL key
(to select a nonconsecutive list of names). Then, right-click the selection
and click <span class="ph uicontrol">Open</span>.</li>
</ul>
</li>
</ol>
<div class="section result">The profile sets open in the Manage Profiles editor of the Profile
Manager, with names in the profile set tabs above the editor.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_sav_profile_set"><a name="t_sav_profile_set"><!-- --></a><h3 class="title topictitle3">Saving a profile set</h3>
<div class="body taskbody"><p class="shortdesc">If the profile set tab has an asterisk, this means that the profile
set has been modified but the changes have not been saved.</p>
<div class="section context">To save a profile set, either : <ul class="ul"><li class="li"> Click the Save Editor Contents icon [<img class="image" src="designer/images/save_edit.gif" alt="Save Editor Contents button" />] in the toolbar. </li>
<li class="li"> Choose <span class="ph uicontrol">Save <var class="keyword varname">profile setname</var></span> from
the <span class="ph uicontrol">File</span> menu. </li>
<li class="li"> Use Control-S on the keyboard. </li>
</ul>
<p class="p">To save a profile set under a different name:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Launch the <span class="ph uicontrol">Profile Set Save As</span> dialog by
either:</span><ul class="ul choices"><li class="li choice">Clicking the <span class="ph uicontrol">Save To Another Location</span> icon
[<img class="image" src="designer/images/saveas_edit.gif" alt="Save As icon" />] in
the toolbar.</li>
<li class="li choice">Choosing <span class="ph uicontrol">Save As...</span> from the <span class="ph uicontrol">File</span> menu.</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Enter the new name in the <span class="ph uicontrol">Profile Set Save As</span> dialog
and click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
<div class="section result">The new profile set is opened in the Manage Profiles editor of the
Profile Manager, while the profile set of the old name is still preserved.</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_set_prof_select_handler"><a name="t_set_prof_select_handler"><!-- --></a><h3 class="title topictitle3">Setting the profile selection handler for a profile set</h3>
<div class="body taskbody"><p class="shortdesc">You can set the profile selection handler for a profile
set.</p>
<div class="section context"><div class="p">If you do not select a profile selection handler for a
profile set, the <span class="ph">IBM WebSphere Portlet Factory</span> generation
engine uses the default profile selection handler. The default profile
selection handler for a project is determined by the following property
in the <span class="ph filepath">WEB-INF/config/cluster.properties</span> file
if there is no setting for the property in the <span class="ph filepath">override.properties</span> file.<pre class="pre codeblock">bowstreet.profiles.default.selection.handler</pre>
</div>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In the profile manager, click <span class="ph uicontrol">Select Handler</span>. </span></li>
<li class="li step"><span class="ph cmd">In <span class="ph uicontrol">Profile Selection Handler</span>, select
one of the profile selection handlers from the list of handlers available
in the project. </span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic reference nested3" xml:lang="en-us" id="r_prof_select_handler"><a name="r_prof_select_handler"><!-- --></a><h4 class="title topictitle4">Profile selection handlers</h4>
<div class="body refbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> includes
multiple profile selection handlers.</p>
<div class="section"><p class="p">All profile sets in a project are stored in the <span class="ph filepath">WEB-INF/profiles</span> folder.
When you set the profile selection handler for a profile set, you
can select one from a list of handlers in the project. The following
list describes some of those handlers. </p>
<dl class="dl"><dt class="dt dlterm">Explicit Handler</dt>
<dd class="dd">Associates the request with the default profile in the current
profile set. Typically used during development so that you can preview
models with different profiles applied.</dd>
<dt class="dt dlterm">File Segment Handler</dt>
<dd class="dd">Associates a hard-coded user with a profile based on the user/profile
mappings in an XML file.</dd>
<dt class="dt dlterm">J2EE Role Handler</dt>
<dd class="dd">Associates the user with a J2EE Role and returns the profile associated
with that role.</dd>
<dt class="dt dlterm">LDAP Group Based Selection Handler</dt>
<dd class="dd">Associates the user with an LDAP Group segment and queries the
profile set to return the profile associated with the given LDAP Group.</dd>
<dt class="dt dlterm">Locale Selection Handler</dt>
<dd class="dd">Associates the user with a language locale segment and returns
the profile associated with the locale name. This handler can be used
with a <span class="ph">IBM WebSphere Application
Server</span> application.</dd>
<dt class="dt dlterm">Portal Execution Mode Handler</dt>
<dd class="dd">Creates models that vary depending on whether they are running
in an application server or in another mode.</dd>
<dt class="dt dlterm">User Attribute Profile Selection Handler</dt>
<dd class="dd">Selects a profile for a user by matching a configurable user attribute
against profile external segment associations, set in the advanced
section of the profile editor for an individual profile</dd>
<dt class="dt dlterm">WP Composite Application Role Selection Handler</dt>
<dd class="dd"> Selects a profile based on the <span class="ph">WebSphere Portal</span> Composite Application
Role that the user is in. This handler is only appropriate for portlets
that are part of a composite application, not portlets just placed
on a portal page outside of the <span class="ph">WebSphere Portal</span> template-based
composite application framework.</dd>
<dt class="dt dlterm">WP Personalization Profile Role Selection Handler</dt>
<dd class="dd">Integrates with <span class="ph">WebSphere Portal</span> Personalization
Profile Rules, specifying a named personalization rule in the handler's
configuration file, and then matches the results of the rule against
the profile names or against external associations specified per profile
in the advanced section of the profile set editor.</dd>
<dt class="dt dlterm">WPS Execution Mode Handler</dt>
<dd class="dd">Associates the request with a profile associated with a standalone
mode or running within a portal mode. You can use this selection handler
to execute different code based on the execution mode. </dd>
<dt class="dt dlterm">WPS Group Segment Handler</dt>
<dd class="dd">Associates the request with the <span class="ph">WebSphere Application
Server</span> Group to which
the user belongs and returns the profile associated with that group. <div class="note note"><span class="notetitle">Note:</span> If
the user belongs to more than one segment, a profile selection handler
returns the most-derived (least-privileged) profile.</div>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_profile_selection_handlers"><a name="c_profile_selection_handlers"><!-- --></a><h4 class="title topictitle4">Profile selection and storage management</h4>
<div class="body conbody"><p class="shortdesc">The profile selection functionality provides a pluggable
profile selection mechanism based on handlers (and configuration information
for each handler) where any available profile selection handler can
be selected for use with each profile set.</p>
<div class="section"><span class="ph"> WebSphere Portlet
Factory</span> uses
J2EE application server security and application roles, which are
not typically as granular as the levels of profile-based customization
that you might want to establish for your application. For example,
your security roles might be <span class="ph">portal</span>User and
Admin, whereas your <span class="ph">portal </span> application customization
might have a dozen or more profiles mapping to different types of <span class="ph">portal </span> users. Profile selection handlers allow
you to address this problem.<p class="p">Several profile selection handlers
are provided (XML Config File based, LDAP Group based and J2EE Role
based) as examples. You can also use these handlers out of the box
to build an application. In many scenarios though, you will most likely
want to base profile selection on existing databases of user to job-role
or entitlement mappings.</p>
</div>
<div class="section"><h5 class="title sectiontitle">Profile selection handler changes</h5><p class="p"><span class="ph"> WebSphere Portlet
Factory</span> sample Profile Selection
Handler implementations have been changed as of version 6 to take
advantage of reading partial ProfileSets. The effected handlers are
the J2EERoleProfileSelection.java, LDAPSelectionHandler, and the FileSegmentSelectionHandler.</p>
<p class="p">There
are no direct interface changes to the ProfileSelection or the SegmentList
interfaces, but the Profile Set passed in to their methods is now
not completely populated with all of the profiles in the set. Instead
the Profile Set passed to selectProfile() and getSegments() contains
structural information as well as the Default Profile.</p>
<p class="p">As a
result of this change, the SelectionHandlerBase class uses the ProfileCache
class to get a single profile in order to validate that the user matches
any explicit profiles specified. Also the getProfileBySegment() method
is updated to use the ProfileStorageManager getProfilesBySegment()
method.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_profile_selection_handler"><a name="c_profile_selection_handler"><!-- --></a><h5 class="title topictitle5">About setting the profile selection handler</h5>
<div class="body conbody"><p class="shortdesc">In the Select Handler editor of the profile manager, you can set
the profile selection handler class to use for the current profile set. You
can also declare a value selector class that dynamically assigns data to the
profile values in the profile set.</p>
<div class="section"><h6 class="title sectiontitle">Key terms</h6><p class="p">The following terms are important to understand
in the description of profile selection handlers:</p>
<dl class="dl"><dt class="dt dlterm">Segment</dt>
<dd class="dd">A categorization that you associate with a profile. Common segment types
include J2EE Roles and LDAP groups. You can create your own segment types
by implementing the <samp class="ph codeph">com.bowstreet.profiles.SegmentList</samp> interface.<div class="note note"><span class="notetitle">Note:</span> The
profile selection handler matches a request with a segment and returns the
profile associated with that segment. If the request corresponds with more
than one segment, the profile selection handler returns the "most-derived"
profile.</div>
</dd>
<dt class="dt dlterm">Profile</dt>
<dd class="dd">A collection of profile entry values that determine the values for profiled
builder call inputs. You can associate a profile with a segment when you create
or edit the profile. You can also create a Profile Selection Handler to implement
your own segment/profile associations.</dd>
</dl>
<p class="p">Setting the profile selection handler class to use for the
current profile set involves:</p>
<ul class="ul"><li class="li">Setting the profile selection handler for the profile set.</li>
<li class="li">Specifying a value setter for the profile set.</li>
<li class="li">Creating profile selection handlers.</li>
<li class="li">Creating profile entry value setters.</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_profselhandlers_defs"><a name="c_profselhandlers_defs"><!-- --></a><h5 class="title topictitle5">Handler definition files</h5>
<div class="body conbody"><p class="shortdesc">As a result of the additional level of indirection to setting up
a custom profile selection class for a profile set, a handler definition file
is now used to drive the profile selection process.</p>
<div class="section">This file names the handler and specifies the profile selection class
to be used. Once you have defined the handler, <span class="ph">IBM WebSphere Portlet Factory</span> Designer's
profile set management tools automatically pick up the named handler and make
it available for selection on the <span class="ph uicontrol">Profile Management</span> tab.<p class="p">In
addition to specifying the profile selection class you can also (optionally)
specify a SegmentList class. This is a class used by the Profile Customizer
when allowing the user to add segments (or Roles) to a Profile. The segments
are name values that the Profile Selection implementation class can use to
map the user to a particular profile within a profile set.</p>
<p class="p">Thus creating
a Profile Selection implementation is a two-step process:</p>
<ol class="ol"><li class="li">Create a class that implements the ProfileSelection interface.</li>
<li class="li">Create a class that implements the SegmentList interface.</li>
</ol>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_profileselection_interface"><a name="c_profileselection_interface"><!-- --></a><h5 class="title topictitle5">Using the ProfileSelection interface</h5>
<div class="body conbody"><p class="shortdesc">Profile Sets and profiles are not bound to a particular model.
As a result, to override the default profile selection the developer must
specify the class to perform this functionality in the profile set.</p>
<div class="section">The specified class must implement the ProfileSelection interface.
The class name for this class must be specified within the selection handler
definition file. A ProfileSelection interface has two methods that will be
called at generation time:<dl class="dl"><dt class="dt dlterm">The init() method</dt>
<dd class="dd">This is used to do any initialization before the selectProfile(..) method
is called.</dd>
<dt class="dt dlterm">The selectProfile() method</dt>
<dd class="dd">This method selects a profile from the specified profile set. The returned
profile name is used to generate a new instance of the WebApp.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested5" xml:lang="en-us" id="r_profileselection_class_xmp"><a name="r_profileselection_class_xmp"><!-- --></a><h6 class="title topictitle6">Example: Profile Selection Class</h6>
<div class="body refbody"><p class="shortdesc">Here is a sample implementation of a custom profile selection class.</p>
<div class="section">In this example, a special profile is selected on Mondays,
and on all other days a default profile is returned.<pre class="pre codeblock">import com.bowstreet.webapp.ModelInstanceCreator;
import com.bowstreet.profiles.*;
import javax.servlet.http.*;
import java.util.Map;
public class SampleProfileSelection extends SelectionHandlerBase
{
String selectProfile(HttpServletRequest request, ProfileSet profileSet, String modelName, String explicitProfile, ModelInstanceCreator modelInstanceCreator)
{
// Get the day of the week
Calendar calendar = new GregorianCalendar();
int day = calendar.get(Calendar.DAY_OF_WEEK);
// if it's Monday then get the Monday Profile
if(day == Calendar.MONDAY)
{
return profileSet.getProfile("Monday").getName();
}
else
{
return profileSet.DEFAULT;
}
}
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested5" xml:lang="en-us" id="r_profileselection_example"><a name="r_profileselection_example"><!-- --></a><h6 class="title topictitle6">Example: Profile Selection Interface</h6>
<div class="body refbody"><p class="shortdesc">A typical profile selection interface looks as follows.</p>
<div class="section"><pre class="pre codeblock">public interface ProfileSelection
{
 /**
* Gets the selected Profile from the specified Profile Set to be used to generate a Model into a WebApp.
* Implementers of this interface must return a valid Profile name for the Profile Set.
*
* @param request The HttpServletRequest for the current request. This can be used to get additional information about the requestor. Implementers of this method should test this for null, for cases where generation is done outside the context of the server.
* @param profile Set The Profile Set, which contains the Profile to be selected.
*@param modelName The name of the Model that is being generated. This will be the full path of the model relative to the "J2EERoot\WEB-INF\models" directory (e.g. "factory/core/Welcome")
* @param explicitProfile The name of an explicitly selected profile, or null if there was not one specified (e.g. "Gold").
* @param modelInstanceCreator This can be use to instantiate a WebApp Model, which can then be invoked. Implementers of this method should test this for null, for cases where generation is done outside the context of the server.
*
* @return The name of the selected profile. If an explicitProfile is specified then the implementer of this method should validate the explicit profile
* for the user making the request and return the name of the explicit profile if valid. If unable to determine the correct profile name for a user then you must return the default profile name ("Default"). 
*
* @see com.bowstreet.profiles.ProfileSet
* @see com.bowstreet.webapp.ModelInstanceCreator
* @see javax.servlet.http.HttpServletRequest
*/
String selectProfile(HttpServletRequest request, ProfileSet profileSet, String modelName, String explicitProfile, ModelInstanceCreator modelInstanceCreator);

/**
* Initialization method that is used to pass handler properties to implementers of the ProfileSelection interface.
* Implementers of this interface should use this method to do any required Initialization before the selectProfile(..) method is called.
*
* @param properties A Map of name value pairs specified in the handler definition file. The Map key and values are both of type java.lang.String.
*/
void init(Map properties);
}</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested4" xml:lang="en-us" id="c_segmentlist_interface"><a name="c_segmentlist_interface"><!-- --></a><h5 class="title topictitle5">The SegmentList interface</h5>
<div class="body conbody"><p class="shortdesc">The SegmentList interface supports UI components that
need to expose the named segments for a given handler.</p>
<div class="section"><span class="ph"> WebSphere Portlet
Factory</span> Designer's
profile management tools use this interface to display a list of valid segments
that can be assigned to a profile. Implementing this interface is optional
for defining a handler.<p class="p">To specify an implementation of a SegmentList interface
for a handler you need to set the "class" attribute of the "SegmentList" element
in your handler definition file. For example:</p>
<pre class="pre codeblock">&lt;SegmentList class="com.bowstreet.profiles.FileSegmentSelectionHandler" /&gt;</pre>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_cre_segmentlist_class"><a name="c_cre_segmentlist_class"><!-- --></a><h6 class="title topictitle6">Creating a class that implements the SegmentList interface.</h6>
<div class="body conbody"><p class="shortdesc">Once these classes are created, the profile set management tools
can be used to select the new handler for a given profile set.</p>
<div class="section">An XML file is used to describe the named profile selection handlers
and the Segment List class. In this handler definition file you must specify
the name of the class that implements the ProfileSelection interface. Handler
files are stored in the <span class="ph filepath">J2EERoot\WEB-INF\config\selection_handlers</span> directory.<p class="p">To
create a new handler you must create a new file with the structure shown below
and place it in the selection_handlers directory. A typical handler file structure
looks as follows:</p>
<pre class="pre codeblock">&lt;Handler name="File Segment Handler"&gt;
&lt;Description&gt;Handler that maps users to a segment using mapping data from a simple xml file.&lt;/Description&gt;
&lt;Selection class="com.bowstreet.webapp.examples.profileselection.FileSegmentSelectionHandler"&gt;
&lt;Properties&gt;
&lt;Property name="file"&gt;factory/profile_segment_data/segments.xml&lt;/Property&gt;
&lt;/Properties&gt;
&lt;/Selection&gt;
&lt;SegmentList class="com.bowstreet.profiles.FileSegmentSelectionHandler"&gt;
&lt;Properties/&gt;
&lt;/SegmentList&gt;
&lt;/Handler&gt;</pre>
<p class="p">This file describes the following items:</p>
<dl class="dl"><dt class="dt dlterm">Handler name</dt>
<dd class="dd">The name of the handler. This name is used as the display name to allow
the user to select a handler for their profile set.</dd>
<dt class="dt dlterm">Description</dt>
<dd class="dd">A short description that specifies the functionality of the handler.</dd>
<dt class="dt dlterm">Selection class</dt>
<dd class="dd">The class that implements the ProfileSelection interface. This must include
the full package name.</dd>
<dt class="dt dlterm">Properties</dt>
<dd class="dd">These are optional name/value pair properties that will be passed as a
map to the <samp class="ph codeph">init(..)</samp> method of your ProfileSelection and SegmentList
implementation class.</dd>
<dt class="dt dlterm">SegmentList class</dt>
<dd class="dd">The class that implements the SegmentList interface. This must include
the full package name. This is an optional value that is used by a Customizer
UI to get the list of segments for this handler.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested5" xml:lang="en-us" id="r_segmentlist_example"><a name="r_segmentlist_example"><!-- --></a><h6 class="title topictitle6">Example: SegmentList Interface</h6>
<div class="body refbody"><p class="shortdesc">The following is an implementation of a SegmentList interface.</p>
<div class="section"><pre class="pre codeblock"> /**
* Interface used to support UI components that need to expose the named segments for a given Handler.
* Tools such as the "Profile Set Manager" will use this.
*/
public interface SegmentList
{
 /**
 * Gets an Iterator of the segments related to this handler.
*
* @param profileSet The ProfileSet to which the segment names are being set on. This can be optionally used to determine the segments to be returned.
* @return An Iterator of segment names as String objects.
*/
Iterator getSegments(ProfileSet profileSet);

 /**
* Initialization method that is used to pass handler properties to implementers of the ProfileSelection interface.
* Implementers of this interface should use this method to do any required Initialization before the selectProfile(..) method is called.
*
* @param properties A Map of name value pairs specified in the handler definition file. The Map key and values are both of type java.lang.String.
*/
void init(Map properties);
}</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_handler_definition"><a name="t_cre_handler_definition"><!-- --></a><h3 class="title topictitle3">Creating a handler definition</h3>
<div class="body taskbody"><p class="shortdesc">You can create a new handler definition by copying an existing
handler definition file and saving it with a different name.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Copy one of the existing handler definitions in the <span class="ph">IBM WebSphere Portlet Factory</span> <span class="ph filepath">WEB-INF/config/selection_handlers</span> directory.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Save the copied file with a new name, such as <span class="ph filepath">account_type_handler.xml</span>.</span> <div class="note note"><span class="notetitle">Note:</span> Because the <span class="ph filepath">WebContent/WEB-INF/config</span> directory
is by default an excluded resource, you need to override the team
file and directory exclusion to ensure that your new or modified file
is kept updated in source control storage. </div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Set the values of the following elements. </span> <dl class="dl"><dt class="dt dlterm">Handler</dt>
<dd class="dd">This is the name of the handler, which will be used as the display
name in the Profile Manager to allow the user to select a handler
for their profile set. </dd>
<dt class="dt dlterm">Description</dt>
<dd class="dd">A short description that specifies the functionality of the handler.</dd>
<dt class="dt dlterm">Selection</dt>
<dd class="dd">Set the class attribute to the name of the class that extends
the BaseSelectionHandler class. Include the full package name (for
example, <samp class="ph codeph">com.acme.AccountTypeSelectionHandler</samp>).</dd>
<dt class="dt dlterm">Properties</dt>
<dd class="dd">Optional. These are name and value pair properties that are passed
as a map to the init() method of your ProfileSelection and SegmentList
implementation classes.</dd>
<dt class="dt dlterm">SegmentList class</dt>
<dd class="dd">Optional. Set the class attribute to the name of the class that
implements the SegmentList interface. The Profile Manager uses this
class to get the list of segments for this handler. Include the full
package name (for example, <samp class="ph codeph">com.acme.AccountSegmentList</samp>).</dd>
</dl>
</li>
</ol>
<div class="example"><div class="p">The following code sample is the handler definition file
for the File Segment Handler:<pre class="pre codeblock">&lt;Handler name="File Segment Handler"&gt;
  &lt;Description&gt;Handler that maps users to a segment using mapping data
from a simple xml file.&lt;/Description&gt;
  &lt;Selection class="com.bowstreet.profiles.FileSegmentSelectionHandler"&gt;
   &lt;Properties&gt;
     &lt;Property name="file"&gt;factory/profile_segment_data/segments.xml&lt;/Property&gt;
   &lt;/Properties&gt;
  &lt;/Selection&gt;
  &lt;SegmentList class="com.bowstreet.profiles.FileSegmentSelectionHandler" /&gt;
&lt;/Handler&gt;</pre>
</div>
<div class="note note"><span class="notetitle">Note:</span> As is the case with the FileSegmentSelectionHandler
class, you can implement the ProfileSelection and SegmentList interfaces
in the same class and specify that class as both the Selection class
and SegmentList class.</div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_cre_prof_select_handler"><a name="c_cre_prof_select_handler"><!-- --></a><h4 class="title topictitle4">Creating profile selection handlers</h4>
<div class="body conbody"><p class="shortdesc">Profile selection handlers are defined by the following.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">Handler definition file</dt>
<dd class="dd">This XML file lists the Java classes used to implement the profile selection
handler and any properties of the profile selection handler.</dd>
<dt class="dt dlterm">(optional) SegmentList implementation</dt>
<dd class="dd">This Java class determines and returns a list of segments to be used by
the profile manager when customizing profile entries.</dd>
<dt class="dt dlterm">BaseSelectionHandler extension</dt>
<dd class="dd">This Java class associates the request with one or more segments and returns
a profile according to the least-privileged segment.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_replace_def_select_handler"><a name="c_replace_def_select_handler"><!-- --></a><h5 class="title topictitle5">Replacing the default profile selection handler</h5>
<div class="body conbody"><p class="shortdesc">You can declare one of your own profile selection handlers as the
default handler for the <span class="ph">IBM WebSphere Portlet Factory</span> servlet
to use if a profile set does not specify a profile selection handler to use.</p>
<div class="section">To replace the default profile selection handler, set a <samp class="ph codeph">bowstreet.profiles.default.selection.handler</samp> property
in the <span class="ph filepath">cluster.properties</span> to the name of the handler
specified in the handler definition file. For example, you would set the property
to <kbd class="ph userinput">File Segment Handler</kbd> if the Handler element looks
like: <samp class="ph codeph">&lt;Handler name = "File Segment Handler"&gt;</samp><p class="p">The
following example is from the cluster.properties file:</p>
<pre class="pre codeblock"># This property specifies the handler to use for a factory wide default profile selection for WebApp Models.
bowstreet.profiles.default.selection.handler=File Segment Handler</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_sample_profileselectionhandler"><a name="c_sample_profileselectionhandler"><!-- --></a><h5 class="title topictitle5">Sample profile selection handler</h5>
<div class="body conbody"><p class="shortdesc">The following code is an example of a simple profile selection
handler that associates a request with a profile according to the day of the
week:</p>
<pre class="pre codeblock">import com.bowstreet.webapp.ModelInstanceCreator;
import com.bowstreet.profiles.*;
import com.bowstreet. model .IProfileSelection
import javax.servlet.http.*;
import java.util.Map;
public class SampleProfileSelection extends SelectionHandlerBase
{
public String selectProfile(HttpServletRequest request, ProfileSet profileSet,
String modelName, String explicitProfile,
ModelInstanceCreator modelInstanceCreator)
{
// Get the day of the week
Calendar calendar = new GregorianCalendar();
int day = calendar.get(Calendar.DAY_OF_WEEK);
// if it's Monday then get the Monday Profile
if(day == Calendar.MONDAY)
{
return profileSet.getProfile("Monday").getName();
}
else
{
return profileSet.DEFAULT;
}
}
}</pre>
<div class="section"><h6 class="title sectiontitle">About profile names</h6><p class="p">To support the ability to query
a profile set for its hierarchy without having to filter out possible thousands
of leaf nodes we are adding the concept of a container node flag. This flag
is a boolean on each profile that can specify that it is a container. The
hierarchy should be fairly limited in size compared to the number of leaf
nodes, which in theory can be thousands or hundreds of thousands. By default,
all new profiles created will be containers and therefore you must manually
set its container flag to false if you intend it to not be a container. This
flag is also exposed as a profile property in the profile manager.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_extend_selectionhandlerbase_class"><a name="c_extend_selectionhandlerbase_class"><!-- --></a><h5 class="title topictitle5">Extending the SelectionHandlerBase class</h5>
<div class="body conbody"><p class="shortdesc">The SelectionHandlerBase base class includes the following methods
that facilitate the development of profile selection handlers:</p>
<div class="section"><ul class="ul"><li class="li"> The getProfileBySegment() method returns the most-derived (least-privileged)
profile given one or more segments. </li>
<li class="li"> Handling explicit profile validation. The explicit profile validation
checks: <ul class="ul"><li class="li"> Whether the profile exists </li>
<li class="li"> Whether the user's segments match one of the segments in the specified
profile. <div class="note note"><span class="notetitle">Note:</span> If the profile does not have any segments specified then it
can be selected without a user segment match.</div>
</li>
</ul>
</li>
<li class="li"> The getUser() method returns the user ID associated with the request </li>
</ul>
<p class="p">The SelectionHandler class implements the ProfileSelection interface,
which provides</p>
<dl class="dl"><dt class="dt dlterm">init()</dt>
<dd class="dd">Performs any initialization before the selectProfile() method executes.</dd>
<dt class="dt dlterm">selectProfile()</dt>
<dd class="dd">Selects a profile from the specified profile set that is passed in and
returns its name. The <span class="ph">IBM WebSphere Portlet Factory</span> servlet
generates a new instance of the WebApp according the profile entry values
specified by the returned profile name.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_impl_segmentlist_interface"><a name="c_impl_segmentlist_interface"><!-- --></a><h5 class="title topictitle5">Implementing the SegmentList interface</h5>
<div class="body conbody"><p class="shortdesc">You can create your own SegmentList implementation so that you
can associate profiles with segments of your own type in the profile manager.</p>
<div class="section"><span class="ph">IBM WebSphere Portlet Factory</span> includes
sample implementations of the following alternate segment types:<dl class="dl"><dt class="dt dlterm">File-based User/Profile Association</dt>
<dd class="dd">Used with the File Segment List</dd>
<dt class="dt dlterm">J2EERole</dt>
<dd class="dd">Used with the J2EE Role Selection Handler</dd>
<dt class="dt dlterm">LDAP Group</dt>
<dd class="dd">Used with the LDAP Group Handler</dd>
</dl>
<p class="p">All SegmentList implementations return an Iterator to a
list of available segments. When you open the <span class="ph uicontrol">Advanced</span> pull-down
menu on the <span class="ph uicontrol">New Profile</span> or <span class="ph uicontrol">Edit Profile</span> dialog,
it displays the list of available segments.</p>
<p class="p">See the getSegments() methods
in the source code for the <samp class="ph codeph">FileSegmentSelectionHandler</samp> and
the <samp class="ph codeph">LDAPGroupHandler</samp> classes. You can find the Java source
for these classes in the <span class="ph filepath">WEB-INF/work/selectionhandlers.zip</span> file.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_setting_up_db_storage"><a name="t_setting_up_db_storage"><!-- --></a><h3 class="title topictitle3">Setting up database storage</h3>
<div class="body taskbody"><p class="shortdesc">Follow these general steps to set up database storage.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create the profile data tables and stored procedures.</span> You
can create the profile data tables and stored procedures in a database by
executing the SQL scripts provided using the database's supported tools. If
you are using a DB2 database, you must add connection information at the top
of the script before running it to specify your database name and user name.
You might need to customize all scripts according to your specific configuration
and requirements. If you so alter any table structures in the scripts, make
sure that corresponding source code in stored procedures is also updated to
support your changes.<p class="p"><span class="ph">IBM WebSphere Portlet Factory</span> database
scripts are located in the following directory: <span class="ph filepath">WEB-INF\factory\scripts</span> </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Configure a <span class="ph"> WebSphere Portlet
Factory</span> user
on Oracle.</span> Now execute the profile sets in a DB scripts using
the user you have created.</li>
<li class="li step stepexpand"><span class="ph cmd">Modify <span class="ph"> WebSphere Portlet
Factory</span> properties
for database operation.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Verify JDBC driver paths.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Migrate profile sets to and from a database.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic task nested3" xml:lang="en-us" id="t_config_pfuser_oracle"><a name="t_config_pfuser_oracle"><!-- --></a><h4 class="title topictitle4">Configuring an <span class="ph">IBM WebSphere Portlet Factory</span> user
on Oracle</h4>
<div class="body taskbody"><p class="shortdesc">Prior to running a script on Oracle, you must configure a user.</p>
<div class="section context">The Oracle database has a generic user that is created on each instance.
This user is named "scott" and the password associated with this user is "tiger". <span class="ph"> WebSphere Portlet
Factory</span> profiles in a DB can
be accessed by any user that has at minimum the same security level as user
"scott," as well as EXECUTE permission on the DBMS_LOCK object listed under
the Object Privileges for the schema belonging to SYS.<p class="p">To configure a <span class="ph"> WebSphere Portlet
Factory</span> user on Oracle:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Using the Oracle DBA Studio, log into the Oracle instance to which
the profile sets in a DB is being installed. (Log into the Oracle DBA Studio
using the Oracle SYS account.)</span></li>
<li class="li step stepexpand"><span class="ph cmd">Expand the Security tree element and then expand the Users tree
element.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Select the specific user that will become the owner of the <span class="ph"> WebSphere Portlet
Factory</span> Profile Sets in a
DB schema.</span> If the user does not exist, create a user with at a
minimum, the same security level as the user "scott." To quickly duplicate
the "scott" user, right click on the "scott" user, and select <span class="ph uicontrol">Create
Like...</span>, then enter the new username for the owner of the <span class="ph"> WebSphere Portlet
Factory</span> Profile Sets in a
DB.</li>
<li class="li step stepexpand"><span class="ph cmd">To verify/add this permission, using the Oracle DBA studio, select
the owner of the <span class="ph"> WebSphere Portlet
Factory</span> profile
sets on the left side by single left mouse clicking the user.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Select the Object Privileges tab, expand the Schema tree, expand
the SYS user, then expand the Packages element.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Select the DBMS_LOCK package.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Under Available Privileges will be <span class="ph uicontrol">EXECUTE</span>.
Select the <span class="ph uicontrol">EXECUTE</span> privilege, and click on the down
arrow to <span class="ph uicontrol">Grant this privilege to the Factory Profile Sets in a
DB user</span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click the <span class="ph uicontrol">Apply</span> button.</span> <div class="note note"><span class="notetitle">Note:</span> If
the apply action fails, this usually indicates that the user currently logged
into the instance does not have access to delegate privileges belonging to
the SYS schema. If this is the case, disconnect from the database instance
and reconnect to the instance with a user that has access to the SYS objects.</div>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_mod_factory_props_db"><a name="t_mod_factory_props_db"><!-- --></a><h4 class="title topictitle4">Modifying <span class="ph">IBM WebSphere Portlet Factory</span> properties
for database operation</h4>
<div class="body taskbody"><p class="shortdesc">You need to modify several properties in <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph filepath">cluster.properties</span> file.</p>
<div class="section context"> The <span class="ph filepath">cluster.properties</span> file tells <span class="ph"> WebSphere Portlet
Factory</span> where
to store the Profile data.</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Open the <span class="ph filepath">cluster.properties</span> file in a text
editor, such as Notepad (Windows NT/Windows 2000).</span> The <span class="ph filepath">cluster.properties</span> file
can be found in the <span class="ph filepath"><var class="keyword varname">nonservable_content_root</var>\config</span> directory.</li>
<li class="li step stepexpand"><span class="ph cmd">Disable the file-handler by putting a hash symbol before them,
as shown here:</span> <pre class="pre codeblock">#bowstreet.profiles.storage.handler=com.bowstreet.profiles.FileStorageHandler
#bowstreet.profiles.storage.file.dir=${bowstreet.rootDirectory}/profiles
#bowstreet.profiles.storage.file.enableLocking=true
#bowstreet.profiles.storage.file.maxLockTries=5</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Enable the database handler property below by removing the hash
symbol in front of it.</span> This is the handler configuration for storing
and retrieving profile set data:<pre class="pre codeblock">bowstreet.profiles.storage.handler=com.bowstreet.profiles.storagehandler.DbStorageHandlerImpl</pre>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">Uncomment the properties below to configure
the storage handler to use database locking to ensure safe concurrent access
to profile set records.</span> <div class="note note"><span class="notetitle">Note:</span> If these two properties are not enabled,
a default of 15 seconds is used.</div>
<pre class="pre codeblock">bowstreet.profiles.storage.db.lockTimeout=5
bowstreet.profiles.storage.db.unlockTimeout=5</pre>
<div class="note note"><span class="notetitle">Note:</span> On <span class="ph">IBM WebSphere Application
Server</span>,
the property "<samp class="ph codeph">bowstreet.profiles.storage.db.unlockTimeout=</samp>"
must be set to a value of "<samp class="ph codeph">-1</samp>". This setting disables the
property. If the property is not set to -1 an exception will result.</div>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">Enable audit logging by uncommenting the
one of the properties below.</span> Enabling the first property will record
profile set changes to the <span class="ph"> WebSphere Portlet
Factory</span> event
log. Enabling the second property will turn off audit logging.<pre class="pre codeblock">bowstreet.profiles.storage.auditHandler=com.bowstreet.profiles.storagehandler.LoggingAuditHandlerImpl
bowstreet.profiles.storage.auditHandler=com.bowstreet.profiles.storagehandler.NullAuditHandlerImpl</pre>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">Enable and configure the following properties
if <span class="ph"> WebSphere Portlet
Factory</span> is running
on a server that provides JDBC DataSource objects backed up by a pool.</span> This is the connection Factory configuration that defines how the storage
handler obtains database connections. Use the DataSource Factory when running
on a server that provides JDBC DataSource objects backed up by a pool. <div class="note note"><span class="notetitle">Note:</span> Each
example value begins with the string, "<samp class="ph codeph">{shared}</samp>". This tells
the storage handler to share a single instance of a database connection factory
across all instances of the handler. You should always use a shared connection
factory.</div>
<div class="note note"><span class="notetitle">Note:</span> The following properties and their values would normally
appear on one line.<p class="p">For an application server managed data source:</p>
<pre class="pre codeblock">bowstreet.profiles.storage.db.connectionFactory={shared}com.bowstreet.profiles.storagehandler.J2eeDataSourceConnectionFactoryImpl</pre>
<p class="p">For a <span class="ph"> WebSphere Portlet
Factory</span>-managed
connection:</p>
<pre class="pre codeblock">bowstreet.profiles.storage.db.connectionFactory={shared}com.bowstreet.profiles.storagehandler.JdbcPooledConnectionFactoryImpl</pre>
</div>
</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">Set up a DataSource that is backed by a pool.</span> The following property is the configuration data for the JDBC DataSource
connection Factory. It specifies the JNDI name assigned to the DataSource
object that the connection Factory should use when attempting to grab a DataSource
and obtain connections from it. Refer to your application server's documentation
on how to setup a DataSource that is backed by a pool.<pre class="pre codeblock">bowstreet.profiles.storage.connectionFactory.j2eeDataSource=jdbc/profdb</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">If you are using a <span class="ph"> WebSphere Portlet
Factory</span>-managed
JDBC connection, enter the configuration for <span class="ph"> WebSphere Portlet
Factory</span>'s
JDBC pooled connection factory as follows:</span> <dl class="dl"><dt class="dt dlterm">Oracle</dt>
<dd class="dd">For an Oracle database using Oracle's thin JDBC driver. The verification
SQL, if defined, tells the connection factory to validate connections before
they are given to the storage handler. The following example is for a Oracle
(thin driver) configuration data for the JDBC pooled connection factory.<pre class="pre codeblock">bowstreet.profiles.storage.connectionFactory.jdbcUrl=jdbc:oracle:thin:@dbserver:port:db_name
bowstreet.profiles.storage.connectionFactory.jdbcUserName=user_name
bowstreet.profiles.storage.connectionFactory.jdbcPassword=password
bowstreet.profiles.storage.connectionFactory.jdbcVerificationSql=select sysdate from dual</pre>
</dd>
<dt class="dt dlterm">SQL Server</dt>
<dd class="dd">The following is an example of the configuration data for <span class="ph"> WebSphere Portlet
Factory</span>'s
JDBC pooled connection factory for a SqlServer database using the Microsoft
JDBC driver.<pre class="pre codeblock">bowstreet.profiles.storage.connectionFactory.jdbcUrl=jdbc:microsoft:sqlserver://dbserver:port
bowstreet.profiles.storage.connectionFactory.jdbcUserName=user_name
bowstreet.profiles.storage.connectionFactory.jdbcPassword=password
bowstreet.profiles.storage.connectionFactory.jdbcVerificationSql=select getdate()</pre>
</dd>
<dt class="dt dlterm">INET JDBC Driver</dt>
<dd class="dd">This driver is not supported by <span class="ph"> WebSphere Portlet
Factory</span>.
Use of the Microsoft equivalent driver is recommended.</dd>
<dt class="dt dlterm">DB2</dt>
<dd class="dd">The following is the configuration data for <span class="ph"> WebSphere Portlet
Factory</span>'s
JDBC pooled connection factory for a DB2 database using the IBM JDBC driver.<pre class="pre codeblock">bowstreet.profiles.storage.connectionFactory.jdbcUrl=jdbc:db2://server:port/instance
bowstreet.profiles.storage.connectionFactory.jdbcUserName=user_name
bowstreet.profiles.storage.connectionFactory.jdbcPassword=userpassword
bowstreet.profiles.storage.connectionFactory.jdbcVerificationSql=select current timestamp</pre>
</dd>
</dl>
</li>
<li class="li step stepexpand"><span class="ph cmd">Enable the "<samp class="ph codeph">jdbcAcquireTimeout</samp>" property, which
defines the amount of time, in milliseconds, <span class="ph"> WebSphere Portlet
Factory</span> is
willing to wait for an existing connection to be returned to the pool before
it creates a connection for the storage handler.</span> <pre class="pre codeblock">bowstreet.profiles.storage.connectionFactory.jdbcAcquireTimeout=5000</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Enable the <samp class="ph codeph">jdbcPoolSweepPeriod</samp> property, which
controls the amount of time in seconds <span class="ph"> WebSphere Portlet
Factory</span> waits
before sweeping the pool of inactive connections</span> <pre class="pre codeblock">bowstreet.profiles.storage.connectionFactory.jdbcPoolSweepPeriod=30</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Enable the <samp class="ph codeph">jdbcInactiveConnectionTimeout</samp> property,
which defines the amount of time in seconds a connection is allowed to sit
in the pool unused before it is considered to be inactive.</span> <pre class="pre codeblock">bowstreet.profiles.storage.connectionFactory.jdbcInactiveConnectionTimeout=30</pre>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_verify_jbdc_path"><a name="t_verify_jbdc_path"><!-- --></a><h4 class="title topictitle4">Verifying JDBC driver paths</h4>
<div class="body taskbody"><p class="shortdesc">If you are using a <span class="ph">IBM WebSphere Portlet Factory</span>-managed
JDBC connection, you must provide the <span class="ph"> WebSphere Portlet
Factory</span> the
path to the JDBC driver to be able to access the database containing the profile
sets.</p>
<div class="section context">You can do so by entering the class name in the <span class="ph filepath">JDBC.properties</span> file
and including the file name and path in the classpath.<p class="p">You can determine
whether the path to the JDBC driver has been added by looking in JdbcDrivers.properties
in the <span class="ph filepath"><var class="keyword varname">nonservable_content_root</var>\config</span> directory.
This file contains the path to the JDBC drivers. In Windows NT/Windows 2000,
the directories in the path are separated by a double-backslash (\\), for
example:</p>
<pre class="pre codeblock">C\:\\drivers\\jdbc\\db2\\5.2\\db2java.zip</pre>
<p class="p">where <span class="ph filepath">db2java.zip</span> is
located in the <span class="ph filepath">C:\drivers\jdbc\db2\5.2</span> directory.</p>
<p class="p">If
you have not installed the JDBC driver for the database containing the profile
sets, do the following:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In a text editor, open one of the following files in the <span class="ph filepath"><var class="keyword varname">nonservable_content_root</var>\config</span> directory:</span><ul class="ul choices"><li class="li choice">Apache Tomcat – <span class="ph filepath">install.properties.guide.tomcat</span></li>
<li class="li choice"><span class="ph">IBM WebSphere Application
Server</span> - <span class="ph filepath">install.properties.guide.websphere</span></li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Copy the JDBC Driver section paste it at the end of the <span class="ph filepath">install.properties</span> file.</span> An example of the JDBC Driver section from install.properties.guide
is shown below: <pre class="pre codeblock"># REQUIRED for: none
# APPLIES to: Cluster Administration Server, Cluster Server, Development Server, Standalone
# Setup your JDBC driver info here
# Uncomment these settings to use a JDBC driver
# To use an additional driver, copy and modify the database settings
# above. Be sure to increment the number (0) as required
# original: JDBCDRIVER_SHORTNAME_0=
# original: JDBCDRIVER_CLASSNAME_0=
# original: JDBCDRIVER_LOCATION_0=
#
# install.jdbc.driver.shortName_0=Oracle8
# install.jdbc.driver.className_0=oracle.jdbc.driver.OracleDriver
# install.jdbc.driver.location_0=c:\\driverdir\\oracle816thin.zip (or
# ../driverdir/oracle816thin.zip)
#
# If you want to add additional JDBC drivers after your initial configuration,
# you may follow the steps above and modify the following parameters:
# install.all=false
# install.jdbc=true</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Uncomment the JDBC driver section, and add the appropriate information
for your JDBC driver.</span> For example, assume you want to add an
Oracle JDBC driver for a database that runs on Windows NT/Windows 2000. You
would assign a short name, its class name, and a path to its location, as
shown below. <pre class="pre codeblock">install.jdbc.driver.shortName_0=Oracle8
install.jdbc.driver.className_0=oracle.jdbc.driver.OracleDriver
install.jdbc.driver.location_0=c:\\driverdir\\oracle816thin.zip</pre>
<div class="note note"><span class="notetitle">Note:</span> The
increment number (<samp class="ph codeph">_0</samp>) is the same for all three properties
because they refer to the same JDBC driver. If you want to add another JDBC
driver, you would increment the number by one, as shown below:<pre class="pre codeblock">install.jdbc.driver.shortName_1=DB2
install.jdbc.driver.className_1=COM.ibm.db2.jdbc.net.DB2Driver
install.jdbc.driver.location_1=C\:\\drivers\\jdbc\\db2\\7.1\\jdbc2.0-jdk1.2\\db2java.zip</pre>
</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">To install the JDBC driver, type the following at the command prompt
in <span class="ph filepath"><var class="keyword varname">nonservable_content_root</var>/bin</span> directory:</span><ul class="ul choices"><li class="li choice">For UNIX: <samp class="ph codeph">./setup auto</samp></li>
<li class="li choice">For Windows NT/Windows 2000: <samp class="ph codeph">setup auto</samp></li>
</ul>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested3" xml:lang="en-us" id="t_migrate_profile_set"><a name="t_migrate_profile_set"><!-- --></a><h4 class="title topictitle4">Migrating profile sets to and from a database</h4>
<div class="body taskbody"><p class="shortdesc">Follow these steps to migrate profile sets to and from a database.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Locate the migrate-profilesets.bat file in <span class="ph filepath">WEB-INF\bin</span>.</span> This utility migrates the profile sets from files to a database. <ul class="ul choices"><li class="li choice">Run the utility and enter <kbd class="ph userinput">1</kbd> to migrate the
profile sets from a file to the database (or to backup profile sets to a databse).</li>
<li class="li choice">Run the utility and enter <kbd class="ph userinput">2</kbd> to migrate the
profile sets from a database to a file.</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Enter the location of the profile set files. Enter the full path
to the <samp class="ph codeph">WEB-INF\profiles</samp> directory.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Enter the database URL.</span> For example: <samp class="ph codeph">jdbc:oracle:thin:@db_servername:port:instance</samp></li>
<li class="li step stepexpand"><span class="ph cmd">Enter the user name for the database.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Enter the password for the database.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Restart the application server.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_prop_file_migrate"><a name="c_prop_file_migrate"><!-- --></a><h5 class="title topictitle5">Use of a property file to migrate profile sets</h5>
<div class="body conbody"><p class="shortdesc">You can run the conversion batch file with a <samp class="ph codeph">-f</samp> argument. </p>
<div class="section"><p class="p">This allows you to run the script in conjunction with a migration
property file.</p>
<p class="p">You use this property file to supply the URL, username,
and password provided manually in migrating profile sets to or from a database.
This approach is useful for batch-processing profile set operations.</p>
<div class="p"><span class="ph"> WebSphere Portlet
Factory</span> is supplied with a
sample migration property file you can use as a basis for profile set migration
purposes. The sample file is in the following location.<pre class="pre codeblock"><span class="ph filepath">../WebContent/WEB-INF/config/migrate-profilesets.properties</span></pre>
This file contains comments and instructions for running a migration
in silent mode.</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_profile_selection_and_storage"><a name="c_profile_selection_and_storage"><!-- --></a><h4 class="title topictitle4">Profile selection and storage mechanisms</h4>
<div class="body conbody"><p class="shortdesc">Custom profile selection and custom profile values let you gain
finer control over your web application.</p>
<div class="section">The J2EE application server security and application roles used by <span class="ph">IBM WebSphere Portlet Factory</span> are typically not as
granular as your application profiles should be. Profile selection handlers
provide a pluggable profile selection mechanism.  In addition, <span class="ph"> WebSphere Portlet
Factory</span> can
store profile information in and retrieve profile information from a database.
This capability is particularly useful when a database of users already exists
within your enterprise.</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_factory_wide_profile_selection_handler"><a name="c_factory_wide_profile_selection_handler"><!-- --></a><h5 class="title topictitle5">Default profile selection handler</h5>
<div class="body conbody"><p class="shortdesc">You can specify a default (<span class="ph">IBM WebSphere Portlet Factory</span>-wide)
replacement handler for the profile selection handler.</p>
<div class="section">This can be done to set a default profile selection handler when
the profile set does not have one explicitly set. The interface used to provide
this functionality is the same one used by the profile set selection class,
which is the ProfileSelection interface described above.<p class="p">In order to specify
and enable a default <span class="ph"> WebSphere Portlet
Factory</span>-wide
handler, you must create a class that implements the ProfileSelection interface
along with a handler definition file. Once this is done, you can set a property
in the cluster.properties file to specify your handler's name. This is the
name of the handler specified in the definition file (for example, <samp class="ph codeph">&lt;Handler
name="File Segment Handler"&gt;</samp>).</p>
<p class="p">For example, the cluster.properties
file entry might looks as follows:</p>
<pre class="pre codeblock"># This property specifies the handler to use for a factory wide default profile selection for WebApp Models.
bowstreet.profiles.default.selection.handler=File Segment Handler</pre>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_userdef_profvals"><a name="c_userdef_profvals"><!-- --></a><h6 class="title topictitle6">User defined profile values</h6>
<div class="body conbody"><p class="shortdesc">Profile sets and profiles are not bound to a particular model.</p>
<div class="section">To customize the profile values you must specify which class is to
perform this functionality in the profile set. The specified class must implement
the ProfileUpdateValue interface. The class name for this can be specified
within the profile set management tools when defining the profile set.<p class="p">The
ProfileUpdateValue interface has one method, which is called at generation
time. From within the updateProfileValues method you can modify any of the
values in the specified profile that is passed in. These new value(s) will
be used to generate a new instance of the WebApp.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested5" xml:lang="en-us" id="r_custvalclass_xmp"><a name="r_custvalclass_xmp"><!-- --></a><h6 class="title topictitle6">Example: custom value class implementation</h6>
<div class="body refbody"><p class="shortdesc">Here is a sample implementation of a custom value class that replaces
a value named "UserName" with the name of the current user name.</p>
<div class="section"><pre class="pre codeblock">import com.bowstreet.webapp.ModelInstanceCreator;
import com.bowstreet.profiles.*;
import javax.servlet.http.*;
import java.util.Map;
public class SampleTestProfileUpdateValue implements ProfileUpdateValue
{
void updateProfileValues(HttpServletRequest request, Profile profile, String modelName, String explicitProfile, ModelInstanceCreator modelInstanceCreator)
{
// Get the value for the "UserName" and replace it with the current users name.
ProfileValue profileValue = profile.getValue("UserName");
if(profileValue != null &amp;&amp; request != null)
{
// assume user is authenticated
String strUserName = request.getUserPrincipal().getName();
// now replace it
profileValue.setData(strUserName);
}
}
}
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested5" xml:lang="en-us" id="r_profileupdatevalue_xmp"><a name="r_profileupdatevalue_xmp"><!-- --></a><h6 class="title topictitle6">Example: ProfileUpdateValue Interface</h6>
<div class="body refbody"><p class="shortdesc">This is an example of ProfileUpdateValue interface.</p>
<div class="section"><pre class="pre codeblock">public interface ProfileUpdateValue
{
/**
* This method can be used to update any of the values within specified Profile.
* These values are only used to generate a new WebApp instance and are not save to the ProfileSet storage.
*
* @param request The HttpServletRequest for the current request. This can be used to get additional information about the requestor. Implementers of this method should test this for null, for cases where generation is done outside the context of the server.
* @param profile The Profile, which to update the values in.
*@param modelName The name of the Model that is being generated. This will be the full path of the model relative to the "J2EERoot\WEB-INF\models" directory (e.g. "factory/core/Welcome")
* @param explicitProfile The name of an explicitly selected profile, or null if there was not one specified.
* @param modelInstanceCreator This can be use to instantiate a WebApp Model, which can then be invoked. Implementers of this method should test this for null, for cases where generation is done outside the context of the server.
*
* @see com.bowstreet.profiles.Profile
* @see com.bowstreet.webapp.ModelInstanceCreator
* @see javax.servlet.http.HttpServletRequest
*/
void updateProfileValues(HttpServletRequest request, Profile profile, String modelName, String explicitProfile, ModelInstanceCreator modelInstanceCreator);
}</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested4" xml:lang="en-us" id="c_db_storage_profile"><a name="c_db_storage_profile"><!-- --></a><h5 class="title topictitle5">Database storage of profile information</h5>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> is capable
of storing profile information in and retrieving it from a database.</p>
<div class="section"><h6 class="title sectiontitle">Overview of database storage mechanisms</h6>This section
discusses database storage mechanism and the procedures required to set up
a database repository of profile information. The following components implement
database profile support.<dl class="dl"><dt class="dt dlterm">Base Audit Handler</dt>
<dd class="dd">Provides a standard abstract implementation for recording an audit log
of user changes to the profile set data. The classes <samp class="ph codeph">NullAuditHandlerImpl.java</samp> and <samp class="ph codeph">LoggingAuditHandlerImpl.java</samp> are
used to implement this functionality.<p class="p">This handler dumps an audit log of
profile set changes to the standard <span class="ph"> WebSphere Portlet
Factory</span> event
log. Each audit record contains a leading key which associates this change
with others in a sequence.</p>
</dd>
<dt class="dt dlterm">Base Connection Factory</dt>
<dd class="dd">Provides a standard abstract implementation for creating and managing
a set of database connections. The following implementation are possible. <ul class="ul"><li class="li"> A J2EE DataSource Connection Factory<p class="p">The class <samp class="ph codeph">J2eeDataSourceConnectionFactoryImpl.java</samp> is
used to implement this functionality. This handler creates connections from
a standard JDBC DataSource instance obtained by querying a JNDI context. The
configuration and management of the DataSource (including any pooling of the
created connections) is the responsibility of the application server. </p>
 </li>
<li class="li"> A JDBC Pooled Connection Factory<p class="p">The class <samp class="ph codeph">jdbcPooledConnectionFactoryImpl.java</samp> is
used to implement this functionality. </p>
</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> You must implement a J2EE DataSource Connection Factory mechanism
on your production servers.</div>
</dd>
<dt class="dt dlterm">Base Storage Handler</dt>
<dd class="dd">Provides a standard abstract implementation for all storage handlers regardless
of what storage mechanism they front. The class <samp class="ph codeph">DbStorageHandlerImpl.java</samp> implements
this functionality.<p class="p">This smart handler looks for data changes at the lowest
level of granularity that is feasible. For example, at the Value granularity
rather than the whole profile. The handler is also selective about what it
is willing to write to the database. For example, it attempts to prevent semantically
invalid profile sets from being stored.</p>
<p class="p">This handler also supports stored
procedures. This allows you to customize the implementation provided (for
example, tables and indices) to match your enterprise database standards without
resorting to rewriting Java code. in effect, the stored procedures are equivalent
to a Java interface and an implementation of that interface.</p>
</dd>
</dl>
</div>
<div class="section"><h6 class="title sectiontitle">Properties used for configuration</h6><div class="p">Database profile
storage is configured by properties in the following location.<pre class="pre codeblock"><span class="ph filepath">../WebContent/WEB-INF/config/cluster.properties</span></pre>
 </div>
<div class="p">The actual properties that need to be configured depend upon what
you choose for the audit handler and connection factory. <div class="note note"><span class="notetitle">Note:</span> All optional
properties are assigned default values intended to optimize performance.</div>
</div>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested5" xml:lang="en-us" id="r_srvr_prop_config_xmp"><a name="r_srvr_prop_config_xmp"><!-- --></a><h6 class="title topictitle6">Example: Properties that Configure the Server</h6>
<div class="body refbody"><p class="shortdesc">A typical server property configuration might look as follows.</p>
<div class="section"><pre class="pre codeblock">bowstreet.profiles.storage.handler=
com.bowstreet.profiles.storagehandler.DbStorageHandlerImpl

 bowstreet.profiles.storage.db.lockTimeout=5
 bowstreet.profiles.storage.db.unlockTimeout=5

 bowstreet.profiles.storage.auditHandler=
 com.bowstreet.profiles.storagehandler.LoggingAuditHandlerImpl

 bowstreet.profiles.storage.db.connectionFactory=
 {shared}com.bowstreet.profiles.storagehandler.J2eeDataSourceConnectionFactoryImpl
 bowstreet.profiles.storage.connectionFactory.j2eeDataSource=jdbc/profdb</pre>
<div class="note note"><span class="notetitle">Note:</span> On
the <span class="ph">IBM WebSphere Application
Server</span>, the property, <samp class="ph codeph">bowstreet.profiles.storage.db.unlockTimeout=</samp>,
must be set to a value of "<samp class="ph codeph">-1</samp>". This setting disables the
property. If the property is not set to -1, an exception will result.</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested4" xml:lang="en-us" id="c_using_sample_handlers"><a name="c_using_sample_handlers"><!-- --></a><h5 class="title topictitle5">Using sample handlers</h5>
<div class="body conbody"><p class="shortdesc">Several sample handlers are available in <span class="ph">IBM WebSphere Portlet Factory</span>.</p>
<div class="section">The implementation classes for the sample Profile Selection handlers
are built into product and the source code for them is provided. They are
located in the <span class="ph filepath">\J2EERoot\WEB-INF\work\selectionhandlers.zip</span> file.<p class="p">Each
of the sample selection handlers cla_sses use a common base class that provides
some commonly used functionality. The source for the base class is also provided.
The following section describes each of the samples. You should also review
the source code and the JavaDoc for the following classes and interfaces to
get a better understanding of how they work.</p>
<p class="p">For classes:</p>
<ul class="ul"><li class="li"> <samp class="ph codeph">com.bowstreet.profiles.ProfileSelection</samp> </li>
<li class="li"> <samp class="ph codeph">com.bowstreet.profiles.SegmentList</samp> </li>
<li class="li"> <samp class="ph codeph">com.bowstreet.profiles.SelectionHandlerBase</samp> </li>
</ul>
<p class="p"> For handlers:</p>
<ul class="ul"><li class="li"> <samp class="ph codeph">com.bowstreet.profiles.FileSegmentSelectionHandler</samp> </li>
<li class="li"> <samp class="ph codeph">com.bowstreet.profiles.J2EERoleProfileSelection</samp> </li>
<li class="li"> <samp class="ph codeph">com.bowstreet.profiles.ExplicitSelectionHandler</samp> </li>
<li class="li"> <samp class="ph codeph">com.bowstreet.profiles.LDAPSelectionHandler</samp> </li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested5" xml:lang="en-us" id="c_ignore_explicit_val"><a name="c_ignore_explicit_val"><!-- --></a><h6 class="title topictitle6">Ignoring explicit profile selection validation</h6>
<div class="body conbody"><p class="shortdesc">There are cases where validation can get in the way of a developer
trying to test an application with different profiles selected.</p>
<div class="section">To get around validation you have three choices:<dl class="dl"><dt class="dt dlterm">Use ExplicitSelectionHandler</dt>
<dd class="dd">You can temporarily set your profile set to use this handler, which does
no validation.</dd>
<dt class="dt dlterm">Use <span class="ph"> WebSphere Portlet
Factory</span> Administrator
Role</dt>
<dd class="dd">The SelectionHandlerBase class will not validate if you are in the FactoryAdministrators
role. This name is property driven and can be changed by setting a property
in the cluster.properties file. The property name is "<samp class="ph codeph">bowstreet.security.bowstreetAdministratorsName</samp>".
If not specified, this defaults to <samp class="ph codeph">FactoryAdministrators</samp><p class="p">For
example:</p>
<pre class="pre codeblock"># specifies the name of the Factory Administrators role that is set in web.xml
bowstreet.security.bowstreetAdministratorsName=FactoryAdministrators</pre>
</dd>
<dt class="dt dlterm">Set developer mode flag</dt>
<dd class="dd">The SelectionHandlerBase class will not validate if the developer mode
flag is set. The flag can be set on or off through a property in the <span class="ph filepath">cluster.properties</span> file.
The property name is <samp class="ph codeph">bowstreet.profile.developmentMode</samp>. If
not specified this defaults to false.<p class="p">Example:</p>
<pre class="pre codeblock"># specifies that the server is in development mode, where explicit profile
# selection rules are relaxed for testing purposes
bowstreet.engine.developmentMode=false</pre>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_selectionhandlerbase"><a name="c_selectionhandlerbase"><!-- --></a><h6 class="title topictitle6">SelectionHandlerBase</h6>
<div class="body conbody"><p class="shortdesc">All of the sample handlers extend the SelectionHandlerBase class.</p>
<div class="section">This class provides common functionality for most selection
handlers. When creating a new handler you can also optionally extend this
class.<p class="p">This class provides two important pieces of functionality:</p>
<ul class="ul"><li class="li"> User segment matching to a profile within a profile set. This will iterate
through the specified segments and find a profile that contains that segment.</li>
<li class="li"> Handling explicit profile validation. The explicit profile validation
does the following checks: does the profile exist, and does the users segments
match one of the segments in the specified profile. Also note that if the
profile does not have any segments specified then it can be selected without
a user segment match.</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_explicitselectionhandler"><a name="c_explicitselectionhandler"><!-- --></a><h6 class="title topictitle6">ExplicitSelectionHandler</h6>
<div class="body conbody"><p class="shortdesc">This handler is very simple and handles only support for specifying
explicit profiles without doing any validation.</p>
<p class="p">If no explicit profile is specified, the default profile
is selected. This handler is useful for testing or for use on profile sets
where the data is not sensitive to a particular user (for example, a background
color).</p>
<p class="p">The content of the handler definition file is as follows:</p>
<pre class="pre codeblock">&lt;Handler name="Explicit Handler"&gt;
&lt;Description&gt;Handler that handles only explicit profile with no validation. If no explicit profile is specified then the default profile is selected.&lt;/Description&gt;
&lt;Selection class="com.bowstreet.profiles.ExplicitSelectionHandler" /&gt;
&lt;SegmentList class="com.bowstreet.profiles.ExplicitSelectionHandler" /&gt;
&lt;/Handler&gt;</pre>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_filesegmentselectionhandler"><a name="c_filesegmentselectionhandler"><!-- --></a><h6 class="title topictitle6">FileSegmentSelectionHandler</h6>
<div class="body conbody"><p class="shortdesc">You use the File Segment Selection handler to select a profile
for a user by matching their segment data to a matching profile segment within
a specified profile set.</p>
<div class="section">The segment data for this handler is read in from an
XML file that contains the mapping information.<p class="p">Here is an example of the
structure of the segment mapping data file that maps users to segments:</p>
<pre class="pre codeblock">&lt;segments&gt;
&lt;segment name="Gold"&gt;
&lt;user userID="msmith"/&gt;
&lt;/segment&gt;
&lt;segment name="Silver"&gt;
&lt;user userID="bjones"/&gt;
&lt;/segment&gt;
&lt;segment name="English"&gt;
&lt;user userID="msmith"/&gt;
&lt;user userID="bjones"/&gt;
&lt;/segment&gt;
&lt;/segments&gt;</pre>
<p class="p">In the file above:</p>
<dl class="dl"><dt class="dt dlterm">segment name</dt>
<dd class="dd">Defines and names a segment. Each segment can have zero or more users
defined.</dd>
<dt class="dt dlterm">user userID</dt>
<dd class="dd">Maps the user to the parent segment element. The user ID is the name the
user specified when authenticating themselves to the server.</dd>
</dl>
<p class="p">The definition file for this handler is in located in:</p>
<span class="ph filepath">J2EERoot/WEB-INF/conf/selection_handlers/filesegmenthandler.xml.</span><p class="p">The content of the handler definition file is as follows:</p>
<pre class="pre codeblock">&lt;Handler name="File Segment Handler"&gt;
&lt;Description&gt;Handler that maps users to a segment using mapping data from a simple xml file.&lt;/Description&gt;
&lt;Selection class="com.bowstreet.profiles.FileSegmentSelectionHandler"&gt;
&lt;Properties&gt;
&lt;Property name="file"&gt;factory/profile_segment_data/segments.xml&lt;/Property&gt;
&lt;/Properties&gt;
&lt;/Selection&gt;
&lt;SegmentList class="com.bowstreet.profiles.FileSegmentSelectionHandler" /&gt;
&lt;/Handler&gt;</pre>
<p class="p">The FileSegmentSelectionHandler implements
both the ProfileSelection and SegmentList interfaces so it is specified as
the Selection class and the SegmentList class.</p>
<p class="p">The "file" property specified
is relative to the <span class="ph filepath">J2EERoot\WEB-INF</span> directory.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_j2eeroleprofileselectionhandler"><a name="c_j2eeroleprofileselectionhandler"><!-- --></a><h6 class="title topictitle6">J2EERoleProfileSelectionHandler</h6>
<div class="body conbody"><p class="shortdesc">The J2EE Role Profile Selection Handler is used to select a profile
for a user by matching the J2EE roles that the user is in, to a corresponding
role specified in a profile.</p>
<div class="section">For matching purposes, this handler class uses the <samp class="ph codeph">HttpServletRequest
isUserInRole(..)</samp> method to compare each Role (Segment) that was specified
on each of the profiles within the profile set.<p class="p">The definition file for
this handler is in located in:</p>
<span class="ph filepath"> J2EERoot/WEB-INF/conf/selection_handlers/j2eerolehandler.xml.</span><p class="p">The
content of the handler definition file is as follows:</p>
<pre class="pre codeblock">&lt;Handler name="J2EE Role Handler"&gt;
&lt;Description&gt;Handler that maps a users J2EE roles to a matching Profile.&lt;/Description&gt;
&lt;Selection class="com.bowstreet.profiles.J2EERoleProfileSelection"&gt;
&lt;/Selection&gt;
&lt;SegmentList class="com.bowstreet.profiles.J2EERoleProfileSelection" /&gt;
&lt;/Handler&gt;</pre>
<div class="note note"><span class="notetitle">Note:</span> The J2EERoleProfileSelection implements
both the ProfileSelection and SegmentList interfaces so it is specified as
the Selection class and the SegmentList class.</div>
<div class="note note"><span class="notetitle">Note:</span> J2EE application
servers are only required to give you actual username and/or J2EE Application
role information, for and within protected (by security constraint) resources.
You should not rely on the J2EE security APIs such as <samp class="ph codeph">request.getRemoteUser()</samp>, <samp class="ph codeph">request.getUserPrincipal()</samp>, <samp class="ph codeph">request.isUserInRole()</samp> from non-protected (public) models/JSPs.
Also, any <span class="ph"> WebSphere Portlet
Factory</span> code
that relies on these underlying J2EE Servlet security APIs, such as webAppAccess.getUserInfo(),
J2EE Optional Authorization handler (based on model security property specified
roles), and/or J2EE Role based profile selection, should ONLY be used within
protected (by security constraint) models.</div>
<div class="note note"><span class="notetitle">Note:</span> The J2EE Servlet security
API <samp class="ph codeph">request.isUserInRole()</samp>, whether used directly in your
code, or used within the optional J2EE Role based Profile Selection handler,
appears to only be guaranteed to work for all roles you are in if all those
roles are listed in the security constraint protecting the resource (WebApp
based model LJOs/Java, Profile Selection, and/or JSP). For example, if you
are in role A, role B and role C, but you only list role A as required to
access <span class="ph filepath">/webengine/myProtectedModels/MyWebApp</span> , then <samp class="ph codeph">request.isUserInRole("roleB")</samp> may
return false, since you were not required to be in role B to access this resource.
The J2EE Servlet spec is not completely clear on the right behavior around
this. We recommend you be conservative and list all roles in the security
constraint which are allowed to access that resource, where any one of those
roles may also be used in a <samp class="ph codeph">request.isUserInRole(rolename)</samp> call
(as is done with the J2EE Role based Profile Selection Handler) within the
execution of that resource.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_ldapselectionhandler"><a name="c_ldapselectionhandler"><!-- --></a><h6 class="title topictitle6">LDAPSelectionHandler</h6>
<div class="body conbody"><p class="shortdesc">The LDAP Profile Selection Handler is used to select a
profile for a user.</p>
<div class="section"><p class="p">This handler matches the user's LDAP groups against LDAP
groups specified in a profile. The handler class uses the J2EE Servlet
APIs <samp class="ph codeph">HttpServletRequest getRemoteUser(..)</samp> method
to retrieve the authenticated user name. It then uses the LDAP configuration
information from the handler definition file to connect to an LDAP
server, retrieve an LDAP DN for this username/userid, and search for
all LDAP groups with that user DN as a member. This list of groups
for the user is compared against LDAP groups previously applied to
profiles in the profile set, to select a profile from the set.</p>
<div class="p">The
definition file for this handler is in the following location. <pre class="pre codeblock"><span class="ph filepath">J2EERoot/WEB-INF/conf/selection_handlers/ldapselectionhandler.xml</span></pre>
</div>
<p class="p">Here
is sample content of the ldapselectionhandler definition file. </p>
<pre class="pre codeblock">&lt;Handler name="LDAP Group Based Selection Handler"&gt;
  &lt;Description&gt;Handler that maps a user authenticated via LDAP to a profile 
  by using the user's LDAP Group membership as the segments associated with profiles.
  &lt;/Description&gt;
  &lt;Selection class="com.bowstreet.profiles.LDAPSelectionHandler"&gt;
    &lt;Properties&gt;
	&lt;!-- Properties for connecting to the LDAP server --&gt;
      &lt;Property name="java.naming.provider.url"&gt;ldap://myldapserver:389&lt;/Property&gt;
      &lt;Property name="java.naming.factory.initial"&gt;com.sun.jndi.ldap.LdapCtxFactory&lt;/Property&gt;
      &lt;Property name="bowstreet.ldap.root"&gt;o=mycompany,c=us&lt;/Property&gt;

	&lt;!-- Properties for finding a user dn based on username --&gt;
      &lt;Property name="bowstreet.ldap.user.root"&gt;o=mycompany,c=us&lt;/Property&gt;
      &lt;Property name="bowstreet.ldap.user.objectClass"&gt;inetorgperson&lt;/Property&gt;
      &lt;Property name="bowstreet.ldap.user.namingAttribute"&gt;uid&lt;/Property&gt;

	&lt;!-- Properties for doing group membership searches --&gt;
      &lt;Property name="bowstreet.ldap.group.root"&gt;o=mycompany,c=us&lt;/Property&gt;
      &lt;Property name="bowstreet.ldap.group.objectClass"&gt;groupofuniquenames&lt;/Property&gt;
      &lt;Property name="bowstreet.ldap.group.memberAttribute"&gt;uniquemember&lt;/Property&gt;

      &lt;!-- Account used by the handler to authenticate to the server, to do the above lookups with --&gt;
      &lt;Property name="bowstreet.ldap.account.userdn"&gt;uid=myldapserveraccount,o=mycompany,c=us&lt;/Property&gt;
      &lt;!-- Obscured password for the above account --&gt;
      &lt;!-- Use "obscure mypassword" in WEB-INF/bin/ to obscure a cleartext password --&gt;
      &lt;Property name="bowstreet.ldap.account.userpassword"&gt;2Gj+pV4mC98BUWTUYfpiOm/KaFRpf3M=&lt;/Property&gt;

	&lt;!-- How long (in seconds) do we trust the list of groups we store in the user's session after lookup --&gt;
      &lt;Property name="bowstreet.ldap.cache.timeout"&gt;3600&lt;/Property&gt;

    &lt;/Properties&gt;
  &lt;/Selection&gt;

  &lt;SegmentList class="com.bowstreet.profiles.LDAPSelectionHandler"&gt;
    &lt;Properties&gt;
	&lt;!-- Properties for connecting to the LDAP server --&gt;
      &lt;Property name="java.naming.provider.url"&gt;ldap://myldapserver:389&lt;/Property&gt;
      &lt;Property name="java.naming.factory.initial"&gt;com.sun.jndi.ldap.LdapCtxFactory&lt;/Property&gt;
      &lt;Property name="bowstreet.ldap.root"&gt;o=mycompany,c=us&lt;/Property&gt;

	&lt;!-- LDAP objectclass for groups, for retrieving a list of known groups in given container--&gt;
      &lt;Property name="bowstreet.ldap.group.root"&gt;o=mycompany,c=us&lt;/Property&gt;
      &lt;Property name="bowstreet.ldap.group.objectClass"&gt;groupofuniquenames&lt;/Property&gt;

      &lt;!-- Account used by the handler to authenticate to the server, to do the above lookups with --&gt;
      &lt;Property name="bowstreet.ldap.account.userdn"&gt;uid=myldapserveraccount,o=mycompany,c=us&lt;/Property&gt;
      &lt;!-- Obscured password for the above account --&gt;
      &lt;!-- Use "obscure mypassword" in WEB-INF/bin/ to obscure a cleartext password --&gt;
      &lt;Property name="bowstreet.ldap.account.userpassword"&gt;2Gj+pV4mC98BUWTUYfpiOm/KaFRpf3M=&lt;/Property&gt;
    &lt;/Properties&gt;
  &lt;/SegmentList&gt;

&lt;/Handler&gt;</pre>
</div>
<div class="section"><h6 class="title sectiontitle">Clearing LDAP information from the handler</h6><p class="p">In
some situations, you might need to clear information cached by this
handler. For example, you might want to remove the list of user's
groups that this handler caches in the user's session if you dynamically
change a user's group membership. You can clear cached information
using the following calls to remove the information from the session:</p>
<pre class="pre codeblock">// Get the global data space for the user (the session by default)
WebAppData webAppData = webAppAccess.getWebAppData();
// Remove the cached List of groups the users is a member of.
webAppData.remove(LDAPSelectionHandler.LDAP_GROUPS_CACHE);</pre>
<div class="note note"><span class="notetitle">Note:</span> LDAPSelectionHandler
implements both the ProfileSelection and SegmentList interfaces so
it is specified as the Selection class and the SegmentList class.</div>
<div class="note note"><span class="notetitle">Note:</span> The
Password properties are in an obscured format. Use the script obscure
in <span class="ph filepath">WEB-INF/bin</span> with a cleartext password argument
to get an obscured version of that password suitable for storing as
a password property in this configuration file. This is to prevent
casual observance by innocent bystanders of an actual password value
in the config file (for example, if the file were opened on an administrators
console for editing).</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_userattributeprofileselectionhandler"><a name="c_userattributeprofileselectionhandler"><!-- --></a><h6 class="title topictitle6">User Attribute Handler</h6>
<div class="body conbody"><p class="shortdesc">The User Attribute Handler is a profile selection handler
used to select a profile for a user. </p>
<div class="section"><p class="p">The handler selects the profile by matching a configurable
user attribute (for example, a user's jobTitle attribute) against
profile external segment associations, set in the advanced section
of the profile editor for an individual profile. For matching purposes,
this handler class uses the <samp class="ph codeph">webAppAccess.getUserInfo().getUserAttribute(attrName)</samp> method
to determine the value of the configured attribute for the specified
user, and then to lookup profiles with a matching external segment
association.</p>
<div class="p">The definition file for this handler is in stored
in the following location. <pre class="pre codeblock"><span class="ph filepath">J2EERoot/WEB-INF/conf/selection_handlers/userattributehandler.xml.</span></pre>
</div>
<div class="p">The
userAttribute property value specifies the name of the user attribute
to use for profile selection.<pre class="pre codeblock"> &lt;Property name="userAttribute"&gt;jobTitle&lt;/Property&gt;</pre>
</div>
<p class="p">If
you have a need to do profile selection for different profile sets
based on different user attributes (for example, jobTitle versus department),
you may make a copy of the <span class="ph filepath">userattributehandler.xml</span> config
file, give it a new filename, a new name attribute for the <samp class="ph codeph">&lt;Handler&gt;</samp> configuration
element, and the alternate user attribute name.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested5" xml:lang="en-us" id="c_wpcairoleprofileselectionhandler"><a name="c_wpcairoleprofileselectionhandler"><!-- --></a><h6 class="title topictitle6">WebSphere Portal Composite Application Selection Handler</h6>
<div class="body conbody"><p class="shortdesc">The <span class="ph">IBM WebSphere Portal</span> Composite
Application Selection Handler is used to select a profile based on the <span class="ph">WebSphere Portal</span> Composite Application Role
that the user is in.</p>
<div class="section">This handler is only appropriate for portlets that are part of a
composite application, not portlets just placed on a portal page outside of
the <span class="ph">WebSphere Portal</span> template-based
composite application framework.<p class="p">The definition file for this handler is
in located in:</p>
<span class="ph filepath">WEB-INF/config/selection_handlers/wpcairolehandler.xml</span><p class="p">This
selection handler compares the composite application role(s) of which the
user is a member with the external associations for the profiles in the associated
profile set (under the Advanced section of the New or Edit profile dialog
in the profile set editor). For example, for the profile <samp class="ph codeph">privilegedUsers</samp> in
a profile set, you could set external associations for "manager" and "executive"
to correspond to roles created with those same names in the composite application
in which the portlet will be used.</p>
<div class="note note"><span class="notetitle">Note:</span>  The APIs used to determine which
role a user is in, in <span class="ph">WebSphere Portal</span> 6.1
and beyond, require the user to be able to resolve user to group mappings
while determining role membership. To use this composite application role
based profile selection handler on version 6.1 or later of <span class="ph">WebSphere Portal</span>,
you will need to add any groups of users that use the comp app profile selection
handler to the "User" role on the "User Groups" virtual resource.   Every
virtual resource has a set of roles and one them is called User. <p class="p">Complete
these steps to make this change:</p>
<ol class="ol"><li class="li">Log in to <span class="ph">WebSphere Portal</span>  as the
administrator</li>
<li class="li">Navigate to the Administration page </li>
<li class="li">Choose <span class="ph menucascade"><span class="ph uicontrol">Access</span> &gt; <span class="ph uicontrol">Resource Permissions</span></span>.</li>
<li class="li">Under <span class="ph uicontrol">Resource Types</span>, select <span class="ph uicontrol">Virtual
Resources</span>.</li>
<li class="li">Locate the <span class="ph uicontrol">User Groups</span> virtual resource and select
the icon to assign access to that resource. </li>
<li class="li">Locate the "User" role, in the list of roles for that resource and select
the icon to edit that role. </li>
<li class="li">Add the groups of users that will use portlets leveraging the composite
application role based profile selection handler. </li>
</ol>
If you do not follow the above steps correctly, then when a user without
administrative rights run portlets using this selection handler, they may
receive a missing access rights exception, instead of the portlet. </div>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="websphereportalpersonalizationprofilerulesandtheprofileselectionhandler"><a name="websphereportalpersonalizationprofilerulesandtheprofileselectionhandler"><!-- --></a><h4 class="title topictitle4">WebSphere Portal Personalization Profile Rules and the Profile
selection handler</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> integrates
with <span class="ph">IBM WebSphere Portal</span>  Personalization
Profile Rules using a profile selection handler. </p>
<p class="p">Personalization in <span class="ph">IBM WebSphere Portal</span> 
administration lets you create rules to display targeted content to
each site user. To enable you to implement this support, in the <span class="ph"> WebSphere Portlet
Factory</span> Designer Profile Selection
Handler dropdown, you see a new entry <span class="ph">IBM WebSphere Portal</span>  Personalization
Profile Rule Selection Handler. For an example of the profile selection
handler support, see the <a class="xref" href="http://www.lotus.com/ldd/pfwiki.nsf/dx/07242008113924AMWEBLD7.htm" target="_blank"><span class="ph"> WebSphere Portlet
Factory</span> wiki</a>.</p>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_bld_mdlbasedbldr"><a name="t_bld_mdlbasedbldr"><!-- --></a><h2 class="title topictitle2">Creating a custom builder</h2>
<div class="body taskbody"><p class="shortdesc">These are the steps to creating a custom builder.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Build a model incorporating the functionality you want
your builder to have.</span> <p class="p">This model is the base model for
your builder.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Profile the builder inputs in the model.</span> <p class="p">The
inputs you profile appear in your new builder. A user of your builder
sees these inputs and can use them to configure your builder.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Use the Builder Skeleton tool to generate the files and
Java classes required for your builder.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Test your builder.</span></li>
</ol>
<div class="example"><p class="p">You can follow a tutorial to learn how to create a custom
builder.</p>
<p class="p"><a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/dx/Tutorial_Creating_a_custom_builder" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf/dx/Tutorial_Creating_a_custom_builder</a></p>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_group_input"><a name="t_group_input"><!-- --></a><h3 class="title topictitle3">Grouping inputs</h3>
<div class="body taskbody"><p class="shortdesc">You can organize inputs by including the common groups such as
Advanced, HTML Attributes, or Arguments, shown in the <span class="ph">IBM WebSphere Portlet Factory</span> builder
call editors or by creating your own input groups.</p>
<ul class="ul steps-unordered"><li class="li step stepexpand"><span class="ph cmd">To include an Arguments input group in your builder call editor:</span><ol class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Include one or more input definitions whose base is in the "Advanced"
group in the Base.bdef file.</span> For example: <pre class="pre codeblock">&lt;!-- Adds an Arguments list control to the builder call editor --&gt;
&lt;InputDefinition name="ArgumentsInput" base="com.bowstreet.core.Base.Arguments" /&gt;
&lt;!-- Adds an Evaluate Arguments checkbox control to the builder call editor --&gt;
&lt;InputDefinition name="EvalArgsInput" base="com.bowstreet.core.Base.EarlyArgumentEvaluations" /&gt;</pre>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Include the Arguments group definition in your builder definition
file:</span> <pre class="pre codeblock">   &lt;GroupDefinitions&gt;
      &lt;GroupDefinition id="Arguments" base="com.bowstreet.core.Base.Arguments" /&gt;
   &lt;/GroupDefinitions&gt;</pre>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">To include an Advanced input group in your builder call editor:</span> The Advanced inputs are builder-specific and the <span class="ph filepath">Base.bdef</span> does
not include any common Advanced input definitions. You can declare inputs
to be in the Advanced group by performing the following steps:<ol class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Set the &lt;Group/&gt; value in your input definition to Advanced
for any inputs you want included in the Advanced group.</span> For
example, <pre class="pre codeblock">&lt;InputDefinition name="AdvancedInput1" base="com.bowstreet.core.Base.IndirectValue"&gt;
   &lt;Prompt&gt;Advanced Input 1&lt;/Prompt&gt;
   &lt;Group&gt;Advanced&lt;/Group&gt;
&lt;/InputDefinition&gt;

&lt;!-- Adds a String input to the Advanced group --&gt;
&lt;InputDefinition name="AdvancedInput2" base="com.bowstreet.core.Base.StringData"&gt;
   &lt;Prompt&gt;Advanced Input 2&lt;/Prompt&gt;
   &lt;Group&gt;Advanced&lt;/Group&gt;
&lt;/InputDefinition&gt;</pre>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Include the Advanced group definition in your builder definition
file:</span> <pre class="pre codeblock">    &lt;GroupDefinitions&gt;
       &lt;GroupDefinition id="Arguments" base="com.bowstreet.core.Base.Arguments" /&gt;
       &lt;GroupDefinition id="Advanced" base="com.bowstreet.core.Base.Advanced" /&gt;
    &lt;/GroupDefinitions&gt;</pre>
</li>
</ol>
</li>
</ul>
</div>
<div class="related-links"></div><div class="topic reference nested3" xml:lang="en-us" id="r_group_def_syntax"><a name="r_group_def_syntax"><!-- --></a><h4 class="title topictitle4">Creating your own builder input groups</h4>
<div class="body refbody"><p class="shortdesc">You can create your own input groups by creating a group definition
and setting the <samp class="ph codeph">&lt;Group/&gt;</samp> value for the input definitions
you want to display as a group. The XML below shows the syntax for a group
definition:</p>
<div class="section"><pre class="pre codeblock">    &lt;GroupDefinitions&gt;
        &lt;GroupDefinition id="MyInputsGroup"&gt;
             &lt;Name&gt;Inputs for Me&lt;/Name&gt;
             &lt;Description&gt;Set these inputs to something&lt;/Description&gt;
             &lt;BorderStyle&gt;Etched&lt;/BorderStyle&gt;
             &lt;IsCollapsible&gt;true&lt;/IsCollapsible&gt;
             &lt;InitiallyCollapsed&gt;true&lt;/InitiallyCollapsed&gt;
         &lt;/GroupDefinition&gt;
        &lt;GroupDefinition id="Arguments" base="com.bowstreet.core.Base.Arguments" /&gt;
    &lt;/GroupDefinitions&gt;</pre>
<p class="p">Any input definitions with the <samp class="ph codeph">&lt;Group/&gt;</samp> value
set to <samp class="ph codeph">MyInputsGroup</samp> get included in the group:</p>
<pre class="pre codeblock">&lt;InputDefinition name="VariableValue" base="com.bowstreet.core.Base.VariableValue"&gt;
   &lt;Prompt&gt;Variable Value&lt;/Prompt&gt;
   &lt;Group&gt;MyInputsGroup&lt;/Group&gt;
&lt;/InputDefinition&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_cre_new_model_wiz"><a name="t_cre_new_model_wiz"><!-- --></a><h3 class="title topictitle3">Creating a new model wizard</h3>
<div class="body taskbody"><p class="shortdesc">You can create your own wizard for creating a model in <span class="ph">IBM WebSphere Portlet Factory</span>.</p>
<div class="section context">Your wizard appears as additional choice in the <span class="ph uicontrol">Select
Model</span> dialog that appears whenever you create a new model.
It is easy to build such a wizard because the same tools and technologies
used for making model-based builders are used to create wizards.<p class="p">To
create a wizard that builds a new model:</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Create a model containing the builders you want to have
in the model that is generated when your wizard is run.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Profile any inputs that you want to expose as inputs in
the wizard.</span> <p class="p">If there are builders you want to conditionally
appear, profile the <span class="ph uicontrol">Enable Builder</span> property
of that builder.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In Builder Skeleton builder and pick the <span class="ph uicontrol">Model-Based
Wizard</span> choice.</span> <p class="p">Fill in the inputs much as
you would for a model-based builder, including specifying the parameters
of each of the wizard inputs. You will probably want to enable the <span class="ph uicontrol">Generate
Coordinator</span> choice.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">Builder Pages</span> section, type
in the names and text for your wizard pages.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">Builder Inputs</span> section, set
the <span class="ph uicontrol">Page ID</span> input for the page where you want
each input to appear.</span> <div class="note note"><span class="notetitle">Note:</span> The Page ID input appears only
if you are creating a wizard since it is not used for builders.</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> and Builder Skeleton generates
the following items.</span> <dl class="dl"><dt class="dt dlterm">A <span class="ph filepath">.wdef</span> file that defines the wizard</dt>
<dd class="dd"><span class="ph filepath">.wdef</span> files are just like <span class="ph filepath">.bdef</span> files,
except that they have extra PageDefinition and Page elements to control
wizard pages. The Domain elements in the <span class="ph filepath">.wdef</span> must
be set to the builder domain plus <samp class="ph codeph">_Wizard</samp>. For example, <samp class="ph codeph">WebApp_Wizard</samp>.</dd>
<dt class="dt dlterm">A starter coordinator class</dt>
<dd class="dd">This class can be used to provide custom logic when the wizard
is running, in the same way that a Builder Coordinator does for a
builder.</dd>
</dl>
</li>
<li class="li step stepexpand"><span class="ph cmd">To see your new wizard in action, restart <span class="ph"> WebSphere Portlet
Factory</span> Designer and, in the
builder picker, navigate to and click the entry for the wizard.</span></li>
</ol>
<div class="section result"><p class="p">At this point you can work with your Coordinator class
to control things like showing or hiding inputs, or setting any inputs
that need to be calculated based on other inputs. You can also edit
your <span class="ph filepath">.wdef</span>, for example to adjust the InputDefinitions.
You can take advantage of all the functionality available there, including
the ability to inherit input types and even to inherit Coordinator
functionality.</p>
<p class="p">For an example of a simple wizard, the Tutorials
and Samples Builders feature set has a wizard called Sample Main and
Page. You can examine and modify the <span class="ph filepath">.wdef</span>, Coordinator,
and base model for that wizard.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_overview_builder_architecture"><a name="c_overview_builder_architecture"><!-- --></a><h3 class="title topictitle3">Overview of builder architecture</h3>
<div class="body conbody"><p class="shortdesc">A builder is a discrete bundle of functionality in the construction
of a WebApp.</p>
<p class="p">Of the builders that are supplied in <span class="ph">IBM WebSphere Portlet Factory</span>,
some are primitive and do very simple things, like adding a page to the WebApp,
or putting a button on a page. Others are complex, and can construct an entire
form along with the Java code required to move data between
the form and a variable.</p>
<p class="p">There are three critical pieces to a builder.</p>
<dl class="dl"><dt class="dt dlterm">Builder Definition file (bdef)</dt>
<dd class="dd">This XML file defines the builder for the <span class="ph"> WebSphere Portlet
Factory</span> to
know both how to invoke it and how to display instances of it to the user
of the builder. Among other things, it defines what the inputs are to this
builder. In our example, the builder has only two inputs, the name of the
builder and the directory which contains the HTML files to which it is going
to create links.</dd>
<dt class="dt dlterm">Builder class</dt>
<dd class="dd">This is a Java class which performs the automation task. It is
run at generate time, and it is expected to make some changes to the WebApp.</dd>
<dt class="dt dlterm">Coordinator class (optional)</dt>
<dd class="dd">This Java class is run when you edit an instance of the builder,
a builder call. The coordinator can modify the builder user interface on-the-fly
to hide or show input fields, for example, to change the list of choices in
a list. Typically, the coordinator is just used to set the initial value of
one of the inputs to a value that is calculated. (If the initial value were
static, you can set it in the builder definition file.)</dd>
</dl>
</div>
<div class="related-links"></div><div class="topic reference nested3" xml:lang="en-us" id="r_builder_base_class_interface"><a name="r_builder_base_class_interface"><!-- --></a><h4 class="title topictitle4">Choosing builder base classes and interfaces</h4>
<div class="body refbody"><p class="shortdesc">Depending on how your builder acts on the WebApp, you need to extend
or implement a specific base class or interface for your generation class
and specify an appropriate <samp class="ph codeph">GenHandler</samp> class in the builder
definition.</p>
<div class="section">The following table lists the three ways of implementing a builder:<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e45552">Builder Behavior  </th>
<th class="entry" valign="bottom" id="d52e45554">Specify GenHandler in Builder Definition </th>
<th class="entry" valign="bottom" id="d52e45556">Base Class or Interface for the Builder Generation Class </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" headers="d52e45552 ">Adds elements to a page using a <span class="ph uicontrol">Page Location</span> input.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e45554 "> <samp class="ph codeph">WebAppControlGenHandler</samp> </td>
<td class="entry" valign="top" headers="d52e45556 "> Implement <samp class="ph codeph">WebAppControlBuilder</samp> and override the <samp class="ph codeph">doBuilderCall()</samp> method. </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e45552 ">If builder does not use a <span class="ph uicontrol">Page Location</span> input.<p class="p">Adds
elements to pages without taking a <span class="ph uicontrol">Page Location</span> input</p>
<p class="p">Does
not add any elements to a page.</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e45554 "> <samp class="ph codeph">WebAppGenHandler</samp> </td>
<td class="entry" valign="top" headers="d52e45556 "> Implement WebAppBuilder and override the <samp class="ph codeph">doBuilderCall()</samp> method.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e45552 ">Adds elements to a page by writing directly to the XML describing the
page in the WebApp. <div class="note note"><span class="notetitle">Note:</span> This is not a common case.</div>
 </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e45554 "> <samp class="ph codeph">WebAppControlGenHandler</samp></td>
<td class="entry" valign="top" headers="d52e45556 ">Extend <samp class="ph codeph">BaseWebAppControlBuilder</samp> and override the <samp class="ph codeph">handleControl()</samp> method.</td>
</tr>
</tbody>
</table>
</div>
<p class="p">Keep these implementations in mind when you create the builder
definition and generation class for your own builder.</p>
<p class="p">The list below
enumerates the fully-qualified class names for each of the classes and interfaces
mentioned in the table above.</p>
<ul class="ul"><li class="li"> <samp class="ph codeph">com.bowstreet.builders.webapp.foundation.WebAppControlBuilder</samp></li>
<li class="li"> <samp class="ph codeph">com.bowstreet.builders.webapp.foundation.WebAppBuilder</samp></li>
<li class="li"> <samp class="ph codeph">com.bowstreet.builders.webapp.foundation.BaseWebAppControlBuilder</samp></li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_builder_widgets"><a name="c_builder_widgets"><!-- --></a><h4 class="title topictitle4">Builder input widgets</h4>
<div class="body conbody"><p class="shortdesc">This topic provides details on all builder input widget names and
arguments provided by <span class="ph">IBM WebSphere Portlet Factory</span> Designer
for use by builder authors.</p>
<div class="section">Use the input definitions provided in the <span class="ph filepath">com.bowstreet.core.Base.bdef</span> and <span class="ph filepath">com.bowstreet.core.WebAppBase.bdef</span>. However, if the input definitions do not provide the needed functionality,
the builder input widgets described in the following sections can be used
directly by the builder authors.<ul class="sl simple"><li class="sli">Abstract builder input widget classes</li>
<li class="sli">Concrete builder input widget classes</li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested4" xml:lang="en-us" id="r_builderwidget_abstract_classes"><a name="r_builderwidget_abstract_classes"><!-- --></a><h5 class="title topictitle5">Builder input widget abstract classes</h5>
<div class="body refbody"><p class="shortdesc">This topic describes the abstract classes for builder input
widgets.</p>
<div class="section"><div class="note note"><span class="notetitle">Note:</span> The arguments defined in these abstract classes are
available to all subclasses.</div>
<ul class="sl simple"><li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_abstract_classes__abstractbuilderwidget">com.bowstreet.designer.builders.widgets.AbstractBuilderWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_abstract_classes__abstractbuttonwidget">com.bowstreet.designer.builders.widgets.AbstractButtonWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_abstract_classes__abstractchooserwidget">com.bowstreet.designer.builders.widgets.AbstractChooserWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_abstract_classes__abstractcombolist">com.bowstreet.designer.builders.widgets.AbstractComboListWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_abstract_classes__abstractstyledtext">com.bowstreet.designer.builders.widgets.AbstractStyledTextWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_abstract_classes__abstracttextwidget">com.bowstreet.designer.builders.widgets.AbstractTextWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_abstract_classes__abstractupdateablebuilder">com.bowstreet.designer.builders.widgets.AbstractUpdateableBuilderWidget</a></li>
</ul>
</div>
<div class="section" id="r_builderwidget_abstract_classes__abstractbuilderwidget"><a name="r_builderwidget_abstract_classes__abstractbuilderwidget"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.designer.builders.widgets.AbstractBuilderWidget</h6>Base
class for generic builder input widgets. All other abstract builder
input widget classes extend this class.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 18. AbstractBuilderWidget
arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e45742">Name</th>
<th class="entry" valign="bottom" id="d52e45744">Type</th>
<th class="entry" valign="bottom" id="d52e45746">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e45742 ">enabled</td>
<td class="entry" valign="top" headers="d52e45744 "><span class="ph" id="r_builderwidget_abstract_classes__truefalsetrue"><a name="r_builderwidget_abstract_classes__truefalsetrue"><!-- --></a>True/false (true)</span>  </td>
<td class="entry" valign="top" headers="d52e45746 ">Whether or not the underlying SWT widget is enabled.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e45742 ">Width</td>
<td class="entry" valign="top" headers="d52e45744 "><span class="ph" id="r_builderwidget_abstract_classes__integer"><a name="r_builderwidget_abstract_classes__integer"><!-- --></a>Integer</span></td>
<td class="entry" valign="top" headers="d52e45746 ">Width of control</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_abstract_classes__abstractbuttonwidget"><a name="r_builderwidget_abstract_classes__abstractbuttonwidget"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.designer.builders.widgets.AbstractButtonWidget</h6>Abstract
base class for button type builder input widgets.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 19. AbstractButtonWidget
argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e45779">Name</th>
<th class="entry" valign="bottom" id="d52e45781">Type</th>
<th class="entry" valign="bottom" id="d52e45783">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e45779 ">label      </td>
<td class="entry" valign="top" headers="d52e45781 "><span class="ph" id="r_builderwidget_abstract_classes__string"><a name="r_builderwidget_abstract_classes__string"><!-- --></a>String</span></td>
<td class="entry" valign="top" headers="d52e45783 ">Text for the button.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_abstract_classes__abstractchooserwidget"><a name="r_builderwidget_abstract_classes__abstractchooserwidget"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.designer.builders.widgets.AbstractChooserWidget</h6>Abstract
base class for chooser type builder input widgets, that is, a text
field with an attached button which displays a picker that allows
the user to choose an appropriate value.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 20. AbstractChooserWidget
arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e45807">Name </th>
<th class="entry c7" valign="bottom" id="d52e45809">Type </th>
<th class="entry c8" valign="bottom" id="d52e45811">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e45807 ">append</td>
<td class="entry c9" valign="top" headers="d52e45809 "><span class="ph" id="r_builderwidget_abstract_classes__truefalsefalse"><a name="r_builderwidget_abstract_classes__truefalsefalse"><!-- --></a>True/false (false)</span></td>
<td class="entry c10" valign="top" headers="d52e45811 ">If set to true, the value selected in the
chooser is inserted into the text field at the cursor location; if
false, any value in the text field is replaced. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e45807 ">listData</td>
<td class="entry c9" valign="top" headers="d52e45809 ">Comma-delimited list</td>
<td class="entry c10" valign="top" headers="d52e45811 ">List of values for the chooser</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e45807 ">selectedItem</td>
<td class="entry c9" valign="top" headers="d52e45809 "><span class="ph">String</span></td>
<td class="entry c10" valign="top" headers="d52e45811 ">Item to be chosen by default</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_abstract_classes__abstractcombolist"><a name="r_builderwidget_abstract_classes__abstractcombolist"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.designer.builders.widgets.AbstractComboListWidget</h6>Abstract
base class for select or combination type builder input widgets which
are populated by the builder input widget class itself (for example,
by values from the WebApp).<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 21. AbstractComboListWidget arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e45850">Name </th>
<th class="entry" valign="bottom" id="d52e45852">Type </th>
<th class="entry" valign="bottom" id="d52e45854">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e45850 ">isEditable</td>
<td class="entry" valign="top" headers="d52e45852 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e45854 ">Whether or not the select list can be edited directly by user. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e45850 ">visibleItems </td>
<td class="entry" valign="top" headers="d52e45852 "><span class="ph">Integer</span></td>
<td class="entry" valign="top" headers="d52e45854 ">Number of items shown in the combination box
list. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_abstract_classes__abstractstyledtext"><a name="r_builderwidget_abstract_classes__abstractstyledtext"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.designer.builders.widgets.AbstractStyledTextWidget</h6>Abstract
base class for text type builder input widgets which have text formatting
capabilities.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 22. AbstractStyledTextWidget argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e45886">Name </th>
<th class="entry" valign="bottom" id="d52e45888">Type </th>
<th class="entry" valign="bottom" id="d52e45890">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e45886 ">linewrap </td>
<td class="entry" valign="top" headers="d52e45888 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e45890 ">Whether or not line wrapping is enabled for the text builder
input widget. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_abstract_classes__abstracttextwidget"><a name="r_builderwidget_abstract_classes__abstracttextwidget"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.designer.builders.widgets.AbstractTextWidget</h6>Abstract
base class for text builder input widgets.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 23. AbstractTextWidget
arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e45914">Name </th>
<th class="entry" valign="bottom" id="d52e45916">Type </th>
<th class="entry" valign="bottom" id="d52e45918">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e45914 ">data </td>
<td class="entry" valign="top" headers="d52e45916 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e45918 ">Initial value for text builder input widget. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e45914 ">filter </td>
<td class="entry" valign="top" headers="d52e45916 ">**Alphabetic, **AlphaNumeric, **ObjectName (none) </td>
<td class="entry" valign="top" headers="d52e45918 ">Filter for values entered into text builder input widget. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_abstract_classes__abstractupdateablebuilder"><a name="r_builderwidget_abstract_classes__abstractupdateablebuilder"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.designer.builders.widgets.AbstractUpdateableBuilderWidget</h6>Abstract
base class for builder input widgets which are notified when the open
is generated, and given a chance to update themselves.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 24. AbstractUpdateableBuilderWidget
argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e45949">Name </th>
<th class="entry" valign="bottom" id="d52e45951">Type </th>
<th class="entry" valign="bottom" id="d52e45953">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e45949 ">label </td>
<td class="entry" valign="top" headers="d52e45951 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e45953 ">Label for a button. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_builderwidget_concrete_classes"><a name="r_builderwidget_concrete_classes"><!-- --></a><h5 class="title topictitle5">Builder input widget concrete classes</h5>
<div class="body refbody"><p class="shortdesc">This topic describes the concrete classes for builder input
widgets.</p>
<div class="section"><p class="p">The following sections describe the arguments for the
concrete classes for builder input widgets.</p>
<ul class="sl simple"><li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__abstractchooserwidget">com.bowstreet.designer.builders.widgets.AbstractChooserWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__actionchooser">com.bowstreet.widget.ActionChooser</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__actionlist">com.bowstreet.widget.ActionList</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__button">com.bowstreet.widget.Button</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__checkbox">com.bowstreet.widget.CheckBox</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__classchooser">com.bowstreet.widget.ClassChooser</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__combo">com.bowstreet.widget.Combo</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__controlpicker">com.bowstreet.widget.ControlPicker</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__error">com.bowstreet.widget.Error</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__fieldchooser">com.bowstreet.widget.FieldChooser</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__filechooser">com.bowstreet.widget.FileChooser</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__filecombochooser">com.bowstreet.widget.FileComboChooserWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__filemakerbutton">com.bowstreet.widget.FileMakerButton</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__html">com.bowstreet.widget.HTML</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__label">com.bowstreet.widget.Label</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__list">com.bowstreet.widget.List</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__listchooserwidget">com.bowstreet.widget.ListChooserWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__listinputwidget">com.bowstreet.widget.listInputWidget</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__method">com.bowstreet.widget.Method</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__modelchooser">com.bowstreet.widget.ModelChooser</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__osfilechooser">com.bowstreet.widget.OSFileChooser</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__pagelocation">com.bowstreet.widget.PageLocation</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__password">com.bowstreet.widget.Password</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__profileset">com.bowstreet.widget.ProfileSet</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__radiobox">com.bowstreet.widget.RadioBox</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__reference">com.bowstreet.widget.Reference</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__resourcebundlechooser">com.bowstreet.widget.ResourceBundleChooser</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__restrictednametextfield">com.bowstreet.widget.RestrictedNameTextField</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__schema">com.bowstreet.widget.Schema</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__textarea">com.bowstreet.widget.TextArea</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__textfield">com.bowstreet.widget.TextField</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__treechooser">com.bowstreet.widget.TreeChooser</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__typedsourcechooser">com.bowstreet.widget.TypedSourceChooser</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__variableelements">com.bowstreet.widget.VariableElements</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__webappmethod">com.bowstreet.widget.WebAppMethod</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__webapppage">com.bowstreet.widget.WebAppPage</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__webappvariable">com.bowstreet.widget.WebAppVariable</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__webappvariabletype">com.bowstreet.widget.WebAppVariableType</a></li>
</ul>
</div>
<div class="section" id="r_builderwidget_concrete_classes__abstractchooserwidget"><a name="r_builderwidget_concrete_classes__abstractchooserwidget"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.designer.builders.widgets.AbstractChooserWidget</h6>Displays
list of profile sets and allows user to select profile sets.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 25. AbstractChooserWidget arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46121">Name </th>
<th class="entry" valign="bottom" id="d52e46123">Type </th>
<th class="entry" valign="bottom" id="d52e46125">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46121 ">multiSelect</td>
<td class="entry" valign="top" headers="d52e46123 "><span class="ph" id="r_builderwidget_concrete_classes__truefalsefalse"><a name="r_builderwidget_concrete_classes__truefalsefalse"><!-- --></a>True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46125 ">Whether to allow selection of multiple profile sets. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46121 ">append</td>
<td class="entry" valign="top" headers="d52e46123 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46125 ">Append data to field from picker</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46121 ">listData</td>
<td class="entry" valign="top" headers="d52e46123 "><span class="ph" id="r_builderwidget_concrete_classes__commadlist"><a name="r_builderwidget_concrete_classes__commadlist"><!-- --></a>Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e46125 ">Data displayed in the chooser</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46121 ">selectedItem</td>
<td class="entry" valign="top" headers="d52e46123 "><span class="ph" id="r_builderwidget_concrete_classes__string"><a name="r_builderwidget_concrete_classes__string"><!-- --></a>String</span></td>
<td class="entry" valign="top" headers="d52e46125 ">Item to be chosen</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__actionchooser"><a name="r_builderwidget_concrete_classes__actionchooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.ActionChooser</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Displays
dialog which allows users to select an action from the WebApp, which
is used to populate the text builder input widget.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 26. ActionChooser
arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46173">Name </th>
<th class="entry" valign="bottom" id="d52e46175">Type </th>
<th class="entry" valign="bottom" id="d52e46177">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46173 ">showMethodsWithArguments </td>
<td class="entry" valign="top" headers="d52e46175 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46177 ">Whether or not to show methods with arguments; only applies
to ActionList. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46173 ">showSpecialActions </td>
<td class="entry" valign="top" headers="d52e46175 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46177 ">Whether or not to show special actions, for example, return
and assignment.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46173 ">useIndirectReferencePicker </td>
<td class="entry" valign="top" headers="d52e46175 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46177 ">If true, use the indirect reference chooser. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46173 ">useMethodArgumentsDialog  </td>
<td class="entry" valign="top" headers="d52e46175 "><span class="ph" id="r_builderwidget_concrete_classes__truefalse"><a name="r_builderwidget_concrete_classes__truefalse"><!-- --></a>True/false</span></td>
<td class="entry" valign="top" headers="d52e46177 ">If true, use the method arguments dialog. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46173 ">showPages</td>
<td class="entry" valign="top" headers="d52e46175 "><span class="ph" id="r_builderwidget_concrete_classes__truefalsetrue"><a name="r_builderwidget_concrete_classes__truefalsetrue"><!-- --></a>True/false (true)</span>  </td>
<td class="entry" valign="top" headers="d52e46177 ">Used to not show pages in the picker.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46173 ">showDataServices</td>
<td class="entry" valign="top" headers="d52e46175 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46177 ">Used to show data services in the picker. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46173 ">showOnlyDataServices</td>
<td class="entry" valign="top" headers="d52e46175 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46177 ">To have only data services.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46173 ">returnTypes</td>
<td class="entry" valign="top" headers="d52e46175 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e46177 ">List of data types that limit the initial choices
to match for example, IXml and Object.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__actionlist"><a name="r_builderwidget_concrete_classes__actionlist"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.ActionList</h6>Extends
com.bowstreet.widgets.ListWidget. Displays a list with a single column.
In each row, the user can select an action, thus creating a list of
actions to be performed.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 27. ActionList arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46258">Name </th>
<th class="entry" valign="bottom" id="d52e46260">Type </th>
<th class="entry" valign="bottom" id="d52e46262">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46258 ">same as ListWidget </td>
<td class="entry" valign="top" headers="d52e46260 "> </td>
<td class="entry" valign="top" headers="d52e46262 ">For information, see <a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__widgetlist">Table 39</a>.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46258 ">allowAdd </td>
<td class="entry" valign="top" headers="d52e46260 "><span class="ph" id="r_builderwidget_concrete_classes__boolean"><a name="r_builderwidget_concrete_classes__boolean"><!-- --></a>Boolean</span> </td>
<td class="entry" valign="top" headers="d52e46262 ">Can user add row to end of table (TRUE) </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46258 ">allowReorder </td>
<td class="entry" valign="top" headers="d52e46260 "><span class="ph">Boolean</span></td>
<td class="entry" valign="top" headers="d52e46262 ">Can user reorder table rows (TRUE) </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46258 ">allowDynamicUpdate </td>
<td class="entry" valign="top" headers="d52e46260 "><span class="ph">Boolean</span> </td>
<td class="entry" valign="top" headers="d52e46262 ">Allow setting of value without stopping editing in current
cell (FALSE) </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46258 ">minColumnSize </td>
<td class="entry" valign="top" headers="d52e46260 "><span class="ph" id="r_builderwidget_concrete_classes__integer"><a name="r_builderwidget_concrete_classes__integer"><!-- --></a>Integer</span> </td>
<td class="entry" valign="top" headers="d52e46262 ">Allow user to specify min col size </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46258 ">CustomChoices </td>
<td class="entry" valign="top" headers="d52e46260 "> </td>
<td class="entry" valign="top" headers="d52e46262 ">Provides a way for adding arbitrary nodes to a contained tree
picker. <p class="p">Example: "Fruits/Pear Fruits/Apple"</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__button"><a name="r_builderwidget_concrete_classes__button"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.Button</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractBuilderWidget. Basic
button builder input widget.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 28. Button argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46330">Name </th>
<th class="entry" valign="bottom" id="d52e46332">Type </th>
<th class="entry" valign="bottom" id="d52e46334">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46330 ">label </td>
<td class="entry" valign="top" headers="d52e46332 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e46334 ">Label for button </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__checkbox"><a name="r_builderwidget_concrete_classes__checkbox"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.CheckBox</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractBuilderWidget. Basic
checkbox builder input widget.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 29. CheckBox arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46358">Name </th>
<th class="entry" valign="bottom" id="d52e46360">Type </th>
<th class="entry" valign="bottom" id="d52e46362">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46358 ">listData </td>
<td class="entry" valign="top" headers="d52e46360 "><span class="ph">Comma-delimited list</span>(false,true) </td>
<td class="entry" valign="top" headers="d52e46362 ">List of values to be returned when getData() is called; if
more than two, all but first two are ignored. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46358 ">listDataObject </td>
<td class="entry" valign="top" headers="d52e46360 ">instance of java.util.Collection (null) </td>
<td class="entry" valign="top" headers="d52e46362 ">List of values to be returned when getData() is called- if
more than two, all but first two are ignored. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46358 ">selectItem </td>
<td class="entry" valign="top" headers="d52e46360 ">one of the listData items (false) </td>
<td class="entry" valign="top" headers="d52e46362 ">Initial value of check widget.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__checkboxlistwidget"><a name="r_builderwidget_concrete_classes__checkboxlistwidget"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.CheckBoxListWidget</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Basic
checkboxlist builder input widget.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 30. CheckBoxListWidget
arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46401">Name </th>
<th class="entry" valign="bottom" id="d52e46403">Type </th>
<th class="entry" valign="bottom" id="d52e46405">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46401 ">listData </td>
<td class="entry" valign="top" headers="d52e46403 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e46405 "><span class="ph">Comma-delimited list</span> (false,true) </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46401 ">listLabel</td>
<td class="entry" valign="top" headers="d52e46403 "><span class="ph">Comma-delimited list</span> (false,true) </td>
<td class="entry" valign="top" headers="d52e46405 ">List of values to be displayed</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46401 ">listDataObject </td>
<td class="entry" valign="top" headers="d52e46403 ">instance of java.util.Collection (null) </td>
<td class="entry" valign="top" headers="d52e46405 ">List of values to be returned when getData() is called- if
more than two, all but first two are ignored. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46401 ">listLabelsObject</td>
<td class="entry" valign="top" headers="d52e46403 ">instance of java.util.Collection (null) </td>
<td class="entry" valign="top" headers="d52e46405 ">List of labels to be displayed. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46401 ">defaultChecked</td>
<td class="entry" valign="top" headers="d52e46403 ">True or false</td>
<td class="entry" valign="top" headers="d52e46405 ">Is optional and is set to true or false depending
on the default wanted. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__classchooser"><a name="r_builderwidget_concrete_classes__classchooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.ClassChooser</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Chooser
type widget, which allows the user to select a fully qualified class
name. The chooser is populated with classes contained in jars in <span class="ph">IBM WebSphere Portlet Factory</span> <var class="keyword varname">install path</var>/WEB-INF/lib
(with core factory jars filtered out), and classes from jars and directories
contained in the directories specified in the <span class="ph">IBM WebSphere Portlet Factory</span> property <span class="ph filepath">bowstreet.dynamic.class.load.path</span>.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 31. ClassChooser argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" width="33.22147651006711%" id="d52e46483">Name </th>
<th class="entry" valign="bottom" width="22.14765100671141%" id="d52e46485">Type</th>
<th class="entry" valign="bottom" width="44.63087248322148%" id="d52e46487">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" width="33.22147651006711%" headers="d52e46483 ">allowPackageSelection </td>
<td class="entry" valign="top" width="22.14765100671141%" headers="d52e46485 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" width="44.63087248322148%" headers="d52e46487 ">If set to true, allow package selection, and format the returned
value if it is a package (for example, com.bowstreet.*). </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="33.22147651006711%" headers="d52e46483 ">searchDirectories</td>
<td class="entry" valign="top" width="22.14765100671141%" headers="d52e46485 "><span class="ph">String</span></td>
<td class="entry" valign="top" width="44.63087248322148%" headers="d52e46487 ">Filters classes presented to only those that
implement or extend the provided superclass. </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="33.22147651006711%" headers="d52e46483 ">superclassName</td>
<td class="entry" valign="top" width="22.14765100671141%" headers="d52e46485 "><span class="ph">String</span></td>
<td class="entry" valign="top" width="44.63087248322148%" headers="d52e46487 ">Filters classes that the chooser dialog presents.
Only those classes that implement or extend the provided superclass
are displayed. </td>
</tr>
</tbody>
</table>
</div>
For example, the following code filters the superclassName
argument. <pre class="pre codeblock">&lt;Editor JavaClass="com.bowstreet.widget.ClassChooser"&gt;
  &lt;Argument name="superclassName"&gt;com.bowstreet.builders.webapp.transform.TransformBaseBuilder$ITransform&lt;/Argument&gt;
&lt;/Editor&gt;</pre>
</div>
<div class="section" id="r_builderwidget_concrete_classes__combo"><a name="r_builderwidget_concrete_classes__combo"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.Combo</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractBuilderWidget. Combo
builder input widget.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 32. Combo arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46531">Name </th>
<th class="entry" valign="bottom" id="d52e46533">Type </th>
<th class="entry" valign="bottom" id="d52e46535">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46531 ">memoryKey </td>
<td class="entry" valign="top" headers="d52e46533 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e46535 ">If this argument is specified, values which are entered into
the combo box will be remembered, that is, they will kept in a file
and shown in the selection list for any combo box which shares the
same memoryKey. If list items are also set by listData and listLabels
arguments, the memory values will be concatenated with the argument
values. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46531 ">listData </td>
<td class="entry" valign="top" headers="d52e46533 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e46535 ">List of values for the combo box selections. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46531 ">listLabels </td>
<td class="entry" valign="top" headers="d52e46533 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e46535 ">List of values for the combo box selections. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46531 ">selectedItem </td>
<td class="entry" valign="top" headers="d52e46533 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e46535 ">Item which will be presented when the combo box is first displayed.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46531 ">listDataObject </td>
<td class="entry" valign="top" headers="d52e46533 ">java.util.Collection object </td>
<td class="entry" valign="top" headers="d52e46535 ">Collection object containing the data for the combo box selections.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46531 ">listLabelObject </td>
<td class="entry" valign="top" headers="d52e46533 ">java.util.Collection object </td>
<td class="entry" valign="top" headers="d52e46535 ">Collection object containing the labels for the combo box selections,
corresponding to the values in the listDataObject.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46531 ">isEditable </td>
<td class="entry" valign="top" headers="d52e46533 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46535 ">Specifies whether or not the user can directly type values
into the text area. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__controlpicker"><a name="r_builderwidget_concrete_classes__controlpicker"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.ControlPicker</h6>Extends
com.bowstreet.builders.widgets.AbstractComboListWidget. Combo list
builder input widget that displays list of controls for page specified
by argument.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 33. ControlPicker argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46605">Name </th>
<th class="entry" valign="bottom" id="d52e46607">Type </th>
<th class="entry" valign="bottom" id="d52e46609">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46605 ">page </td>
<td class="entry" valign="top" headers="d52e46607 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e46609 ">Page to display controls for. If "all_pages_in_webapp" specified
as value for page argument, the combo will present a list of controls
from all pages in the web app. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__error"><a name="r_builderwidget_concrete_classes__error"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.Error</h6>Extends
com.bowstreet.builders.widgets.AbstractBuilderWidget. This is only
meant to be used programmatically by other builder input widgets.
It displays a red error message instead of a builder input widget
to indicate that an error has occurred creating the builder input
widget. The error message is specified by the ErrorWidget constructor.<p class="p">Arguments:
none </p>
</div>
<div class="section" id="r_builderwidget_concrete_classes__fieldchooser"><a name="r_builderwidget_concrete_classes__fieldchooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.FieldChooser</h6>Extends
com.bowstreet.builders.widgets.AbstractComboListWidget. Display the
available fields for use by the page automation builders.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 34. FieldChooser
argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46640">Name </th>
<th class="entry" valign="bottom" id="d52e46642">Type </th>
<th class="entry" valign="bottom" id="d52e46644">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46640 ">ContainersOnly</td>
<td class="entry" valign="top" headers="d52e46642 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46644 ">If true, only selectors for containers are added to the list. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__filechooser"><a name="r_builderwidget_concrete_classes__filechooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.FileChooser</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Presents
a picker which allows the user to select a file, which is used to
populate the text box.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 35. FileChooser arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46668">Name </th>
<th class="entry c28" valign="bottom" id="d52e46670">Type </th>
<th class="entry c24" valign="bottom" id="d52e46672">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46668 ">InitialPath </td>
<td class="entry c29" valign="top" headers="d52e46670 "><span class="ph">String</span> (none) </td>
<td class="entry c27" valign="top" headers="d52e46672 ">The path that the file dialog will initially
open to. For this and the rootDirectory argument, you can start the
value with <samp class="ph codeph">${bowstreet.rootDirectory}</samp>, and the widget
will translate that into the actual path of the bowstreet root directory
(usually <span class="ph filepath"><var class="keyword varname">servable content root</var>/WEB-INF</span>). <div class="note note"><span class="notetitle">Note:</span> The
value for this argument must be in the Eclipse project workspace,
otherwise it will be ignored.</div>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46668 ">rootDirectory </td>
<td class="entry c29" valign="top" headers="d52e46670 "><span class="ph">String</span></td>
<td class="entry c27" valign="top" headers="d52e46672 ">The top level of the file picker, will be
the project workspace by default. <div class="note note"><span class="notetitle">Note:</span> The value for this argument
must be in the Eclipse project workspace, otherwise it will be ignored.</div>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46668 ">selectionMode </td>
<td class="entry c29" valign="top" headers="d52e46670 ">file,directory,both (file) </td>
<td class="entry c27" valign="top" headers="d52e46672 ">Whether the user can select files, directories,
or both. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46668 ">title </td>
<td class="entry c29" valign="top" headers="d52e46670 "><span class="ph">String</span> (Choose File) </td>
<td class="entry c27" valign="top" headers="d52e46672 ">Specify the title of the chooser dialog.
 </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46668 ">filterExtensions </td>
<td class="entry c29" valign="top" headers="d52e46670 "><span class="ph">Comma-delimited list</span></td>
<td class="entry c27" valign="top" headers="d52e46672 ">Specify list of filters to use; can be of
the form *.java or readme*.  </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46668 ">copytoDirectory</td>
<td class="entry c29" valign="top" headers="d52e46670 "><span class="ph">String</span> (none) </td>
<td class="entry c27" valign="top" headers="d52e46672 ">The path that the file dialog
is initially open to save a copy of the selected file. For this and
the rootDirectory argument, you can start the value with ${bowstreet.rootDirectory},
and the widget translates that to the actual path of the bowstreet
root directory (usually servable content root/WEB-INF). <div class="note note"><span class="notetitle">Note:</span> The
value for this argument must be in the Eclipse project workspace;
otherwise it is ignored.</div>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46668 ">noShowWebInf</td>
<td class="entry c29" valign="top" headers="d52e46670 "><span class="ph">True/false (false)</span></td>
<td class="entry c27" valign="top" headers="d52e46672 ">True if the WEB-INF directory
is not set. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__filecombochooser"><a name="r_builderwidget_concrete_classes__filecombochooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.FileComboChooserWidget</h6>Extends
com.bowstreet.widgets.FileChooser. Presents a picker which allows
the user to select a file that is used to populate the combination
box. <p class="p">For arguments, see <a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__filechooser">com.bowstreet.widget.FileChooser</a>. </p>
</div>
<div class="section" id="r_builderwidget_concrete_classes__filemakerbutton"><a name="r_builderwidget_concrete_classes__filemakerbutton"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.FileMakerButton</h6>Extends
com.bowstreet.designer.builders.widgets.ButtonWidget. Button builder
input widget which pops up a file-choosing UI.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 36. FileMakerButton
arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46769">Name </th>
<th class="entry" valign="bottom" id="d52e46771">Type </th>
<th class="entry" valign="bottom" id="d52e46773">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46769 ">label</td>
<td class="entry" valign="top" headers="d52e46771 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e46773 ">Label for button </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46769 ">confirmOverwrite </td>
<td class="entry" valign="top" headers="d52e46771 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46773 ">True confirms when file is to be overwritten. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46769 ">filter</td>
<td class="entry" valign="top" headers="d52e46771 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e46773 ">A filter description, like HTML and JSP files,
for example, <samp class="ph codeph">*.htm, *.html, *.jsp</samp>. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46769 ">InitialPath</td>
<td class="entry" valign="top" headers="d52e46771 "><span class="ph">String</span> (none)</td>
<td class="entry" valign="top" headers="d52e46773 ">The path that the file dialog initially opens
to. For this and the rootDirectory argument, you can start the value
with ${bowstreet.rootDirectory}, and the widget translates that value
into the actual path of the bowstreet root directory (usually servable
content root/WEB-INF).  <div class="note note" id="r_builderwidget_concrete_classes__initpath_nt"><a name="r_builderwidget_concrete_classes__initpath_nt"><!-- --></a><span class="notetitle">Note:</span> The value for this
argument must be in the Eclipse project workspace; otherwise it is
ignored.  </div>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46769 ">rootDirectory</td>
<td class="entry" valign="top" headers="d52e46771 "><span class="ph">String</span> (none)</td>
<td class="entry" valign="top" headers="d52e46773 ">The path that the file dialog initially opens
to. For this argument and the rootDirectory argument, you can start
the value with ${bowstreet.rootDirectory}, and the widget translates
that into the actual path of the bowstreet root directory (usually
servable content root/WEB-INF).  <div class="note note"><span class="notetitle">Note:</span> The value for this
argument must be in the Eclipse project workspace; otherwise it is
ignored.  </div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__html"><a name="r_builderwidget_concrete_classes__html"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.HTML</h6>Extends
com.bowstreet.designer.builders.Widgets.AbstractStyledTextWidget.
Simple HTML editor- provides syntax highlighting appropriate for HTML,
XML and JSP pages.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 37. HTML argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46838">Name </th>
<th class="entry" valign="bottom" id="d52e46840">Type </th>
<th class="entry" valign="bottom" id="d52e46842">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46838 ">tab </td>
<td class="entry" valign="top" headers="d52e46840 "><span class="ph">Integer</span> </td>
<td class="entry" valign="top" headers="d52e46842 ">Set the tab value for the editor. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__label"><a name="r_builderwidget_concrete_classes__label"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.Label</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractBuilderWidget. Display
a non-editable label.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 38. Label arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46867">Name </th>
<th class="entry" valign="bottom" id="d52e46869">Type </th>
<th class="entry" valign="bottom" id="d52e46871">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46867 ">label </td>
<td class="entry" valign="top" headers="d52e46869 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e46871 ">The text to display </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46867 ">foreground </td>
<td class="entry" valign="top" headers="d52e46869 ">One of: blue, cyan, gray, green, magenta, red, yellow </td>
<td class="entry" valign="top" headers="d52e46871 ">The color of the text to display. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__list"><a name="r_builderwidget_concrete_classes__list"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.List</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractBuilderWidget. Display
XML data in a table, and allow sub-builder input widgets to be used
to edit data in individual cells.<div class="tablenoborder"><a name="r_builderwidget_concrete_classes__widgetlist"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="r_builderwidget_concrete_classes__widgetlist" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 39. List
arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e46902">Name </th>
<th class="entry" valign="bottom" id="d52e46904">Type </th>
<th class="entry" valign="bottom" id="d52e46906">Description  </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e46902 ">allowAdd </td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e46906 ">Can user add row to end of table </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">allowReorder </td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e46906 ">Can user reorder table rows </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">allowDynamicUpdate </td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e46906 ">Allow setting of value without stopping editing in current
cell. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">minColumnSize </td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">Integer</span> </td>
<td class="entry" valign="top" headers="d52e46906 ">Allow user to specify minimum column size. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">CustomChoices </td>
<td class="entry" valign="top" headers="d52e46904 "> </td>
<td class="entry" valign="top" headers="d52e46906 ">Provides a way for adding arbitrary nodes to a contained tree
picker. Example: <p class="p"><samp class="ph codeph">Fruits/Pear Fruits/Apple</samp></p>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">useColumnTags </td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e46906 ">If set to false, do not add column tags in returned XML value.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">offerRightClickMenu </td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e46906 ">Whether or not to show right click context menu.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">cellEditors</td>
<td class="entry" valign="top" headers="d52e46904 ">IXml </td>
<td class="entry" valign="top" headers="d52e46906 ">Specifies cell editors to be used in list; same format as <samp class="ph codeph">&lt;editors&gt;</samp> node
in <span class="ph filepath">bdef</span> file. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">Columns</td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">Integer</span> </td>
<td class="entry" valign="top" headers="d52e46906 ">Number of columns in list                </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">headings</td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e46906 ">Headings for the columns</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">rowtag</td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e46906 ">The name for the tag name used to form the parent
element for each row. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">topNodeTag</td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e46906 ">The name for the tag name used for the overall
containing XML structure. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">columnWidths</td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e46906 ">Widths of the columns</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e46902 ">columnTags</td>
<td class="entry" valign="top" headers="d52e46904 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e46906 ">Tags for each column</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__listchooserwidget"><a name="r_builderwidget_concrete_classes__listchooserwidget"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.ListChooserWidget</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. A generic
chooser builder input widget that displays a chooser dialog containing
a SWT List control. The content of the list is set by arguments passed
to the builder input widget.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 40. ListChooserWidget arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47043">Name </th>
<th class="entry" valign="bottom" id="d52e47045">Type </th>
<th class="entry" valign="bottom" id="d52e47047">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47043 ">title </td>
<td class="entry" valign="top" headers="d52e47045 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47047 ">Title to be displayed on the title bar of the chooser dialog.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47043 ">multiSelect </td>
<td class="entry" valign="top" headers="d52e47045 "><span class="ph">True/false</span> </td>
<td class="entry" valign="top" headers="d52e47047 ">If true, allow multiple items to be selected </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47043 ">separatorChar </td>
<td class="entry" valign="top" headers="d52e47045 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47047 ">If multiSelect is being used, use this char as the delimiter
between the choices in the returned string. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47043 ">listData </td>
<td class="entry" valign="top" headers="d52e47045 ">Either a comma-delimited String, or a java.util.Collection
object </td>
<td class="entry" valign="top" headers="d52e47047 ">If a Collection is passed in, each item will be converted to
a String by <samp class="ph codeph">toString()</samp>, and those Strings are used
to populate the list. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__listinputwidget"><a name="r_builderwidget_concrete_classes__listinputwidget"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.listInputWidget</h6>Extends
com.bowstreet.designer.builders.widgets.listWidget. Display XML data
in a table, and displays additional row data in specified input builder
input widget positioned next to table.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 41. listInputWidget
arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47098">Name </th>
<th class="entry" valign="bottom" id="d52e47100">Type </th>
<th class="entry" valign="bottom" id="d52e47102">Description </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47098 ">See List Widget </td>
<td class="entry" valign="top" headers="d52e47100 "> </td>
<td class="entry" valign="top" headers="d52e47102 ">All List widget arguments are supported, plus those below.
For more information, see <a class="xref" href="designer-html-wrapper.htm#r_builderwidget_concrete_classes__widgetlist">Table 39</a>.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47098 ">inputEditors </td>
<td class="entry" valign="top" headers="d52e47100 ">IXml </td>
<td class="entry" valign="top" headers="d52e47102 ">Same format as <samp class="ph codeph">&lt;editor&gt;</samp> node in <span class="ph filepath">bdef</span> file. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47098 ">title</td>
<td class="entry" valign="top" headers="d52e47100 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47102 ">Title of table or input group. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47098 ">weights</td>
<td class="entry" valign="top" headers="d52e47100 "><samp class="ph codeph">##,##</samp></td>
<td class="entry" valign="top" headers="d52e47102 ">A comma-delimited list of two weights, for example,
40,60. Controls the widths of the two lists. </td>
</tr>
</tbody>
</table>
</div>
<div class="note note"><span class="notetitle">Note:</span> To set arguments on individual input field widgets,
specify <var class="keyword varname">&lt;input name&gt;</var>/<var class="keyword varname">&lt;argument name&gt;</var>.
For example: <pre class="pre codeblock">input setArgument("MyInput/ListData","data1,data2,data3")</pre>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__method"><a name="r_builderwidget_concrete_classes__method"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.Method</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractStyledTextWidget.
Method editor builder input widget; allows editing a Java method,
with auto-indenting, syntax highlighting, and code completion.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 42. Method arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47166">Name </th>
<th class="entry" valign="bottom" id="d52e47168">Type </th>
<th class="entry" valign="bottom" id="d52e47170">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47166 ">tab </td>
<td class="entry" valign="top" headers="d52e47168 "><span class="ph">Integer</span>  </td>
<td class="entry" valign="top" headers="d52e47170 ">Number of spaces for tabbing (auto-indent) </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47166 ">height </td>
<td class="entry" valign="top" headers="d52e47168 "><span class="ph">Integer</span>  </td>
<td class="entry" valign="top" headers="d52e47170 ">Height of Method widget </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47166 ">linewrap </td>
<td class="entry" valign="top" headers="d52e47168 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e47170 ">Whether or not to wrap lines. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__modelchooser"><a name="r_builderwidget_concrete_classes__modelchooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.ModelChooser</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Presents
dialog which allows user to select a model from the <span class="ph">IBM WebSphere Portlet Factory</span> models directory.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 43. ModelChooser arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47220">Name </th>
<th class="entry" valign="bottom" id="d52e47222">Type </th>
<th class="entry" valign="bottom" id="d52e47224">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47220 ">modelProcessor </td>
<td class="entry" valign="top" headers="d52e47222 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47224 ">Used to filter which models are shown </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47220 ">externalPropertyName </td>
<td class="entry" valign="top" headers="d52e47222 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47224 ">Used to filter which models are shown </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47220 ">externalPropertyValue </td>
<td class="entry" valign="top" headers="d52e47222 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47224 ">Used to filter which models are shown </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47220 ">allowRelativeModels</td>
<td class="entry" valign="top" headers="d52e47222 ">True or false</td>
<td class="entry" valign="top" headers="d52e47224 ">Creating checkox for relative model reference
functionalityappend. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__osfilechooser"><a name="r_builderwidget_concrete_classes__osfilechooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.OSFileChooser</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractBuilderWidget. 	OSFileChooser
lets you select files that are outside the workspace. <div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 44. OSFileChooser
arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47272">Name </th>
<th class="entry" valign="bottom" id="d52e47274">Type </th>
<th class="entry" valign="bottom" id="d52e47276">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47272 ">initialPath</td>
<td class="entry" valign="top" headers="d52e47274 "><span class="ph">String</span> (none)</td>
<td class="entry" valign="top" headers="d52e47276 ">The path that the file dialog initially opens to. For this
argument and the rootDirectory argument, you can start the value with
${bowstreet.rootDirectory}, and the widget translates that value into
the actual path of the bowstreet root directory (usually servable
content root/WEB-INF).   </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47272 ">filterExtensions</td>
<td class="entry" valign="top" headers="d52e47274 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e47276 ">A filter description like HTML and JSP Files (*.htm,
*.html, *.jsp)</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47272 ">filterNames</td>
<td class="entry" valign="top" headers="d52e47274 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e47276 ">Names of the filters</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__pagelocation"><a name="r_builderwidget_concrete_classes__pagelocation"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.PageLocation</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractBuilderWidget. PageLocationWidget,
compound builder input widget which allows user to specify location
of control on page.<p class="p">Arguments: none </p>
</div>
<div class="section" id="r_builderwidget_concrete_classes__password"><a name="r_builderwidget_concrete_classes__password"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.Password</h6>Extends
com.bowstreet.designer.builders.widgets.TextFieldWidget. Text field
which displays <samp class="ph codeph">*</samp> rather than typed letters.<p class="p">Arguments:
none</p>
</div>
<div class="section" id="r_builderwidget_concrete_classes__profileset"><a name="r_builderwidget_concrete_classes__profileset"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.ProfileSet</h6></div>
<div class="section" id="r_builderwidget_concrete_classes__radiobox"><a name="r_builderwidget_concrete_classes__radiobox"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.RadioBox</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractBuilderWidget. A RadioBox.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 45. RadioBox arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47335">Name </th>
<th class="entry" valign="bottom" id="d52e47337">Type </th>
<th class="entry" valign="bottom" id="d52e47339">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47335 ">listData </td>
<td class="entry" valign="top" headers="d52e47337 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e47339 ">Data returned when radio box selection is selected. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47335 ">listLabels </td>
<td class="entry" valign="top" headers="d52e47337 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e47339 ">List of labels for radio boxes.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47335 ">selectItem </td>
<td class="entry" valign="top" headers="d52e47337 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47339 ">Value selected when radio box widget is first displayed.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47335 ">listDataOjbect </td>
<td class="entry" valign="top" headers="d52e47337 ">instance of java.util.Collection </td>
<td class="entry" valign="top" headers="d52e47339 ">Data returned when radio box selection is selected. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47335 ">listLabelsObject</td>
<td class="entry" valign="top" headers="d52e47337 ">instance of java.util.Collection </td>
<td class="entry" valign="top" headers="d52e47339 ">List of labels for radio boxes.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47335 ">vertical </td>
<td class="entry" valign="top" headers="d52e47337 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e47339 ">Are radio buttons vertical</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__reference"><a name="r_builderwidget_concrete_classes__reference"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.Reference</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractBuilderWidget. Displays
dialog which allows user to select indirect reference from the Web
application. If the contained builder input widget (specified by the
editor argument) is a chooser type builder input widget, the dialog
has two tabs, one for indirect references and one for the other chooser
dialog.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 46. Reference arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47401">Name </th>
<th class="entry" valign="bottom" id="d52e47403">Type </th>
<th class="entry" valign="bottom" id="d52e47405">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47401 ">editor </td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47405 ">An IXml element which describes the widget to be used by the
Reference widget, with any arguments which are needed for the editor.
If not specified, defaults to TextFieldWidget. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">title</td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47405 ">The title of the chooser. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">Variables </td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e47405 ">Whether or not to show variables in picker. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">Methods </td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e47405 ">Whether or not to show methods in picker. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">Inputs </td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e47405 ">Whether or not to show inputs in picker. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">Java </td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e47405 ">Whether or not to show Java choice in picker. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">useCurlyBrace </td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e47405 ">Whether or not to wrap the returned result with <samp class="ph codeph">${}</samp>. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">dataServices  </td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">True/false</span> </td>
<td class="entry" valign="top" headers="d52e47405 ">Whether or not to show DataServices in picker.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">returnCategories</td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e47405 ">Used to set if the user does not want the category
returned as part of the chosen data.  </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">tryToDefaultToLoopVar </td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e47405 ">If true, no value is set in the builder input,
and the context is in a repeated region, the default is the loop variable. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">args</td>
<td class="entry" valign="top" headers="d52e47403 ">space-separated list</td>
<td class="entry" valign="top" headers="d52e47405 ">A list of names to appear in the Arguments section
of indirect reference pickers. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">customChoices</td>
<td class="entry" valign="top" headers="d52e47403 ">space-separated list</td>
<td class="entry" valign="top" headers="d52e47405 ">A list of names to appear in the Custom section
of indirect reference pickers. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">returnTypes  </td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e47405 ">A list of data types that limit the initial
choices to match, for example, IXml or Object.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">defaultTab</td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47405 ">If not specified or if set to <samp class="ph codeph">reference</samp>,
the chooser is displayed with the reference tab selected first.  If
set to another value, the other chooser (for example, file or model)
is displayed first.  If the contained widget is not a chooser type
widget,  this argument is ignored.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47401 ">defaultData</td>
<td class="entry" valign="top" headers="d52e47403 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47405 ">The value to use as a default, for example,
DataServices causes the data services tree to open if no value is
set. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__resourcebundlechooser"><a name="r_builderwidget_concrete_classes__resourcebundlechooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.ResourceBundleChooser</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Allows
user to select a resource bundle file name. The chooser is populated
based on all <span class="ph filepath">*.properties</span> files in the <span class="ph">IBM WebSphere Portlet Factory</span> dynamic class loading
directories (specified by the bowstreet.dynamic.class.load.path property
in the bowstreet property files).<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 47. ResourceBundleChooser
argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47558">Name </th>
<th class="entry" valign="bottom" id="d52e47560">Type </th>
<th class="entry" valign="bottom" id="d52e47562">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47558 ">searchDirectory </td>
<td class="entry" valign="top" headers="d52e47560 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47562 ">Comma-delimited list of paths to search to populate the chooser
(in addition to dynamic class directories). <p class="p">Can be either a fully
qualified path, or can use <samp class="ph codeph">${bowstreet.rootDirectory/</samp><var class="keyword varname">&lt;path&gt;</var> syntax</p>
 </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__restrictednametextfield"><a name="r_builderwidget_concrete_classes__restrictednametextfield"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.RestrictedNameTextField</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractTextWidget. A input
widget that is used for required names for builder input widget.  <p class="p">Arguments:
none </p>
</div>
<div class="section" id="r_builderwidget_concrete_classes__schema"><a name="r_builderwidget_concrete_classes__schema"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.Schema</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Chooser
type builder input widget which displays schema types and elements
from schemas in the WebApp.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 48. Schema arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47600">Name </th>
<th class="entry" valign="bottom" id="d52e47602">Type </th>
<th class="entry c34" valign="bottom" id="d52e47604">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47600 ">filterNoNamespace </td>
<td class="entry" valign="top" headers="d52e47602 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e47604 ">If true, only show schemas which have an associated target
namespace. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47600 ">additionalSchemaTypes </td>
<td class="entry" valign="top" headers="d52e47602 "><span class="ph">Comma-delimited list</span></td>
<td class="entry" valign="top" headers="d52e47604 ">Used to specify list of additional types to be displayed in
schema chooser. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__textarea"><a name="r_builderwidget_concrete_classes__textarea"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.TextArea</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractTextWidget. TextArea
builder input widget.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 49. TextArea arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47636">Name </th>
<th class="entry" valign="bottom" id="d52e47638">Type </th>
<th class="entry" valign="bottom" id="d52e47640">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47636 ">height </td>
<td class="entry" valign="top" headers="d52e47638 "><span class="ph">Integer</span>  </td>
<td class="entry" valign="top" headers="d52e47640 ">Height of TextArea widget </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47636 ">isEditable</td>
<td class="entry" valign="top" headers="d52e47638 "><span class="ph">True/false (true)</span></td>
<td class="entry" valign="top" headers="d52e47640 ">Whether or not the text area is editable. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47636 ">Readonly</td>
<td class="entry" valign="top" headers="d52e47638 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e47640 ">If readonly, then do not highLight. This widget
can be used for scrollable text.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__textfield"><a name="r_builderwidget_concrete_classes__textfield"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.TextField</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractTextWidget. TextField
builder input widget.<p class="p">Arguments: none </p>
</div>
<div class="section" id="r_builderwidget_concrete_classes__treechooser"><a name="r_builderwidget_concrete_classes__treechooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.TreeChooser</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. A generic
Tree Chooser builder input widget; it takes a collection of strings
and creates a tree chooser from it.<pre class="pre codeblock">&lt;![if !supportEmptyParas]&gt;&lt;![endif]&gt;</pre>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 50. TreeChooser arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47690">Name </th>
<th class="entry" valign="bottom" id="d52e47692">Type </th>
<th class="entry" valign="bottom" id="d52e47694">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47690 ">title</td>
<td class="entry" valign="top" headers="d52e47692 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47694 ">The title to be displayed on the title bar of the chooser dialog.</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47690 ">treedata</td>
<td class="entry" valign="top" headers="d52e47692 ">Either a comma-delimited String, or a java.util.Collection
object that contains Strings.</td>
<td class="entry" valign="top" headers="d52e47694 ">Values should be delimited by a slash character (/), for example,
a/b/c is displayed as: <ul class="sl simple"><li class="sli">A</li>
<li class="sli">-B</li>
<li class="sli">-C</li>
</ul>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47690 ">allowDirSelection</td>
<td class="entry" valign="top" headers="d52e47692 "><span class="ph">True/false</span></td>
<td class="entry" valign="top" headers="d52e47694 ">If true, nonterminal nodes can be selected and returned to
the text field. If false, only terminal nodes can be selected.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__typedsourcechooser"><a name="r_builderwidget_concrete_classes__typedsourcechooser"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.TypedSourceChooser</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Used
by builders like Data Page to select a structured input source. Lists
variables, schema elements, and two special types for creating new
types from elements in an HTML page.<p class="p">Arguments: none </p>
</div>
<div class="section" id="r_builderwidget_concrete_classes__variableelements"><a name="r_builderwidget_concrete_classes__variableelements"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.VariableElements</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. VariableElementsWidget.
Chooser type builder input widget which will show elements appropriate
to the variable type based on the schema associated with the builder.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 51. VariableElements arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47746">Name </th>
<th class="entry" valign="bottom" id="d52e47748">Type </th>
<th class="entry" valign="bottom" id="d52e47750">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47746 ">variableName </td>
<td class="entry" valign="top" headers="d52e47748 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47750 ">Name of variable </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47746 ">trimParentPath</td>
<td class="entry" valign="top" headers="d52e47748 "><span class="ph">True/false</span></td>
<td class="entry" valign="top" headers="d52e47750 ">Whether to trim the parent path from the selected schema path. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47746 ">allowLeafSelectOnly</td>
<td class="entry" valign="top" headers="d52e47748 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e47750 ">Only allow the bottom nodes of the tree to be
selected. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__webappmethod"><a name="r_builderwidget_concrete_classes__webappmethod"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.WebAppMethod</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Similar
to ActionChooserWidget, initialized with showMethodsWithArguments
set to true, showSpecialActions set to false, and an AcceptanceFilter
set to a filter that only allows method actions.<div class="p">For both the argTypes
and returnType arguments, only the last segment of the Java class
name is matched. Thus, specifying <samp class="ph codeph">String</samp> is equivalent
to <samp class="ph codeph">java.lang.String</samp> and specifying <samp class="ph codeph">IXml</samp> is
equivalent to <samp class="ph codeph">com.bowstreet.util.IXml</samp>. For example,
the following code shows only methods that have a signature of (String,IXml)
or (WebAppAccess,String,IXml) and that return a boolean value. <pre class="pre codeblock">&lt;Editor JavaClass="com.bowstreet.widget.WebAppMethod"&gt;
       &lt;Argument name="returnType"&gt;boolean&lt;/Argument&gt;
       &lt;Argument name="argTypes"&gt;String,IXml&lt;/Argument&gt;
&lt;/Editor&gt;</pre>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 52. WebAppMethod arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47806">Name </th>
<th class="entry" valign="bottom" id="d52e47808">Type </th>
<th class="entry" valign="bottom" id="d52e47810">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47806 ">argTypes</td>
<td class="entry" valign="top" headers="d52e47808 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47810 ">Comma-delimited list of argTypes. Shows only methods that have
matching argument types. (A preceding WebAppAccess is ignored.)</td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47806 ">returnType</td>
<td class="entry" valign="top" headers="d52e47808 "> </td>
<td class="entry" valign="top" headers="d52e47810 ">Shows only methods that have the matching return type. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__webapppage"><a name="r_builderwidget_concrete_classes__webapppage"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.WebAppPage</h6>Combination
box list of web application pages.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 53. WebAppPage arguments</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47840">Name </th>
<th class="entry" valign="bottom" id="d52e47842">Type </th>
<th class="entry" valign="bottom" id="d52e47844">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47840 ">addBlankChoice </td>
<td class="entry" valign="top" headers="d52e47842 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e47844 ">Whether to add a blank choice at the top of the list of pages. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47840 ">addAllPages </td>
<td class="entry" valign="top" headers="d52e47842 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e47844 ">Whether to add an All Pages option in the list of pages. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47840 ">showLinkedModelPages</td>
<td class="entry" valign="top" headers="d52e47842 "><span class="ph">True/false (false)</span></td>
<td class="entry" valign="top" headers="d52e47844 ">Whether to show linked model pages. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e47840 ">ExcludePages</td>
<td class="entry" valign="top" headers="d52e47842 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47844 ">Comma-delimited list of pages to be excluded. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builderwidget_concrete_classes__webappvariable"><a name="r_builderwidget_concrete_classes__webappvariable"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.WebAppVariable</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractComboListWidget. Combination
box list of variables in WebApp.<p class="p">Arguments: none</p>
</div>
<div class="section" id="r_builderwidget_concrete_classes__webappvariabletype"><a name="r_builderwidget_concrete_classes__webappvariabletype"><!-- --></a><h6 class="title sectiontitle">com.bowstreet.widget.WebAppVariableType</h6>Extends
com.bowstreet.designer.builders.widgets.AbstractChooserWidget. Picker
for variable builder to display possible variable types.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 54. WebAppVariableType
argument</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e47898">Name </th>
<th class="entry" valign="bottom" id="d52e47900">Type </th>
<th class="entry" valign="bottom" id="d52e47902">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" headers="d52e47898 ">builtIns</td>
<td class="entry" valign="top" headers="d52e47900 "><span class="ph">String</span></td>
<td class="entry" valign="top" headers="d52e47902 ">Comma-delimited list of types to display. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_generation_class"><a name="c_generation_class"><!-- --></a><h4 class="title topictitle4">Generation class</h4>
<div class="body conbody"><p class="shortdesc">The generation class implements all the logic to be executed by
the builder during generation.</p>
<div class="section">In this class, you can automate the addition of elements to the web
application, add builders to the model, that operate on one or more pages
in the model, and perform any other logic needed during generation.<p class="p">Depending
on how your builder affects the WebApp, your generation class will implement
either the <samp class="ph codeph">WebAppBuilder</samp> interface or the <samp class="ph codeph">WebAppControlBuilder</samp> interface. </p>
<p class="p">A
builder can affect the web application in two ways:</p>
<ul class="ul"><li class="li">It can add elements to the web application. Elements that can be added
to the web application include: <ul class="ul"><li class="li">Linked objects</li>
<li class="li">Linked models</li>
<li class="li">Imported pages</li>
<li class="li">Event declarations and handlers</li>
<li class="li">Variables</li>
</ul>
</li>
<li class="li"> It can modify elements in the web application. <p class="p">Some builders modify
pages, adding or modifying controls on those pages. Builders can also modify
other elements in the web application. For example, builders can add to the
structure of a variable and add actions to an action list.</p>
</li>
</ul>
<p class="p">For a definitive list of builders that operate on the structure of
the web application, see the builders listed as WebApp builders in the builder
picker. For the list of builders that can modify the elements in a web application,
see the builders listed as JSP builders in the builder picker.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_runtime_logic_classes"><a name="c_runtime_logic_classes"><!-- --></a><h5 class="title topictitle5">Runtime logic classes</h5>
<div class="body conbody"><p class="shortdesc">If you need code to execute at runtime, in your generation class,
you can add a linked Java object to the WebApp that implements
the functionality you need.</p>
<div class="section">Some common things you need to do at runtime are:<ul class="ul"><li class="li">Interact with the file system </li>
<li class="li">Interact with an LDAP directory service or JDBC data source </li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_coord_classes"><a name="c_coord_classes"><!-- --></a><h4 class="title topictitle4">Coordinator class</h4>
<div class="body conbody"><p class="shortdesc">If you need to implement any sort of dynamic behavior for a builder
call editor, create a coordinator class for your builder.</p>
<div class="section">The coordinator can set input definitions as visible or not, add
input definitions, and modify the display of the builder call editor when
an input value changes. </div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="creating_a_coordinator"><a name="creating_a_coordinator"><!-- --></a><h5 class="title topictitle5">About implementing a coordinator</h5>
<div class="body conbody"><p class="shortdesc">The coordinator class allows you to dynamically modify
the builder call editor for your builder depending on the value of
an input. </p>
<p class="p">When you change a value in the builder call editor, the coordinator
handles that event with a <samp class="ph codeph">processChange()</samp> method.
In the <samp class="ph codeph">processChange()</samp> method, you can determine
which input changed and perform one or more of the following actions:</p>
<ul class="ul"><li class="li">Hide displayed inputs.</li>
<li class="li">Display inputs previously not displayed.</li>
<li class="li">Add inputs dynamically.</li>
<li class="li">Implement any other desired functionality with Java code.</li>
</ul>
<p class="p">The following Java code implements a coordinator that displays
two additional inputs when a particular check box is enabled in the
builder call editor.</p>
<pre class="pre codeblock">package com.bowstreet.examples.builders.webapp;
import com.bowstreet.editor.uitools.coordinator.WebAppBaseCoordinator;
import com.bowstreet.generation.DynamicBuilderInputDefinition;
import com.bowstreet.generation.BuilderInputDefinition;
import java.util.Iterator;
public class APITestCoordinator extends WebAppBaseCoordinator {
  public String initializeInputs(boolean isNewBuilderCall) {
     if(isNewBuilderCall) {
        /*Perform initialization for new builder calls.
          For example, you can set initial values for an input:
          context.findInputDefinition("CustomerName").setString("Marla");
        */
     }
     //Determine whether to mark some inputs as visible or not
     if(context.findInputDefinition("ShowMoreInputs").getBoolean()) {
           showInputs();
     }
     return null;
  }
  public boolean processInputChange(DynamicBuilderInputDefinition changed)
    {
        if (changed == null)
            return false;
        if(changed.getName().equals("ShowMoreInputs"))
        {
            System.out.println(changed.getBoolean());
            if(changed.getBoolean()) {
              showInputs();
              return true;
            }
            else {
               hideInputs();
               return true;
            }
        }
        return false;
  }
  protected void showInputs() {
     context.findInputDefinition("AdvancedInput1").setVisible(true);
     context.findInputDefinition("AdvancedInput2").setVisible(true);
  }
  protected void hideInputs() {
     context.findInputDefinition("AdvancedInput1").setVisible(false);
     context.findInputDefinition("AdvancedInput2").setVisible(false);
  }
}</pre>
<p class="p">If the user disables the checkbox, the coordinator removes the
added inputs from the builder call editor. When the builder call editor
opens (after the builder call has been added to the model ) the <samp class="ph codeph">initializeInputs()</samp> checks
to see if the checkbox is enabled and, if so, displays the two additional
inputs.</p>
<p class="p">A simple coordinator that sets input definitions whose <samp class="ph codeph">&lt;Visible/&gt;</samp> value
in the builder definition is false to true, altering the builder call
editor to display those inputs when the user sets a boolean input
to true.</p>
<div class="note note"><span class="notetitle">Note:</span> For more information about using a coordinator, see the builder
tutorial. </div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_creating_builderdefs"><a name="c_creating_builderdefs"><!-- --></a><h4 class="title topictitle4">About creating builder definitions</h4>
<div class="body conbody"><p class="shortdesc">The builder definition is an XML file that defines the
builder characteristics. </p>
<div class="p">The builder definition also defines the inputs to the builder and
the editors with which users can specify the builder inputs. The builder
definition file is generally divided into the following sections. <ul class="ul"><li class="li">Header elements<p class="p">There is not really a heading section in a builder
definition file. The term header is used to refer to several of the
elements that are in every <span class="ph filepath">.bdef</span> file, most of
which are each just a single line in the XML format.</p>
</li>
<li class="li">Input definitions<p class="p">Input definitions consist of data definition
elements, data definition containers, page data elements, and page
data containers. </p>
</li>
<li class="li">Group definitions<p class="p">Contains elements to define groups that allow
inputs to be treated together in the user interface. </p>
</li>
</ul>
For an example of a builder definition file, see the Javadoc
description of the BuilderDef interface. </div>
<div class="note note"><span class="notetitle">Note:</span> To learn more about builder definitions, add the <span class="ph menucascade"><span class="ph uicontrol">Tutorials And Samples</span> &gt; <span class="ph uicontrol">Making Builders</span></span> feature set to your project. </div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_builder_def_files"><a name="c_builder_def_files"><!-- --></a><h5 class="title topictitle5">Builder definition files</h5>
<div class="body conbody"><p class="shortdesc">The builder definition file is an XML file that resides in or below
the <span class="ph filepath">WEB-INF/builders</span> directory.</p>
<div class="section">The actual directory in which the builder definition resides corresponds
to the package name of the generation class. For example, if the fully-qualified
class name for the generation class <samp class="ph codeph">com.acme.sitebuilders.AutomatedPagesBuilder</samp>,
the builder definition would the following path and file name: <span class="ph filepath">WEB-INF/builders/com/acme/sitebuilders/AutomatedPagesBuilder.xml</span></div>
</div>
<div class="related-links"></div><div class="topic reference nested5" xml:lang="en-us" id="r_builder_def_structure"><a name="r_builder_def_structure"><!-- --></a><h6 class="title topictitle6">Builder definition structure</h6>
<div class="body refbody"><p class="shortdesc">The builder definition file has a formal structure.</p>
<div class="section"><div class="p">The builder definition file is generally divided into
the following sections. <ul class="sl simple"><li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builder_def_structure__heading">Header elements</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builder_def_structure__inputdef">Input definitions</a></li>
<li class="sli"><a class="xref" href="designer-html-wrapper.htm#r_builder_def_structure__groupdef">Group definitions</a></li>
</ul>
</div>
</div>
<div class="section" id="r_builder_def_structure__heading"><a name="r_builder_def_structure__heading"><!-- --></a><h6 class="title sectiontitle">Header elements</h6><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 55. Header
element descriptions</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" width="27.89473684210526%" id="d52e48216">Element name</th>
<th class="entry" valign="bottom" width="72.10526315789474%" id="d52e48218">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">BuilderDef</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Contains all the elements in the builder definition and the
id attribute. For example, <samp class="ph codeph">&lt;BuilderDef id="com.bowstreet.builders.webapp.ButtonBuilder"&gt;</samp> The
id attribute includes the file path and name of the builder definition
file. The path is relative from the <span class="ph">IBM WebSphere Portlet Factory</span> <span class="ph filepath">WEB-INF/builders</span> directory.
Directory names are separated using dots (<samp class="ph codeph">.</samp>) as in Java package names. The id is referenced in
BuilderCalls in models. </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">ReadableName</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Set the value of this element to be the name of the builder.
This name appears in the <span class="ph"> WebSphere Portlet
Factory</span> Designer
builder picker.<p class="p">For example: <samp class="ph codeph">&lt;ReadableName&gt;Button&lt;/ReadableName&gt;</samp> This
value gets Internationalized if builder definition resource bundles
are being used. If more than one (visible) builder in a project has
the same ReadableName, an error is displayed and any duplicate name
after the first has additional text appended to make it unique.</p>
<div class="note note"><span class="notetitle">Note:</span> <span class="ph"> WebSphere Portlet
Factory</span> does not support the
use of bidirectional characters in builder names. This might cause
problems in languages in which these types of characters are commonly
used, such as traditional Chinese, simplified Chinese, Korean, and
Japanese.</div>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">GenHandlerClassName</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Enter <samp class="ph codeph">com.bowstreet.builders.webapp.foundation.WebAppGenHandler</samp> for
builders that do not use a <span class="ph uicontrol">Page Location</span> input.<p class="p">Enter <samp class="ph codeph">com.bowstreet.builders.webapp.foundation.WebAppControlGenHandler</samp> for
builders that do use a <span class="ph uicontrol">Page Location</span> input.</p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">HelpFile</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Enable <span class="ph"> WebSphere Portlet
Factory</span> Designer
to launch a help file for this builder by setting this element value
to the path and file name for the help file. Paths are relative from
the <span class="ph"> WebSphere Portlet
Factory</span> servable content
root directory. For example, <samp class="ph codeph"> &lt;<var class="keyword varname">HelpFile</var>&gt;factory/product_documentation/builders/button.htm&lt;/<var class="keyword varname">HelpFile</var>&gt;</samp> <p class="p">Store
the help files for builders that you create somewhere under the <span class="ph"> WebSphere Portlet
Factory</span> servable content root.
The HelpFile value for a builder is similar to:</p>
 <samp class="ph codeph"> &lt;<var class="keyword varname">HelpFile</var>&gt;acme/builders/automated_site.htm&lt;/<var class="keyword varname">HelpFile</var>&gt;</samp> <p class="p">where <span class="ph filepath">acme/builders</span> is
the directory in which the help file,  <span class="ph filepath">automated_site.htm</span> resides.</p>
 </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 "> RequiredFactoryVersion </td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Minimum version of the <span class="ph"> WebSphere Portlet
Factory</span> that supports this
builder.  Set this element value to correspond to the core engine
and runtime version as displayed in the server startup message (to
the console of the server or <span class="ph filepath">stdout</span>). For example, <samp class="ph codeph"> &lt;<var class="keyword varname">RequiredFactoryVersion</var>&gt;x.y.z&lt;/<var class="keyword varname">RequiredFactoryVersion</var>&gt;</samp> <p class="p">If
the builder is placed in a lower version of the <span class="ph"> WebSphere Portlet
Factory</span>, it has the functionality
of the Comment builder (none) but retains its builder inputs. </p>
<div class="note note"><span class="notetitle">Note:</span> Do
not set this value to the displayable product version as shown in <span class="ph"> WebSphere Portlet
Factory</span> Designer. In some
cases, version value represents versions of the plugins, not of <span class="ph"> WebSphere Portlet
Factory</span>.</div>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">Description</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Set this element value to the text to be displayed in the builder
call editor for this builder. For example:<pre class="pre codeblock">&lt;Description&gt;
Add a button to one or more pages in the model.
&lt;/Description&gt;</pre>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48216 ">Domains</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48218 ">Contains Domain elements.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48216 ">Domain</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48218 ">All builders specify
at least one domain:<pre class="pre codeblock">&lt;Domain&gt;WebApp&lt;/Domain&gt;</pre>
This
element adds the builder name to the builder picker. Builders without
this value can still be used; some builders are only intended to be
called from other builders and do not have this value. </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">Category</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">For each builder, you can define categories
that display in the builder picker. Each builder can be defined in
multiple categories by specifying a comma-separated list.<p class="p">The builder
definition declares the types of things that it can create and can
modify. With each declaration is a category and a description. This
data is used by the <span class="ph"> WebSphere Portlet
Factory</span> Designer
to offer the list of builders that make sense to create in different
contexts. For example, the user can right-click on a button and he
is offered only those builders that can modify a button. This information
is not meant to be exhaustive, just to be usable. </p>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">CanCreate</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">From an element in the Application tree or the
graphical view, if the user has selected a category, for example,
Page, a list of objects that the selected builder can create is displayed. </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">CanModify</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">From an element in the Application tree or the
graphical view, a list of objects that the selected builder can modify
is displayed. That list is made from the builder definitions that
have declared with CanCreate or CanModify elements in the Category
element a particular type of element.<p class="p">Once you declare that your
builder can modify elements of a particular type, initialize some
of the values within a new instance of the builder so that it starts
off pointing to the currently selected element. The initialization
process is executed not only if the user picks your builder from the
context menu, but also if the user chooses your builder in the builder
picker while anything is selected in the Application Tree.</p>
<p class="p">In
this initialization process, the Application Tree is really the tree
of GenElements. Each GenElement has a name, a type (that might be
hidden) and a pointer to a Domain Object (an object in the WebApp
itself). This information can be used to set up the value in the BuilderCall
so that the new BuilderCall references the current Domain Object. </p>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">CreateModifyList</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">From the WebApp node, a complete list of objects
that can be created displays, with sub-menus for each object.</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">Keywords</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">For each builder, you can define searchable
keywords that display in the builder picker. Every builder automatically
has its name and all of its categories in its keyword list. You can
also specify additional keywords. Here is a sample from the button
builder.  <pre class="pre codeblock">&lt;Category&gt;Page Elements,Navigation and Page Actions&lt;/Category&gt;
&lt;Keywords&gt;Form Submit, Data Entry, Flow Control, Action, HTML&lt;/Keywords&gt;</pre>
 This element declares the button builder to belong to
two categories, and defines five additional keywords. </td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">ModifierInitializerTranslations </td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">When the fields of a new BuilderCall are initialized,
the type of the currently selected GenElement is compared to the names
of the BuilderInputs, using the ModifierInitializerTranslations table.
The type of the GenElement is compared to the type specified by the
genelement attribute of each translation. If that matches, then the
BuilderInput specified by the builderinput attribute is initialized
to the name of the GenElement. <div class="p"> For example, if the GenElement
Page: page1 is selected in the Application Tree, and an instance of
the builder with the example above is created, the field PageName
is populated with the value page1. For example:<pre class="pre codeblock">&lt;BuilderDataEntry name="ModifierInitializerTranslations"&gt;
    &lt;Translation genelement="Page" builderinput="PageName" /&gt;
    &lt;Translation genelement="Control" builderinput="CreateTagsLocation" /&gt;
    &lt;Translation genelement="[Unassigned Elements]" builderinput="CreateTagsLocation" /&gt;
&lt;/BuilderDataEntry&gt;
</pre>
</div>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">BuilderData</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Contains BuilderDataEntry elements.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">BuilderDataEntry</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Set the value of the <samp class="ph codeph">name</samp> attribute for this
element to <samp class="ph codeph">BuilderClassName</samp> and the value for this
element to the builder generation class fully-qualified name. For
example: <pre class="pre codeblock">&lt;BuilderDataEntry name="BuilderClassName"&gt;
com.bowstreet.builders.webapp.ButtonBuilder
&lt;/BuilderDataEntry&gt;</pre>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">CoordinatorClassName</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Optional. If you create a coordinator class
to add logic to the builder call editor for the builder, set this
element value to the coordinator class fully-qualified class name.
For example:<pre class="pre codeblock">&lt;CoordinatorClassName&gt;
com.bowstreet.builders.webapp.ServiceCallBuilderCoordinator
&lt;/CoordinatorClassName&gt;</pre>
</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="27.89473684210526%" headers="d52e48216 ">AddFromPaletteListenerClassName</td>
<td class="entry" valign="top" width="72.10526315789474%" headers="d52e48218 ">Specify one of the following elements.<pre class="pre codeblock">&lt;AddFromPaletteListenerClassName&gt;default&lt;/AddFromPaletteListenerClassName&gt;</pre>
<pre class="pre codeblock">&lt;AddFromPaletteListenerClassName&gt;com.<var class="keyword varname">xxx</var>.<var class="keyword varname">xxx</var>.<var class="keyword varname">classname</var>&lt;/AddFromPaletteListenerClassName&gt;</pre>
In
the element, specify the descriptor for the class that implements
IModelEditorAddFromPaletteListener or Extends BaseAddFromPaletteListener. <p class="p">The
default class indicates that the builder supports the ability to be
dropped onto a <span class="ph"> WebSphere Portlet
Factory</span> Designer
page.  The item is displayed in the palette under its default category.
 When the item is dropped onto the <span class="ph"> WebSphere Portlet
Factory</span> Designer, the default
palette listener class opens the related builder in a dialog and uses
a default page location, if it is available. The dialog allows the
user to enter any needed data.  After the user accepts the dialog,
the model is regenerated and any visible changes are displayed.  </p>
<p class="p">If
the builder does more than the default implementation, you can identify
a class that implements the IModelEditorAddFromPaletteListener class.
This class allows you to add  multiple items to the palette or do
something more than use the builder dialog. You can identify a class
that extends BaseAddFromPaletteListener which handles getting icons
and tooltips and supports having a single item added from the builder.</p>
<div class="p">Palette
support has the following BuilderDataEntry elements.<ul class="ul"><li class="li"><pre class="pre codeblock">&lt;BuilderDataEntry name="IconName"&gt;styleSheet&lt;/BuilderDataEntry&gt;</pre>
<p class="p">Specifies
the name that the base palette handler uses to get the icon. The base
palette handler assumes that the icons are in the visualdesigner plugin
in the <span class="ph filepath">icons\palette</span> directory and that the large
and small icons names end in <span class="ph filepath">24.png</span> and <span class="ph filepath">16.png</span>.</p>
</li>
<li class="li">One of the following elements.<pre class="pre codeblock">&lt;BuilderDataEntry name="PageLocation"&gt;Implicit&lt;/BuilderDataEntry&gt;</pre>
<pre class="pre codeblock">&lt;BuilderDataEntry name="PageLocation"&gt;onNamedTag&lt;/BuilderDataEntry&gt;</pre>
<p class="p">Specifies
the value that is used by the base palette listener to change the
default values for the page location. By default, the page location
is after or below the tag on which it was dropped. If you set this
value to Implicit and the builder has an implicit setting for the
page (for example, style sheets being in the HEAD section), the builder
editor uses that default as the page location. If you set this to
onNamedTag, the item replaces the current tag. (This value is used
for a builder like HTML Event Action. ) </p>
</li>
<li class="li">One of the following elements. <pre class="pre codeblock">&lt;BuilderDataEntry name="ExtraWarning"&gt;&lt;/BuilderDataEntry&gt;</pre>
<pre class="pre codeblock">&lt;BuilderDataEntry name="ExtraWarning"&gt;Deleting/disabling this builder will cause 
all dragging of design items to be lost from this page?&lt;/BuilderDataEntry&gt;</pre>
<p class="p">This
message is used for both disabling and deleting the builder.  If you
have a builder that creates multiple design items and the user is
deleting or disabling the builder, the <span class="ph"> WebSphere Portlet
Factory</span> Designer provides
an extra level of warning. Specify a message that can be translated
and the builder can display a message that it is not generic. </p>
</li>
</ul>
</div>
<p class="p">The IDesigner interface has support for the palette.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builder_def_structure__inputdef"><a name="r_builder_def_structure__inputdef"><!-- --></a><h6 class="title sectiontitle">Input definitions</h6><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 56. Input
definition elements</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" width="28.14070351758794%" id="d52e48569">Element name</th>
<th class="entry" valign="bottom" width="71.85929648241206%" id="d52e48571">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" width="28.14070351758794%" headers="d52e48569 ">InputDefinitions</td>
<td class="entry" valign="top" width="71.85929648241206%" headers="d52e48571 ">Contains InputDefinition elements.</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="28.14070351758794%" headers="d52e48569 ">InputDefinition</td>
<td class="entry" valign="top" width="71.85929648241206%" headers="d52e48571 ">Contains elements that define the input type,
associated widgets to edit the input, the prompt to display for the
input, and help text to display as a caption for the input. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="r_builder_def_structure__groupdef"><a name="r_builder_def_structure__groupdef"><!-- --></a><h6 class="title sectiontitle">Group definitions</h6><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 57. Group
definition elements</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" width="28.14070351758794%" id="d52e48595">Element name</th>
<th class="entry" valign="bottom" width="71.85929648241206%" id="d52e48597">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="top" width="28.14070351758794%" headers="d52e48595 ">GroupDefinitions</td>
<td class="entry" valign="top" width="71.85929648241206%" headers="d52e48597 ">Contains GroupDefinition elements.</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="28.14070351758794%" headers="d52e48595 ">GroupDefinition</td>
<td class="entry" valign="top" width="71.85929648241206%" headers="d52e48597 ">Contains elements to name and specify characteristics
of inputs in the group. </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic reference nested3" xml:lang="en-us" id="r_builder_inputs"><a name="r_builder_inputs"><!-- --></a><h4 class="title topictitle4">Defining inputs for your builder</h4>
<div class="body refbody"><p class="shortdesc">An input definition is a structure in the builder definition that
describes the input for a builder in terms of its type, editor widget (for
example, text input and select box), the input group to which it belongs and
other similar information.</p>
<div class="section">The input definitions you create only need to specify values for
the elements not defined by a base builder definition or those elements that
you want to override.<p class="p">The table below lists and describes each of the elements
that you can use to define an input to a builder:</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e48643">Input Definition Element  </th>
<th class="entry" valign="bottom" id="d52e48645">Description </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48643 ">&lt;Prompt /&gt;</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48645 ">The user-readable description
for this input. The Builder Call Editor displays this value to the left of
the input's editor widget. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48643 ">&lt;HelpText /&gt;</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48645 ">The text that appears as
a tool tip when the user hovers over the input in the builder call editor. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48643 ">&lt;ProfileType /&gt;</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48645 ">The type of value set when
the user profiles the input. Possible values for the ProfileType are: <dl class="dl"><dt class="dt dlterm">None</dt>
<dd class="dd">The input value cannot be profiled.</dd>
<dt class="dt dlterm">Value</dt>
<dd class="dd">The entire input value can be profiled.</dd>
<dt class="dt dlterm">XmlElements</dt>
<dd class="dd">Individual string values within the XML can be profiled. Valid for XML
type input only.</dd>
</dl>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48643 ">&lt;Callable /&gt;</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48645 ">Determines whether accessor
methods should be generated for this input in the "callable" version of this
builder. Possible values are true or false.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48643 ">&lt;Editor /&gt;</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48645 ">Determines the input widget
displayed in the builder call editor that allows the user to specify a value
to this input. If you are extending a base input definition, the editor is
already specified by the base definition.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48643 ">&lt;Visible /&gt;</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48645 ">Determines whether the builder
call editor displays the input widget for this input by default. You can set
the Visible value for one or more input definitions as false, and use a coordinator
to set the Visible value for those inputs to true, based on some condition.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_inherit_input_coord_behav"><a name="c_inherit_input_coord_behav"><!-- --></a><h5 class="title topictitle5">Inheriting input and coordinator behavior</h5>
<div class="body conbody"><p class="shortdesc">An input definition can inherit from any other input definition
in the system, by setting the base attribute of the <samp class="ph codeph">InputDefinition</samp> to
the builder ID followed by the input name. </p>
<div class="section">For example, the following input inherits from the <span class="ph uicontrol">ServableContent</span> input
defined in <span class="ph filepath">com/bowstreet/core/Base.bdef</span>:<pre class="pre codeblock">&lt;InputDefinition name="ImportedPage_URL" base="com.bowstreet.core.Base.ServableContent"&gt;
  &lt;Prompt&gt;URL&lt;/Prompt&gt;
  &lt;InitialValue /&gt;
  &lt;HelpText /&gt;
  &lt;Required&gt;true&lt;/Required&gt;
  &lt;Visible&gt;true&lt;/Visible&gt;
  &lt;ProfileType&gt;Value&lt;/ProfileType&gt;
  &lt;Callable&gt;true&lt;/Callable&gt;
&lt;/InputDefinition&gt;</pre>
<p class="p">Input definitions can inherit in this
way from any <span class="ph">IBM WebSphere Portlet Factory</span> or
custom builders.</p>
<p class="p">You can also inherit coordinator behavior from another
builder. For example, if you have a coordinator that initializes a <span class="ph uicontrol">Select</span> input
with a list of files from a particular folder, you can inherit that behavior
in any other builders. To do this, first set the base attribute for the input
definition as described above. Then, add an element called <samp class="ph codeph">UseAssociatedCoordinator</samp> to
the input definition with a value of <samp class="ph codeph">true</samp>. Here is an example
from the Sample Input Types builder in the Tutorials and Samples - Builders
feature set:</p>
<pre class="pre codeblock">&lt;InputDefinition name="SchemaFileName" base="com.bowstreet.samples.builders.SampleCoordinatorBuilder.SchemaFile"&gt;
    &lt;Prompt&gt;SchemaFileName&lt;/Prompt&gt;
    &lt;Required&gt;false&lt;/Required&gt;
    &lt;Group&gt;CustomPickers&lt;/Group&gt;
    &lt;HelpText&gt;Example of inherited Coordinator behavior&lt;/HelpText&gt;
    &lt;UseAssociatedCoordinator&gt;true&lt;/UseAssociatedCoordinator&gt;
&lt;/InputDefinition&gt;</pre>
<p class="p">The <samp class="ph codeph">UseAssociatedCoordinator</samp> element
can be set in the derived input, as in the example above, or it can be set
in the base input. If it is set in the base input, any inputs that inherit
using the base attribute will automatically inherit the coordinator behavior.
This can provide a simple mechanism for creating your own set of pickers.</p>
<p class="p">This
coordinator inheritance can be used for individual input definitions as in
the example above, or it can be used for sets of cooperating inputs, such
as when a choice in one input is used to populate a list of choices in another
input.</p>
<p class="p">There is a companion element to <samp class="ph codeph">UseSharedCoordinator</samp> called <samp class="ph codeph">CoordinatorNamespace</samp>.
This element allows you to give a name to one or more inputs to allow the
coordinator sharing feature to distinguish these groups from each other. For
example:</p>
<pre class="pre codeblock">&lt;InputDefinition name="Shared1" base="TheBaseBuilder.TheBaseInput"&gt;
    &lt;UseAssociatedCoordinator&gt;true&lt;/UseAssociatedCoordinator&gt;
    &lt;CoordinatorNamespace&gt;FirstSharedInput&lt;/CoordinatorNamespace&gt;
&lt;/InputDefinition&gt;
&lt;InputDefinition name="Shared2" base="TheBaseBuilder.TheBaseInput"&gt;
    &lt;UseAssociatedCoordinator&gt;true&lt;/UseAssociatedCoordinator&gt;
    &lt;CoordinatorNamespace&gt;SecondSharedInput&lt;/CoordinatorNamespace&gt;
&lt;/InputDefinition&gt;</pre>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested5" xml:lang="en-us" id="r_inherit_input_defs"><a name="r_inherit_input_defs"><!-- --></a><h6 class="title topictitle6">Inheriting input definitions from the Base builder definition</h6>
<div class="body refbody"><p class="shortdesc">This topic describes each of the input types defined in
the Base builder definition. </p>
<div class="section"><p class="p">Using the resources contained in this topic is the preferred
way to create invoke input types. (If you do not find a type here,
see the table for advanced types.) The <span class="ph filepath">Base.bdef</span> file
is in the <span class="ph filepath">WEB-INF/builders/com/bowstreet/core</span> directory
and contains the following types. </p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 58. Input types defined
in the Base builder definition</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e48814">Input Value</th>
<th class="entry" valign="bottom" id="d52e48816">Editor Widget</th>
<th class="entry" valign="bottom" id="d52e48818">Arguments</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A long String</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">BigString</td>
<td class="entry" valign="top" headers="d52e48818 "><dl class="dl"><dt class="dt dlterm">linewrap</dt>
<dd class="dd">Specify whether lines are clipped or wrapped (default false).</dd>
</dl>
<ul class="ul"><li class="li">Data text to display</li>
</ul>
<dl class="dl"><dt class="dt dlterm">isEditable</dt>
<dd class="dd">Specify if the user can directly type in data (default is true)</dd>
</dl>
<ul class="ul"><li class="li">Action event is triggered on focus loss (mouse)</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A boolean value</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">BooleanData</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of the builder</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">BuilderName</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of the builder
as a required input</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">RequiredBuilderName</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of the builder
must fit parameters you define</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">RestrictedBuilderName</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A button to execute
some action from the builder call editor.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">Button</td>
<td class="entry" valign="top" headers="d52e48818 "><ul class="ul"><li class="li">Label the text to show on the button </li>
<li class="li">Event: Action event triggers on a button press (mouse click, return
key). </li>
<li class="li">Default size to that required of text. </li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">An editable combo
box that allows the user to select a value from a pre-determined list.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">ComboBox</td>
<td class="entry" valign="top" headers="d52e48818 "><dl class="dl"><dt class="dt dlterm">isEditable</dt>
<dd class="dd">Specify if the user can directly type in data (default is false).</dd>
<dt class="dt dlterm">listData</dt>
<dd class="dd">Set pick list using data encoded in a comma-delimited string.</dd>
<dt class="dt dlterm">listLabels</dt>
<dd class="dd">Set pick list displayable labels using names encoded in a comma-delimited
string.</dd>
<dt class="dt dlterm">listDataObject</dt>
<dd class="dd">Set pick list at runtime using a java.util.List object.</dd>
<dt class="dt dlterm">listLabelsObject</dt>
<dd class="dd">Set pick list displayable labels using a java.util.List object.</dd>
<dt class="dt dlterm">selectItem</dt>
<dd class="dd">Set selection.</dd>
</dl>
<ul class="ul"><li class="li">Action event triggers on a selection change.</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A file on the development
machine</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">FileChoose</td>
<td class="entry" valign="top" headers="d52e48818 "><ul class="ul"><li class="li">Action event triggers on selection change. </li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A file name determined
by a variable or method in the WebApp</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">IndirectFileChoose</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of a file
to be used as an HTML resource such as an image or HTML page. Only
files that reside in the Factory's servable content root directory.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">ServableContent</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of a servable
file determined by a variable or method in the WebApp.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">IndirectServableContent</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of an item
in a pre-determined list or a value from an object (method, page,
variable, input) in the WebApp.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">IndirectComboBox</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The output of an
object in the WebApp.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">IndirectValue</td>
<td class="entry" valign="top" headers="d52e48818 "><ul class="ul"><li class="li">Action event triggers on a selection change. </li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The body of a <samp class="ph codeph">Method</samp> builder
call.<p class="p">Not commonly used.</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">MethodBody</td>
<td class="entry" valign="top" headers="d52e48818 "><dl class="dl"><dt class="dt dlterm">keywordColor</dt>
<dd class="dd">Syntax highlighting color for Java key words.</dd>
<dt class="dt dlterm">commentColor</dt>
<dd class="dd">Syntax highlighting color for code comments.</dd>
<dt class="dt dlterm">stringColor</dt>
<dd class="dd">Syntax highlighting color for literal strings.</dd>
<dt class="dt dlterm"></dt>
<dd class="dd"></dd>
</dl>
<ul class="ul"><li class="li">Change event is triggered on focus loss (mouse).</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of a model</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">Model</td>
<td class="entry" valign="top" headers="d52e48818 "><ul class="ul"><li class="li">Filter used when generating list of models to display.</li>
<li class="li">Action event triggers on selection change.</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of a model
determined by the value of a variable or method in the WebApp.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">IndirectModel</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The content of an
HTML or JSP page.<p class="p">Not commonly used.</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">PageData</td>
<td class="entry" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of a page
in the WebApp.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">PageName</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A read-only String
value.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">ReadOnlyStringData</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 "><dl class="dl"><dt class="dt dlterm">label</dt>
<dd class="dd">Text to display for the input label.</dd>
</dl>
<ul class="ul"><li class="li">No action is triggered for this widget.</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A read-only XML structure.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">ReadOnlyXMLData</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A string value chosen
from a pre-determined list of options in a select box.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">Select</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A string value.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">StringData</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 "><dl class="dl"><dt class="dt dlterm">data</dt>
<dd class="dd">Text to display as the input value.</dd>
</dl>
<ul class="ul"><li class="li">Action event is triggered on focus loss (mouse or tab key or return
key).</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The name of a variable
in the WebApp.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">VariableName</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">The value of a variable
in the WebApp.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">VariableValue</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A name/value listing
of arguments to a method.<p class="p">Not commonly used.</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">Arguments</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A determination that
evaluates argument values at generation time or at execution time.<p class="p">Not
commonly used.</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">EarlyArgumentEvaluation</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">A name/value list
of argument names and values for a specified action.<p class="p">Not commonly
used.</p>
</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">InputMappings</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">Expose element to
a linked model.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">Public</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">Enable/disable a
builder call.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">BuilderCallEnabled</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">Specify a category
for the builder call.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">BuilderCallCategory</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 ">Add a comment to
the builder call.</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">BuilderCallComment</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">Advanced Group</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">Arguments Group</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48814 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48816 ">Properties Group</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e48818 ">n/a</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested5" xml:lang="en-us" id="r_inherit_input_defs_webappbase"><a name="r_inherit_input_defs_webappbase"><!-- --></a><h6 class="title topictitle6">Inheriting input definitions from the WebAppBase builder definition</h6>
<div class="body refbody"><p class="shortdesc">The following table describes some of the input types defined in
the WebAppBase builder definition. Refer to the <span class="ph filepath">WebAppBase.bdef</span> file
in the <span class="ph filepath">WEB-INF/builders/com/bowstreet/core</span> directory:</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e49208">Input Value</th>
<th class="entry" valign="bottom" id="d52e49210">Editor Widget</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e49208 ">PageLocation</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e49210 ">Page Location chooser that
allows the user to choose one or more locations on a page on which the builder
operates.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e49208 ">WebAppAction</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e49210 ">WebAppActionList chooser
that allows the user to select a Page or Method in the model.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested4" xml:lang="en-us" id="c_suppress_input_display"><a name="c_suppress_input_display"><!-- --></a><h5 class="title topictitle5">Suppressing the display of an input</h5>
<div class="body conbody"><p class="shortdesc">You can designate an input definition to be hidden from the builder
call editor by adding (or setting) the input definition <samp class="ph codeph">&lt;Visible
/&gt;</samp> value to <samp class="ph codeph">false</samp>.</p>
<div class="section">For example:<pre class="pre codeblock">&lt;InputDefinition name="CustomerName" base="com.bowstreet.core.Base.IndirectValue"&gt;
   &lt;Prompt&gt;Customer Name&lt;/Prompt&gt;
   &lt;Visible&gt;false&lt;/Visible&gt;
&lt;/InputDefinition&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_add_elements_pages"><a name="c_add_elements_pages"><!-- --></a><h4 class="title topictitle4">About adding elements to pages in the web application</h4>
<div class="body conbody"><p class="shortdesc">You can add or modify elements on the pages in the model by calling
the individual builder APIs.</p>
<div class="section">Individual builder APIs are in the <samp class="ph codeph">com.bowstreet.builders.webapp.api</samp> package.
Each builder has the <samp class="ph codeph">invokeBuilder()</samp> method in common, which
prompts the builder to execute on the specified pages in the model.<p class="p">The
following code examples show how to create a new builder call, set the inputs
on that builder call, and then use the <samp class="ph codeph">invokeBuilder()</samp> method
to execute the builder call:</p>
<pre class="pre codeblock">// Insert the a page at the location passed into this builder.
InsertedPage connector = new InsertedPage(builderCall, genContext);
 connector.setPageLocation(builderInputs.getString("PageLocation",null));
connector.setPage(pageName);
connector.invokeBuilder();
// Put a button on our page which just re-submits the current page.
Button b = new Button(builderCall, genContext);
b.setPageLocation("Page " + pageName + " NameSearch increment");
b.setLabel("Increment");
b.setActionType("form");
b.invokeBuilder();
// Put a text builder to display a variable value.
Text txt = new Text(builderCall, genContext);
txt.setPageLocation("Page " + pageName + " NameSearch display");
txt.setText("${Variables/" + varName + "}");
txt.invokeBuilder();</pre>
<p class="p">As shown above, you often need to get the
inputs to your builder call to perform specific generation actions.</p>
<p class="p">You
can get the builder call inputs. The <samp class="ph codeph">builderInputs</samp> object
is an XML structure that contains the names and values of the builder call
inputs. To get individual input values, use the appropriate <samp class="ph codeph">get()</samp> method
in the <samp class="ph codeph">BuilderInputs</samp> API. For example,</p>
<pre class="pre codeblock">String pageLocation = builderInputs.getString("PageLocation", null);
boolean modelAction = builderInputs.getBoolean("ModelAction", null);
IXml xmlInput = builderInputs.getXml("CustomerList", null);
Object xmlInput = builderInputs.getObject("PurchaseOrder", null);</pre>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_add_elements_webapp"><a name="c_add_elements_webapp"><!-- --></a><h5 class="title topictitle5">About adding elements to the web application</h5>
<div class="body conbody"><p class="shortdesc">The <span class="ph">IBM WebSphere Portlet Factory</span> servlet
passes the web application structure to the builder call with the webApp argument.</p>
<div class="section">To add elements to the WebApp structure, add calls similar to the
following in the <samp class="ph codeph">doBuilderCall()</samp> method to add the desired
elements to the web application:<pre class="pre codeblock">//Add linked object to the Web application
webApp.addLinkedObjectVariable("runtimeLO",
"com.acme.methods.SiteBuilderMethods");
//Add an ActionList to the Web application
ActionList initPages = webApp.addActionList("initPages");
// Add a counter variable.
Variable counter = webApp.addVariable(varName, Variable.TYPE_INTEGER);
counter.setValue(new Integer(0));</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_input_widgets"><a name="c_input_widgets"><!-- --></a><h5 class="title topictitle5">Input widgets</h5>
<div class="body conbody"><p class="shortdesc">The input definitions that you specify in the builder definition
determine the input value type (for example, string and boolean) and the user
interface component that the <span class="ph">IBM WebSphere Portlet Factory</span> servlet
generates for your builder call editor.</p>
<div class="section">To streamline the creation of input definitions, <span class="ph"> WebSphere Portlet
Factory</span> includes
Base.bdef and WebAppBase.bdef builder definitions. Each of these base builder
definitions contains predefined input definitions that include specialized
editors. These specialized input definitions are called widgets and combine
the input value type (for example, string and boolean) with a specific editor.
For example, the IndirectComboBox widget returns a string value determined
by a choice in a combo box or by the reference chooser, allowing the user
to specify a value from a form input, variable, or method for the input value.<p class="p">In
your builder definition, you can simply refer to the input definition in the
Base.bdef file to incorporate the specified widget into the builder call editor
for your builder:</p>
<pre class="pre codeblock">&lt;InputDefinition name="Color" base="com.bowstreet.core.Base.Select"&gt;
&lt;Prompt&gt;Choose a Color&lt;/Prompt&gt;
&lt;Editor&gt;
&lt;Argument name="listData"&gt;Blue, Red, Green&lt;/Argument&gt;
&lt;/Editor&gt;
&lt;/InputDefinition&gt;</pre>
<p class="p">This input definition prompts the builder
call editor to display a list box with Blue, Red, Green available as choices
and a prompt of <samp class="ph codeph">Choose a Color</samp>. The input value is named <samp class="ph codeph">Color</samp>. </p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_builders_create_from_models"><a name="c_builders_create_from_models"><!-- --></a><h4 class="title topictitle4">About model-based builder creation</h4>
<div class="body conbody"><p class="shortdesc">A model-based builder is a builder that you create and is based
on a model. </p>
<p class="p">The model, composed of standard <span class="ph">IBM WebSphere Portlet Factory</span> builders,
provides all the functionality required by the model-based builder.</p>
<p class="p">The model-based approach to creating a builder has several benefits:</p>
<ul class="ul"><li class="li"> You can create your own special-purpose builder without having to write
any Java code. </li>
<li class="li"> All necessary builder-related files and artifacts, including your builder
generation class, are created automatically for you by a tool called the builder
skeleton. </li>
<li class="li"> You can easily do development and testing of the model before converting
it into a builder. </li>
<li class="li"> You can add, delete or modify the builder calls in the model until you
attain the desired behavior and functionality required for your builder. </li>
<li class="li"> Once your builder is created, you can easily enhance by making changes
to the base model and regenerate your builder. </li>
</ul>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_builder_inputs_table"><a name="c_builder_inputs_table"><!-- --></a><h5 class="title topictitle5">Builder inputs table</h5>
<div class="body conbody"><p class="shortdesc">The builder inputs table displays all the inputs that you profiled-enabled
in your base model.</p>
<div class="section"> Do not make changes to the names, because these names must match
up with the names your choose in the base model.  You can alter a <span class="ph uicontrol">Prompt</span>,
however, and you can also select a new <span class="ph uicontrol">Input Type</span> if
needed.<p class="p">The <span class="ph uicontrol">Category</span> input is already filled in.
You can change the <span class="ph uicontrol">Category</span> value to another existing
category or to something new and create your own category. The rest of the
builder skeleton inputs are not required.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_builder_name_conflicts"><a name="c_builder_name_conflicts"><!-- --></a><h5 class="title topictitle5">Dealing with name conflicts</h5>
<div class="body conbody"><p class="shortdesc">Sometimes your builder encounters conflicts with other elements
in a model.</p>
<div class="section">For example, if you have a page in your base model called <samp class="ph codeph">page1</samp>,
you will get conflicts if your new builder is added to a model that already
has a <samp class="ph codeph">page1</samp>. In addition, if you want to use your new builder
more than once in the same model, a similar conflict arises.<p class="p">To avoid name
conflicts, you can use the basename feature. The basename feature will generate
model-wide unique names for your builder inputs (especially important for
the names of generated artifacts such as LJOs and pages). This prevents name
collisions when your builder is used multiple times in the same model.</p>
<p class="p">To
use the basename feature, first make sure that your builder has a <span class="ph uicontrol">Name</span> input.
Then, in your base model, use the string basename (without the quotes) as
a pattern for any builder inputs that you want to be unique. For example,
you might use basename as the <span class="ph uicontrol">Name</span> value input for
the low-level builder and use <samp class="ph codeph">basename_ResultsPage</samp> as the
name of the results page. If the user then specifies <samp class="ph codeph">films</samp> as
the <span class="ph uicontrol">Name</span> input in your builder, the page is named <samp class="ph codeph">films_Results</samp>.
This pattern is followed for all inputs that start with the string <samp class="ph codeph">basename</samp>.
The basename feature thus serves as an alias in various element names in the
model.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_builder_skeleton"><a name="c_builder_skeleton"><!-- --></a><h5 class="title topictitle5">Usage of the builder skeleton tool</h5>
<div class="body conbody"><p class="shortdesc">The builder skeleton tool takes your base model and its profiled
inputs, converts them into a builder, and automatically generates all the
required artifacts.</p>
<div class="section">The builder skeleton tool is itself a builder that incorporates special
functionality for creating other builders.<p class="p">To use the builder skeleton,
you create a new empty model. (This is not a model that you save, so it can
be created anywhere.) To this model, add a builder skeleton builder call.
(This builder call is available when you add the feature set Tutorials and
Samples Builders to a project.)</p>
<p class="p">In the builder skeleton editor page,
set the builder type input to <kbd class="ph userinput">Model-based Builder</kbd>.
Then use the <span class="ph uicontrol">Model Name</span> picker to browse to the model
that represents your builder base model. In the <span class="ph uicontrol">Builder Id</span>,
replace <kbd class="ph userinput">[BuilderName]</kbd> with the name of your builder,
and in the <span class="ph uicontrol">Readable Name</span> input, enter the builder name
you want to appear in the builder call list and at the top of the builder
call editor.</p>
<p class="p">You can add a description of your builder. Text that you
enter in the <span class="ph uicontrol">Description</span> input appears as hover text
in the builder picker and below your Builder Title in the builder
call editor. The builder class input is automatically filled in and is based
on the builderID that you previously entered.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_generate_builder"><a name="c_generate_builder"><!-- --></a><h5 class="title topictitle5">Generate your builder</h5>
<div class="body conbody"><p class="shortdesc">To generate your builder, you must now apply the builder skeleton.</p>
<div class="section">Once you click <span class="ph uicontrol">Apply</span>, the builder skeleton
generates all the classes and artifacts required by your builder, and saves
these items in the correct locations in your project. This ensures that your
builder can be accessed and used like any other builder.<p class="p">To test your new
builder, create a new model with a main and page. Open the builder picker
and click <span class="ph uicontrol">Refresh</span>. Your new builder call is added to
the display. Open your builder editor, fill in the input values,
and save and run the model. The model incorporating your new builder call
should run and produce the same results as your base model.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_maintain_builder"><a name="c_maintain_builder"><!-- --></a><h5 class="title topictitle5">Maintaining your builder</h5>
<div class="body conbody"><p class="shortdesc">If you need to make a correction or an enhancement to your new
builder, you merely add the new functionality to the base model.</p>
<div class="section">If your change does not involve the addition or removal of an input
in the base model, you can simply open the builder skeleton and click <span class="ph uicontrol">OK</span>.
Your builder will be updated with your changes.<p class="p">If you add or remove an
input, click <span class="ph uicontrol">Update Builder input names from model</span>.
For a new input, make any needed changes to either the <span class="ph uicontrol">Prompt</span> or <span class="ph uicontrol">Input
Type</span> and click <span class="ph uicontrol">OK</span>. Use your test model
to test your modified builder. Replace the old version of your builder with
the enhanced version. Open your builder editor and note that it is updated
with new or removed inputs. When you apply your new builder call and run the
model, the model should exhibit the new or corrected functionality.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_modelbuild_cre_inputs"><a name="c_modelbuild_cre_inputs"><!-- --></a><h5 class="title topictitle5">Creating inputs for your builder</h5>
<div class="body conbody"><p class="shortdesc">You will need to decide what information, in the form of builder
inputs, you will display to the user of your builder.</p>
<div class="section">For example, if your builder is going to place a button on a page,
you might want the user to specify where to put the button, and the text string
to use for the button label. Inputs you want to expose to the user come from
the various inputs in the builders in the base model. By profiling one or
more of these inputs in a special way, you can make the inputs available in
your builder.<p class="p">To make a base model builder input available in your builder,
you must profile the input. To do this, you click <span class="ph uicontrol">Profile</span> button
next to the input you want to expose. A <span class="ph uicontrol">Profile Input</span> dialog
is displayed in which you will click the <span class="ph uicontrol">Create Entry</span> button.
 The <span class="ph uicontrol">New Profile Entry</span> dialog is displayed.  In this
dialog, you use the <span class="ph uicontrol">Name</span> field to assign an appropriate
name to the input.  </p>
<div class="note note"><span class="notetitle">Note:</span> This is not the readable name displayed for
the input, but rather a name the system uses internally to identify the input.
This name cannot be changed once you start working in the builder skeleton,
so choose wisely.</div>
<p class="p">In the <span class="ph uicontrol">Prompt</span> field you
must enter another name for this input. The name you enter in the <span class="ph uicontrol">Prompt</span> field
is displayed alongside the input in your builder editor.  Once you provide
internal and readable names for the input, you can close the profile dialogs
and move to the next input that you want to make available in your builder.
When you have profiled all the inputs required by your builder, you can apply
all the builder calls in your base model and save the model.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_modelbuild_simple_complex"><a name="c_modelbuild_simple_complex"><!-- --></a><h5 class="title topictitle5">Simple versus complex</h5>
<div class="body conbody"><p class="shortdesc">You have a choice to make when creating your builder base model:
You can opt to include only the builders needed to provide the desired basic
functionality, or you can include many builders to provide lots of functionality
and options.</p>
<div class="section">Here is the trade-off. The simpler you make your base model, the
more reusable it will be. The more functionality you add to your base model,
the more special-purpose the base model becomes. That can mean that it is
not reusable as a building block for other builders you might want to create.
However, keeping things simple in the base model might make your builder harder
to use and require the user of your builder to do more configuration of the
builder.<p class="p">Ultimately, the balance between functionality, configuration complexity,
and reusability depends on your overall development context. Give some thought
to these issues, however, as you design and build the base model.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_multiphase_builder_gen"><a name="c_multiphase_builder_gen"><!-- --></a><h4 class="title topictitle4">Multi-phase builder generation behavior</h4>
<div class="body conbody"><p class="shortdesc">For some builders, the order of the builder calls can be
important. </p>
<div class="section"><p class="p">For other builders, such as an HTML builder that puts
a text input box on a named element in a certain page, the order is
irrelevant. In another case, where the builder puts a link on all
pages in the model, it is vital that the builder is able to run after
all the pages are created.</p>
<p class="p">The developer of the builder has
the option of making order important or not. <span class="ph">IBM WebSphere Portlet Factory</span> builder architecture
supports multiple phase generation. Any builder that wants to defer
its work, for whatever reason, can invoke a defer operation, specifying
the name of the phase in which it would like to be re-invoked.</p>
<p class="p">The
following generation phases are supported. </p>
<dl class="dl"><dt class="dt dlterm">Construction</dt>
<dd class="dd">All the builder calls in the model are invoked. In general, any
builder that calls other builders should do so in this phase. All
builders that construct new elements should do so in this phase.</dd>
<dt class="dt dlterm">Post-Construction</dt>
<dd class="dd">Builders that modify elements that were constructed in the construction
phase are run . The second-phase builder calls do not risk generating
an error because the element they are supposed to operate on has not
yet been created. <div class="note note"><span class="notetitle">Note:</span> The list of builder calls being invoked is
not the list of builder calls from the model. It is only the list
of builder calls for which the associated builder specifically asked
for the builder call to be deferred to this phase. This can include
some builder calls that were in the original list, but it might also
include builder calls that were invoked by other builders.</div>
</dd>
<dt class="dt dlterm">Modification</dt>
<dd class="dd">Objects that were created in the first two phases can be further
modified. </dd>
<dt class="dt dlterm">Validation</dt>
<dd class="dd">A builder can check the validity of the finished product, perhaps
providing some error or warning messages to be displayed in <span class="ph"> WebSphere Portlet
Factory</span> Designer.</dd>
<dt class="dt dlterm">Process</dt>
<dd class="dd">Abstract elements are processed, for example, action lists are
converted to methods. </dd>
<dt class="dt dlterm">Externalize</dt>
<dd class="dd">Generated pieces are stored externally. </dd>
</dl>
<p class="p">A builder can defer itself to any other named phase.
However, phases with names other than the official ones are not be
invoked automatically. Instead, the outside entity that called into <span class="ph"> WebSphere Portlet
Factory</span> requesting a generation
has the opportunity to trigger these additional phases. This offers
flexibility to embed optional functionality in a builder that can
be invoked at generation time by the agent in charge.</p>
<p class="p">The following
code can be used to control and determine phase. </p>
<pre class="pre codeblock">/** Generation phases */
/** Initial generation phase when objects are created */
public static final String PHASE_CONSTRUCTION = "Construction";
/** Generation phase for modifying objects that were created in Construction phase */
public static final String PHASE_POSTCONSTRUCTION = "PostConstruction";
/** Generation phase for doing more subtle modification on objects that were created in the first two phases */
public static final String PHASE_MODIFICATION = "Modification";
/** Generation phase for doing validation after all creating/modifying objects has completed in the first two phases */
public static final String PHASE_VALIDATION = "Validation";
/** Generation phase for processing the abstract elements. i.e. Action Lists into methods
* Note that this is called AFTER the Domain-specific AppProcesser */
public static final String PHASE_PROCESS = "Process";
/** Generation phase for externalizing the generated pieces. i.e. Classes, JSP files, etc.
* Note that this is called AFTER the Domain-specific AppExternalizer. */
public static final String PHASE_EXTERNALIZE = "Externalize";</pre>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_builders_calling_builders"><a name="c_builders_calling_builders"><!-- --></a><h5 class="title topictitle5">Builders calling builders</h5>
<div class="body conbody"><p class="shortdesc">When one builder wants to call another builder, the process is
to create a new builder call object (the API provides assistance with this)
and then to invoke it.</p>
<div class="section">Since the new builder call is fundamentally no different from a builder
call on the primary builder call list, the secondary builder operates normally,
as if it were a primary builder.<p class="p">If one builder calls another, the (highly)
recommended method is to make the call during the Creation phase. If the secondary
builder expects to run in another phase, then it will defer itself using the
same mechanism that it would defer itself if it were a primary builder call.
However, it is conceivable that one builder would have to run in the Post-Creation
phase and it would not know which other builders it plans to call until then.
In this case, it is acceptable for the secondary builder to be called, and
it will be called exactly as it would be in the Creation phase. If it defers
itself to the Post-Creation phase, then it will be called again, immediately,
but with a set up that it will recognize as the Post-Creation phase.</p>
<div class="note note"><span class="notetitle">Note:</span> One
builder should never call another in the Validation phase.</div>
</div>
<div class="section"><h6 class="title sectiontitle">Handling errors from called builders</h6><p class="p">When
a builder calls another builder, there is a possibility that the other builder
will generate warning or error messages. Such messages are automatically carried
up to the original builder call in the builder call list. This occurs even
if the chain of builders calling other builders is multiple levels deep.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested4" xml:lang="en-us" id="r_defer_builder"><a name="r_defer_builder"><!-- --></a><h5 class="title topictitle5">Deferring a builder call to another phase</h5>
<div class="body refbody"><p class="shortdesc">This is typical sample code that would appear in the doBuilderCall
method of a builder class that wants to defer itself to another phase.</p>
<div class="section"><pre class="pre codeblock">GenContext genContext;
WebApp webApp;
BuilderCall builderCall;
String name;
String basisVariable;
public void doBuilderCall(GenContext genContext, WebApp webApp, BuilderCall builderCall,
BuilderInputs builderInputs)
{
if (genContext.getGenerationPhase().equals(GenContext.PHASE_CONSTRUCTION))
{
this.genContext = genContext;
this.webApp = webApp;
this.builderCall = builderCall;
// code to get all the builder inputs
name = builderInputs.getString(Constants.Name, null);
basisVariable = builderInputs.getString(Constants.BasisVariable, null);
// Defer to PostConstruction phase if it is still desired.
boolean defer = constructionPhase();
if (defer)
genContext.deferBuilderCall(GenContext.PHASE_POSTCONSTRUCTION, builderCall);
}
else
{
postConstructionPhase();
}
}
public boolean constructionPhase()
{
boolean deferToPostConstruction = true;
// Construction phase work here.
return deferToPostConstruction;
}
public void postConstructionPhase()
{
// PostConstruction phase work here.
}</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_setting_autoproperties"><a name="c_setting_autoproperties"><!-- --></a><h4 class="title topictitle4">Setting properties for page automation elements</h4>
<div class="body conbody"><p class="shortdesc">Page automation elements from builders such as Data Page, Data
Column Modifier, or Rich Data Definition, have generic properties associated
with them.</p>
<div class="section">These properties are used for a number of internal processes, generally
carrying information about how the page should be rendered or how certain
methods should be called. In some scenarios, you might need to set these properties
at runtime. For example, to highlight fields on a data entry page that have
validation errors, you could change the CSS class of the field label to render
in a different color or font. These can be set by assigning the <samp class="ph codeph">LabelClass_NoError</samp> and <samp class="ph codeph">LabelClass_Error</samp> properties
to the field.<p class="p">Most properties can be inherited, so it is possible to set
the properties on a container and that value will be used for all sub-containers
and fields within that container. In any element, there are actually two sets
of properties, the local ones (that apply only to that element) and the ones
that will be inherited by children. If you want to set a property that will
apply to a container and to its children, you have to put the property into
both lists.</p>
<p class="p">You can set page automation properties in one of three ways:</p>
<ul class="ul"><li class="li">Programmatically, using the setProperty() or setLocalProperty() method
of DataDefinitionElement.</li>
<li class="li">Using a Rich Data Definition file.</li>
<li class="li">Using a Data Field Modifier builder in the properties section in the Advanced
group.</li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested4" xml:lang="en-us" id="r_autoproperties"><a name="r_autoproperties"><!-- --></a><h5 class="title topictitle5">Page Automation element properties</h5>
<div class="body refbody"><p class="shortdesc">These are some common page automation elelement properties that
you can set.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">ColumnWidth</dt>
<dd class="dd">Determines the width of a column. For example, <samp class="ph codeph">24px</samp> or <samp class="ph codeph">1.4in</samp>.
This property must be placed on a leaf node in a table.</dd>
<dt class="dt dlterm">ColumnAlignment</dt>
<dd class="dd">Determines how the content of a table column is aligned. Indicate either
left, right, center. This property must be placed on a leaf node in a table.</dd>
<dt class="dt dlterm">ResourceKeyPrefix</dt>
<dd class="dd">Indicates a prefix to use when looking for a key in the resource bundle.</dd>
<dt class="dt dlterm">InferInputType</dt>
<dd class="dd">Boolean that indicates whether control type should be inferred from the
HTML. The default is true.</dd>
<dt class="dt dlterm">ActionType</dt>
<dd class="dd">Determines the type of behavior of the action of a button, image button,
or link. Possible values are <samp class="ph codeph">form</samp>, <samp class="ph codeph">link</samp>,
or <samp class="ph codeph">script</samp>.</dd>
<dt class="dt dlterm">IsModelAction</dt>
<dd class="dd">Determines whether the action is a model action. Specify either <samp class="ph codeph">true</samp> or <samp class="ph codeph">false</samp>.</dd>
<dt class="dt dlterm">RenderOuterPage</dt>
<dd class="dd">Determines whether action control should reinvoke the page after invoking
the action. Specify either <samp class="ph codeph">true</samp> or <samp class="ph codeph">false</samp>.</dd>
<dt class="dt dlterm">OptionsSource</dt>
<dd class="dd">Indicates the name of a lookup table for text, select, and radio button
group controls.</dd>
<dt class="dt dlterm">NoAssignIfValidationError</dt>
<dd class="dd">Boolean that indicates whether the assign part should be skipped if validation
fails (in SaveData method).</dd>
<dt class="dt dlterm">PutAssignInTryCatch</dt>
<dd class="dd">Boolean that indicates if assignment code (in SaveData method) should
be wrapped by try and catch blocks.</dd>
<dt class="dt dlterm">AppendBadValueToErrorMessage</dt>
<dd class="dd">Boolean that indicates whether to append a user's value when validation
fails.</dd>
<dt class="dt dlterm">TranslateHTMLLabels</dt>
<dd class="dd">Boolean that indicates whether labels should go through ResourceBundle
translation even though they were on original HTML</dd>
<dt class="dt dlterm">LabelClass_NoError</dt>
<dd class="dd">Indicate the CSS class to render a field in a form that does not contain
errors.</dd>
<dt class="dt dlterm">LabelClass_Error</dt>
<dd class="dd">Indicate the CSS class to render a field in a form that contains errors.</dd>
<dt class="dt dlterm">RequiredPrompt</dt>
<dd class="dd">Value of this property is a string used to indicate required fields.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested3" xml:lang="en-us" id="c_builders_in_genclass"><a name="c_builders_in_genclass"><!-- --></a><h4 class="title topictitle4">Using other builders in the generation class</h4>
<div class="body conbody"><p class="shortdesc">You can add builder calls in the Java code for your own builder
in two ways:</p>
<ul class="ul"><li class="li">Using the Builder API </li>
<li class="li">Using the webApp Object </li>
</ul>
<p class="p">Each way of adding a builder is equally valid. You may add some builder
calls with the webApp object and use the Builder API to add other calls in
the same generation class.</p>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_builders_in_genclass_api"><a name="c_builders_in_genclass_api"><!-- --></a><h5 class="title topictitle5">About using the builder API</h5>
<div class="body conbody"><p class="shortdesc">The Builder API allows you to create builder calls in your generation
class just as you would create any other Java object.</p>
<div class="section">Once you create the builder object and set its properties (input
values), you can call its <samp class="ph codeph">invoke()</samp> method to add the builder
call to the WebApp.<p class="p">You can pass the input values set for the builder to
the other builders that you call. For example, you could create add an Inserted
Page builder call to the WebApp in your generation class and set its page
location value to be the page location specified by the call to your builder.</p>
<div class="note note"><span class="notetitle">Note:</span> Some
builders such as Service Call and Web Service Enable, use dynamic inputs created
by a coordinator, which makes it difficult if not impossible to use with the
callable builder API. Using the callable builder API assumes that you know
the name and data type for the builder inputs. As a result, these builders
are not able to be added to the model by the generation logic of another builder.</div>
<p class="p">To
add a Page builder call with the Builder API:</p>
<pre class="pre codeblock">com.bowstreet.builders.webapp.api.Page page1 = new Page(builderCall, genContext);
page1.setName("Page1");
page1.setPageData("&lt;html&gt;&lt;body&gt;&lt;form&gt;&lt;span name=\"foo\"/&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;");
page1.invokeBuilder();</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_builders_in_genclass_obj"><a name="c_builders_in_genclass_obj"><!-- --></a><h5 class="title topictitle5">About using the WebApp object</h5>
<div class="body conbody"><p class="shortdesc">To add a Page builder call with the WebApp object:</p>
<div class="section"><pre class="pre codeblock"> com.bowstreet.webapp.Page page2 = webApp.addPage("Page2");
try {
 page2.addContents(XmlUtil.parseHtml("&lt;html&gt;&lt;body&gt;&lt;form&gt;&lt;span
name=\"bar\"/&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;"));
}
catch (java.io.IOException ioe) {
System.out.println("Error: " + ioe.toString());
}
catch (com.bowstreet.util.parser.ParserException pe) {
System.out.println("Error: " + pe.toString());
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_extract_inputs"><a name="c_extract_inputs"><!-- --></a><h5 class="title topictitle5">Extraction of input values specified in the builder call editor</h5>
<div class="body conbody"><p class="shortdesc">You can retrieve the input values that the user specifies in the
builder call editor by calling the <samp class="ph codeph">getString()</samp> method (or
other method, for example, <samp class="ph codeph">getXML()</samp> or <samp class="ph codeph">getBoolean()</samp>)
on the builderInputs object passed to the <samp class="ph codeph">doBuilderCall()</samp> method.</p>
<div class="section">For example:<pre class="pre codeblock">String customerName = builderInputs.getString("CustomerName", null);
String customerAddress = builderInputs.getXml("CustomerAddress", null);</pre>
<div class="note note"><span class="notetitle">Note:</span> The
above calls supply null as the value to use if the input value is empty. You
can supply a value to use if the input value is empty with a call like the
following, which supplies a new ID if the CustomerID value is null:</div>
<pre class="pre codeblock">String customerID = builderInputs.getString("CustomerID", "1111");</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_impl_gen_behavior"><a name="c_impl_gen_behavior"><!-- --></a><h5 class="title topictitle5">Implementation of generation behavior</h5>
<div class="body conbody"><p class="shortdesc">Implement the builder generation behavior by implementing the following
interface:</p>
<div class="section"><pre class="pre codeblock">com.bowstreet.builders.webapp.foundation.WebAppBuilder</pre>
<p class="p">In
your generation class, implement the following method:</p>
<pre class="pre codeblock">public void doBuilderCall(GenContext genContext, WebApp webApp,
BuilderCall builderCall, BuilderInputs builderInputs,
PageLocation pageLocation) { ... }</pre>
<p class="p">The parameters to the <samp class="ph codeph">doBuilderCall()</samp> method
provide you with the ability to interact with the WebApp object and to place
a builder call on a page. The other objects to which you have access in your
builder generation class are:</p>
<dl class="dl"><dt class="dt dlterm"><samp class="ph codeph">genContext</samp></dt>
<dd class="dd">A system object that is passed to all the GenHandlers and builders. It
is used to create builderInputs objects and to invoke other builders. This
object has the lifetime of a generation.</dd>
<dt class="dt dlterm"><samp class="ph codeph">webApp</samp></dt>
<dd class="dd">The main executable object in the WebEngine, with collections of pages,
methods, variables, and links to other models. You can call methods on the <samp class="ph codeph">webApp</samp> object
to add elements to the web application.</dd>
<dt class="dt dlterm"><samp class="ph codeph">builderCall</samp></dt>
<dd class="dd">Represents a call to a builder. One of these is created for each entry
in the builder call list, and one is created whenever a builder calls another
builder.</dd>
<dt class="dt dlterm"><samp class="ph codeph">builderInputs</samp></dt>
<dd class="dd">Holds a set of builder inputs.</dd>
<dt class="dt dlterm"><samp class="ph codeph">pageLocation</samp></dt>
<dd class="dd">Holds the page location syntax.</dd>
</dl>
<p class="p">The following code sample shows the generation class for
a Hello World builder:</p>
<pre class="pre codeblock">package com.bowstreet.examples.builders.webapp;
import
com.bowstreet.builders.webapp.foundation.WebAppControlBuilder;
import com.bowstreet.generation.GenContext;
import com.bowstreet.webapp.WebApp;
import com.bowstreet.generation.BuilderCall;
import com.bowstreet.generation.BuilderInputs;
import com.bowstreet.builders.webapp.pagelocation.PageLocation;
import com.bowstreet.builders.webapp.api.Text;

public class HelloWorldBuilder implements WebAppControlBuilder {
 public HelloWorldBuilder() {
 }
 public void doBuilderCall(GenContext genContext, WebApp webApp,
 BuilderCall builderCall, BuilderInputs builderInputs,
 PageLocation pageLocation) {
 //Create a Text builder call using the builder API
 Text helloText = new Text(builderCall, genContext);
 helloText.setName("HelloWorldText");

 //Place this builder on the page(s) determined by the PageLocation in the
 //Builder Call Editor
 helloText.setPageLocation(pageLocation);

 //Display input from DisplayText input in Builder Call Editor
 //Use "Hello, world", if no value is specified.
 helloText.setText(builderInputs.getString("DisplayText", "Hello, world"));

//Invoke the builder call
 helloText.invokeBuilder();
 }
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_naming_genobjects"><a name="c_naming_genobjects"><!-- --></a><h5 class="title topictitle5">Naming generated objects for high-level builders</h5>
<div class="body conbody"><p class="shortdesc">When generating object names in high-level builders, the <span class="ph uicontrol">Name</span> input
should be used as a prefix, without any underscore.</p>
<div class="section">The word following this prefix should be use initial-caps. This allows
generated objects to mimic the naming conventions used in Java. For example:<ul class="ul"><li class="li">ordersInputPage </li>
<li class="li">ordersGetData </li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
</div>
<div class="topic concept nested0" xml:lang="en-us" id="c_overview_debugging"><a name="c_overview_debugging"><!-- --></a><h1 class="title topictitle1">Debugging a <span class="ph">IBM WebSphere Portlet Factory</span> application</h1>
<div class="body conbody"><p class="shortdesc">There are multiple ways to determine the cause of problems
occurring in a web application.</p>
<p class="p">Follow this link <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewTags.xsp?categoryFilter=Debugging&amp;tag=null" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewTags.xsp?categoryFilter=Debugging&amp;tag=null</a> for up-to-date information about debugging.</p>
<div class="section"><p class="p">You can use:</p>
<dl class="dl"><dt class="dt dlterm">Debug tracing</dt>
<dd class="dd">To track down bugs in a model or application. The Debug Tracing
builder allows you to trace variables and actions. This builder writes
trace information to a log file allowing you review the logged trace
output after you have run a model.<div class="p">By default this log file is given
the following name: <pre class="pre codeblock"><var class="keyword varname">web_app_dir</var>\<var class="keyword varname">project_name</var>\WEB-INF\logs\debugTracing.txt</pre>
</div>
</dd>
<dt class="dt dlterm">Builder call timing tracing</dt>
<dd class="dd">You can analyze the time that builder calls take during regeneration.
Use the builderCallTiming property in the <span class="ph filepath">log4j.properties</span> file. </dd>
<dt class="dt dlterm">Diagnostic tracing</dt>
<dd class="dd">If your application has memory problems during development, set
diagnostic trace properties to determine whether you have too much
data in the session. Diagnostic tracing is typically not used in production
environments. </dd>
<dt class="dt dlterm">Designer Task view</dt>
<dd class="dd">To review errors and warnings that result from the builder generation
code.</dd>
<dt class="dt dlterm">Application Server console</dt>
<dd class="dd">To view various execution errors and messages.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic task nested1" xml:lang="en-us" id="t_enbl_debugtrace"><a name="t_enbl_debugtrace"><!-- --></a><h2 class="title topictitle2">Enabling debug tracing</h2>
<div class="body taskbody"><p class="shortdesc">Before you use the Debug Tracing builder, set the <samp class="ph codeph">bowstreet.system.debugTracing</samp> property
to <kbd class="ph userinput">DEBUG</kbd>.</p>
<div class="section context"><p class="p">When this property is set to <kbd class="ph userinput">DEBUG</kbd>, it
provides more details, such as the session ID and profile information.</p>
<p class="p">To
change the property to <kbd class="ph userinput">DEBUG</kbd>, do the following steps. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Open the <span class="ph filepath">WEB-INF/config/log4j.properties</span> file
in your favorite text editor.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Change the following property. </span> <pre class="pre codeblock">log4j.logger.bowstreet.system.debugTracing=INFO,DebugTracing</pre>
to
the following value.<pre class="pre codeblock">log4j.logger.bowstreet.system.debugTracing=DEBUG,Console,DebugTracing</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Change priority value from <kbd class="ph userinput">WARN</kbd> (the default
value) to <kbd class="ph userinput">DEBUG</kbd> for one or more of the following properties. </span>  <pre class="pre codeblock">log4j.logger.bowstreet.system.request=WARN,Console,Request
log4j.logger.bowstreet.system.profileSelection=WARN,Console,ProfileSelection
log4j.logger.bowstreet.system.regen=WARN,Console,Regen
log4j.logger.bowstreet.system.builderCalls=WARN,Console,BuilderCalls
log4j.logger.bowstreet.system.modelActions=WARN,Console,ModelActions
log4j.logger.bowstreet.system.webservice.serviceCall=WARN,Console,ServiceCalls
log4j.logger.bowstreet.system.webservice.incomingSOAPRequest=WARN,Console,IncomingSOAPRequests</pre>
</li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_error_messages"><a name="c_error_messages"><!-- --></a><h3 class="title topictitle3"><span class="ph">IBM WebSphere Portlet Factory</span> Designer
Task view error messages</h3>
<div class="body conbody"><p class="shortdesc">Errors and warnings that result from a builder's generation code
are sent to the IDE's Tasks view.</p>
<div class="section">These errors include syntax or other errors in your Java code (for
example, in the Method builder). By default, the Tasks view is included in
the <span class="ph">IBM WebSphere Portlet Factory</span> Models perspective.
To add it to the current perspective, click <span class="ph menucascade"><span class="ph uicontrol">Window</span> &gt; <span class="ph uicontrol">Show View</span> &gt; <span class="ph uicontrol">Other</span> &gt; <span class="ph uicontrol">Basic</span> &gt; <span class="ph uicontrol">Tasks</span></span>.<p class="p">For each problem logged in the
Tasks view, an icon in the first column indicates the severity of the problem:</p>
<ul class="ul"><li class="li"><img class="image" src="designer/images/task_error.gif" alt="Tasks view Error icon" /> indicates
an Error. Examples of errors are invalid values for builder call inputs and
Java coding errors.</li>
<li class="li"><img class="image" src="designer/images/task_warning.gif" alt="Tasks view Warning icon" /> indicates a Warning.</li>
</ul>
<p class="p">The displayed information in the other Tasks columns include:</p>
<dl class="dl"><dt class="dt dlterm">Description</dt>
<dd class="dd">A description of the problem. If the description is too long to fit in
the column, right-click on the problem entry in the Tasks view and choose <span class="ph uicontrol">Properties</span>. </dd>
<dt class="dt dlterm">Resource</dt>
<dd class="dd">Name of the model in which the problem occurred.</dd>
<dt class="dt dlterm">In Folder</dt>
<dd class="dd">Pathname of the model's directory.</dd>
<dt class="dt dlterm">Location</dt>
<dd class="dd">Name and type of builder in which the error occurred. If this column is
blank, the problem is generic to the model. For example, syntax errors in
Java code.</dd>
</dl>
<p class="p">If the problem occurred in a specific builder call, clicking
on the Tasks entry will open that builder call in the builder call editor.
To get more information on the error, right-click on the error in the Tasks
view and choose <span class="ph uicontrol">Properties</span>.</p>
<p class="p">If the error occurred
during model generation, clicking on the Tasks entry will open a <span class="ph uicontrol">Generation
Errors</span> dialog that gives an explanation of what caused the generation
error. When this type of error occurs, no builder is opened in the builder
call editor.</p>
</div>
<div class="section"><h4 class="title sectiontitle">Application Server Console Messages</h4><p class="p">Some error messages
during a model's execution get written to the application server's console
(command) window. You can check the application server's command window for
any <samp class="ph codeph">System.out.println()</samp> statements you have included in
any of your methods as well.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_tuning_for_performance"><a name="c_tuning_for_performance"><!-- --></a><h3 class="title topictitle3">Tuning for performance</h3>
<div class="body conbody"><p class="shortdesc">Applications created using <span class="ph">IBM WebSphere Portlet Factory</span> need to be architected
for performance. </p>
<div class="section"><p class="p">Similar to any other Java or web application, you implement
need to use standard coding best practices and modeling best practices.
Developers should be aware of some of the following factors that when
the design for performance. </p>
<ul class="ul"><li class="li">Memory usage and minimum use of session data and large XML variables</li>
<li class="li">Performance of back end systems that are invoked</li>
<li class="li">Size of returned data </li>
<li class="li">Caching</li>
<li class="li">Sizing of the platform, to include number and speed of CPUs</li>
<li class="li">JVM memory and performance settings </li>
<li class="li">Portal configuration </li>
<li class="li">Standard debugging and analysis techniques for the server runtime
environment</li>
<li class="li">All other development best practices of which you are aware</li>
</ul>
<p class="p">While <span class="ph"> WebSphere Portlet
Factory</span> makes
it easy for non-architects to create complex applications, that does
not replace the need for an architect or consultant to plan and review
the server configuration to ensure good performance.
Except for the way they are created, <span class="ph"> WebSphere Portlet
Factory</span> applications and application
WARs are the same as those created using hand-crafted or other development
methodologies. They need the same considerations with respect to architecture
and design, performance, debugging, testing and runtime analysis.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_debug_setting_log4j_property"><a name="c_debug_setting_log4j_property"><!-- --></a><h3 class="title topictitle3">The log4j debug property</h3>
<div class="body conbody"><p class="shortdesc">To have debug tracing output written to the log file, the <samp class="ph codeph">log4j.category.bowstreet.system.debugTracing</samp> property
must be set to a value of <samp class="ph codeph">INFO</samp> (default).</p>
<div class="section">Any setting for this property more lenient than <samp class="ph codeph">INFO</samp> also
allows debug tracing messages to be logged. Any setting stricter than <samp class="ph codeph">INFO</samp> prevents
messages from being logged.<p class="p">The <span class="ph filepath">log4j.properties</span> file
should be located in your project <span class="ph filepath">..\WEB-INF\config\log4j.properties</span> directory.
Open this file and set the <samp class="ph codeph">log4j.category.bowstreet.system.debugTracing</samp> property.
When you republish the project, the new setting is saved
on the server. </p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_prnt_variablevalue"><a name="t_prnt_variablevalue"><!-- --></a><h2 class="title topictitle2">Print the value of a variable</h2>
<div class="body taskbody"><p class="shortdesc">You can use a tool available from the Action List builder to generate
a <samp class="ph codeph">System.out.println</samp> statement.</p>
<div class="section context">A common way to debug in Java is to use the <samp class="ph codeph">System.out.println</samp> method.</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">If you do not already have an Action List builder in your model,
add one.</span></li>
<li class="li step"><span class="ph cmd">Add a new entry to your action list by clicking <span class="ph uicontrol">...</span> to
the right of the text box at the position you wish to add a debugging statement. </span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Select an Action</span> box, expand the
"Special" folder and select SystemOut. </span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph uicontrol">Set Argument</span> box use the picker to
drill down to the value you want to output, select it and click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
<div class="section result"><p class="p">You can use the action list <samp class="ph codeph">SystemOut</samp> argument
to display the value of the same item multiple times throughout the action
list. This allows you to trace an item's value through the entirety of program
execution.</p>
<p class="p">The value you display using <samp class="ph codeph">SystemOut</samp> is
displayed in the console and will look something like the following:</p>
<pre class="pre codeblock">*--TIME: [2004-12-25] 16:07:05, 831] __*
Category: bowstreet.system.debugTracing
Priority: INFO
Msg: SystemOut= ${Variables/varHellowWorld} =null</pre>
<p class="p">As you can
see, an entry was placed in the action list to output the value of the <var class="keyword varname">varHelloWorld</var> variable,
and at this point in the program, its value is null.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_strt_bldrcalltrc"><a name="t_strt_bldrcalltrc"><!-- --></a><h2 class="title topictitle2">Starting builder call timing tracing</h2>
<div class="body taskbody"><p class="shortdesc">To analyze the time that builder calls take during regeneration,
you can start builder call timing tracing. </p>
<div class="section context">You may have to perform this task to analyze slow regeneration
of a model. You can do this tracing both in <span class="ph">IBM WebSphere Portlet Factory</span> Designer and on the
server. The tracing collects timing data on builder calls during regeneration
of a model. During regeneration, each builder in the model is called
in sequence by its order in the builder call list. </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Change the builderCallTiming property in the <span class="ph filepath">log4j.properties</span> file. </span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Navigate to and open the appropriate properties file.</span> <div class="p"><ul class="ul"><li class="li">For <span class="ph"> WebSphere Portlet
Factory</span> Designer<pre class="pre codeblock"><var class="keyword varname">install_root</var>/WPFDesigner/eclipse/plugins/com.bowstreet.designer.core_<var class="keyword varname">x</var>.<var class="keyword varname">y</var>.<var class="keyword varname">z</var>/config/log4j.properties</pre>
</li>
<li class="li">For the server<pre class="pre codeblock">WEB-INF/config/log4j.properties</pre>
</li>
</ul>
</div>
</li>
<li class="li substep substepexpand"><span class="ph cmd">In the file, find the following line.</span> <pre class="pre codeblock">log4j.category.bowstreet.system.builderCallTiming=WARN,BuilderCallTiming</pre>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Change the property value to DEBUG, save, and close
the file. </span> <pre class="pre codeblock">log4j.category.bowstreet.system.builderCallTiming=DEBUG,BuilderCallTiming</pre>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">To start logging, restart <span class="ph"> WebSphere Portlet
Factory</span> Designer. </span> <p class="p">If
you changed the property for the server, restart the application server
or portal server. </p>
 <p class="p">The logging of builder
call timing data starts on the console and in the log file. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">To stop logging, change the property value back to WARN
and restart <span class="ph"> WebSphere Portlet
Factory</span> Designer
and the server. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Examine the log file that contains the builder call timing
data. </span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Navigate to and open the logging file. </span> <ul class="ul"><li class="li">For <span class="ph"> WebSphere Portlet
Factory</span> Designer<pre class="pre codeblock"><var class="keyword varname">workspace</var>/.metadata/.plugins/com.bowstreet.designer.core/logs/builderCallTiming.txt </pre>
</li>
<li class="li">For the server<pre class="pre codeblock">WEB-INF/logs/builderCallTiming.txt</pre>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<div class="section result"><div class="p">The output is very similar to system trace output that
is produced by model action tracing. The log file has the following
structure.<ul class="ul"><li class="li">Each regeneration phase is placed in its own section. The phase
name is enclosed in square brackets (<samp class="ph codeph">[</samp> and <samp class="ph codeph">]</samp>)
with the model name. </li>
<li class="li">On each line are two time values in milliseconds and an associated
builder type preceded by a period character ( <samp class="ph codeph">.</samp> )
and a name. <p class="p">Multiple periods before a builder type indicates nested
builder calls, for example, when a higher-level builder calls a constituent
builder. </p>
</li>
<li class="li">Generation traces for subordinate models (for example, a Linked
Model builder) are shown in line.</li>
<li class="li">If a builder that runs in the PostConstruction phase calls another
builder, you see a transition back to the Construction phase (for
example, <samp class="ph codeph">[Construction (temporary):</samp>). </li>
</ul>
</div>
</div>
<div class="example"><pre class="pre codeblock">*-- TIME: [2007-05-08 15:20:48,579] --*
Category: bowstreet.system.builderCallTiming
Priority: INFO
Thread:   main
Msg:
 13314 15173    Start Request: Generate SimpleTest
     0     0    [Construction: SimpleTest]
    78    78    .Action List: main
    47    47    .Page: page1
    15    15    .Method: doSomething</pre>
</div>
<div class="section postreq">In the logged data, look for the following trends.<ul class="ul"><li class="li">Lengthy time accessing an external source. For example, an SQL
Call builder performing schema generation.</li>
<li class="li">Excessive number of builder calls. Often, one builder call results
in a substantially larger number of other builder calls. </li>
<li class="li">One model accessing another model by the Imported Model builder.
The other model may be causing the poor regeneration performance.
You may have to restructure your model usage. </li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_start_sys_trace"><a name="t_start_sys_trace"><!-- --></a><h2 class="title topictitle2">Starting system tracing</h2>
<div class="body taskbody"><p class="shortdesc">Follow these steps to start system tracing.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the <span class="ph uicontrol">Run Configuration</span> wizard.</span> This Wizard is available from the green <span class="ph uicontrol">Run</span> icon's
down-arrow menu.</li>
<li class="li step"><span class="ph cmd">Select <span class="ph uicontrol">Run...</span> from this menu to display
the <span class="ph uicontrol">Run Configuration</span> wizard.</span></li>
<li class="li step"><span class="ph cmd"> Click the <span class="ph uicontrol">Tracing</span> tab, and on the Tracing
page enable the <span class="ph uicontrol">Run with system tracing</span> check box and
click <span class="ph uicontrol">Apply</span>.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Run</span> at the bottom of the wizard page
to run the model you want to trace.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_system_tracing"><a name="c_system_tracing"><!-- --></a><h3 class="title topictitle3">About using system tracing</h3>
<div class="body conbody"><p class="shortdesc">Use the system tracing feature to store the WebApp execution path
and the execution time for each action (Page or Method).</p>
<div class="section"><p class="p">The stored information is written to the console upon completion
of the request. It can also be written to an event log file found in the <span class="ph filepath">MyApp\logs</span> directory.
When you activate system tracing and run a model, system trace control records
the amount of time it took to run through each of the action builders in a
model.</p>
<p class="p">Use system tracing to trace only one model at a time. This will
help you to narrow down performance problems within a model. You can also
use Log4j tracing.</p>
<p class="p">The system can only perform tracing on actions that
are called through the WebAppAccess methods <samp class="ph codeph">callMethod()</samp> and <samp class="ph codeph">processPage()</samp>.
If you call a method directly from another method, the tracing is bypassed
and cannot be automatically tracked. </p>
<div class="p">You can add tracing manually to
an internal web application method or a linked Java object method. To manually
do this, use the WebAppAccess method <samp class="ph codeph">addSystemTrace()</samp> to
add the start of a trace. <pre class="pre codeblock">{
SystemTrace trace = webAppAccess.addSystemTrace(SystemTrace.METHOD, "in My Method");
... do some work;
trace.endTrace();
}</pre>
</div>
<p class="p">And to end the trace, use the <span class="ph uicontrol">SystemTrace endTrace()</span> method. </p>
<div class="p">To
determine which event log contains the tracing information, look at the file
name of the event log. The file name contains the date and the time it was
created. For example, the following file was created at 10:29 P.M. (22.29)
on November 22, 2001. <pre class="pre codeblock">event_11.22.2001.22.29.29.699.log</pre>
</div>
<p class="p">Notice
the time is based on the 24-hour clock. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_decipher_error_log"><a name="r_decipher_error_log"><!-- --></a><h3 class="title topictitle3">Deciphering error logging displayed in the command prompt window:
example</h3>
<div class="body refbody"><p class="shortdesc">This topic represents log output that shows a list of actions
performed and the milliseconds used for those actions. </p>
<div class="section"><p class="p">Look for large spikes to determine performance problems. </p>
<p class="p">The
Action column is the amount of time between the start of the action
and the next row in the console system trace. The Total column is
the total amount of time for that action, totalling all the actions
that are part of that action.  The Action calls column lists the name
of the action. The dots preceding the name indicate the level of containment.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 59. Error logging output</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e51084">Action</th>
<th class="entry" valign="bottom" id="d52e51086">Total</th>
<th class="entry" valign="bottom" id="d52e51088">Action calls</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">1932</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">4456</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">Start Request: WebAppRunner.doRequest</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">[Model/ModelContainer]</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">1833</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">1833</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">Regen:</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">120</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">120</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">Compile: Methods
Class</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">80</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">571</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">Method: main</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">240</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">491</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">.Page: StartingPage</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Method: C1InitializeModelContainer</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..[Page/PageNavigation1]</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">31</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">31</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Regen:</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">20</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">20</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Compile: Methods
Class</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Method: main</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">60</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">90</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Page: StartingPage</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">30</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">30</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">...Page: NavigationPage</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..[Model/ModelContainer]</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Method: C2InitializeModelContainer</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..[Page/PageNavigation2]</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">30</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">30</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Regen:</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">10</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">10</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Compile: Methods
Class</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Method: main</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">30</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">70</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">..Page: StartingPage</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">0</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">...Method: Increment</td>
</tr>
<tr class="row"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51084 ">40</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51086 ">40</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e51088 ">...Page: NavigationPage</td>
</tr>
</tbody>
</table>
</div>
<div class="note note"><span class="notetitle">Note:</span> Because of the granularity of the system clock, many
operations that are less than the clock granularity show up as zero.
Times do accumulate, so you may see several zeroes, followed by 10
ms, for example.</div>
<p class="p">The timing information is most clear when
running with one user. For multiple users, the elapsed time can end
up being combined for any concurrent requests.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_set_diagtraceprops"><a name="t_set_diagtraceprops"><!-- --></a><h2 class="title topictitle2">Setting diagnostic trace properties</h2>
<div class="body taskbody"><p class="shortdesc">You need to set diagnostic trace properties to determine
whether you have too much data in the session. </p>
<div class="section context"><p class="p">Diagnostic tracing is controlled by properties found in
the project <span class="ph filepath">WEB-INF/config/bowstreet.properties</span> file.
With diagnostic tracing active, you have sessionSize properties that
control trace interval and what data is logged. </p>
<p class="p">Diagnostic
tracing is mainly done during development and typically
should be turned off before deployment or load testing. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Open the <span class="ph filepath">bowstreet.properties</span> file
in the project <span class="ph filepath">WEB-INF/config/</span> directory. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Locate the lines that contain the following properties. </span> <pre class="pre codeblock">bowstreet.diagnostic.trace.enabled=false
#bowstreet.diagnostic.trace.sessionSize.interval=60
#bowstreet.diagnostic.trace.sessionSize.userName=</pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the same directory, open the <span class="ph filepath">override.properties</span> file. </span> <p class="p">This file contains the properties that you want to override
for your project. If the file does not exist, create it. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Copy the lines from the <span class="ph filepath">bowstreet.properties</span> file
and paste them in the <span class="ph filepath">override.properties</span> file. </span></li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="ph filepath">override.properties</span> file, set
the properties as follows.</span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Set the enabled property to true.</span> <pre class="pre codeblock">bowstreet.diagnostic.trace.enabled=true</pre>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Remove the comment character (<samp class="ph codeph">#</samp>) from
the lines of the other properties and specify the number of seconds
between traces and the user name under which the application runs. </span> <pre class="pre codeblock">bowstreet.diagnostic.trace.sessionSize.interval=10
bowstreet.diagnostic.trace.sessionSize.userName=wpsadmin</pre>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Save and close the file and restart the server. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Examine the trace output in the project <span class="ph filepath">\WEB-INF\logs\sessionsize.csv</span> file. </span></li>
<li class="li step stepexpand"><span class="ph cmd">When enough data is collected, stop the collection by setting
the enabled property to false and restart the server. </span></li>
</ol>
<div class="section postreq"><p class="p">For more information on diagnostic trace and other techniques
to enhance <span class="ph">IBM WebSphere Portlet Factory</span> application
performance, refer to the following software support article. </p>
<a class="xref" href="http://www-01.ibm.com/support/docview.wss?rs=3044&amp;context=SSRUWN&amp;dc%C3%9B520&amp;uid=swg21268497" target="_blank">http://www-01.ibm.com/support/docview.wss?rs=3044&amp;context=SSRUWN&amp;dcÛ520&amp;uid=swg21268497</a></div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested1" xml:lang="en-us" id="r_debug_interpreting_log"><a name="r_debug_interpreting_log"><!-- --></a><h2 class="title topictitle2">Interpreting a debug log file</h2>
<div class="body refbody"><p class="shortdesc">After you run your application, open the <span class="ph filepath">debugTracing.txt</span> log.
It should look similar to the following:</p>
<div class="section"><img class="image" src="designer/images/debug_log.gif" alt="Listing of log entries that show timestamp, category, priority, thread id, and message with any request parameters and a stack trace." /><p class="p">This example log was created
using the <samp class="ph codeph">HelloWorld_Debug</samp> model and used the same inputs
as the Trace a Variable section above. The upper portion of the log represents
the actions that take place when the page first loads and can be interpreted
as follows:</p>
<ol class="ol"><li class="li"> Executing the main method took less than 20 milliseconds. At that point
in the application, the varHelloWorld variable was null.</li>
<li class="li"> Executing the mainPage took 20 milliseconds.<p class="p">At that point in the application,
again, the varHelloWorld variable was null.</p>
<p class="p">In the lower portion of
the log, run at 12:47:08 am on September 3rd, the following can be interpreted:</p>
</li>
<li class="li"> The Action button method took less than 1 millisecond to execute. <p class="p">At
that point in the application, the varHelloWorld variable was null.</p>
</li>
<li class="li"> The helloWorld method also took less than 1 millisecond to execute. <p class="p">At
that point in the application, again, the varHelloWorld variable was null.</p>
</li>
<li class="li"> To load the mainPage took less than 1 millisecond. <p class="p">At that point in
the application, the varHelloWorld variable was equal to "Hello, world".</p>
</li>
</ol>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_fact_model_debug.dita"><a name="t_fact_model_debug.dita"><!-- --></a><h2 class="title topictitle2">Debug with Eclipse/RAD using Factory Model Execution Debugging</h2>
<div class="body taskbody"><p class="shortdesc">The Factory Model Execution Debugger support enables model
developers to easily leverage the Eclipse/RAD integrated debugger. </p>
<div class="section prereq">Features include:<ul class="ul"><li class="li">Simplified server start and application launch in debug mode.</li>
<li class="li">Enable breakpoints in generated code.</li>
<li class="li">Easier inspection of web application runtime objects such as variables.</li>
</ul>
<p class="p">See the Eclipse or RAD product documentation for more detailed
information about additional features of the Eclipse/RAD integrated
debugger.</p>
</div>
<div class="section context">Follow these general steps to debug your model's Java and
JSP code with the Eclipse/RAD integrated debugger.  </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd"><strong class="ph b">Setting Breakpoints.</strong> You can set breakpoint on the
following web application tree objects:</span><ul class="ul choices"><li class="li choice"><strong class="ph b">Method</strong> - Select a method in the web application, and
break on the first line during method execution.</li>
<li class="li choice"><strong class="ph b">Page</strong> - Select a page in the web application, and break
on the first line during the page execution.</li>
<li class="li choice"><strong class="ph b">Event Handlers</strong> - Select an Event Handler action in
the web application, and break on the first line during the event
handler's method execution.</li>
<li class="li choice"><strong class="ph b">Data Service Operation</strong> - Select the action of a Data
Servers as the breakpoint target. This has the same affect of setting
the breakpoint on the Method, but allows you to locate the method
more easily.</li>
</ul>
 How to set breakpoints:<ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">From the Application tree panel, select a specific method,
page, event, or data service operation.</span></li>
<li class="li substep substepexpand"><span class="ph cmd">Right click on the web application tree object and set
the breakpoint using the <span class="ph uicontrol">Set Breakpoint</span> pop-up
menu option</span> <div class="note note"><span class="notetitle">Note:</span> Once a breakpoint is set you can
also use the Eclipse/RAD Debugger view breakpoint tab to manage the
breakpoints.</div>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd"><strong class="ph b">Starting Server in Remote Debug Mode.</strong> To debug a
model's Java or JSP follow this procedure to start your server in
remote debug mode. If you are using WAS CE, and you started the server
through the <span class="ph">IBM WebSphere Portlet Factory</span> your
server is started in debug mode already. The <span class="ph"> WebSphere Portlet
Factory</span> Designer will prompt
you to start the WAS CE either when you deploy your project, or run
a model. If you are running server other than WAS CE, see the topic,
Configuring a server for debugging a model, found at the bottom of
this topic.</span> If you are manually starting WAS
CE, add these two Java options to start the server in debug mode:<ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Stop the server.</span></li>
<li class="li substep substepexpand"><span class="ph cmd">Restart using these start options either from the command
line or as a script: <samp class="ph codeph">set JAVA_OPTS=-Xdebug -Xnoagent -Djava.compiler=NONE
-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000</samp></span> If you have already deployed an application, the file, <span class="ph filepath">startdebug.bat</span> or <span class="ph filepath">startdebug.sh</span>,
is automatically generated. You can use this file to manually start
your server in debug mode:<pre class="pre codeblock">@REM Starts wasce in debug mode.
set JAVA_OPTS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000
startup &gt; WPFstartDebug.log</pre>
</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd"><strong class="ph b">Starting a Remote Debug Connection.</strong> Once your server
is started in debug mode you will need to start a remote debug connection
to the server in order to begin debugging.</span> To assist with
this, <span class="ph"> WebSphere Portlet
Factory</span> creates
a Remote Java Application configuration for each project.  The
debug configuration enables the debugger to locate source code that
is related to the target project.<ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Select <span class="ph menucascade"><span class="ph uicontrol">Run</span> &gt; <span class="ph uicontrol">Debug
Configurations</span></span> to open the configuration
dialog. </span></li>
<li class="li substep"><span class="ph cmd">From the configuration dialog, select the Remote Java
Application configuration for your project, and then click the "Debug"
button.  </span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd"><strong class="ph b">Running the Model.</strong> With your server running and
a remote debug connection you can now launch the target model that
you want to debug. Follow these steps to launch the target model that
you want to debug:</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Select the <span class="ph uicontrol">Run...</span> menu option
to display the Run dialog box. </span></li>
<li class="li substep"><span class="ph cmd">From the Run dialog select the <span class="ph uicontrol">Active Model</span> configuration
from the <span class="ph"> WebSphere Portlet
Factory</span> Model
options, and click <span class="ph uicontrol">Run</span> to launch the model.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd"><strong class="ph b">Viewing Model Runtime Data.</strong> When debugging your
model's Java, and JSP follow this procedure to view the data associated
with it, which is usually found nested within the WebAppAccess object
instance. For example, if you set a breakpoint in a method and want
to find the value of a Variable when the method breakpoint is hit
you can browse the WebAppAccess object to locate the desired variable
and see it's value. Finding the data can be quite difficult since
the data is typically buried deep within the WebAppAccess structure.
To make locating the model's data easier the <span class="ph"> WebSphere Portlet
Factory</span> Designer provides
a logical structured view of the WebAppAccess object</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd"> To see the logical structure view of the WebAppAccess
object click on the <span class="ph uicontrol">Show Logical Structure</span> in
the Eclipse/RAD Debugger view.</span></li>
<li class="li substep"><span class="ph cmd">The logical structure view displays.</span></li>
</ol>
</li>
</ol>
<div class="section postreq">The WebAppAccess logical structure allows you to easily view
the model data types described below:<ul class="ul"><li class="li"><strong class="ph b">Variables</strong> - View the Variable by name.</li>
<li class="li"><strong class="ph b">Linked Models</strong> - View the Linked Models using its WebAppAccess.</li>
<li class="li"><strong class="ph b">Request Inputs</strong> - View the request inputs by name.</li>
<li class="li"><strong class="ph b">Data Service</strong> - Navigate to the service inputs/outputs variables
using the Data Service metadata in place of locating the Variable
directly.</li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_cnfg_srvrdebug"><a name="t_cnfg_srvrdebug"><!-- --></a><h3 class="title topictitle3">Configuring a server for debugging a model</h3>
<div class="body taskbody"><p class="shortdesc">An example procedure based on the <span class="ph">IBM WebSphere Application
Server</span> can show you how
to debug a model.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">To configure the <span class="ph">WebSphere Application
Server</span> for debugging,
use the <span class="ph"><span class="ph">IBM WebSphere Portal</span> server
or </span><span class="ph">WebSphere Application
Server</span> Admin tool. </span><ul class="ul choices"><li class="li choice">For portlets <p class="p">Access <span class="ph">WebSphere Portal</span> server Configuration
page. Click <span class="ph menucascade"><span class="ph uicontrol">Servers</span> &gt; <span class="ph uicontrol">Application
Servers</span> &gt; <span class="ph uicontrol">WebSphere Portal</span></span>.</p>
</li>
<li class="li choice">For standalone applications and widgets <p class="p">Access the application
server Configuration page. Click <span class="ph menucascade"><span class="ph uicontrol">Servers</span> &gt; <span class="ph uicontrol">Application Servers</span> &gt; <span class="ph uicontrol">server1</span></span>.</p>
</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">On the Configuration page, under <span class="ph uicontrol">Additional
Properties</span>, select <span class="ph uicontrol">Debugging Service</span>.</span> <p class="p">This link provides access to the application server Debug
General Properties page.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">On the Debug General Properties page, make server debugging
possible by enabling the <span class="ph uicontrol">Startup</span> check box.</span></li>
<li class="li step stepexpand"><span class="ph cmd">On the Debug General Properties page, make a note of the
port number to be used for debug output.</span></li>
<li class="li step stepexpand">Optional: <span class="ph cmd">For a portlet, you
can also set various debug parameters for <span class="ph">WebSphere Portal</span> server, including
the JVM Debug Port. <span class="ph">IBM WebSphere Portlet Factory</span> Designer
can connect to the JVM Debug port to receive debug information. </span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_run_modeldebug"><a name="t_run_modeldebug"><!-- --></a><h3 class="title topictitle3">Running a model in debug mode</h3>
<div class="body taskbody"><p class="shortdesc">After you configure the server for debugging, follow these
steps to initiate debugging of Java code:</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Add a breakpoint to the code.</span><ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="ph cmd">Open the Java source file for an LJO or the generated
Java source file for the model.</span> <p class="p">For example, for
a model named "Test" in the <span class="ph filepath">WEB-INF/models</span> directory,
you would find its generated Java source file in: <span class="ph filepath">WEB-INF/factory/generated/genjava/_Test.java</span></p>
</li>
<li class="li substep substepexpand"><span class="ph cmd">Set a breakpoint at the desired spot in the code.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">Run the Model to Initiate Debugging.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">In <span class="ph">IBM WebSphere Portlet Factory</span> Designer,
choose <span class="ph menucascade"><span class="ph uicontrol">Run</span> &gt; <span class="ph uicontrol">Debug Configurations </span> &gt; <span class="ph uicontrol">Remote Java Application</span> &gt; <span class="ph uicontrol"> the name
of your model</span></span> </span></li>
<li class="li substep"><span class="ph cmd">Click the <span class="ph uicontrol">debug</span> button</span></li>
<li class="li substep"><span class="ph cmd">Wait until the debugger is finished loading.</span></li>
<li class="li substep"><span class="ph cmd"> Debug the code for your model as you would any other
Java application.</span></li>
</ol>
</li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_overview_logging"><a name="c_overview_logging"><!-- --></a><h2 class="title topictitle2">Using application logging</h2>
<div class="body conbody"><p class="shortdesc">Typically you debug an application by logging the output
of arbitrary actions and methods during model execution.</p>
<p class="p"> However, the traditional means of placing <samp class="ph codeph">System.out.println()</samp> statements
in the code and later removing them prior to shipment is both tedious
and error prone. In <span class="ph">IBM WebSphere Portlet Factory</span>,
you can get the same degree of information by defining methods that
can output to log files or the system console. And you can control
the behavior of these methods through central logging properties.</p>
<div class="p">The following ways of logging application behavior are provided
in <span class="ph"> WebSphere Portlet
Factory</span>:<dl class="dl"><dt class="dt dlterm">log4j Logging</dt>
<dd class="dd"><span class="ph"> WebSphere Portlet
Factory</span> provides built-in
log4j logging that you can manipulate through various property settings. <p class="p">In
addition, you can specify your own log4j calls, using builders to
create log4j methods and calling those methods to output to log files
or the system console. After inserting these calls anywhere within
the application where information is required, you can control their
activation through the same property settings.</p>
</dd>
<dt class="dt dlterm">Builder-based Logging</dt>
<dd class="dd">Certain <span class="ph"> WebSphere Portlet
Factory</span> builders
provide built-in logging functionality. <p class="p">You can manipulate this
functionality individually for each builder, or you can managed logging
centrally for the model through the <span class="ph uicontrol">Debug Inputs</span> panel
or by profiling.</p>
</dd>
</dl>
</div>
<div class="section"><h3 class="title sectiontitle">What is tracked by logging</h3><p class="p">The log4j standard
provides a means of logging messages of various priority levels when
certain events within the program occur. Events is a relative term.
The log4j information logging feature is really nothing more than
a method that is being called, but only at a certain priority level.
So events can be best defined as a location in the program where you
place a logging method to be called. Remember, that the log4j information
logging feature is synonymous with placing a <samp class="ph codeph">System.out.println()</samp> (in
Java) or <samp class="ph codeph">printf()</samp> (in C and C++), only with priority
levels.</p>
<p class="p">The message that is logged is entirely up to the developer
because you can pass any Java Object as the message into the log4j
methods. This allows the developer to write variables, method calls,
and actions to the logs.</p>
</div>
</div>
<div class="related-links"></div><div class="topic task nested2" xml:lang="en-us" id="t_set_loggingmdlbsdbldr"><a name="t_set_loggingmdlbsdbldr"><!-- --></a><h3 class="title topictitle3">Setting up logging in a model-based builder</h3>
<div class="body taskbody"><p class="shortdesc">Edit a base model to set up calls to your logging methods.</p>
<div class="section context"><p class="p">You can use this same approach with a View and Form builder
or any other model-based builder. </p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Open a View and Form builder, such as the Domino View and
Form builder.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Expand the builder call editor Advanced section and note
the name of the builder's base model in the <span class="ph uicontrol">Model name</span> input
field.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Open the builder base model.</span> <p class="p">For example: <span class="ph filepath">domino_viewandform_base
model</span>.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the base model, perform steps 1 and 2 and open the builders
portlet model.</span> <p class="p">For example: domino_portlet model.
Note that the domino_portlet model contains all the calls to the Domino
Database.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the portlet model, insert the calls to your logging
functionality or other methods in this model and regenerate the base
model.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_howdoi_logging"><a name="c_howdoi_logging"><!-- --></a><h4 class="title topictitle4">Logging application behavior</h4>
<div class="body conbody"><p class="shortdesc">To debug an application, log the output of arbitrary actions
and methods during execution.</p>
<p class="p">Placing <samp class="ph codeph">System.out.println()</samp> statements in the
code is both tedious and error prone. In addition, using <samp class="ph codeph">System.out</samp> provides
no control over when the line is printed.</p>
<p class="p">In <span class="ph">IBM WebSphere Portlet Factory</span>, you can
get the same degree of information more simply by defining methods
that can output to log files or the system console. And you can control
the behavior of these methods through central logging properties.
This increased flexibility allows you to choose only to view warnings,
errors, or other information (for example, when a button is pressed).</p>
<p class="p">Logging is enabled by default in <span class="ph"> WebSphere Portlet
Factory</span> Designer. Simply run
a model and invoke some model actions and those actions are written
to the log.</p>
<p class="p">By default, the logging level is set to WARN which results in much
information being written to the various log files. </p>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_logging_prevent_overwrite"><a name="c_logging_prevent_overwrite"><!-- --></a><h5 class="title topictitle5">Preventing log4j properties from being overwritten</h5>
<div class="body conbody"><p class="shortdesc">In the Eclipse workspace, the log4j properties file is overwritten
when you modify a WebApp project.</p>
<div class="section"><p class="p">This issue occurs because the files from the <span class="ph filepath">WPFDesigner\FeatureSets\Web-
App_X.X.X\Templates\Project</span> project template folder, overwrite
the eclipse project files.</p>
<p class="p">The following ways prevent overwriting the
file:</p>
<dl class="dl"><dt class="dt dlterm">Manual method</dt>
<dd class="dd">Modify the log4j.properties file in the <span class="ph filepath">Templates\Project</span> folder.</dd>
<dt class="dt dlterm">In Project Wizard</dt>
<dd class="dd">Select <kbd class="ph userinput">No</kbd> when the Project Modify Wizard asks you
if you wish to overwrite the file (log4j.properties). This approach is the
easiest way to preserve the log4j.properties file settings.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_logging_view_log"><a name="c_logging_view_log"><!-- --></a><h5 class="title topictitle5">About viewing a log file</h5>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> Designer
provides a set of files that a model can use to write information from various
sources, including: <samp class="ph codeph">builderCalls</samp>, <samp class="ph codeph">debugTracing</samp>, <samp class="ph codeph">event_DATE</samp>, <samp class="ph codeph">general</samp>, <samp class="ph codeph">incomingSOAPRequests</samp>, <samp class="ph codeph">modelActions</samp>, <samp class="ph codeph">profileSelection</samp>, <samp class="ph codeph">regen</samp>, <samp class="ph codeph">request</samp>, <samp class="ph codeph">serviceCalls</samp>.</p>
<div class="section">Each of these files describes an abstract part of the programs run-time
processes. For example, any actions/methods that are called by a model with
an associated log4j method call are logged in the <span class="ph filepath">modelActions.txt</span> file.<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> Designer stores all
logs within the <span class="ph filepath">WEB-INF\logs</span> directory of the WAR file
created from the project.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested4" xml:lang="en-us" id="c_logging_viewandform"><a name="c_logging_viewandform"><!-- --></a><h5 class="title topictitle5">About logging with the View and Form builders</h5>
<div class="body conbody"><p class="shortdesc">When you place a View and Form builder (for example, Domino, SAP,
or PeopleSoft) in a model, you are unable to insert calls to a method before
a method call made by the View and Form builder.</p>
<div class="section">This can cause a problem if you want to log database access parameters
or other activities performed by the View and Form builder.<p class="p">All View and
Form builders are model-based builders. As a result, you can
edit the builder's base model to change its action flow and behavior. This
allows you to insert into the flow calls to logging operations.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_chng_loglevel"><a name="t_chng_loglevel"><!-- --></a><h3 class="title topictitle3">Changing the default logging level</h3>
<div class="body taskbody"><p class="shortdesc">Edit a properties file to change what is logged by default.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open the log4j.properties file located in the project's <span class="ph filepath">WEB-INF/config</span> directory.</span></li>
<li class="li step"><span class="ph cmd">Near the top of this file locate the property, <samp class="ph codeph">log4jrootCategory=</samp>.</span></li>
<li class="li step"><span class="ph cmd">Change the first argument after the equal sign (<samp class="ph codeph">=</samp>)
from <samp class="ph codeph">WARN</samp> to another level.</span> For example, <samp class="ph codeph">INFO</samp>.</li>
<li class="li step"><span class="ph cmd">Save and close the property file.</span></li>
<li class="li step"><span class="ph cmd">Restart your server for these changes to take effect.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_default_logging_level"><a name="c_default_logging_level"><!-- --></a><h4 class="title topictitle4">Default logging level</h4>
<div class="body conbody"><p class="shortdesc">There are default settings for the log4j features that are set
when the project is initially built.</p>
<div class="section">The log4j property file is found in the <span class="ph filepath"><var class="keyword varname">project
name</var>/WEB-INF/config</span> directory. This property file sets
the log4j features for all models within the project. Within the log4j property
file there are 5 priority levels: This set of priorities has the following
hierarchy:<p class="p">DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL.</p>
<p class="p">This hierarchy
implies that DEBUG is the most verbose and FATAL is the most restrictive.
This means that if you set the priority level at ERROR, it will enable the
program to write all messages with a priority level of ERROR or FATAL to the
log. But it will not write any messages that have a priority less than ERROR
(namely DEBUG, INFO, and WARN). The default setting for all <span class="ph">IBM WebSphere Portlet Factory</span> projects
is WARN, except for the log file used for the category "debug tracing", which
defaults to INFO.</p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_set_loggingsvccllsql"><a name="t_set_loggingsvccllsql"><!-- --></a><h3 class="title topictitle3">Setting up logging in service call and SQL builders</h3>
<div class="body taskbody"><p class="shortdesc">Use the following procedure to set up logging in Service Call and
SQL builders.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Enable logging at the builder level. Do one of the following steps:</span></li>
<li class="li step stepexpand"><span class="ph cmd">Either: Open the builder edit page and locate the check box related
to logging.</span> For example, in the Service Call builder this box
is labeled, <span class="ph uicontrol">Log request/response</span>. In the SQL Call builder
there are three logging-related boxes: <span class="ph uicontrol">Log SQL Statements</span>, <span class="ph uicontrol">Log
SQL Warnings</span>, <span class="ph uicontrol">Log Server Stats</span>. You can
enable as many or few as you want.</li>
<li class="li step stepexpand"><span class="ph cmd">Or: Use the <span class="ph">IBM WebSphere Portlet Factory</span> Designer
Outline view to see which builders in your application support logging.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Press the <span class="ph uicontrol">Outline View</span> down arrow to
open the <span class="ph uicontrol">View</span> menu and select <span class="ph uicontrol">Debug Inputs</span>.</span> A window will pop up listing (by assigned name) all builders in
the model that offer built-in logging.</li>
<li class="li substep"><span class="ph cmd">Enable the logging check boxes in this window as desired and
click <span class="ph uicontrol">OK</span> to turn on the builder's built-in logging
functionality.</span> Once you click <span class="ph uicontrol">OK</span>,
your changes will be saved to the respective builders.</li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">View log output.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_logging_servicecall_sql"><a name="c_logging_servicecall_sql"><!-- --></a><h4 class="title topictitle4">About using built-in logging in Web Service Call and SQL Call builders</h4>
<div class="body conbody"><p class="shortdesc">The Web Service Call and SQL Call builders connect to resources
outside of your working model. Therefore, it is useful in development to be
able to log the events that occur within these builders to ensure that the
data from the resources is being accessed correctly.</p>
<div class="section">Before looking for an error in your model, determine that the builders
are acquiring valid data from the resource. The logging feature in these builders
allows you to log the communication between the model and the data resource.<p class="p">Web
Service Call and SQL Call builders write their output to the <span class="ph filepath">debugTracing.txt</span> log
located in the <span class="ph filepath">...\wpf.war\WEB-INF\logs</span> directory.</p>
<p class="p">For
the Web Service Call builder, the log4j features will log the initial call
of the model associated with the Web Service Call builder. It would then log
the web service call request with argument name, type and value
followed by the response, if any, with the same type information that was
logged in the request. With each log entry in the <span class="ph filepath">debugTracing.txt</span> is
the Time/Date, Category, Priority, Thread, and the Message.</p>
<p class="p">A typical
log entry might look as follows:</p>
<p class="p">Example of a request:</p>
<pre class="pre codeblock">*-- TIME: [2004-08-26 11:36:25,061] --*
Category: bowstreet.system.debugTracing
Priority: INFO
Thread: http-8080-Processor3
Msg: ServiceCall: arg name=registrationInfo class=com.bowstreet.util.IXml val=&lt;RegistrationRequest xmlns="http://bowstreet.com/registrationinfo"&gt;&lt;userName&gt;johnDoe&lt;/userName&gt;
&lt;firstName&gt;John&lt;/firstName&gt;
&lt;lastName&gt;Doe&lt;/lastName&gt;
&lt;address1&gt;200 Ames Pond Drive&lt;/address1&gt;
&lt;address2&gt;Suite 200&lt;/address2&gt;
&lt;city&gt;Tewks&lt;/city&gt;
&lt;state&gt;MA&lt;/state&gt;
&lt;zip&gt;02155&lt;/zip&gt;
&lt;phone&gt;9788631500&lt;/phone&gt;
&lt;email&gt;johnD@bowstreet.com&lt;/email&gt;
&lt;isBusiness&gt;true&lt;/isBusiness&gt;
&lt;/RegistrationRequest&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested2" xml:lang="en-us" id="t_vw_logfile"><a name="t_vw_logfile"><!-- --></a><h3 class="title topictitle3">Viewing a log</h3>
<div class="body taskbody"><p class="shortdesc">To view a log, navigate to the log file and open it in
a text editor.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Navigate to the log file location within the WAR.</span><ul class="ul choices"><li class="li choice">On <span class="ph">IBM WebSphere Application
Server</span>,
the path might be: <pre class="pre codeblock"><span class="ph filepath">WebSphere\AppServer\installedApps\<var class="keyword varname">cell_name</var>\<var class="keyword varname">project_name</var>.EAR\wpf.war\WEB-INF\logs</span></pre>
</li>
<li class="li choice">On <span class="ph">IBM Lotus Mashups</span>,
the path might be: <pre class="pre codeblock"><span class="ph filepath">IBM Mashup Center\mm_profile\installedApps\<var class="keyword varname">cell_name</var>\<var class="keyword varname">project_name</var>.EAR\wpf.war\WEB-INF\logs</span></pre>
</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">Locate the log file that interests you, and open and view
in a text editor, for example, Notepad.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_vw_consolemsg"><a name="t_vw_consolemsg"><!-- --></a><h3 class="title topictitle3">Viewing Console Messages</h3>
<div class="body taskbody"><p class="shortdesc">You can view the console messages generated by your IDE
(including System.out statements in builder generation classes) by
modifying the command property for the menu item or short cut you
use to launch <span class="ph">IBM WebSphere Portlet Factory</span> Designer.</p>
<div class="section context">To modify <span class="ph"> WebSphere Portlet
Factory</span> Designer
run command so that it displays a console:</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Open <span class="ph menucascade"><span class="ph uicontrol">Programs</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory</span> &gt; <span class="ph uicontrol">Designer</span></span> menu
item.</span></li>
<li class="li step"><span class="ph cmd">Right-click on <span class="ph uicontrol">Designer</span> and select <span class="ph uicontrol">Properties</span>.</span></li>
<li class="li step"><span class="ph cmd">In the <span class="ph"> WebSphere Portlet
Factory</span> Designer <span class="ph uicontrol">Properties</span> dialog,
add the <samp class="ph codeph">-debug -consolelog</samp> flags to the Target value.</span> For example, C:\eclipse\eclipsec.exe -debug -consolelog</li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">OK</span>.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic concept nested0" xml:lang="en-us" id="c_deploying"><a name="c_deploying"><!-- --></a><h1 class="title topictitle1">Publishing a project</h1>
<div class="body conbody"><p class="shortdesc">Use the <span class="ph"> WebSphere Portlet
Factory</span> Designer
Publish and Export commands to test a project and move an application
to a production environment. </p>
<p class="p">Follow this link <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewRecent.xsp?searchValue=deployment%2C%20publishing%2C%20exporting" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewRecent.xsp?searchValue=deployment%2C%20publishing%2C%20exporting</a> for more information about publishing or exporting a project.</p>
</div>
<div class="related-links"></div><div class="topic task nested1" xml:lang="en-us" id="t_cre_server_deploy_config"><a name="t_cre_server_deploy_config"><!-- --></a><h2 class="title topictitle2">Creating a server configuration</h2>
<div class="body taskbody"><p class="shortdesc">If you have existing server configurations that work, you
can use them in multiple projects. </p>
<div class="section context"><p class="p">Server configurations can be shared among projects. If
you do not have an appropriate server configuration, you need to add
a new configuration.</p>
</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Do one of the following steps. </span><ul class="ul choices"><li class="li choice">If you are running the New <span class="ph"> WebSphere Portlet
Factory</span> Project Creation wizard,
under <span class="ph uicontrol">Server Configuration</span>, click <span class="ph uicontrol">Create
Server Configuration</span></li>
<li class="li choice">Click <span class="ph menucascade"><span class="ph uicontrol">Windows</span> &gt; <span class="ph uicontrol">Preferences</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Designer</span> &gt; <span class="ph uicontrol">Server Configurations</span></span>, then click <span class="ph uicontrol">Add</span>. </li>
<li class="li choice">Click <span class="ph menucascade"><span class="ph uicontrol">Project</span> &gt; <span class="ph uicontrol">Properties</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Project Properties</span> &gt; <span class="ph uicontrol">Server Configurations</span></span>. Then,
click <span class="ph uicontrol">Create Server Configuration</span>. </li>
<li class="li choice">In Project Explorer, right-click the project and click <span class="ph menucascade"><span class="ph uicontrol">Properties</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory Project Properties</span> &gt; <span class="ph uicontrol">Server Configurations</span></span>. Then, click <span class="ph uicontrol">Create Server Configuration</span>.</li>
</ul>
 <p class="p">The Create Server Configuration dialog opens. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Choose the type and version of server and click <span class="ph uicontrol">OK</span>. </span> <p class="p">The application server configuration is used for testing
purposes whenever the project is run from within the <span class="ph"> WebSphere Portlet
Factory</span> Designer or for creating
WAR files that can be published to an application server. <span class="ph">The portal server configuration is used for running
the project inside of a portlet container like <span class="ph">WebSphere Portal</span> server.</span></p>
<ul class="ul choices"><li class="li choice"><span class="ph">IBM WebSphere Application
Server</span> Community
Edition 2.1</li>
<li class="li choice"><span class="ph">WebSphere Application
Server</span> and
Mashup Center 2.0</li>
<li class="li choice"><span class="ph">WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span> 6.1</li>
<li class="li choice"><span class="ph">WebSphere Application
Server</span> <span class="ph">and <span class="ph">WebSphere Portal</span> </span> 7.x</li>
<li class="li choice">Tomcat.</li>
</ul>
 The Edit Server Configuration dialog displays with default
entries for the server selected.</li>
<li class="li step stepexpand">Optional: <span class="ph cmd">The <span class="ph uicontrol">Configuration Name</span> has
default text, but can be edited to better describe the server target.</span></li>
<li class="li step stepexpand">Optional: <span class="ph cmd">The <span class="ph uicontrol">Description</span> has
default text, but can be edited to better describe the use of the
configuration.</span></li>
<li class="li step stepexpand"><span class="ph cmd">The <span class="ph uicontrol">Server Type</span> selected displays.
The input fields under <span class="ph uicontrol">Server Configuration Details</span> vary
depending on the server type selected. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Provide the settings necessary to have <span class="ph">IBM WebSphere Portlet Factory</span> Designer generate a
WAR  to run applications in
the proper framework.</span> <div class="p">Use the following list as a guide
to understand the inputs required under <span class="ph uicontrol">Server Configuration
Details</span>. <dl class="dl"><dt class="dt dlterm">Admin Password</dt>
<dd class="dd"><p class="p">For <span class="ph">IBM WebSphere Application
Server</span> Community
Edition 2.1, and <span class="ph">WebSphere Application
Server</span> <span class="ph">and <span class="ph">IBM WebSphere Portal</span></span> server
6.1.</p>
<p class="p">Enter the password for the <span class="ph">WebSphere Application
Server</span> administrator.</p>
</dd>
<dt class="dt dlterm">Admin User</dt>
<dd class="dd"><p class="p">For <span class="ph">IBM WebSphere Application
Server</span> Community
Edition 2.1, and <span class="ph">WebSphere Application
Server</span> <span class="ph"> and <span class="ph">IBM WebSphere Portal</span> server </span> 6.1.</p>
<p class="p">Enter
the user name of the <span class="ph">WebSphere Application
Server</span> administrator. <span class="ph">This name is probably different than the <span class="ph">WebSphere Portal</span> server administrator's
user name. </span></p>
</dd>
<dt class="dt dlterm">Server Host</dt>
<dd class="dd"><p class="p">For <span class="ph">WebSphere Application
Server</span> <span class="ph">and <span class="ph">WebSphere Portal</span></span> 6.1,
and <span class="ph">WebSphere Application
Server</span> <span class="ph">and <span class="ph">WebSphere Portal</span></span> 7.x</p>
<p class="p">Enter
the server host name. The default is localhost.</p>
</dd>
<dt class="dt dlterm">Installed Application Dir</dt>
<dd class="dd"><p class="p">For <span class="ph">WebSphere Application
Server</span> <span class="ph">and <span class="ph">WebSphere Portal</span> </span> 6.1, <span class="ph">IBM WebSphere Application
Server</span> Community Edition
2.1, and Tomcat.</p>
<div class="p">Choose the path to the <span class="ph filepath">installedApps</span> folder
for your application server. For example: <pre class="pre codeblock"><span class="ph filepath">c:\Program Files\WebSphere\AppServer\installedApps\<var class="keyword varname">cell_name</var></span></pre>
</div>
<p class="p">The
wizard displays an error message at the top if you choose an invalid
folder or enter an invalid <var class="keyword varname">cell_name</var>.</p>
</dd>
<dt class="dt dlterm">Portlet API</dt>
<dd class="dd"><p class="p">For<span class="ph">WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span> 6.1, and <span class="ph">WebSphere Application
Server</span> <span class="ph">and <span class="ph">WebSphere Portal</span> </span> 7.x.</p>
<div class="p">Select
the interface to be used in your portlets with this configuration. <ul class="ul"><li class="li">Java Portlet Standard 2.0 ( JSR 286) is supported in <span class="ph">WebSphere Portal</span> 6.1 and later or
Rational Application Developer Portal Unit Test Environment.</li>
<li class="li">Java Portlet Standard 1.0 (JSR 168) is supported in <span class="ph">WebSphere Portal</span>  6.0 and later
or Rational Application Developer Portal Unit Test Environment. </li>
</ul>
</div>
</dd>
<dt class="dt dlterm">Server Host</dt>
<dd class="dd"><p class="p">This field appears for <span class="ph">IBM WebSphere Application
Server</span> Community Edition
2.1 and Tomcat.</p>
<p class="p">Provide the host name of the application server
or enter <samp class="ph codeph">localhost</samp>.</p>
</dd>
<dt class="dt dlterm">Server Port</dt>
<dd class="dd"><p class="p">This field appears for <span class="ph">IBM WebSphere Application
Server</span> Community Edition
2.1 and Tomcat</p>
<p class="p">Provide the port number for the application server
instance you have designated. </p>
<p class="p">On a <span class="ph">WebSphere Application
Server</span> Community Edition
installation, the default port is 8080.</p>
<div class="note note"><span class="notetitle">Note:</span> The actual port numbers
may differ from those listed. Launching a browser window that opens
the application server is the best way to know for sure what the hostname
and port number is. On the machine where the application server is
installed, use the following procedure to determine the port information. <ul class="ul"><li class="li">For <span class="ph">WebSphere Portal</span>,
click <span class="ph menucascade"><span class="ph uicontrol">Start</span> &gt; <span class="ph uicontrol">All Programs</span> &gt; <span class="ph uicontrol">WebSphere Portal</span> &gt; <span class="ph uicontrol">First Steps</span></span> and then click the <span class="ph uicontrol">Launch WebSphere Portal</span> link.</li>
<li class="li">For <span class="ph">WebSphere Application
Server</span> Community
Edition, click <span class="ph menucascade"><span class="ph uicontrol">Start</span> &gt; <span class="ph uicontrol">All
Programs</span> &gt; <span class="ph uicontrol">IBM WebSphere</span> &gt; <span class="ph uicontrol">Application
Server Community Edition</span> &gt; <span class="ph uicontrol">Administrative console</span></span>. </li>
<li class="li">For <span class="ph">Lotus Mashups</span>,
click the Admin console.</li>
</ul>
</div>
<p class="p">Complete port information is available in the Websphere
Administration Console in the Servers section under <span class="ph menucascade"><span class="ph uicontrol">Configuration</span> &gt; <span class="ph uicontrol">Ports</span></span>. Alternatively, ask the server administrator for the
correct hostname and port number.</p>
</dd>
<dt class="dt dlterm">SOAP Connector Port</dt>
<dd class="dd"><p class="p">For <span class="ph">WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span> 6.1, and  <span class="ph">WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span> 7.x</p>
<p class="p">Enter
the port number for the SOAP Connector. The default is 10033.</p>
To
verify the SOAP Connector Port for your server, login to the <span class="ph">WebSphere Application
Server</span>  Administration
console.  <ol class="ol" type="a"><li class="li">Click <span class="ph menucascade"><span class="ph uicontrol">Servers</span> &gt; <span class="ph uicontrol">Application
Servers</span></span></li>
<li class="li">Select the Application Server where you will be publishing.</li>
<li class="li">Click on <span class="ph uicontrol">Ports</span></li>
<li class="li">The SOAP Connector Port will be displayed in the table.</li>
</ol>
</dd>
<dt class="dt dlterm">User Name</dt>
<dd class="dd"><p class="p"><span class="ph">WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span> 6.1, and  <span class="ph">WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span> 7.x</p>
<p class="p">Enter
the user name for this server configuration.</p>
</dd>
<dt class="dt dlterm">Password</dt>
<dd class="dd"><p class="p"><span class="ph">WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span> 6.1, and  <span class="ph">WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span> 7.x</p>
<p class="p">Password
for the user name.</p>
</dd>
</dl>
</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">For all configurations except Tomcat
and <span class="ph">IBM WebSphere Application
Server</span> Community
Edition 2.1, click <span class="ph uicontrol">Test Server Connection</span> to
verify the connection to the server.</span> <p class="p">If you receive
an error, ensure that your server is running and click <span class="ph uicontrol">Test
Server Connection</span> again. Click <span class="ph uicontrol">OK</span> to
continue.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> to continue.</span></li>
<li class="li step stepexpand">Optional: <span class="ph cmd">If you are running the Server Configuration
dialog of the Project Creation wizard, click <span class="ph uicontrol">Finish</span> to
create the project.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="overviewdeployment"><a name="overviewdeployment"><!-- --></a><h3 class="title topictitle3">Overview: publishing and exporting</h3>
<div class="body conbody"><p class="shortdesc">Once you create your project, you will want to publish
it to a development server for testing and when testing is complete,
you will want to export it to a production server.</p>
<p class="p">You can configure your server environment to synchronize files
automatically when project files change, but you can also publish
your project manually.</p>
<div class="p">Your publishing options are:<ul class="ul"><li class="li"> Publish to a development environment on a locally-installed server.
For example, a <span class="ph">WebSphere Application
Server</span> Community
Edition (CE), <span class="ph">IBM WebSphere Portal</span>,
or <span class="ph">Lotus Mashups</span> server.</li>
<li class="li">Publish to a development environment on a remote server. For example,
a <span class="ph">WebSphere Application
Server</span> server<span class="ph"> or a<span class="ph">IBM WebSphere Portal</span> server</span>. </li>
</ul>
You can export your project as a<ul class="ul"><li class="li">WAR file for testing use.</li>
<li class="li"><span class="ph"> WebSphere Portlet
Factory</span> Application
Sever WAR for use with <span class="ph">WebSphere Application
Server</span>.</li>
<li class="li"><span class="ph"> WebSphere Portlet
Factory</span> Portlet
WAR - Use this option if you are working with a portal environment.
For example, <span class="ph">WebSphere Portal</span> 
server, or if you are installing to a <span class="ph">WebSphere Application
Server</span> Portlet Container.</li>
<li class="li"><span class="ph"> WebSphere Portlet
Factory</span> WAB
for Rich Client - Use this option if you are working with a rich client
platforms such as <span class="ph">IBM Lotus Expeditor</span>,
and <span class="ph">IBM Lotus
Notes</span>.</li>
<li class="li"><span class="ph"> WebSphere Portlet
Factory</span> ZIP archive
- use this option to create an archive Zip file to use to package
resources to share with another developer, for example.</li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="deploying_to_a_remote_server"><a name="deploying_to_a_remote_server"><!-- --></a><h4 class="title topictitle4">About publishing a project to a remote server</h4>
<div class="body conbody"><p class="shortdesc">If your server is not installed locally, you must perform
some configuration activities to publish to a remote server. </p>
<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#deploying_to_a_remote_server__remoteserver">Remote server publishing</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#deploying_to_a_remote_server__issueslinux">Issues for Linux platforms</a></li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#deploying_to_a_remote_server__nativeapi">Issues for WebSphere Native API WARs</a></li>
</ul>
<div class="section" id="deploying_to_a_remote_server__remoteserver"><a name="deploying_to_a_remote_server__remoteserver"><!-- --></a><h5 class="title sectiontitle">Remote server publishing</h5><p class="p">Often
you do not install <span class="ph">IBM WebSphere Application
Server</span>, <span class="ph">WebSphere Application
Server</span> Community Edition, <span class="ph"><span class="ph">IBM WebSphere Portal</span> server, </span> or <span class="ph">IBM Lotus Mashups</span> on your local
system. If you create the project in the locally-installed <span class="ph">IBM WebSphere Portlet Factory</span> Designer,
it is necessary to publish the project on a remote server.  </p>
<p class="p">If
the target server is installed on a machine accessible across the
network, your local machine needs to have mapped drives, mounted file
systems, or Universal Naming Convention (UNC) paths that point to
certain directories on the remote server. In the project configuration,
references to these mapped drives, mounted systems, or UNCs cause
the application EARs and <span class="ph">portlet </span>WARs to be
published to the correct locations on the remote servers.</p>
</div>
<div class="section"><p class="p">If you create the project in the locally-installed <span class="ph"> WebSphere Portlet
Factory</span> Designer, and do not
have a locally-installed <span class="ph">IBM Lotus Mashups</span> or <span class="ph">WebSphere Application
Server</span> Community Edition
server, you must publish the project on a remote server. </p>
<p class="p">If <span class="ph">Lotus Mashups</span> or <span class="ph">WebSphere Application
Server</span> CE is installed
on a machine accessible across the network, your local machine needs
to have mapped drives, mounted file systems, or Universal Naming Convention
(UNC) paths that point to certain folders on the remote server. In
the project configuration, references to these mapped drives, mounted
systems, or UNCs cause the application WARs to be published to the
correct locations on the remote servers.</p>
</div>
<div class="section"><p class="p">Publishing <span class="ph">portlets, </span>web applications
and widgets to remote servers involves sharing directories and mapping
drives, or mounting file systems. Certain specific directories must
be shared on the servers and those directories must be mapped to drives
or mounted to the file systems on the development workstation. </p>
<p class="p">There
are differences in the default directory structure between different
versions of <span class="ph">WebSphere Application
Server</span> installations.
These differences dictate which directories need to be shared for
remote publishing to work correctly. The following are the critical
directories. </p>
<div class="p"><ul class="ul"><li class="li">The <span class="ph filepath">installableApps</span> directory<p class="p">If your version
of <span class="ph">WebSphere Application
Server</span> does not
use profiles, share the  parent directory of the <span class="ph filepath">installableApps</span> directory
in the <span class="ph">WebSphere Application
Server</span> file
system. </p>
</li>
<li class="li">The <span class="ph filepath">installedApps</span> directory<p class="p">If your version
of <span class="ph">WebSphere Application
Server</span> does not
use profiles, share the  parent directory of the <span class="ph filepath">installedApps</span> directory
in the <span class="ph">WebSphere Application
Server</span> file
system. </p>
</li>
<li class="li">The <span class="ph filepath">PortalServer</span> directory</li>
<li class="li">If your version of <span class="ph">WebSphere Portal</span> uses profiles,
share the profile directories. </li>
</ul>
These directories are not in the same location in default installations
of different versions of the servers. </div>
<p class="p">For security reasons,
it is best to share a directory as far down the hierarchy as is permissible.
If the shared directory is too far down, however, <span class="ph"> WebSphere Portlet
Factory</span> Designer does not
have access to everything it needs. Therefore, ensure that the sharing
and mapping or mounting are done correctly. </p>
</div>
<div class="section" id="deploying_to_a_remote_server__issueslinux"><a name="deploying_to_a_remote_server__issueslinux"><!-- --></a><h5 class="title sectiontitle">Issues for Linux platforms</h5><div class="p">Several
unique issues face users when remotely publishing to Linux. You need
to:<ul class="ul"><li class="li">Share the WebSphere directories with write access for non-root
users.</li>
<li class="li">Mount the remote WebSphere directory or directories with write
access for non-root users. </li>
<li class="li">Create a server configuration that points to the remote system.
In most cases this is the mount directory.</li>
</ul>
</div>
<p class="p">The contents of the <span class="ph filepath">/opt/IBM/PortalServer</span> directory
also needs to be accessible, so share this directory too. </p>
<div class="p">Consequently,
on the development machine, mount the following directories: <ul class="sl simple"><li class="sli"><span class="ph filepath">AppServer</span> </li>
<li class="sli"><span class="ph filepath">PortalServer</span> </li>
</ul>
</div>
</div>
<div class="section" id="deploying_to_a_remote_server__nativeapi"><a name="deploying_to_a_remote_server__nativeapi"><!-- --></a><h5 class="title sectiontitle">Issues for WebSphere
Native API WARs</h5><div class="p">If you create a <span class="ph"> WebSphere Portlet
Factory</span> project but do not
set up a server configuration for the project, you  encounter errors.
If you build a portal server WAR for production export with the WebSphere Native portlet API
and install the generated WAR to the <span class="ph">WebSphere Portal</span> server in the portal
administration page, the errors occur because you did not set up a
server configuration for the project in <span class="ph"> WebSphere Portlet
Factory</span> Designer and build
a portlet for the project. As a result, the necessary <span class="ph filepath">pbportlet.jar</span> file
is not in the project <span class="ph filepath">WEB-INF/lib</span> folder. To
avoid the errors, you can take one of the following actions.  <ul class="ul"><li class="li">Set up a WebSphere Native
configuration and set the project property to use it as the server
configuration. Then build the portlet WAR. The <span class="ph filepath">pbportlet.jar</span> file
is copied from the server to the required project folder. </li>
<li class="li">Access the <span class="ph filepath">pbportlet.jar</span> file from the <span class="ph">WebSphere Portal</span> server and copy
it to the required project folder. </li>
</ul>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="permissionsissueswithpublishingportletanddevelopmentwarsinunixenvironments"><a name="permissionsissueswithpublishingportletanddevelopmentwarsinunixenvironments"><!-- --></a><h4 class="title topictitle4">Publishing portlet and development wars in UNIX environments
and permissions issues</h4>
<div class="body conbody"><p class="shortdesc">Publishing portlet and development wars for <span class="ph">IBM WebSphere Application
Server</span> and <span class="ph">IBM WebSphere Portal</span> servers running
on Linux and UNIX environments may cause permission issues.</p>
<p class="p"><strong class="ph b">File permission issues</strong></p>
<p class="p">Both automatic and manual publishing of a development or portlet
war are processed by the <span class="ph">WebSphere Application
Server</span> and <span class="ph">WebSphere Portal</span>  server. During
this publishing process files and folders are created inside of <span class="ph filepath">installedApps/ </span>directory.
This is where <span class="ph"> WebSphere Portlet
Factory</span> write
files to the published war file during the development process. The
files get copied over from the Eclipse copy task when a model is saved
or when another copy action takes place using a mapped or mounted
file system. </p>
<p class="p">If the <span class="ph">WebSphere Application
Server</span> / <span class="ph">WebSphere Portal</span> server is running
as the user 'root', then the published files will be owned by the
'root' user. In general, anyone running Eclipse, or writing to the
mapped or mounted file system will not be performed as 'root'. This
will cause Eclipse errors and the new or updated files will not be
correctly written to the published war directory. </p>
<p class="p"><strong class="ph b">Approaches</strong></p>
<div class="p">While each hardware and software environment will need to be addressed
on a case by case basis, you may find these general approaches to
be helpful:<ol class="ol"><li class="li">Run your <span class="ph">WebSphere Application
Server</span> / <span class="ph">WebSphere Portal</span> server as a different
user than root, and run it as someone who is in the same group as
the <span class="ph"> WebSphere Portlet
Factory</span> developer,
so that the <span class="ph"> WebSphere Portlet
Factory</span> developer
has write permissions.</li>
<li class="li">Modify the access to the installable and installed applications
directory, so that any subfolder created under it is owned by a group
that the <span class="ph"> WebSphere Portlet
Factory</span> developer
is a member. For example, you could execute these commands for the
group "wpfdev":<pre class="pre codeblock">chgrp wpfdevs installedApps/ 
chmod g+ws installedApps/ </pre>
and then make your "wpfdev"
user a member of the "wpfdevs" group.</li>
<li class="li">With <span class="ph">WebSphere Application
Server</span> running,
open the administration console, and navigate to: <span class="ph menucascade"><span class="ph uicontrol">Application servers</span> &gt; <span class="ph uicontrol">WebSphere_Portal</span> &gt; <span class="ph uicontrol">Process Execution</span></span>&gt; &gt; . Change
the umask value to 002. Change the run as group' to wpfDevs Perform
the same step for server1. This will allow you to change the file
permissions for the portal server. Any file written by the portal
server will now have read / write execute permissions for the portal
user, and the group to which the portal user belongs.</li>
</ol>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_war_at_create"><a name="c_war_at_create"><!-- --></a><h3 class="title topictitle3">WAR interactions at project creation</h3>
<div class="body conbody"><p class="shortdesc">When you create your project, you can create a development
WAR. </p>
<div class="section"><p class="p">If you create a development WAR, you are asked whether
to publish it.</p>
<p class="p">While most application servers dynamically publish
WAR files, some do not. Consult the documentation for your application
server to find out if automatic publishing of WAR files is supported.
If not, you need to manually publish the development WAR each time
you make changes to your project.</p>
<p class="p"><span class="ph">IBM WebSphere Application
Server</span> supports automatic
publishing. </p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_auto_war_deploy_was"><a name="c_auto_war_deploy_was"><!-- --></a><h4 class="title topictitle4">Automatic Project Synchronization</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph"> WebSphere Portlet
Factory</span> Designer
automatic synchronization of war files on local and remote development
systems. </p>
<div class="section"><div class="p">This feature keeps you from having to publish
your project each time you make a change. When a change is made to
your project the update will automatically be updated on the server. <div class="note note"><span class="notetitle">Note:</span> Some
changes to your project will require a republish, for example adding
a Portlet Adaptor Builder.</div>
There are two ways to setup Automatic
synchronization in <span class="ph"> WebSphere Portlet
Factory</span>:<ol class="ol"><li class="li">Automatic synchronization is set up in the <span class="ph"> WebSphere Portlet
Factory</span> Project Properties
dialog. <ol class="ol" type="a"><li class="li">Right click your project and select properties </li>
<li class="li">Select <span class="ph"> WebSphere Portlet
Factory</span> Project
Properties</li>
<li class="li">Chose a Synchronize Mode to indicate how you want copy the development
WAR file.  Choose Direct to specify a file location or http to use
the default installedapps directory.</li>
<li class="li">If you chose the Direct synchronize mode, In the Development WAR
Location field, enter the location of the war file for your published
project. See below on how to determine the location of your project
war file. </li>
</ol>
</li>
<li class="li">The first time you publish a project, if your Application Server
is local, the location for automatic synchronization is created for
you. If your Application server is remote, you will be prompted for
the Published application location. You can select HTTP to use the
default installedapps directory and the http protocal to update the
project. To use Direct synchronize you will need to create a mapped
drive to the published application or use a UNC path. </li>
</ol>
<strong class="ph b">Determining the location of your published application</strong><ul class="ul"><li class="li">On a locally installed application server <span class="ph"> WebSphere Portlet
Factory</span> will detect the location
of your published application when you first publish it.</li>
<li class="li">On a remotely installed application server you can find the installed
application in the following location. <span class="ph filepath">AppServerInstallationDir/profileFolder/InstalledApps/cellName</span> For
Example: For IBM Mashup Center it would be <span class="ph filepath">IBM\Mashup Center\2.09_7\mm_profile\installedApps\ktuttleT60Node01Cell </span> For <span class="ph">IBM WebSphere Application
Server</span>  only
install it would be <span class="ph filepath">websphere\AppServer\profiles\AppSrv01\installedApps\pfsles9was7Cell01</span></li>
</ul>
</div>
<p class="p">The following caveats apply when you choose to auto-synchronize
WAR files:</p>
<ul class="ul"><li class="li">The automatic synchronization feature is intended as a convenience
for development use only. You should not use automatic synchronization
to place a WAR file in a production environment.</li>
<li class="li">The <span class="ph">WebSphere Portal</span> server
you are publishing to must be running.</li>
<li class="li">You do have to develop a project on WebSphere to Export it to
a production WebSphere server. <span class="ph">For example, for
convenience sake you might develop a portlet on Tomcat or <span class="ph">IBM WebSphere Application
Server</span> CE and choose <span class="ph uicontrol">Publish
Application</span> of the portlet WAR file to <span class="ph">WebSphere Portal</span>.</span></li>
<li class="li">When automatic synchronization is enabled, you must not manually
un-install and republish a WAR file. Doing so will result in problems
with the WAR file and <span class="ph"> WebSphere Portlet
Factory</span> publishing
logic. You can, however, un-install a WAR file using the server Admin
tool.</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_dply_app"><a name="t_dply_app"><!-- --></a><h2 class="title topictitle2">Export for production</h2>
<div class="body taskbody"><p class="shortdesc">If you need to create a WAR or WAB file and you already
have a server configuration defined, you can export your application
for production. </p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the Eclipse Project Explorer, right-click the project
and click the following:</span><ul class="ul choices"><li class="li choice"><span class="ph menucascade"><span class="ph uicontrol">Export</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Application WAR</span></span><p class="p">Use this command if you are using an
application server, for example, <span class="ph">IBM WebSphere Application
Server</span>.</p>
<div class="note note"><span class="notetitle">Note:</span> <span class="ph"><span class="ph">WebSphere Application
Server</span> Community
Edition is supplied to enable quick and easy development and testing
of applications solely for the purpose of getting started with <span class="ph"> WebSphere Portlet
Factory</span> Designer.  It is a
best practice to utilize a local development environment that matches
the target production deployment platform. (For example, you should
utilize <span class="ph"><span class="ph">IBM WebSphere Portal</span></span> as
your local development environment if applications are to be ultimately
deployed to <span class="ph"><span class="ph">IBM WebSphere Portal</span></span> 
in production). </span></div>
</li>
<li class="li choice"><span class="ph menucascade"><span class="ph uicontrol">Export</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Portal WAR</span></span><p class="p">Use this command if you are developing in a portal
environment. For example, <span class="ph">IBM WebSphere Portal</span> server.</p>
</li>
<li class="li choice"><span class="ph menucascade"><span class="ph uicontrol">Export</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory WAB for rich client</span></span><p class="p">Use
this command if you are developing in a rich client environment and
need to create a Web Application Bundle (WAB). For example, <span class="ph">IBM Lotus
Notes</span> client.</p>
</li>
</ul>
</li>
<li class="li step stepexpand"><span class="ph cmd">At the prompt, specify where the WAR or WAB file is to
be saved.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="automationandscriptingofpublishingandexporting"><a name="automationandscriptingofpublishingandexporting"><!-- --></a><h2 class="title topictitle2">Automation and scripting of publishing and exporting</h2>
<div class="body conbody"><p class="shortdesc">This section contain information about using scripts and
automation when publishing and exporting your projects.</p>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="generatingawarfileusingthecommandline"><a name="generatingawarfileusingthecommandline"><!-- --></a><h3 class="title topictitle3">Generating a WAR file using the command line</h3>
<div class="body conbody"><p class="shortdesc">You can use Ant scripting to generate a WAR file from the
command line.</p>
<div class="section"><h4 class="title sectiontitle">Using the projectDeploy.xml script to start your WAR
generation</h4><div class="p">The <span class="ph filepath">projectDeploy.xml</span> script
contains all of the necessary Ant tasks for generating war files using
Ant on a command line. This script is located is the <span class="ph filepath">WebContent</span> directory
of every <span class="ph"> WebSphere Portlet
Factory</span> project.
The easiest way to create a war file to invoke this script for an
existing project.  Do this by navigating to the project’s <span class="ph filepath">WebContent</span> root,
and using Ant with this syntax, where this task will build a production
standalone web application war from an existing project:<pre class="pre codeblock">Ant –f projectDeploy.xml buildDeploymentWar  </pre>
</div>
<div class="p">In this example, this task
will build a portlet war from an existing project:<pre class="pre codeblock">Ant –f projectDeploy.xml buildPortletWar -D*PORTLETAPI*</pre>
Where
*PORTLETAPI* is one of the following:<pre class="pre codeblock">	wpf.portletapi.target=build286StandardPortletWar
	wpf.portletapi.target=buildStandardPortletWar</pre>
</div>
</div>
<div class="section"><h4 class="title sectiontitle">Creating a <span class="ph">IBM Lotus Widget
Factory</span> war
file from the command line</h4><p class="p">The command is </p>
<pre class="pre codeblock">Ant -f projectDeploy.xml buildWidgetWar</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="automatingadeployment"><a name="automatingadeployment"><!-- --></a><h3 class="title topictitle3">Automating the generation of WAR files</h3>
<div class="body conbody"><p class="shortdesc">You can easily automate the creation of <span class="ph">portlet
and </span> standalone war files, without a full product install on
the build system by using Ant and command line scripting. </p>
<div class="section"><h4 class="title sectiontitle">Automating WAR generation</h4><p class="p">These commands
work well within an existing project. However, on a build machine
it makes more sense to only check in the developer contributed content,
leaving out the <span class="ph"> WebSphere Portlet
Factory</span> 
runtime. This greatly simplifies testfix and feature upgrades and
reduces clutter in the project.  </p>
<p class="p">The ideal source control project
environment would contain all of the models, profilesets, java source,
config files, dynamic content, and any runtime files that the individual
developer may have overridden. Along with the this content, a few
other <span class="ph"> WebSphere Portlet
Factory</span> generated
files need to exist in the project as well. The following files need
to be included on a per-project basis, but are be excluded from the
generated war files</p>
</div>
<div class="section"><h4 class="title sectiontitle">Setting up your source system environment</h4><p class="p">Follow
these general steps to establish a source system environment.</p>
<ol class="ol"><li class="li">Set up the <span class="ph filepath">.deployment</span>/ folder<p class="p">This folder
can be found at the project root location. It includes all of the
necessary files for generating <span class="ph">portlet and </span> standalone
war files and several exclude files, which the individual developer
can modify (on a per-project basis), to remove certain files from
the generated war file. Check in this file into the project root directory.</p>
</li>
<li class="li">Use the <span class="ph filepath">projectDeploy.xml</span> script is your
main script for using Ant tasks to generate war files. This script
needs to be in the project <span class="ph filepath">Webcontent</span> Root.<div class="p">Once
you have added the project to source control, then add the runtime
zip and <span class="ph"> WebSphere Portlet
Factory</span> Packages<span class="ph">, and <span class="ph filepath">pbportlet.jar</span></span> files.
Ideally these files would live in a third-party folder. <span class="ph">The <span class="ph filepath">pbportlet.jar</span> file
is not shipped with the product and must be obtained from an existing <span class="ph">WebSphere Portal</span> installation.
Unless you are expecting to build <span class="ph"> WebSphere Portlet
Factory</span>-Native portlet wars,
the jar will not be needed. </span> A project directory structure for
third party objects, in source control, might resemble the following:<pre class="pre codeblock">/3rdParty/
  WPF6.1.2/
     /Images/
	factory6.1.2.zip
     /Packages
           BuildingModels.pkg
           collaboration.pkg
           ContentModel.pkg
           etc..	</pre>
<pre class="pre codeblock">    /WebSphere Portal
           pbportlet.jar</pre>
Copy the Packages manually from
a existing installation of <span class="ph"> WebSphere Portlet
Factory</span>,
and then generate the <span class="ph"> WebSphere Portlet
Factory</span> image
file from an Ant task within <span class="ph filepath">projectDeploy.xml</span>.
This task requires an installation of the <span class="ph"> WebSphere Portlet
Factory</span> to be present during
file creation and is generally preformed on a separate system. The <span class="ph"> WebSphere Portlet
Factory</span> Image is a zip file
that contains all of the <span class="ph"> WebSphere Portlet
Factory</span> core
runtime files that are necessary for an existing WAR. This zip file
does not contain the <span class="ph filepath">.deployment</span> directory. This
image file is essentially the runtime version of the project. You
may find it useful to create several different runtime versions of
the product if needed. It is also expected that runtime images will
need to be recreated when you apply fixpacks and testfixes. Copy fixes
that require Package changes into the suggested third part Packages
directory. You will need to create a new copy of the runtime image
for fixes that do not ship with a Package. The creation of runtime
images are discussed in the following section.</div>
</li>
</ol>
</div>
<div class="section"><h4 class="title sectiontitle">Ant tasks within projectDeploy.xml you can use to
create your own scripts</h4><p class="p">The following additional Ant tasks
in <span class="ph filepath">projectDeploy.xml</span> can be used for generating
war files in a build environment:</p>
<dl class="dl"><dt class="dt dlterm">makeFactoryImage (for command line use only)</dt>
<dd class="dd">Use this task to create the factory image zip file for the build
system. The <span class="ph"> WebSphere Portlet
Factory</span> image
contains the core factory runtime data. This data is gathered from
the Templates directory of a <span class="ph"> WebSphere Portlet
Factory</span> install. The task
takes two arguments:<dl class="dl"><dt class="dt dlterm">runtime.image </dt>
<dd class="dd">name and full path for the exported <span class="ph"> WebSphere Portlet
Factory</span> image zip</dd>
<dt class="dt dlterm">image.root </dt>
<dd class="dd">full path to the factory Templates directory, for example: <span class="ph filepath">/IBM/PortletFactory/Designer/Packages/Web-App_6.1.2/Templates</span></dd>
</dl>
<p class="p">This task should only be invoked to generate an
initial <span class="ph"> WebSphere Portlet
Factory</span> image,
and to pickup changes made from product fixes and upgrades.</p>
</dd>
</dl>
<dl class="dl"><dt class="dt dlterm">expandFactoryImage </dt>
<dd class="dd">Use this task to expand a generated <span class="ph"> WebSphere Portlet
Factory</span> image zip onto an
existing project. Invoke this task before adding any Packages or compiling
of the project. By default the <span class="ph"> WebSphere Portlet
Factory</span> image will not overwrite
existing files that the individual developer has checked into their
project. Two parameters are required:<p class="p">runtime.image - the location
of the runtime image to extract </p>
<p class="p">project.location - the root
project location where the image will be extracted.</p>
</dd>
</dl>
<dl class="dl"><dt class="dt dlterm">addFeatureSet</dt>
<dd class="dd">Use this task to extract a Package for a given project. Call this
task after expandFactoryImage, since it relies on jar files that are
contained within the <span class="ph"> WebSphere Portlet
Factory</span> image.
Two parameters are used by the task:<p class="p">pkg – the location of the Package
to install </p>
<p class="p">webcontent.location – factory build WebContent root.</p>
</dd>
</dl>
<dl class="dl"><dt class="dt dlterm">setServerPortDefault </dt>
<dd class="dd">Call this task before generating any war files. It will set the
server port in the <span class="ph filepath">server.properties</span> file. This
task takes three parameters.<p class="p">webcontent.location - factory build
WebContent root.</p>
<p class="p">project.location - the root project location
that the image will be extracted to.</p>
<p class="p">http.port - (optional)
port number for server (otherwise defaults to 10000)</p>
</dd>
</dl>
<p class="p">The other Ant tasks within <span class="ph filepath">projectDeploy.xml</span>,
with the exception of the build war tasks, can be ignored. These tasks
are used exclusively by the <span class="ph"> WebSphere Portlet
Factory</span> designer.</p>
</div>
<div class="section"><h4 class="title sectiontitle">Sample script and property files</h4><p class="p">A sample
Ant <span class="ph filepath">build.xml</span>, and accompanied <span class="ph filepath">build.properties</span> file
has been included to aid in generating a build scripts. These files
are generic enough to be used in a custom project with little modification.
These sample files are located in the <span class="ph filepath">Designer\Packages\Web-App_6.1.2\Templates\Project\.deployment\buildsample</span> directory. </p>
<p class="p">The
script begins with a nightly target. This is the default task that
is called to generate the requested war files.</p>
<div class="p">The first task
is to generate the <span class="ph filepath">dist</span> and <span class="ph filepath">buildtmp</span> directories.
The <span class="ph filepath">dist</span> directory will contain the generated
user war files. The buildtmp.location is where the factory image and
Packages are installed. <pre class="pre codeblock">&lt;!-- create temp directory structure for building --&gt;
    &lt;mkdir dir="./dist" /&gt;
    &lt;mkdir dir="./${buildtmp.location}" /&gt;  </pre>
The next
step copies the source objects from the build directory into the build
temp directory.<pre class="pre codeblock">&lt;!-- create temp dir to build on top of --&gt;
    &lt;copy todir="${buildtmp.location}/.deployment"&gt;
      &lt;fileset dir="${buildsrc.location}/.deployment"/&gt;
    &lt;/copy&gt;    

    &lt;copy todir="${buildtmp.location}/WebContent"&gt;
      &lt;fileset dir="${buildsrc.location}/WebContent"/&gt;
    &lt;/copy&gt;    </pre>
Once the individual developer content
has been copied over, the factory image can be installed into the
build temp directory.<pre class="pre codeblock">&lt;!-- expand factory image into the webcontent.location --&gt;
   &lt;ant antfile="${webcontent.location}/projectDeploy.xml"
            target="expandFactoryImage" &gt;
    &lt;property name="runtime.image" value="../3rdParty/WPF6.1.2/Images/factory.zip" /&gt;
   &lt;/ant&gt;</pre>
The following steps installs the required
Packages into the build temp directory. This must be done after the
factory image has been extracted. For each featureset that is installed,
a new Ant call must be made.<pre class="pre codeblock">&lt;!-- add the required Packages  --&gt;
    &lt;ant antfile="${webcontent.location}/projectDeploy.xml" target="addFeatureSet" &gt;
      &lt;property name="pkg" value="../3rdParty/WPF6.1.2/Packages/ExcelBuilders.pkg" /&gt;
    &lt;/ant&gt;

&lt;!-- add the required Packages  --&gt;
    &lt;ant antfile="${webcontent.location}/projectDeploy.xml" target="addFeatureSet" &gt;
      &lt;property name="pkg" value="../3rdParty/WPF6.1.2/Packages/Dojo.pkg" /&gt;
    &lt;/ant&gt;</pre>
After the Packages have been installed, the
compile target should be called if any individual developer-contributed
source files exist. The task will assume that all source files exist
in the <span class="ph filepath">WEB-INF/work/source</span> directory.<pre class="pre codeblock">&lt;!-- build source files --&gt;
    &lt;ant antfile="${webcontent.location}/projectDeploy.xml" target="compile" /&gt;    </pre>
Before
any war files are generated, set the HTTP port on a per-war basis.
If you are building Deployment wars to run on separate servers with
separate port numbers, then this task will need to be called concurrently
with each war file generation. <pre class="pre codeblock">&lt;!-- Set the http.port parameter for the Standalone Deployment WAR --&gt;
    &lt;ant antfile="${webcontent.location}/projectDeploy.xml" target="setServerPort" &gt;
      &lt;property name="http.port" value="10000" /&gt;
    &lt;/ant&gt;</pre>
Lastly the generate war task is invoked.
Note that the last two steps will be repeated for any additional servers
(with differing port numbers)<span class="ph">, as well as any portlet
wars that will be generated</span>.<pre class="pre codeblock">&lt;!-- build a production standalone war --&gt;
    &lt;ant antfile="${webcontent.location}/projectDeploy.xml"  
            target="buildDeploymentWar" &gt;
    &lt;/ant&gt;</pre>
</div>
</div>
<div class="section"><h4 class="title sectiontitle">build.properties file components</h4><dl class="dl"><dt class="dt dlterm">build.properties</dt>
<dd class="dd">The included <span class="ph filepath">build.xml</span> sample has an associated <span class="ph filepath">build.properties</span> file.
This file contains both user modifiable values and a few constants
that should not be touched under normal circumstances. Most of the
properties in this file resemble the properties of a <span class="ph filepath">.bowstreet</span> file
found in a project workspace.</dd>
<dt class="dt dlterm">buildsrc.location </dt>
<dd class="dd">The root directory of the project in source control. This points
to the same directory that the WebContent and .Deployment folders
are located. This value must be an absolute path or the build script
will fail during war generation.</dd>
<dt class="dt dlterm">wpf.artifacts.dir</dt>
<dd class="dd">This is the root directory for the portlet factory files in source
control. The directory will contain factory images and Packages.</dd>
<dt class="dt dlterm">buildtmp.location </dt>
<dd class="dd">This property defines the working directory for the generation
of war files. In the sample this is a temporary directory within the
project. In the sample <span class="ph filepath">build.xml</span> script this
folder is created during the build.</dd>
<dt class="dt dlterm">builddist.location </dt>
<dd class="dd">The directory that the generated war files will be placed. In
the sample <span class="ph filepath">build.xml</span> file this folder is created
during the build.</dd>
<dt class="dt dlterm">c2a.lib.dir </dt>
<dd class="dd">The directory that contains the ‘<span class="ph filepath">pbportlet.jar</span>’
file. This jar is required for building WebSphere Native portlet wars
and is not shipped with the product. Copy this file from a <span class="ph">WebSphere Portal</span> Server installation.</dd>
<dt class="dt dlterm">project.name </dt>
<dd class="dd">The name of the project that is being built. This value should
be a unique. If you are generating multiple copies of <span class="ph">portlet
or </span> production war files, this parameter should be passed, with
additional unique values, to each subsequent buildDeploymentWar <span class="ph">or buildPortletWar </span> Ant invocation.</dd>
<dt class="dt dlterm">version </dt>
<dd class="dd">The current major  <span class="ph"> WebSphere Portlet
Factory</span> 
version that the script will be using.</dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> The following properties are for advanced users
and may be left as-is under normal circumstances.</div>
<dl class="dl"><dt class="dt dlterm">project.location </dt>
<dd class="dd">The project root directory for a build process. This parameter
should be identical to buildtmp.location, but is used by external
Ant tasks and needs to be defined.</dd>
<dt class="dt dlterm">webcontent.location </dt>
<dd class="dd">The WebContent directory for a build process. This parameter should
be a subdirectory of the project.location. It is used by an external
Ant tasks and needs to be defined.</dd>
<dt class="dt dlterm">build.deployment.war.builddir </dt>
<dd class="dd">This property defines the deployment war location for the buildDeploymentWar
Ant task. This value is usually defined in the builddist.location
property.</dd>
<dt class="dt dlterm">wpf.portletwar.location  </dt>
<dd class="dd">This is similar to the build.deployment.war.builddir property
except it specifies the output directory for generated portlet wars.
This value is usually defined in the builddist.location property.</dd>
</dl>
</div>
<div class="section"><h4 class="title sectiontitle">Multiple wars in the same project</h4><p class="p">If for
some reason you need two copies of <span class="ph filepath">projectName.war</span> (for
example, one with widgets and one without), set the project.name parameter
to avoid overwriting existing war files. If you needed to create any
of those different types of wars more than once, you will need to
change this parameter. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_extending_a_deployment"><a name="c_extending_a_deployment"><!-- --></a><h3 class="title topictitle3">Extending your published application</h3>
<div class="body conbody"><p class="shortdesc">You can write ant scripts to extend a project's functionality
or perform publishing operations that you would otherwise have to
do manually.</p>
<p class="p"> Scripts can be made to execute automatically before you publish
a project or after you publish.</p>
<p class="p">For example, you might write a script to execute before the Publish
Application function starts that adds a servlet to the project's web.xml
file to configure a feature set, setting properties, or updating servlet
definitions and mappings. A script that you write to execute after
publishing might execute XMLAccess to create users, groups, pages,
or position applications on a page.</p>
<p class="p">All configuration and project properties are available for use
in your script. Project properties reside in the <span class="ph filepath"><var class="keyword varname">project</var>\.bowstreet</span> file.
By default, configuration properties reside in  <span class="ph filepath"><var class="keyword varname">workspace</var>\.metadata\.plugins\com.bowstreet.designer.webapp\deploymentconfigs</span>,
where <var class="keyword varname">workspace</var> is the directory in which your
projects reside. If you have specified a different location in <span class="ph uicontrol">Preferences</span>,
the properties reside in the location you specified. Use the <samp class="ph codeph">property
= value</samp> syntax in your scripts as illustrated in the example
below.</p>
<p class="p">The order in which scripts execute is not guaranteed. Therefore,
you should make sure that feature sets are configured without dependencies
on each other.</p>
<p class="p">You may need to organize your scripts to allow for conditional
processing depending on configuration type. For example, if you are
publishing to Tomcat, you need to take into account that
Tomcat does not have xml access.</p>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_url_callout_through_proxy"><a name="c_url_callout_through_proxy"><!-- --></a><h4 class="title topictitle4">Redirecting URL access through an outbound proxy server</h4>
<div class="body conbody"><p class="shortdesc">You can redirect URL access through an outbound proxy server by
doing one of the following:</p>
<ul class="ul"><li class="li">Add the proxy server's URL and port information to the <span class="ph filepath">WEB-INF/config/server.properties</span> file.
If authentication is required, you can also add a username and password.</li>
<li class="li">Add the proxy server's URL and port information to the script that is
used to start the application server. If authentication is required, you can
also add a username and password.</li>
</ul>
</div>
<div class="related-links"></div><div class="topic concept nested4" xml:lang="en-us" id="c_prepostdeploy_scripts"><a name="c_prepostdeploy_scripts"><!-- --></a><h5 class="title topictitle5">Implementing Pre and Post Publishing actions</h5>
<div class="body conbody"><p class="shortdesc">Put scripts that you want to execute before publishing
in the project's <span class="ph filepath">WEB-INF/bin/predeploy</span> directory.</p>
<div class="section">If this directory does not already exist, you need to create
it. Put scripts that you want to execute after publishing or republishing
in the project's <span class="ph filepath">WEB-INF/bin/postdeploy</span> directory.
Again, if this directory does not already exist, you need to create
it. Scripts in these directories automatically execute at the appropriate
time.<p class="p">The predeploy output is sent to <span class="ph filepath">WEB-INF/logs/preDeployResults.log</span></p>
<p class="p">The postdeploy output is sent to <span class="ph filepath">WEB-INF/logs/postDeployResults.log</span></p>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_bld_portletwar"><a name="t_bld_portletwar"><!-- --></a><h2 class="title topictitle2">Building a portlet WAR</h2>
<div class="body taskbody"><p class="shortdesc">If you have a portal server configuration defined for your
project in <span class="ph">IBM WebSphere Portlet Factory</span> Designer,
you can build a portlet WAR. </p>
<div class="section prereq">When you create your project, you can define a portal server
configuration for your project or associate a current configuration
with your project. </div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In Project Explorer with <span class="ph"> WebSphere Portlet
Factory</span> Designer, right-click
the project and click <span class="ph menucascade"><span class="ph uicontrol">Publish Application</span> &gt; <span class="ph uicontrol">WebSphere Portlet Factory Portlet WAR</span></span>. </span> <p class="p">If the menu command is not available,
define a portal server configuration for your project (<span class="ph menucascade"><span class="ph uicontrol">WebSphere Portlet Factory Project Properties</span> &gt; <span class="ph uicontrol">Server Configurations</span></span>). </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">If this is the first time that you are publishing the portlet
WAR, specify the location in which it is to be stored. </span> <p class="p">A
progress meter is displayed indicating rebuild status.</p>
 The location that you specify is stored in <span class="ph uicontrol">WebSphere
Portlet Factory Project Properties</span>. </li>
</ol>
<div class="section result">After you publish the WAR, automatic synchronization can copy
any changed files to the portlet WAR. Set the <span class="ph uicontrol">Automatically
Synchronize Dev WAR</span> option in <span class="ph uicontrol">WebSphere
Portlet Factory Project Properties</span>. <div class="note note"><span class="notetitle">Note:</span> Models from
the <span class="ph filepath">samples</span> and <span class="ph filepath">nodeploy</span> directories
do not publish.</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_bld_portletwar_prod_deploy"><a name="t_bld_portletwar_prod_deploy"><!-- --></a><h2 class="title topictitle2">Building a portlet WAR for production</h2>
<div class="body taskbody"><p class="shortdesc">This feature builds porlet WARs for production in the Java
Portlet Standard 1.0 and Java Portlet Standard 2.0.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In Project Explorer with <span class="ph"> WebSphere Portlet
Factory</span> Designer, right-click
the project.</span></li>
<li class="li step"><span class="ph cmd">Chose <span class="ph menucascade"><span class="ph uicontrol">Export</span> &gt; <span class="ph uicontrol">WebSphere
Portlet Factory Portlet WAR</span></span></span></li>
<li class="li step"><span class="ph cmd">From the Build Portlet WAR dialog box, choose either <span class="ph uicontrol">Java
Portlet Standard 1.0</span> (JSR 168) or <span class="ph uicontrol">Java Portlet
Standard 2.0</span> (JSR 286).</span></li>
<li class="li step"><span class="ph cmd">Choose the file path where the WAR will saved and click <span class="ph uicontrol">Finish</span>.</span></li>
</ol>
<div class="section postreq"><div class="note note"><span class="notetitle">Note:</span> You still need to move the WAR file to a <span class="ph">IBM WebSphere Portal</span> server and manually
publish the project.</div>
<div class="note note"><span class="notetitle">Note:</span> When using <span class="ph">IBM WebSphere Application
Server</span> 6.1, verify that
the classloading policy is properly set:<ol class="ol"><li class="li">From the <span class="ph">WebSphere Application
Server</span> 
console, navigate to <span class="ph menucascade"><span class="ph uicontrol">Enterprise Applications</span> &gt; <span class="ph uicontrol">your_war</span> &gt; <span class="ph uicontrol">Manage Modules</span> &gt; <span class="ph uicontrol"><var class="keyword varname">your</var>.war</span></span>,
where <var class="keyword varname">your</var> is the name of your WAR file.</li>
<li class="li">Select the <span class="ph uicontrol">Classes loaded with application classloader
first</span> option.</li>
<li class="li">Save your changes.</li>
</ol>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_dply_was_jsr168"><a name="t_dply_was_jsr168"><!-- --></a><h2 class="title topictitle2">Publishing to the IBM WebSphere Application Server JSR 168
and JSR 286 Portlet containers</h2>
<div class="body taskbody"><p class="shortdesc">If you are developing a portlet, you can use the JSR 168
and JSR 286 containers that ship with <span class="ph">WebSphere Application
Server</span> to run standalone
portlets outside of the <span class="ph">IBM WebSphere Portal</span> server
environment.  </p>
<div class="section context">Follow these steps to set up your JSR 168 and JSR 286 container. </div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Edit your project's <span class="ph filepath">.deployment/excludes/portletwar.excludes</span> file
and remove the reference to <span class="ph filepath">jdom.jar</span>. If you
already installed the production war to the server, you can add the <span class="ph filepath">jdom.jar</span> to
your published application and restart.</span></li>
<li class="li step"><span class="ph cmd">Export the Portlet War for your project</span></li>
<li class="li step"><span class="ph cmd">If the project has already been published from the <span class="ph"> WebSphere Portlet
Factory</span>, uninstall the portlet
and related development WARs from the <span class="ph">WebSphere Application
Server</span>.</span></li>
<li class="li step"><span class="ph cmd">Logon to the <span class="ph">WebSphere Application
Server</span> Console
and install the portlet WAR. Provide a context name and accept all
the defaults. You must publish to server1, because <span class="ph">WebSphere Portal</span> security prevents
the WebSphere_Portal instance from being a viable choice.</span></li>
<li class="li step"><span class="ph cmd">When web application has finished installing, choose <span class="ph uicontrol">Manage
Applications</span> and choose your application. In theDetail
Properties section, click <span class="ph uicontrol">Class loading</span> and
update detection. Verify that the WAR class loader policy is set to
Class loader for each WAR file in your application. In the Modules
section, click <span class="ph uicontrol">Manage Modules</span> and the <span class="ph"> WebSphere Portlet
Factory</span> module and change
the class loader order setting so that class loader is first.</span></li>
<li class="li step"><span class="ph cmd">Save the configuration.</span></li>
<li class="li step"><span class="ph cmd">Start the web application in the <span class="ph">WebSphere Application
Server</span> Console.</span></li>
<li class="li step"><span class="ph cmd">Open <span class="ph"> WebSphere Portlet
Factory</span> and
run the model.</span></li>
<li class="li step"><span class="ph cmd">Manually enter the URL into browser. For example:</span> <samp class="ph codeph">http://host:port/context_name/portlet_name</samp> where
 host and port use same value you provide when creating a <span class="ph">WebSphere Application
Server</span> server configuration
that is targeting server1. For context_name use the value you provided
when installing the portlet WAR from WebSphere Application Server
Console. For portlet_name enter the value you used for the portlet
name input in the Portlet Adapter builder. The
model should load normally.</li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_war_exclude_files"><a name="c_war_exclude_files"><!-- --></a><h3 class="title topictitle3">Excluding files from a published WAR</h3>
<div class="body conbody"><p class="shortdesc"><span class="ph"> WebSphere Portlet
Factory</span> provides
two mechanisms you can use to exclude one or more project files from
a published WAR.</p>
<div class="section">This can be useful when you want to exclude development-related
files, such as a mock database or test models, from the published
WAR. These mechanisms are:<dl class="dl"><dt class="dt dlterm">**/nodeploy/** Directory</dt>
<dd class="dd">Artifacts placed with this directory are not included in the WAR
file.</dd>
<dt class="dt dlterm">excludeFromServer File</dt>
<dd class="dd">Artifacts listed in this file are not included in the WAR file.</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_war_exclude_excludefromserver"><a name="c_war_exclude_excludefromserver"><!-- --></a><h4 class="title topictitle4">Using the .excludeFromServer file</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> WAR publishing
scripts, including application server scripts, take this file into account
when creating and publishing a WAR file.</p>
<div class="section">Each line in the .excludeFromServer file specifies a file that you
want excluded from the output WAR. File paths are relative to the project.<p class="p">The
contents of a typical .excludeFromServer file looks as follows:</p>
<pre class="pre codeblock">WEB-INF/classes/nls/test/mymodel.properties
samples/datapage/first_datapage.xml</pre>
<p class="p">A master version of the .excludeFromServer file
is located in:</p>
<p class="p"> <span class="ph filepath">C:\Program Files\<var class="keyword varname">install-dir</var>\FeatureSets\Web-App_X.XX.X\Tools\antScripts\public\</span> </p>
<p class="p">A version of .excludeFromServer file is placed at the top level of each
project you create.</p>
<dl class="dl"><dt class="dt dlterm">Global exclude across all projects</dt>
<dd class="dd">Make changes to the master version of the .excludeFromServer
file at the location specified above, and your changes will be reflected in
every project you create. For example, if you want to exclude a particular <span class="ph"> WebSphere Portlet
Factory</span>-generated artifact from every
project, list the artifact in the master .excludeFromServer file.</dd>
<dt class="dt dlterm">Exclude on a project-by-project basis</dt>
<dd class="dd">A common scenario is to exclude artifacts on a project-by-project basis.
In this case, you work with the .excludeFromServer file located at the top
level of a project. However, once you add artifacts to be excluded to the
file, you must rebuild and/or regenerate the WAR so that your changes are
picked up. This is necessary because the WAR created when you initially built
the project did not exclude any artifacts. If you add excludes to this file
after the project is created, these artifacts are no longer copied to the
output, but they are already in the output as a result of the original publish
operation. To delete the excluded files from the production WAR server,
you must refresh/rebuild the WAR file to pick up your exclusions. </dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_war_exclude_nodeploy"><a name="c_war_exclude_nodeploy"><!-- --></a><h4 class="title topictitle4">Using the **/nodeploy** directory</h4>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span>'s internal
Ant scripts used to generate WAR files recognize the following pattern: <span class="ph filepath">**/nodeploy/**</span>.</p>
<div class="section">As a result, you can create one or more <span class="ph filepath">/nodeploy/</span> directories
at any location within a project and place in these directories project
artifacts that you do not want included in the publsihed WAR. When
the WAR is built by the Ant scripts, the contents of the <span class="ph filepath">/nodeploy/</span> directories
will be excluded from the build process.<p class="p">For example, to exclude
a:</p>
<dl class="dl"><dt class="dt dlterm">Model</dt>
<dd class="dd"><span class="ph filepath">.../nodeploy/test.model</span></dd>
<dt class="dt dlterm">Directory</dt>
<dd class="dd"><span class="ph filepath">.../nodeploy/design_notes/*</span></dd>
<dt class="dt dlterm">Database</dt>
<dd class="dd"><span class="ph filepath">.../nodeploy/cloudscape/*</span></dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic reference nested2" xml:lang="en-us" id="r_war_jar_files"><a name="r_war_jar_files"><!-- --></a><h3 class="title topictitle3">JAR files in a WAR</h3>
<div class="body refbody"><p class="shortdesc">The creation of a development or production WAR with <span class="ph">IBM WebSphere Portlet Factory</span> includes a number of
JAR files from the associated project.</p>
<div class="section"><p class="p">You may be able to trim down a WAR file by deleting some
of these, though this must be done with caution as some of these files
are essential for the operation of your project. </p>
<p class="p">The following
table lists the JAR files that are included in a <span class="ph"> WebSphere Portlet
Factory</span> development WAR that
are written to the project WEB-INF/lib folder. Files that are excluded
from a Portal 7.0 war are noted in the Description column.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 60. JAR files in a WAR</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" width="50%" id="d52e55176">File name</th>
<th class="entry" valign="bottom" width="50%" id="d52e55178">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">axis.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">Web Services support (This file is excluded from Portal 7.0
war files)</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55176 "><span class="ph filepath">bstres.jar</span></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55178 "><span class="ph"> WebSphere Portlet
Factory</span> runtime English message
resources</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55176 "><span class="ph filepath">bstres_nl1.jar</span></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55178 "><span class="ph">Runtime
Group 1 languages, message resources (not necessary if your project
is English only)</span></td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55176 "><span class="ph filepath">classparser.jar</span></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55178 "><span class="ph"> WebSphere Portlet
Factory</span> utility JAR for parsing Java source templates, used for
generating Java classes</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55176 "><span class="ph filepath">commons-beanutils.jar</span></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55178 ">Utility JAR used
by <span class="ph"> WebSphere Portlet
Factory</span> for manipulating Java Beans and Java reflection utility methods</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55176 "><span class="ph filepath">commons-discovery.jar</span></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55178 ">Utility JAR used
by AXIS Web services support (This file is excluded from Portal 7.0
war files)</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55176 "><span class="ph filepath">commons-fileupload.jar</span></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55178 ">Utility JAR used
by File Upload support</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55176 "><span class="ph filepath">commons-logging.jar</span></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55178 ">Logging utility JAR
used by AXIS Web services support</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55176 "><span class="ph filepath">factory.jar</span></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e55178 "><span class="ph"> WebSphere Portlet
Factory</span> runtime</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">jakarta-poi.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">Supports the Spreadsheet builders.  (This file
is excluded from Portal 7.0 war files)</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">jaxrpc-api.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">Standard Java Web Services
RPC API JAR, used by AXIS Web services support (This file is excluded
from Portal 7.0 war files)</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">jdom.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">JDOM Java XML API jar
supported by <span class="ph"> WebSphere Portlet
Factory</span> XML
conversion APIs (for example, com.bowstreet.util.XmlUtil )</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">log4j.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">LOG4J logging support API JAR used by <span class="ph"> WebSphere Portlet
Factory</span> for logging</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">logging.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 "><span class="ph">WebSphere Application
Server</span> logging
configuration</td>
</tr>
<tr class="row"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">NSCO.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">The <span class="ph filepath">NCSO.jar</span> file is a
Lotus Domino library jar file used by all the <span class="ph"> WebSphere Portlet
Factory</span> Domino builders for
accessing remote Domino servers over CORBA/IIOP and is required to
use the <span class="ph"> WebSphere Portlet
Factory</span> Domino
integration.  The current version of the <span class="ph filepath">NCSO.jar</span> file
shipped with <span class="ph"> WebSphere Portlet
Factory</span> is
version 8.  (This file is excluded from Portal 7.0 war files)<div class="note note"><span class="notetitle">Note:</span> This
file only becomes part of the WAR if the Lotus Collaboration Extension
feature set is enabled for the project.  </div>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">portlet_adapter_common.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 "><span class="ph">Base portlet adapter support</span></td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">portlet_adapter168.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 "><span class="ph"><span class="ph"> WebSphere Portlet
Factory</span> JSR
168 portlet adapter</span></td>
</tr>
<tr class="row"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">portlet_adapter.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 "><span class="ph"><span class="ph"> WebSphere Portlet
Factory</span> portlet adapter for
legacy portlet WARs</span></td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">saaj-api.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">Java standard SOAP API
JAR, used by AXIS Web services support</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">wsdl4j.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">WSDL parsing/support API JAR</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">xercesImpl.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">Standard Java XML parser</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d52e55176 "><span class="ph filepath">xml-apis.jar</span></td>
<td class="entry" valign="top" width="50%" headers="d52e55178 ">Standard XML parser</td>
</tr>
</tbody>
</table>
</div>
<p class="p">The following table lists the JARs written to the project <span class="ph filepath">WEB-INF/clientLibs</span> folder.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e55426">File name</th>
<th class="entry" valign="bottom" id="d52e55428">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" headers="d52e55426 "><span class="ph filepath">builderui.jar</span></td>
<td class="entry" valign="top" headers="d52e55428 ">Contains the builder coordinator and UI support classes for
the builders in case you want to create your own.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e55426 "><span class="ph filepath">j2ee.jar</span></td>
<td class="entry" valign="top" headers="d52e55428 ">J2EE Interface APIs (not implementation) for compiling generated Java classes against servlet APIs,
EJB APIs, and the like</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e55426 "><span class="ph filepath">portlet.jar</span></td>
<td class="entry" valign="top" headers="d52e55428 "><span class="ph">Portlet API JAR (interface classes only,
not implementation) for compiling Java classes
against that reference the Java Portlet
Standard 1.0 APIs (JSR 168) and Java Portlet
Standard 2.0 APIs (JSR 286) </span></td>
</tr>
</tbody>
</table>
</div>
<div class="p">In addition, the project <span class="ph filepath">WebContent/factory/classes</span> directory
contains a JAR file (<span class="ph filepath">BowTree.jar</span>) for the <span class="ph">IBM WebSphere Application
Server</span> Portlet Tree applet.
This JAR can be deleted if your applications do not use the Tree builder.<div class="note note"><span class="notetitle">Note:</span> Older
Eclipse projects may not have a <span class="ph filepath">WebContent</span> directory.
In these cases, the directory would be <span class="ph filepath">factory/classes</span>.</div>
</div>
<p class="p">When
you add feature sets to a project, associated JARs are added as well.
For example, including the Lotus Collaboration
Extension feature set adds the <span class="ph filepath">domino_builders.jar</span> file.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="web.xmlprocessingandtemplates"><a name="web.xmlprocessingandtemplates"><!-- --></a><h3 class="title topictitle3">web.xml processing and templates</h3>
<div class="body conbody"><p class="shortdesc">You can modify the <span class="ph filepath">web.xml</span> file and
templates to customize feature sets, set properties, or to update
servlet definitions and mappings. </p>
<div class="section"><p class="p">This modification can be automated with a script when
you publish to facilitate new applications.</p>
</div>
<div class="section"><h4 class="title sectiontitle">web.xml template files</h4><div class="p">The
following <span class="ph filepath">web.xml</span> template files are used in <span class="ph">IBM WebSphere Portlet Factory</span>. <dl class="dl"><dt class="dt dlterm"><span class="ph filepath">geronimo-web.xml</span></dt>
<dd class="dd">Used in conjunction with <span class="ph filepath">wasce.web.xml</span> on <span class="ph">WebSphere Application
Server</span> Community Edition
servers</dd>
<dt class="dt dlterm"><span class="ph filepath">portlet.standard.web.xml</span></dt>
<dd class="dd">Used for Java Standard Portlets</dd>
<dt class="dt dlterm"><span class="ph filepath">portlet.wpnative.web.xm</span></dt>
<dd class="dd">Used for <span class="ph">IBM WebSphere Portal</span> Native
portlets (deprecated) </dd>
<dt class="dt dlterm"><span class="ph filepath">standalone.web.xml</span></dt>
<dd class="dd">Used for standalone applications (non portlets)</dd>
<dt class="dt dlterm"><span class="ph filepath">wasce.web.xml</span></dt>
<dd class="dd">Used for <span class="ph">IBM WebSphere Application
Server</span> Community
Edition standalone development applications</dd>
</dl>
These files are stored in the <span class="ph filepath">WebContent\WEB-INF\bin\deployment</span> folder.
This allows for project unique user edits of the template for the
project and for multiple targets (standalone and portal) from a single
project. These files are included in the publishing archive during
the publishing process.</div>
<p class="p">The file <span class="ph filepath">standalone.web.xml</span> is
stored in the <span class="ph filepath">WebContent\WEB-INF\bin\deployment</span> folder.
This allows for project unique user edits of the template for the
project and for multiple targets (local and remote) from a single
project. These files are included in the archive during the publishing
process.</p>
</div>
<div class="section"><h4 class="title sectiontitle">The WEB-INF\web.xml file</h4><p class="p"> The <span class="ph filepath">WEB-INF\web.xml</span> file
is the copy of <span class="ph filepath">web.xml</span> that is in place in the
project's <span class="ph filepath">WEB-INF</span> directory.  This <span class="ph filepath">web.xml</span> is
a copy of one of the templates built at project creation.  For example,
a copy of the <span class="ph filepath">standalone.web.xml</span> template is
built at project creation time and saved as <span class="ph filepath">web.xml</span>.
The template that is used depends on your specific project server
configuration mappings. </p>
<p class="p">Do not edit the in-place <span class="ph filepath">web.xml</span> directly,
but edit a template instead.</p>
</div>
<div class="section"><h4 class="title sectiontitle">web.xml processing at project creation and publishing</h4><p class="p">Depending
on which function you are performing, <span class="ph"> WebSphere Portlet
Factory</span> processes the <span class="ph filepath">web.xml</span> file
in different ways. </p>
<ul class="ul"><li class="li">When you create a project, a new version of the <span class="ph filepath">web.xml</span> file
is created from the appropriate template.  </li>
<li class="li">When you upgrade a project, the current <span class="ph filepath">web.xml</span> and
its template are backed up and a new template is generated.  </li>
<li class="li">When you publish, a new <span class="ph filepath">web.xml</span> is created
from this template.  If you made any changes to your <span class="ph filepath">web.xml</span> template,
you need to merge them from the template backup into the new template
and republish to generate the updated <span class="ph filepath">web.xml</span> file.</li>
</ul>
<p class="p">When publishing the project, or if the user requests a publishing
action: </p>
<ul class="ul"><li class="li">If this is to be a development WAR publishing request:<ul class="ul"><li class="li">Update <span class="ph filepath">web.xml</span> with application context</li>
<li class="li">Add to Web Archive</li>
</ul>
</li>
<li class="li">If this is to be a production WAR export request:<ul class="ul"><li class="li">Bundle the specific <span class="ph filepath">web.xml</span> in the production
WAR.</li>
</ul>
</li>
</ul>
</div>
<div class="section"><h4 class="title sectiontitle">Other things that impact web.xml</h4><dl class="dl"><dt class="dt dlterm">addaservlet utility</dt>
<dd class="dd">This is a custom ant task that is provided for adding a servlet
to <span class="ph filepath">web.xml</span>.  It just adds a servlet definition
and mapping to a named <span class="ph filepath">web.xml</span> file.</dd>
<dt class="dt dlterm">IBM Rational Application Developer</dt>
<dd class="dd">Occasionally overwrites the <span class="ph filepath">web.xml</span>.  It
does this on the in-place <span class="ph filepath">web.xml</span> file only. </dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_run_precompiletool"><a name="t_run_precompiletool"><!-- --></a><h2 class="title topictitle2">Running the precompile tool</h2>
<div class="body taskbody"><p class="shortdesc">You can run the JSP precompile tool from the command line.</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Disable security on the <span class="ph filepath">.../genjsp</span> directory. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Ensure that the application server is running.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Change to <span class="ph">IBM WebSphere Portlet Factory</span> <span class="ph filepath">.../J2EERoot/bin</span> directory.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Type the following command. </span> <p class="p"><span class="keyword cmdname">compilejsp.bat</span> <span class="ph">(on <span class="ph">Windows</span> systems)</span></p>
<p class="p"><span class="keyword cmdname">compilejsp.sh</span> (on <span class="ph">Linux</span> systems)</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Type the URL argument.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Type any other desired arguments.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Enter</span> to initiate operations.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Examine the <span class="ph filepath">.../genjsp</span> directory to
view the generated JSPs.</span></li>
</ol>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_jsp_precompile"><a name="c_jsp_precompile"><!-- --></a><h3 class="title topictitle3">Pre-compiling model JSPs</h3>
<div class="body conbody"><p class="shortdesc">Pre-generating and pre-compiling Java Server Pages (JSPs)
prior to publishing eliminates the delay a user experiences due to
the lag time caused by waiting for JSP pages to generate and compile.</p>
<div class="section">The JSP Pre-Compile tool provides a way for developers and
build engineers to compile JSPs ahead of time. You pre-compile JSPs
from the command line. This process requires you to execute a compile
command with one or more arguments. A script-based version of the
JSP Pre-Compile tool is available as a Windows batch command and also
as a UNIX script. The tool can accept several optional arguments that
allow you to control how JSP generation and compilation is performed.<p class="p">Compile
scripts take the following arguments:</p>
<dl class="dl"><dt class="dt dlterm"><samp class="ph codeph">-url</samp></dt>
<dd class="dd">(required) This is the base URL for static files (HTML or JSP,
for example) on the server. This argument must include the application
context. Typical syntax for this argument might looks as follows: <samp class="ph codeph">-url
http://<var class="keyword varname">serverName</var>:<var class="keyword varname">port</var>/<var class="keyword varname">appContext</var>/</samp></dd>
<dt class="dt dlterm"><samp class="ph codeph">-modellist</samp></dt>
<dd class="dd">(optional) Name of a file that lists the model IDs of the models
you want examined. This file lists one ID per line and it can be created
in any text editor. For example: <span class="ph filepath">factory/samples/tutorialFinished</span>.
If this argument is not supplied, all models are examined and associated
JSPs compiled. Use this argument when you want to work with a subset
of models in an application. Typical syntax for this argument looks
as follows: <samp class="ph codeph">-modellist <var class="keyword varname">listOfModels</var>.txt</samp></dd>
<dt class="dt dlterm"><samp class="ph codeph">-profilelist</samp></dt>
<dd class="dd">(optional) Name of a file that lists the profiles you want examined.
This file lists one profile and profile set per line (for example, <samp class="ph codeph">profile
setBAR!profileFOO</samp>) and the file can be created in any text
editor.<p class="p">You can use this argument to limit the number of model/profile
combinations that the pre-compile tool examines and generates This
argument directs the tool to use only the specified profiles. (In
addition, the default profile set is always used.) If this argument
is not supplied, all model/profile combinations are examined and associated
JSPs compiled. Typical syntax for this argument looks as follows:</p>
<samp class="ph codeph">-profilelist <var class="keyword varname">listOfProfiles</var>.txt</samp><p class="p">A
complete pre-compile command might look as follows:</p>
<samp class="ph codeph">compileJSP
-url http://&lt;serverName&gt;:&lt;port&gt;/&lt;appContext&gt;/ -modellist <var class="keyword varname">listOfModels</var>.txt
-profilelist <var class="keyword varname">listOfProfiles</var>.txt</samp></dd>
</dl>
<div class="note note"><span class="notetitle">Note:</span> Disable JSP Security Required. <span class="ph"> WebSphere Portlet
Factory</span> creates all JSP in
the <span class="ph filepath">.../genjsp</span> directory in the <span class="ph"> WebSphere Portlet
Factory</span> file system. By default, <span class="ph"> WebSphere Portlet
Factory</span> provides protection
and security constraints on HTTP requests to this directory so that
it is inaccessible to users of the application. However, for the JSP
Pre-Compile tool to operate, the tool must be able to make HTTP requests
to this directory.<p class="p">In order to run the tool you will need to disable
security on the  <span class="ph filepath">/genjsp</span> directory. How you do
this depends on the application server you are using. Some app servers
have administrative tools for editing security constraints. In any
case, any <samp class="ph codeph">&lt;security-constraint&gt;</samp> elements in the
web.xml publishing descriptors that put restrictions
on the  <span class="ph filepath">/genjsp</span> folder need to be temporarily
removed until after this tool is run.</p>
<p class="p">Because the JSP pre-compile
tool makes HTTP calls to the JSPs in the application server (with
the precompile=true flag), the application server must be running
in order for the pre-compile tool to work.</p>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_jsp_precompile_how"><a name="c_jsp_precompile_how"><!-- --></a><h3 class="title topictitle3">How pre-compilation works</h3>
<div class="body conbody"><p class="shortdesc">The tool uses a two-stage approach to generating and compiling
JSPs.</p>
<div class="section"><dl class="dl"><dt class="dt dlterm">Stage 1, generation</dt>
<dd class="dd">The tool examines all models and associated profile sets in a project.
It then works through all possible combinations of those items to generate
the JSPs associated with the model/profile set associations. The JSPs are
saved to the server and a list of all JSPs generated is created. </dd>
<dt class="dt dlterm">Stage 2, compilation</dt>
<dd class="dd">The tool next walks through the list of generated JSPs and forces a compile
of each JSP in the list. <div class="note note"><span class="notetitle">Note:</span> The server must be running in order for JSP
compilation to be successful because the tool makes a HTTP request to the
server requesting a specific JSP page with a pre-compile flag set for the
page. Compiled JSP are stored in <span class="ph">IBM WebSphere Portlet Factory</span>'s <span class="ph filepath">.../genjsp</span> directory.</div>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="t_precomp_jsp"><a name="t_precomp_jsp"><!-- --></a><h2 class="title topictitle2">Precompiling JSPs in a WAR file</h2>
<div class="body taskbody"><p class="shortdesc">You can precompile JSPs associated with a WAR file just
as you can other JSPs.</p>
<div class="section context">Precompiling allows you to improve performance by creating
all the JSPs associated with a model in one operation. The process
is similar to precompiling from the command line. However, there are
differences related to the URL used and other parameters.</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Publish the WAR file that contains the JSPs to precompile.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the directory where the WAR file was published, locate
the <span class="ph filepath">WEB-INF\bin</span> directory.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Generate a list of model files for which you want JSPs
precompiled.</span> <p class="p">This list serves as an argument to the
precompile command and must be in the proper format.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Enter the command to initiate compilation.</span><ul class="ul choices"><li class="li choice">For a portlet<pre class="pre codeblock">compileJSP -modellist c:/model.txt -url http://<var class="keyword varname">your.machine.name</var>/<var class="keyword varname">portal-server-specific path</var>/<var class="keyword varname">portlet adapter WAR filename</var></pre>
<div class="note note"><span class="notetitle">Note:</span> The
URL used as an argument to the precompile command must include the
name of the portlet adapter WAR file. </div>
</li>
<li class="li choice">For a local testing application or widget <pre class="pre codeblock">compileJSP -modellist c:/model.txt -url http://<var class="keyword varname">your.machine.name</var>/<var class="keyword varname">web-server-specific path</var>/<var class="keyword varname">widget adapter WAR filename</var></pre>
</li>
</ul>
 <div class="note note"><span class="notetitle">Note:</span> <span class="ph">For a widget, the</span> URL
used as an argument to the precompile command must include the name
of the widget adapter WAR file. </div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Enter</span> to initiate operations.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Examine the <span class="ph filepath">.../genjsp</span> directory to
view the generated JSPs.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="publishingawebsphereprotletfactoryapplicationtoaremoteamiinstance"><a name="publishingawebsphereprotletfactoryapplicationtoaremoteamiinstance"><!-- --></a><h2 class="title topictitle2">Publishing an application to a remote AMI instance</h2>
<div class="body taskbody"><p class="shortdesc">Follow these steps to publish a <span class="ph">IBM WebSphere Portlet Factory</span> application from your
local system to a remote Amazon Machine Image (AMI) instance.</p>
<div class="section prereq">Create a Portal AMI and start the portal. For more information,
see this documentation.<p class="p"><a class="xref" href="http://download.boulder.ibm.com/ibmdl/pub/software/dw/cloud/wps-wcme/Get_Started_Lotus_AMI.pdf" target="_blank">http://download.boulder.ibm.com/ibmdl/pub/software/dw/cloud/wps-wcme/Get_Started_Lotus_AMI.pdf</a></p>
 </div>
<div class="section context">Follow these steps to publish an application to a remote
AMI instance:</div>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Edit your local systems hosts file and map the AMI public
and internal host names in your hosts file (usually located <samp class="ph codeph">C:\WINDOWS\system32\drivers\etc\hosts</samp> or <samp class="ph codeph">/etc/hosts</samp>).
 </span> <div class="p">For example: <pre class="pre codeblock">174.129.200.100 ee1-123-456-789-123.computer.amazonaws.com ip-11-123-456-789-ee1.internal</pre>
</div>
</li>
<li class="li step stepexpand"><span class="ph cmd">Open the SOAP_CONNECTOR_ADDRESS and the WC_defaulthost
ports on your AMI instance, using for example, the Elasticfox Extension
for your Firefox browser. </span> <p class="p">To find the settings for
your environment, from the <span class="ph">IBM WebSphere Application
Server</span>  console, select <span class="ph menucascade"><span class="ph uicontrol">Servers</span> &gt; <span class="ph uicontrol">Application Servers</span> &gt; <span class="ph uicontrol">WebSphere_Portal</span></span>, and in the
right hand column, select Ports.</p>
</li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_add_was_portal_jar_files"><a name="t_add_was_portal_jar_files"><!-- --></a><h2 class="title topictitle2">Adding <span class="ph">IBM WebSphere Portal</span> JAR
Files</h2>
<div class="body taskbody"><p class="shortdesc">If you plan to use any Java APIs that are not already included
in your <span class="ph">IBM WebSphere Portlet Factory</span> web application
project, you need to add the corresponding JAR files to your environment.</p>
<div class="section context"><p class="p">Add the corresponding JAR files as external libraries
in the <span class="ph"> WebSphere Portlet
Factory</span> Designer
plug-in <span class="ph filepath">lib</span> directory and in the <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph filepath">lib</span> directory.
Follow these steps to add an external library to the project Java
build path in your <span class="ph"> WebSphere Portlet
Factory</span> Designer
environment. </p>
</div>
<ol class="ol steps"><li class="li step"><span class="ph cmd">In your Integrated Development Environment (IDE), right-click
on your <span class="ph"> WebSphere Portlet
Factory</span> project
and click <span class="ph uicontrol">Properties</span>.</span></li>
<li class="li step"><span class="ph cmd">In the Properties for your project dialog, click <span class="ph uicontrol">Java
Build Path</span>.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">Libraries</span> and <span class="ph uicontrol">Add
External JARs</span>.</span></li>
<li class="li step"><span class="ph cmd">In the JAR Selection dialog, specify the JARs to add.</span></li>
<li class="li step"><span class="ph cmd">Click <span class="ph uicontrol">OK</span> in the JAR Selection dialog
and click <span class="ph uicontrol">OK</span> in the Properties for your project
dialog.</span></li>
</ol>
</div>
<div class="related-links"></div></div>
<div class="topic task nested1" xml:lang="en-us" id="t_dply_WAR_remote"><a name="t_dply_WAR_remote"><!-- --></a><h2 class="title topictitle2">Replacing a Development WAR on a remote Mashups Server</h2>
<div class="body taskbody"><p class="shortdesc">Manual replacement of a development WAR is required when the <span class="ph">IBM Lotus Mashups</span> server is on a different
machine than <span class="ph">IBM WebSphere Portlet Factory</span>. Additional
information is available from product documentation.</p>
<ol class="ol steps"><li class="li step"><span class="ph cmd">Create a new production WAR, and copy the file to the remote <span class="ph">Lotus Mashups</span> server.</span></li>
<li class="li step"><span class="ph cmd">From <span class="ph">Lotus Mashups</span>,
remove the widgets from the Toolbox</span></li>
<li class="li step"><span class="ph cmd">From the <span class="ph">InfoSphere MashupHub</span>,
delete the widget package from the list of available iWidgets.</span></li>
<li class="li step"><span class="ph cmd">From the WebSphere Admin console, stop and uninstall the original
WAR files.</span></li>
<li class="li step"><span class="ph cmd">From the <span class="ph">InfoSphere MashupHub</span>,
upload the new WAR file, and proceed publish it to <span class="ph">Lotus Mashups</span>. </span></li>
</ol>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested0" xml:lang="en-us" id="c_testing"><a name="c_testing"><!-- --></a><h1 class="title topictitle1">Testing a <span class="ph"> WebSphere Portlet
Factory</span> application</h1>
<div class="body conbody"><p class="shortdesc">You can use Eclipse tools to test your application. </p>
<p class="p"></p>
</div>
<div class="related-links"></div><div class="topic task nested1" xml:lang="en-us" id="t_enab_log_request_input"><a name="t_enab_log_request_input"><!-- --></a><h2 class="title topictitle2">Enabling the log request/response input</h2>
<div class="body taskbody"><p class="shortdesc">You can display service input and output streams by enabling the <span class="ph uicontrol">Log
Request/Response</span> input in the service call's builder call editor.</p>
<div class="section context">The information is the same as that in the Apache AXIS TCP Monitor.</div>
</div>
<div class="related-links"></div><div class="topic reference nested2" xml:lang="en-us" id="r_testing_services"><a name="r_testing_services"><!-- --></a><h3 class="title topictitle3">Testing services</h3>
<div class="body refbody"><p class="shortdesc">You can test the services you call or create.</p>
<div class="section">Use Apache AXIS TCP Monitor and enable the <span class="ph uicontrol">Log Request/Response</span> input
in the builder call.</div>
<div class="section"><h4 class="title sectiontitle">Examining the service inputs and outputs</h4><p class="p">There are
two ways you can examine service inputs and outputs:</p>
<ul class="ul"><li class="li">Apache AXIS TCP Monitor </li>
<li class="li"><span class="ph uicontrol">Log Request/Response</span> input </li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic task nested2" xml:lang="en-us" id="t_using_apache_axis_tcp_monitor"><a name="t_using_apache_axis_tcp_monitor"><!-- --></a><h3 class="title topictitle3">Using Apache AXIS TCP Monitor</h3>
<div class="body taskbody"><p class="shortdesc">Follow these steps to monitor service requests and responses with
Apache AXIS TCP Monitor:</p>
<ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Start Apache AXIS TCP Monitor with the following command in the
project's <span class="ph filepath">WEB-INF/lib</span> directory: </span> <pre class="pre codeblock">java -cp axis.jar org.apache.axis.utils.tcpmon 8090 localhost 8080</pre>
 <ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Replace "8090" with an available port on which you want the
utility to listen for service requests and responses.</span></li>
<li class="li substep"><span class="ph cmd">Replace "localhost" with the hostname of the server that the
web service is calling.</span></li>
<li class="li substep"><span class="ph cmd">Replace "8080" with the port on the server that the web service
is calling.</span></li>
</ol>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the Service Call builder call, set the <span class="ph uicontrol">Service URL</span> (override)
input (in the Advance group) to:</span> <pre class="pre codeblock">http://factoryhost:8090</pre>
<ol type="a" class="ol substeps"><li class="li substep"><span class="ph cmd">Replace "factoryhost" with the host name of the machine running <span class="ph">IBM WebSphere Portlet Factory</span>.</span></li>
<li class="li substep"><span class="ph cmd">Replace "8090" with the port number you used when starting Apache
AXIS TCP Monitor.</span></li>
</ol>
</li>
</ol>
<div class="section result">As a result of these steps, the log data is written to
your deployed application WAR's <span class="ph filepath">WEB-INF/logs</span> folder.
Look for the file debugTracing.txt in that folder.</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
<div class="topic task nested0" xml:lang="en-us" id="t_troubleshooting"><a name="t_troubleshooting"><!-- --></a><h1 class="title topictitle1">Troubleshooting applications</h1>
<div class="body taskbody"><p class="shortdesc">For information about using Eclipse and Java tools to troubleshoot
your applications, see the <span class="ph">IBM WebSphere Portlet Factory</span> wiki.</p>
<div class="section context"><p class="p">Follow this link <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewTags.xsp?categoryFilter=Troubleshooting" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewTags.xsp?categoryFilter=Troubleshooting</a> for
more information about troubleshooting.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested0" xml:lang="en-us" id="c_reference_wpf"><a name="c_reference_wpf"><!-- --></a><h1 class="title topictitle1">Reference information</h1>
<div class="body conbody"><p class="shortdesc">These topics provide details about <span class="ph">IBM WebSphere Portlet Factory</span> Designer. </p>
<p class="p">Find more resources on this section of the <span class="ph"> WebSphere Portlet
Factory</span> wiki <a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewCategories.xsp?lookupName=Resources for developers" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf/xpViewCategories.xsp?lookupName=Resources%20for%20developers</a></p>
<p class="p">Information includes builder inputs and operations and provides
access to the Javadoc for the <span class="ph"> WebSphere Portlet
Factory</span> application programming
interface (API). </p>
</div>
<div class="related-links"></div><div class="topic concept nested1" xml:lang="en-us" id="dev_guide_overview"><a name="dev_guide_overview"><!-- --></a><h2 class="title topictitle2">About APIs</h2>
<div class="body conbody"><p class="shortdesc"><span class="ph">IBM WebSphere Portlet Factory</span> APIs
are available for development tasks. </p>
<p class="p">The <span class="ph"> WebSphere Portlet
Factory</span> Designer
includes APIs for the following development tasks:</p>
<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#dev_guide_overview__addinglogic">Interacting with Web applications</a> </li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#dev_guide_overview__creatingbuilder">Creating builders</a> </li>
</ul>
<p class="p">The following sections provide a high-level description of the
APIs for development tasks. </p>
<div class="section" id="dev_guide_overview__addinglogic"><a name="dev_guide_overview__addinglogic"><!-- --></a><h3 class="title sectiontitle">Interacting with Web applications</h3><p class="p">The
primary API for interacting with a Web application is the  <samp class="ph codeph">com.bowstreet.webapp.WebAppAccess</samp> class.
The <samp class="ph codeph">WebAppAccess</samp> class includes methods for the following
interactions:</p>
<ul class="ul"><li class="li"> Getting form inputs </li>
<li class="li"> Displaying pages </li>
<li class="li"> Calling model actions </li>
<li class="li"> Getting and setting variable values </li>
<li class="li"> Getting and setting session data </li>
</ul>
<p class="p">The <samp class="ph codeph">WebAppAccess</samp> object gets and sets data
on the <samp class="ph codeph">WebApp</samp> object, which contains the actual data
for the running Web application. You do not commonly interact with
the <samp class="ph codeph">WebApp</samp> object during model development, but you
do use it when you create builders.</p>
</div>
<div class="section" id="dev_guide_overview__creatingbuilder"><a name="dev_guide_overview__creatingbuilder"><!-- --></a><h3 class="title sectiontitle">Creating builders</h3><p class="p">When
you create builders, you need to get information from the model to
which the builder is added, alter the structure of the model (for
example, by adding Page and Linked Model builders), and create other
builder calls. The following APIs facilitate this processing:</p>
<ul class="sl simple"><li class="sli"><samp class="ph codeph">com.bowstreet.webapp.WebApp</samp> class</li>
<li class="sli"><samp class="ph codeph">com.bowstreet.builders.webapp.api</samp> package</li>
</ul>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested1" xml:lang="en-us" id="c_about_properties_duplicated_in_multiple_files"><a name="c_about_properties_duplicated_in_multiple_files"><!-- --></a><h2 class="title topictitle2"><span class="ph">IBM WebSphere Portlet Factory</span> properties
files</h2>
<div class="body conbody"><p class="shortdesc">Various <span class="ph"> WebSphere Portlet
Factory</span> operations
are configured by properties files. </p>
<p class="p">These files are located in a project  <span class="ph filepath">WEB-INF/config</span> directory. </p>
<p class="p">In general, you can accept default settings for all properties.
However, if you need to change a property setting for a project, do
so in only one file, the <span class="ph filepath">override.properties</span> file.
Properties placed in this file override equivalent properties in any
other properties file.</p>
<p class="p">Properties files include:</p>
<ul class="ul"><li class="li"><span class="ph filepath">bowstreet.properties</span></li>
<li class="li"><span class="ph filepath">cluster.properties</span></li>
<li class="li"><span class="ph filepath">logging.properties</span></li>
<li class="li"><span class="ph filepath">override.properties</span></li>
<li class="li"><span class="ph filepath">server.properties</span></li>
<li class="li">System-wide properties (such as the machine name, or other properties
that you could access by using the <samp class="ph codeph">system.getProperty</samp> method). </li>
</ul>
<div class="section"><h3 class="title sectiontitle">Changes to properties files</h3><div class="p">By default,
changes to <span class="ph"> WebSphere Portlet
Factory</span> properties
files in a running WAR are not recognized until the WAR is restarted.
To have property file changes take effect while the WAR is running,
set the following property in the <span class="ph filepath">override.properties</span> file
and start the WAR. <pre class="pre codeblock">bowstreet.properties.enableObserverThreads=true</pre>
If
the property is set to <samp class="ph codeph">true</samp>, several observer threads
are started when the application server starts the WAR.  This lets
you update a properties file in the running WAR and have those changes
be recognized by <span class="ph"> WebSphere Portlet
Factory</span>.
 </div>
<div class="note note"><span class="notetitle">Note:</span> Very few <span class="ph"> WebSphere Portlet
Factory</span> properties
can be changed at runtime even when the observers are started.  If
you change properties that are not explicitly documented as being
changeable at runtime, you can cause errors and obtain unpredictable
results.</div>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested2" xml:lang="en-us" id="r_factory_properties"><a name="r_factory_properties"><!-- --></a><h3 class="title topictitle3">Properties</h3>
<div class="body refbody"><p class="shortdesc">The properties provide information on the semaphore timeout interval,
ports, file uploading, output caching, and model caching.</p>
<div class="section"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e56829">Screen Field</th>
<th class="entry" valign="bottom" id="d52e56831">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56829 ">Semaphore Timeout (seconds) </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56831 "> The <span class="ph uicontrol">Semaphore
Timeout</span> field sets the interval that the <span class="ph">IBM WebSphere Portlet Factory</span> servlet
waits before deleting expired sessions. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/cluster.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">bowstreet.session.semaphore.timeOut</samp></li>
<li class="sli">Default Value: 300</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e56829 ">HTTP Port</td>
<td class="entry" valign="top" headers="d52e56831 ">The <span class="ph uicontrol">HTTP Port</span> field defines the port that the <span class="ph"> WebSphere Portlet
Factory</span> servlet monitors for
incoming HTTP requests. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/server.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">server.http.port</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e56829 ">HTTPS Port </td>
<td class="entry" valign="top" headers="d52e56831 ">The <span class="ph uicontrol">HTTPS Port</span> field defines the secure port
that the <span class="ph"> WebSphere Portlet
Factory</span> servlet
monitors for incoming HTTPS/SSL requests. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/server.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">server.https.port</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56829 ">Disable Output Caching</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56831 ">The <span class="ph uicontrol">Disable Output
Caching</span> checkbox enables and disables all output caching, which
is enabled by using the Cache Control builder. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/bowstreet.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">bowstreet.cache.output.disable</samp></li>
<li class="sli">Default Value: false</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56829 ">Model Cache Size</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56831 ">The <span class="ph uicontrol">Model Cache
Size</span> field defines the total number of models plus the number
of WebApp versions of these models. One WebApp version will exist for each
profile that has access to the model. Therefore if you have 10 models you
might set this to 20, unless you have three different profiles for each WebApp.
Then you would set it to 10 + 10 x 3 = 40. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/bowstreet.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">bowstreet.cache.model.size</samp></li>
<li class="sli">Range of values: 0 (disable model caching) to the limits of available
Java memory</li>
<li class="sli">Default Value: 30</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56829 ">Model Cache Timeout (minutes)</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56831 ">The <span class="ph uicontrol">Model Cache
Timeout</span> field sets the time limit after which unused models can
be discarded from cache.<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/bowstreet.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">bowstreet.cache.model.timeOutMinutes</samp></li>
<li class="sli">Default Value: 20</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56829 ">Enable File Upload</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56831 ">When checked, the <span class="ph uicontrol">Enable
File Upload</span> checkbox enables the file upload functionality. When
this is true, the <span class="ph"> WebSphere Portlet
Factory</span> servlet
will be able to upload files.<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/cluster.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">bowstreet.upload.enabled</samp></li>
<li class="sli">Default: <samp class="ph codeph">false</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56829 ">Upload Directory</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56831 ">The <span class="ph uicontrol">Upload Destination
Path</span> field defines where in the <span class="ph"> WebSphere Portlet
Factory</span> servlet
file system the uploaded file will be temporarily stored. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/cluster.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">bowstreet.upload.destinationPath</samp></li>
<li class="sli">Default: <samp class="ph codeph">../upload</samp></li>
</ul>
 </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56829 ">Upload Maximum File Size
(KB)</td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e56831 ">The <span class="ph uicontrol">Upload Maximum
File Size</span> field sets a limit on how many kilobytes can be uploaded
at a time. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/cluster.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">bowstreet.upload.maxFileSizeK</samp></li>
<li class="sli">Default: <samp class="ph codeph">500</samp></li>
</ul>
 </td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_about_evntlog_props"><a name="c_about_evntlog_props"><!-- --></a><h3 class="title topictitle3">About event log properties</h3>
<div class="body conbody"><p class="shortdesc">Event logs can provide a wide range of information from
debugging information to notification of a pending failure.</p>
<p class="p">In addition to setting severity levels, you can set logging rules
and other filters. To set up these advanced features, modify the <span class="ph filepath">WEB-INF/config/logging.properties</span> file.</p>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_evntlog_rules"><a name="c_evntlog_rules"><!-- --></a><h4 class="title topictitle4">Logging rules</h4>
<div class="body conbody"><p class="shortdesc">The <span class="ph filepath">WEB-INF/config/logging.properties</span> file
lets you create many rules that define when events are logged.</p>
<div class="section"><p class="p">By default, <span class="ph">IBM WebSphere Portlet Factory</span> contains
one rule named <samp class="ph codeph">abnormal</samp>. The user can define and freely name
as many different rules as necessary. These two entries create the <samp class="ph codeph">abnormal</samp> rule
and enable it.</p>
<div class="p"><pre class="pre">File: WEB-INF/config/logging.properties
Entry: logging.event.criteria
Default value: abnormal</pre>
</div>
<div class="p"><pre class="pre">File: WEB-INF/config/logging.properties
Entry: logging.event.criterion.abnormal.enabled
Default value: true</pre>
</div>
<p class="p">The following entries show how to create and
enable two rules named rule1 and rule2.</p>
<div class="p"><pre class="pre">logging.event.criteria = rule1, rule2
logging.event.criterion.rule1.enabled = true
logging.event.criterion.rule2.enabled = true</pre>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested3" xml:lang="en-us" id="r_evntlog_filters"><a name="r_evntlog_filters"><!-- --></a><h4 class="title topictitle4">Event log filters</h4>
<div class="body refbody"><p class="shortdesc">The events that are logged are determined by the following filters.</p>
<div class="section"><p class="p">(Please refer to the <span class="ph filepath">WEB-INF/config/logging.properties</span> file
for more information about filters.)</p>
<dl class="dl"><dt class="dt dlterm">severity</dt>
<dd class="dd">The severity filter determines when you will be notified of a possible
failure. </dd>
<dt class="dt dlterm">provider</dt>
<dd class="dd">Restricts events by defining the provider of the software package that
created the log, such as "company_a."</dd>
<dt class="dt dlterm">component</dt>
<dd class="dd">Restricts events by defining the <span class="ph">IBM WebSphere Portlet Factory</span> component
that generated the event.</dd>
<dt class="dt dlterm">message</dt>
<dd class="dd">Restricts events by searching for message text, such as the following: <samp class="ph codeph">LDT:RunModelDisplay</samp></dd>
<dt class="dt dlterm">priority</dt>
<dd class="dd">Restricts events by defining the priority of the criterion. Priority must
be a non-negative integer. If there are multiple criteria whose severity,
provider, component and message filters match, the one with the highest priority
wins.</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested3" xml:lang="en-us" id="r_event_log_properties"><a name="r_event_log_properties"><!-- --></a><h4 class="title topictitle4">Event log properties</h4>
<div class="body refbody"><p class="shortdesc">Use the properties listed to configure event logging.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e57220">Screen Field</th>
<th class="entry" valign="bottom" id="d52e57222">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e57220 ">Severity</td>
<td class="entry" valign="top" headers="d52e57222 ">The <span class="ph uicontrol">Severity</span> field sets the maximum error severity
level that causes an event to be logged. This field can have one of the following
five values (in descending order of severity):<dl class="dl"><dt class="dt dlterm">Severe</dt>
<dd class="dd">Indicates probable future failures.</dd>
<dt class="dt dlterm">Error</dt>
<dd class="dd">A failure occurred which affected only the current user, thread, or context.</dd>
<dt class="dt dlterm">Warning</dt>
<dd class="dd">Something is amiss, and recovery is being attempted. Better look into
it soon.</dd>
<dt class="dt dlterm">Information</dt>
<dd class="dd">No action is required.</dd>
<dt class="dt dlterm">Debug</dt>
<dd class="dd">Debugging output.</dd>
</dl>
<p class="p">If the user sets the Severity field to "Error", then the <span class="ph">IBM WebSphere Portlet Factory</span> servlet logs the events of
"Severe" and "Error" levels. If the user sets the severity level to Warning,
then the <span class="ph"> WebSphere Portlet
Factory</span> servlet logs
the events of "Warning", "Error" and "Severe" levels. If the user sets the
Severity field to "Information", then the <span class="ph"> WebSphere Portlet
Factory</span> servlet
logs events of "Severe," "Error," "Warning" and "Information" levels.</p>
<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.event.criterion.abnormal.severity</samp></li>
<li class="sli">Default value: <samp class="ph codeph">warning</samp></li>
</ul>
<p class="p">There are other filters that include events in or exclude events from
the log file. The first is the <span class="ph uicontrol">Comparator</span> that can
take one of three values:</p>
<ul class="ul"><li class="li"> <samp class="ph codeph">&gt;=</samp> (Include events with severity greater than or
equal to the severity value.) </li>
<li class="li"> <samp class="ph codeph">&gt;</samp> (Include only events with severity greater than
the severity value.) </li>
<li class="li"> <samp class="ph codeph">=</samp> (Include only events with severity equal to the severity
value.) </li>
</ul>
<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.event.criterion.abnormal.comparator</samp></li>
<li class="sli">Default value: <samp class="ph codeph">&gt;=</samp></li>
</ul>
<p class="p">The attribute value "*" means unspecified. The field will be skipped
during comparison.</p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57220 ">Log File Directory</td>
<td class="entry" valign="top" headers="d52e57222 ">The <span class="ph uicontrol">Log File Directory</span> field displays the full
path (relative to the <span class="ph"> WebSphere Portlet
Factory</span> installation
directory) to the base directory where event log files are stored. The <span class="ph"> WebSphere Portlet
Factory</span> servlet must be restarted
before a change to this value takes effect. Access privileges to the <span class="ph uicontrol">Log
File Directory</span> control who is allowed to view event logs.<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.driver.eventSink.directory</samp></li>
<li class="sli">Default value: <samp class="ph codeph">${bowstreet.rootDirectory}/logs</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57220 ">Log File Prefix</td>
<td class="entry" valign="top" headers="d52e57222 ">The <span class="ph uicontrol">Log File Prefix</span> field defines the beginning
of the name of the event log file written by the <span class="ph"> WebSphere Portlet
Factory</span> servlet.
The log file name has the following format: "prefix" + "timestamp" + "suffix" <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.driver.eventSink.prefix</samp></li>
<li class="sli">Default value:</li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57220 ">Log File Suffix</td>
<td class="entry" valign="top" headers="d52e57222 ">The <span class="ph uicontrol">Log File Suffix</span> field defines the end of
the name of the event log file written by the <span class="ph"> WebSphere Portlet
Factory</span> servlet.
The log file name has the following format: "prefix" + "timestamp" + "suffix" <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.driver.eventSink.suffix</samp></li>
<li class="sli">Default value: <samp class="ph codeph">.log</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57220 ">Log File Max Size (KB)</td>
<td class="entry" valign="top" headers="d52e57222 ">The <span class="ph uicontrol">Log File Max Size</span> field sets the maximum
size (in kilobytes) that the <span class="ph"> WebSphere Portlet
Factory</span> servlet
allows an event log file to reach. When a log file reaches this size, the <span class="ph"> WebSphere Portlet
Factory</span> servlet closes the current
log file, resets its internal counters and begins writing a new log file. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.driver.eventSink.maxSize</samp></li>
<li class="sli">Default value: <samp class="ph codeph">1000</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57220 ">Flush Log Every (seconds)</td>
<td class="entry" valign="top" headers="d52e57222 ">The <span class="ph uicontrol">Flush Log Every</span> field sets the number of
seconds that the <span class="ph"> WebSphere Portlet
Factory</span> servlet
waits before writing the contents of the event log queue to the event log
file. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.event.flush.interval</samp></li>
<li class="sli">Default value: <samp class="ph codeph">60</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57220 ">Flush Log Files Immediately</td>
<td class="entry" valign="top" headers="d52e57222 ">The <span class="ph uicontrol">Flush Log Files Immediately</span> checkbox tells
the <span class="ph"> WebSphere Portlet
Factory</span> servlet (when checked
and true) to disregard the Flush Log Every _ Seconds parameter and immediately
write all subsequent events to the event log file. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.event.criterion.abnormal.flushImmediately</samp></li>
<li class="sli">Default value: <samp class="ph codeph">false</samp></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_stat_log_properties"><a name="c_stat_log_properties"><!-- --></a><h3 class="title topictitle3">Statistics log properties file entries and format</h3>
<div class="body conbody"><p class="shortdesc">The statistics log collects information about memory usage,
active sessions, persisted (or swapped) sessions and the number of
times models run.</p>
<p class="p">Server statistics log files grow rapidly and multiply quickly when
statistics logging is enabled. The maximum file size for this log
file and all others is governed by the Log File Max Size setting in
the <span class="ph filepath">logging.properties</span> file.</p>
<p class="p">Log entries that begin with <samp class="ph codeph">log.serverStat</samp> contain
information about <samp class="ph codeph">serverStatus</samp> logging.</p>
<p class="p">Log entries that begin with <samp class="ph codeph">logging.serverStats.logBy</samp> and <samp class="ph codeph">logging.serverStats.default</samp> have
meanings similar to their access log counterparts.</p>
<p class="p">Entries in the properties file determine what information is logged.
The <samp class="ph codeph">logging.ServerStats</samp> section of the <samp class="ph codeph">WEB-INF/config/logging.properties</samp> file
can have any number of entries. Each entry begins with <samp class="ph codeph">log.serverStats.criterion</samp> and
has the following attributes to determine what is logged.</p>
<ul class="ul"><li class="li"><a class="xref" href="designer-html-wrapper.htm#c_stat_log_properties__item">Item</a> For example: <pre class="pre codeblock">log.serverStats.criterion.tooManySessions.item=Sessions</pre>
</li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_stat_log_properties__comparator">Comparator</a> For example: <pre class="pre codeblock">log.serverStats.criterion.tooManySessions.comparator=&gt;</pre>
</li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_stat_log_properties__threshold">Threshold</a> For example: <pre class="pre codeblock">log.serverStats.criterion.tooManySessions.threshold=50</pre>
</li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_stat_log_properties__message">Message</a> For example: <pre class="pre codeblock">log.serverStats.criterion.tooManySessions.message="Session threshold reached"</pre>
</li>
<li class="li"><a class="xref" href="designer-html-wrapper.htm#c_stat_log_properties__flushImmediately">flushImmediately</a> For
example: <pre class="pre codeblock">log.serverStats.criterion.tooManySessions.flushImmediately</pre>
</li>
</ul>
<div class="section" id="c_stat_log_properties__item"><a name="c_stat_log_properties__item"><!-- --></a><h4 class="title sectiontitle">Item</h4><p class="p">An item is one value from
the following list:</p>
<dl class="dl"><dt class="dt dlterm">ActiveSessions</dt>
<dd class="dd">Number of sessions that were accessed since the last update. Snapshot.</dd>
<dt class="dt dlterm">ErrorsLogged</dt>
<dd class="dd">Number of ERROR level events generated. The error details are
normally recorded in the event log. Accumulated.</dd>
<dt class="dt dlterm">MemFree</dt>
<dd class="dd">Total current Java heap memory free in bytes. Snapshot.</dd>
<dt class="dt dlterm">MemInUse</dt>
<dd class="dd">Total current Java heap memory in use in bytes. Snapshot.</dd>
<dt class="dt dlterm">MemTotal</dt>
<dd class="dd">Total Java heap size in bytes. Snapshot.</dd>
<dt class="dt dlterm">ModelCacheEntries</dt>
<dd class="dd">Number of models currently in cache. Snapshot.</dd>
<dt class="dt dlterm">ModelCacheRegenEntries</dt>
<dd class="dd">Number of regenerated web applications currently in cache. Snapshot.</dd>
<dt class="dt dlterm">OutputCacheHits</dt>
<dd class="dd">Number of hits to cached output data (when the Cache Control builder
is used). Accumulated.</dd>
<dt class="dt dlterm">OutputCacheMisses</dt>
<dd class="dd">Number of misses to cached output (how many times output data
was put in cache). Accumulated.</dd>
<dt class="dt dlterm">PeakSessions</dt>
<dd class="dd">Maximum number of sessions in memory since <span class="ph">IBM WebSphere Portlet Factory</span> servlet started. Accumulated.</dd>
<dt class="dt dlterm">Regens</dt>
<dd class="dd">Total number of requests for regenerated models. Accumulated.</dd>
<dt class="dt dlterm">RegensFromCache</dt>
<dd class="dd">Of the total Regens requested, the number that were obtained from
cache. Accumulated.</dd>
<dt class="dt dlterm">RestoredSessions</dt>
<dd class="dd">Number of sessions recovered from failover. Accumulated.</dd>
<dt class="dt dlterm">Sessions</dt>
<dd class="dd">Current number of user sessions in memory. Sessions stay in server
memory until a logout or until the session expires due to inactivity.
It includes web application sessions. Snapshot.</dd>
<dt class="dt dlterm">SevereErrorsLogged</dt>
<dd class="dd">Number of <samp class="ph codeph">SEVERE</samp> level events generated. Accumulated.</dd>
<dt class="dt dlterm">WarningsLogged</dt>
<dd class="dd">Number of <samp class="ph codeph">WARNING</samp> level events generated. Accumulated.</dd>
<dt class="dt dlterm">WebAppJSPSourceWritten</dt>
<dd class="dd">Number of times a generated JSP source page is written to disk.
This happens just before a page is rendered for the first time. Accumulated.</dd>
<dt class="dt dlterm">WebAppMethodClassWritten</dt>
<dd class="dd">Number of times a generated method class for a web application
is written (to <span class="ph filepath">genjava</span> folder) and compiled.
Accumulated.</dd>
<dt class="dt dlterm">WebAppRequests</dt>
<dd class="dd">Number of requests to web application models.</dd>
<dt class="dt dlterm">WebAppsInSessions</dt>
<dd class="dd">Total number of model instances held in all sessions in memory.
Snapshot.</dd>
<dt class="dt dlterm">WebAppSOAPRequests</dt>
<dd class="dd">Similar function as WebAppRequests, but it is specifically for
incoming SOAP requests.</dd>
</dl>
</div>
<div class="section" id="c_stat_log_properties__comparator"><a name="c_stat_log_properties__comparator"><!-- --></a><h4 class="title sectiontitle">Comparator</h4><p class="p">A comparison
operator is one of the following values:</p>
<ul class="sl simple"><li class="sli"><samp class="ph codeph">&gt;=</samp> (greater than or equal to)</li>
<li class="sli"><samp class="ph codeph">&gt;</samp> (greater than)</li>
<li class="sli"><samp class="ph codeph">=</samp> (equal to)</li>
<li class="sli"><samp class="ph codeph">&lt;</samp> (less than)</li>
<li class="sli"><samp class="ph codeph">&lt;=</samp> (less than or equal to)</li>
</ul>
</div>
<div class="section" id="c_stat_log_properties__threshold"><a name="c_stat_log_properties__threshold"><!-- --></a><h4 class="title sectiontitle">Threshold</h4>A threshold is a value
defining an upper or lower limit for the item.</div>
<div class="section" id="c_stat_log_properties__message"><a name="c_stat_log_properties__message"><!-- --></a><h4 class="title sectiontitle">Message</h4><p class="p">A message is text that
describes the logged event. </p>
</div>
<div class="section" id="c_stat_log_properties__flushImmediately"><a name="c_stat_log_properties__flushImmediately"><!-- --></a><h4 class="title sectiontitle">flushImmediately</h4><p class="p">Indicates
to write the log immediately rather than queue it for output.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_webapprequests_webappsoaprequests"><a name="c_webapprequests_webappsoaprequests"><!-- --></a><h4 class="title topictitle4">About WebAppRequests and WebAppSOAPRequests</h4>
<div class="body conbody"><p class="shortdesc">WebAppRequests shows specific information about models and the
top-level action in a model.</p>
<div class="section"><p class="p"> Here is an example of the WebAppRequests section from a <span class="ph">IBM WebSphere Portlet Factory</span> servlet
statistics log:</p>
<div class="p"><pre class="pre">WebAppRequests: 4426 Latency: 149
WebAppRequests/com.bowstreet.service.ShoppingMethodsLogin: 94 Latency: 467
WebAppRequests/com.bowstreet.service.ShoppingMethodsLogin/DoLogin: 46 Latency: 733
WebAppRequests/com.bowstreet.service.ShoppingMethods: 4332 Latency: 142
WebAppRequests/com.bowstreet.service.ShoppingMethods/_gen_button_resultManTable/AddItemToCart7: 1397 Latency: 203
WebAppRequests/com.bowstreet.service.ShoppingMethods/postList: 43 Latency: 96
WebAppRequests/com.bowstreet.service.ShoppingMethods/searchUser: 43 Latency: 247
WebAppRequests/com.bowstreet.service.ShoppingMethods/searchMan: 1373 Latency: 148
WebAppRequests/com.bowstreet.service.ShoppingMethods/postMan: 1388 Latency: 74
WebAppRequests/com.bowstreet.service.ShoppingMethods/shopping: 45 Latency: 120
WebAppRequests/com.bowstreet.service.ShoppingMethods/shopAbout: 43 Latency: 99</pre>
</div>
<p class="p">The first line shows the total number of requests for all models,
which is 4426, with the average <span class="ph"> WebSphere Portlet
Factory</span> servlet
latency, 149 milliseconds.</p>
<p class="p">The following lines show a model breakdown
for the two models executed, ShoppingMethods (4332 requests total) and ShoppingMethodsLogin
(94 requests total). For each model it shows the total for all requests to
the model, and then lists each top-level method or page in the model.</p>
<p class="p">You
can use this data to see which models and pages/methods are being executed
and to get a rough picture of the responsiveness for each.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested3" xml:lang="en-us" id="r_statlog_sample_entries"><a name="r_statlog_sample_entries"><!-- --></a><h4 class="title topictitle4">Statistics Log Properties Sample Entries</h4>
<div class="body refbody"><p class="shortdesc">These are sample entries for the Statistics Log properties.</p>
<div class="section">The first entry loads two criteria, including <samp class="ph codeph">tooMuchSessions</samp>.<pre class="pre codeblock">File: WEB-INF/config/logging.properties
Entry: logging.serverStats.criteria
Sample Value: tooMuchSessions,tooMuchModelsLoaded</pre>
<p class="p">The first
attribute entry sets <samp class="ph codeph">flushImmediately</samp> to <samp class="ph codeph">true</samp>.</p>
<pre class="pre codeblock">File: WEB-INF/config/logging.properties
Entry: logging.serverStats.criterion.tooManyModelsLoaded.flushImmediately
Sample Value: true</pre>
<p class="p">The second attribute entry defines the source
of the data being monitored.</p>
<pre class="pre codeblock">File: WEB-INF/config/logging.properties
Entry: logging.serverStats.criterion.tooManySessions.item
Sample Value: Sessions</pre>
<p class="p">The third attribute entry defines the comparator to be greater
than.</p>
<pre class="pre codeblock">File: WEB-INF/config/logging.properties
Entry: logging.serverStats.criterion.tooManySessions.comparator
Sample Value: &gt;</pre>
<p class="p">The fourth attribute entry defines the threshold
value as 5000.</p>
<pre class="pre codeblock">File: WEB-INF/config/logging.properties
Entry: logging.serverStats.criterion.tooManySessions.threshold
Sample Value: 5000</pre>
<p class="p">The fifth attribute entry defines the text
message to send to the log file.</p>
<pre class="pre codeblock">File: WEB-INF/config/logging.properties
Entry: logging.serverStats.criterion.tooManySessions.message
Sample Value: "Too many sessions opened"</pre>
<p class="p">Each item in <samp class="ph codeph">serverStats</samp> log
will be checked to see if it meets the requirement of a filter. There may
be more than one criteria that is satisfied. For each criterion met, a warning
log is created and sent to the attached log drivers.</p>
<p class="p">For example, one
poll of the <span class="ph">IBM WebSphere Portlet Factory</span> servlet
receives the following statistics:</p>
<pre class="pre codeblock">CacheRegs: 500
ModelsLoaded: 7000
Sessions: 6000</pre>
<p class="p">The <span class="ph"> WebSphere Portlet
Factory</span> servlet
will store all of these statistics in a log object and send it to the drivers
defined in <samp class="ph codeph">log.serverStats.default.*</samp>. The resulting log satisfies
two criteria: <samp class="ph codeph">tooMuchSessions</samp> and <samp class="ph codeph">tooMuchModelsLoaded</samp>,
so two warning logs will be created and sent to the drivers defined in <samp class="ph codeph">log.serverStats.criterion.tooMuchSessions</samp> and <samp class="ph codeph">log.serverStats.criterion.tooMuchModelsLoaded</samp>. </p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic reference nested2" xml:lang="en-us" id="r_setting_statisics_log_properties"><a name="r_setting_statisics_log_properties"><!-- --></a><h3 class="title topictitle3">Statistics log properties</h3>
<div class="body refbody"><p class="shortdesc">Use these properties to configure statistics logging.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 61. Statistics log properties</span></caption><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e57939">Screen Field</th>
<th class="entry" valign="bottom" id="d52e57941">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e57939 ">Snapshot Interval
(seconds)</td>
<td class="entry" valign="top" headers="d52e57941 ">Sets the number of seconds that the <span class="ph">IBM WebSphere Portlet Factory</span> servlet waits before
refreshing server statistics fields on the screen.<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.serverStats.snapshotInterval</samp></li>
<li class="sli">Default value: <samp class="ph codeph">300</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57939 ">Log File Directory</td>
<td class="entry" valign="top" headers="d52e57941 ">Shows the full path (relative to the <span class="ph"> WebSphere Portlet
Factory</span> installation directory)
to the base directory where <span class="ph"> WebSphere Portlet
Factory</span> servlet
statistic log files are stored. The <span class="ph"> WebSphere Portlet
Factory</span> servlet must be restarted
before a change to this value takes effect. <ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.driver.serverStatsSink.directory</samp></li>
<li class="sli">Default value: <samp class="ph codeph">${bowstreet.rootDirectory}/server_stats</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57939 ">Log File Prefix</td>
<td class="entry" valign="top" headers="d52e57941 ">Defines the beginning of the name of the server statistic log
file written by the <span class="ph"> WebSphere Portlet
Factory</span> servlet. <span class="ph" id="r_setting_statisics_log_properties__ph_logname"><a name="r_setting_statisics_log_properties__ph_logname"><!-- --></a>The log file name has the following format.</span><pre class="pre codeblock" id="r_setting_statisics_log_properties__cblk_logname"><a name="r_setting_statisics_log_properties__cblk_logname"><!-- --></a><var class="keyword varname">prefix</var>+<var class="keyword varname">timestamp</var>+<var class="keyword varname">suffix</var></pre>
<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.driver.serverStatsSink.prefix</samp></li>
<li class="sli">Default value: <samp class="ph codeph">serverStats_</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57939 "> Log File Suffix </td>
<td class="entry" valign="top" headers="d52e57941 ">Defines the end of the name of the server statistic log file
written by the <span class="ph"> WebSphere Portlet
Factory</span> servlet. <span class="ph">The log file name has the following format.</span><pre class="pre codeblock"><var class="keyword varname">prefix</var>+<var class="keyword varname">timestamp</var>+<var class="keyword varname">suffix</var></pre>
<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.driver.serverStatsSink.suffix</samp></li>
<li class="sli">Default value: <samp class="ph codeph">${bowstreet.rootDirectory}/logs</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57939 ">Log File Max Size (KB)</td>
<td class="entry" valign="top" headers="d52e57941 ">Sets the maximum size (in kilobytes) that the <span class="ph"> WebSphere Portlet
Factory</span> servlet allows a server
statistics log file to reach. When a log file reaches this size, the <span class="ph"> WebSphere Portlet
Factory</span> servlet closes the
current log file, resets its internal counters and begins writing
a new log file.<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.driver.serverStatsSink.maxSize</samp></li>
<li class="sli">Default value: <samp class="ph codeph">1000</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57939 ">Flush Log File Every (seconds)</td>
<td class="entry" valign="top" headers="d52e57941 ">Sets the number of seconds that the <span class="ph"> WebSphere Portlet
Factory</span> servlet waits before
writing its internal server statistics queue to the server statistics
log file.<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.serverStats.flush.byInterval</samp></li>
<li class="sli">Default value: true</li>
<li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.serverStats.flush.interval</samp></li>
<li class="sli">Default value: <samp class="ph codeph">300</samp></li>
</ul>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e57939 ">Flush Log Files Immediately</td>
<td class="entry" valign="top" headers="d52e57941 ">Tells the <span class="ph"> WebSphere Portlet
Factory</span> servlet
(when checked and true) to disregard the <span class="ph uicontrol">Flush Log Every
(seconds)</span> parameter and immediately write all subsequent
server statistics to the log file.<ul class="sl simple"><li class="sli">File: <span class="ph filepath">WEB-INF/config/logging.properties</span></li>
<li class="sli">Entry: <samp class="ph codeph">logging.serverStats.default.flushImmediately</samp></li>
<li class="sli">Default value: <samp class="ph codeph">false</samp></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_log4j_properties"><a name="r_log4j_properties"><!-- --></a><h3 class="title topictitle3">log4j properties</h3>
<div class="body refbody"><p class="shortdesc">Use these properties to configure log4j logging.</p>
<div class="section">These properties reside in the <span class="ph filepath">log4j.properties</span> file.</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e58201">Screen Field  </th>
<th class="entry" valign="bottom" id="d52e58203"> Description </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58201 ">Log4j Policy File  </td>
<td class="entry" valign="top" headers="d52e58203 "><span class="ph">IBM WebSphere Portlet Factory</span> uses log4j
for debugging and tracing. This feature lets you specify the output of the
logging and create additional logging.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e58201 ">Log4j Watch Interval (ms) </td>
<td class="entry" valign="top" headers="d52e58203 ">The number of milliseconds between times that the logging file is checked
for updates. The default value is every second (one thousand milliseconds).
The logging file is specified by the <samp class="ph codeph">bowstreet.logging.log4j.configFile</samp> property
(default <span class="ph filepath">WEB-INF\config\log4j.properties</span>) in the <samp class="ph codeph">WEB-INF/config/bowstreet.properties</samp> file. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_pageautomation_properties"><a name="r_pageautomation_properties"><!-- --></a><h3 class="title topictitle3">Page Automation properties</h3>
<div class="body refbody"><p class="shortdesc">Use the properties below to override settings made in various page
automation builders, such as Data Page, Data Column Modifier, Rich Data Definition,
and so on.</p>
<div class="section">These properties normally reside in the <span class="ph filepath">bowstreet.properties</span> file.<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e58266">Screen Field</th>
<th class="entry" valign="bottom" id="d52e58268">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58266 "><samp class="ph codeph">bowstreet.pageautomation.date.data=</samp></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58268 ">Sets the format string for
the data value of dates.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58266 "><samp class="ph codeph">bowstreet.pageautomation.date.display=</samp></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58268 ">Sets the format string for
the display of dates.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58266 "><samp class="ph codeph">bowstreet.pageautomation.date.yearAdjustCutoff=50</samp></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58268 ">Sets the date century format
to either the 20th or 21st century.<ul class="ul"><li class="li">All dates parsed by the Page Automation date parser that are less than
this value will have 2000 added to them.</li>
<li class="li">All dates parsed by the Page Automation date parser that are greater than
this value but less than 100, they will have 1900 added to them.</li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> To work with dates prior to 1900, comment out this property.</div>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58266 "><samp class="ph codeph">bowstreet.pageautomation.dateTime.data=</samp></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58268 ">Sets the format string for
the data value of a datetime.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58266 "><samp class="ph codeph">bowstreet.pageautomation.dateTime.display=</samp></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58268 ">Sets the format string for
the display of a datetime.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58266 "><samp class="ph codeph">bowstreet.pageautomation.time.data=</samp></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58268 ">Sets the format string for
the data value of times.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58266 "><samp class="ph codeph">bowstreet.pageautomation.time.display=</samp></td>
<td class="entry" valign="top" headers="d52e58268 ">Sets the format string for the display of times.</td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58266 "><samp class="ph codeph">bowstreet.pageautomation.force_separate_leaf_when_repeated</samp></td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e58268 ">When set to false, will take
repeated elements in an XML variable and display them as a comma-delimited
string.<p class="p">When set to true, repeated elements are displayed separately.</p>
<p class="p">Example:</p>
<p class="p">Based
on the following XML,</p>
<pre class="pre codeblock">&lt;UnitTests&gt;
&lt;UnitTest&gt;
&lt;name&gt;test1&lt;/name&gt;
&lt;urls&gt;
&lt;url&gt;one&lt;/url&gt;
&lt;url&gt;two&lt;/url&gt;
&lt;url&gt;three&lt;/url&gt;
&lt;/urls&gt;
&lt;/UnitTest&gt;
&lt;/UnitTests&gt;</pre>
 <p class="p">If <kbd class="ph userinput">FALSE</kbd>, will be
displayed as: <samp class="ph codeph">test one, two, three</samp></p>
<p class="p">If <kbd class="ph userinput">TRUE</kbd>,
will be displayed as:</p>
<pre class="pre codeblock">test one
two
three</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_property_changes_which_require_a_server_restart"><a name="r_property_changes_which_require_a_server_restart"><!-- --></a><h3 class="title topictitle3">Property changes which require a server restart</h3>
<div class="body refbody"><p class="shortdesc">Use the following table to determine which properties require you
to restart the application server.</p>
<div class="section"><div class="note note"><span class="notetitle">Note:</span> All <span class="ph">IBM WebSphere Portlet Factory</span> property
files are located in the  <span class="ph filepath">WEB-INF/config</span> directory.</div>
</div>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e58394">Property File</th>
<th class="entry" valign="bottom" id="d52e58396">Requires Restart?</th>
<th class="entry" valign="bottom" id="d52e58398">Property</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "><samp class="ph codeph">bowstreet.properties</samp></td>
<td class="entry" valign="middle" headers="d52e58396 ">YES</td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.location.packaging </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">NO</td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.location.userData </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">NO</td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.location.userlib </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.cache.model.size </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.cache.builderInfoCheckInterval </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.cache.builderRegenLoadInterval </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.cache.model.timeOutMinutes </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58394 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.logging.log4j.configFile </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58394 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.logging.log4j.watchInterval </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58394 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.location.models.path </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58394 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.location.models.dumpInfoLevel </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.settings.RequestMemThreshold </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.settings.stringObscureHandler </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.cache.output.disable </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58394 "> </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.settings.sourcemodelmanager.modelprocessinginterval </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "><samp class="ph codeph">cluster.properties </samp></td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">server.domain </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.engine.uniqueIDPrefix </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">NO </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.settings.packagingAlias </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.settings.userDataStorageHandler </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">NO </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.xml.sax.defaultParser </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.upload.enabled </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.upload.destinationPath </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.upload.maxFileSizeK </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.session.semaphore.timeOut </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">NO </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.profiles.storage.handler </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">NO </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.profiles.storage.file.dir </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.profiles.cache.waitTime </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.soap.enabled </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.soap.targetModelURIPrefix </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.soap.requestURLPathInfo </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.session.cookieless.enabled </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">bowstreet.session.cookieless.parameter </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "><samp class="ph codeph">logging.properties </samp></td>
<td class="entry" valign="middle" headers="d52e58396 ">NO </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">for all properties </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "><samp class="ph codeph">persistentstore.properties </samp></td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">persistentstore.hashtable.capacity </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">persistentstore.hashtable.loadfactor </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">persistentstore.storage.type </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">NO </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">persistentstore.storage.dir </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">persistentstore.defaultrecord.binaryortext </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">persistentstore.defaultrecord.isref </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">persistentstore.defaultrecord.saveunique </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">persistentstore.defaultrecord.version </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "><samp class="ph codeph">server.properties </samp></td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">server.htmlRoot </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">NO </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">server.proxy.host </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">NO </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">server.proxy.port </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">server.http.port </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">server.https.port </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">server.service.directory.checkTimestamp </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">server.service.directory </samp></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e58394 "> </td>
<td class="entry" valign="middle" headers="d52e58396 ">YES </td>
<td class="entry" valign="middle" headers="d52e58398 "><samp class="ph codeph">java.protocol.handler.pkgs </samp></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="dominorichtextfunctionalityanddisplayingforeignkeycodes"><a name="dominorichtextfunctionalityanddisplayingforeignkeycodes"><!-- --></a><h3 class="title topictitle3">Domino Rich Text functionality and displaying foreign keycodes</h3>
<div class="body conbody"><p class="shortdesc">Add the bowstreet.domino.richtext.encoding.override property
to override.properties file to properly display foreign keycodes.</p>
<pre class="pre codeblock">bowstreet.domino.richtext.encoding.override= </pre>
<div class="p">For specific charsets, add this property to the override.properties
and specify the charset you are using. For example add:<pre class="pre codeblock">bowstreet.domino.richtext.encoding.override=ISO8859_1</pre>
To use the French character set.</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_overview_dev_env"><a name="c_overview_dev_env"><!-- --></a><h2 class="title topictitle2"><span class="ph">IBM WebSphere Portlet Factory</span> Designer components</h2>
<div class="body conbody"><p class="shortdesc">Multiple components comprise the <span class="ph"> WebSphere Portlet
Factory</span> development
environment. </p>
<div class="section"><dl class="dl"><dt class="dt dlterm"><span class="ph"> WebSphere Portlet
Factory</span> Server</dt>
<dd class="dd">Hosts <span class="ph"> WebSphere Portlet
Factory</span> and determines
the Java compiler used by <span class="ph"> WebSphere Portlet
Factory</span>,
security for the generated applications, and user management, for example.</dd>
<dt class="dt dlterm"><span class="ph"> WebSphere Portlet
Factory</span> installation</dt>
<dd class="dd">Runs as a web application on an application server and includes the <span class="ph"> WebSphere Portlet
Factory</span> servlet which generates applications
from models. <p class="p"><span class="ph"> WebSphere Portlet
Factory</span> installation
also contains builders, models, profile sets, and other <span class="ph"> WebSphere Portlet
Factory</span> artifacts.</p>
</dd>
<dt class="dt dlterm"><span class="ph"> WebSphere Portlet
Factory</span> Designer plugin</dt>
<dd class="dd">Integrates code allowing you to create models, profile sets, builders
with in an Integrated Development Environment (IDE).</dd>
<dt class="dt dlterm">IDE</dt>
<dd class="dd">Hosts the <span class="ph"> WebSphere Portlet
Factory</span> Designer
plugin and provides typical development environment features such as project
management and compilation of Java source code.<p class="p">Depending upon which IDE
is used to create a <span class="ph"> WebSphere Portlet
Factory</span> model,
the mechanism for launching <span class="ph"> WebSphere Portlet
Factory</span> Designer
and some cosmetic aspects of <span class="ph"> WebSphere Portlet
Factory</span> Designer
may vary but the model functionality does not. Models created using one IDE
may be open and run in another.</p>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="devenv_dir_structure"><a name="devenv_dir_structure"><!-- --></a><h3 class="title topictitle3">Directory structure for <span class="ph">IBM WebSphere Portlet Factory</span> Web applications</h3>
<div class="body conbody"><p class="shortdesc">The directory structure of <span class="ph"> WebSphere Portlet
Factory</span> is similar to that
of any Web application. </p>
<p class="p">The directory structure has a document root in which all its static
HTML and other servable resources reside. Depending on the application
server, the document root, also known as the servable content root
directory, is similar to one of the following locations. </p>
<dl class="dl"><dt class="dt dlterm">Tomcat</dt>
<dd class="dd"><span class="ph">For portlets and widgets</span><p class="p"><samp class="ph codeph">c:\tomcat\webapps\<var class="keyword varname">ear_dir</var>\<var class="keyword varname">war_dir</var></samp></p>
</dd>
<dt class="dt dlterm"><span class="ph">IBM WebSphere Application
Server</span> </dt>
<dd class="dd"><span class="ph">For portlets and widgets</span><p class="p"><samp class="ph codeph">c:\WebSphere\AppServer\installedApps\<var class="keyword varname">ear_dir</var>\<var class="keyword varname">war_dir</var></samp></p>
</dd>
<dt class="dt dlterm"><span class="ph">IBM Lotus Mashups</span></dt>
<dd class="dd"><span class="ph">For widgets only</span><p class="p"><samp class="ph codeph">c:\ProgramFiles\IBM
Mashup Center\mm_server\installedApps\<var class="keyword varname">IBM-node_cell_number</var>\<var class="keyword varname">ear_dir</var>\<var class="keyword varname">war_dir</var></samp></p>
</dd>
</dl>
<p class="p">Web applications generated by <span class="ph">IBM WebSphere Portlet Factory</span> adhere to the architecture
for all J2EE applications. HTML pages, images, and other servable
resources reside somewhere below the servable content root directory
that is set up by <span class="ph"> WebSphere Portlet
Factory</span>. </p>
<p class="p">Java classes, profile sets, models, and other content that is not
servable reside in the <span class="ph"> WebSphere Portlet
Factory</span> <span class="ph filepath">WEB-INF</span> directory.
The following table lists and describes the directories relevant to
Web application development with <span class="ph"> WebSphere Portlet
Factory</span>. </p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e59056">Directory  </th>
<th class="entry" valign="bottom" id="d52e59058">Description </th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" headers="d52e59056 "><span class="ph filepath">project</span> </td>
<td class="entry" valign="top" headers="d52e59058 ">Servable content root directory. All HTML pages, images, and
other resources that are servable to the user are stored in this directory
or in one of its subdirectories. </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e59056 "><span class="ph filepath">factory</span> </td>
<td class="entry" valign="top" headers="d52e59058 ">All the servable resources pertaining to <span class="ph"> WebSphere Portlet
Factory</span> reside in this directory.
HTML pages for the applications that comprise <span class="ph"> WebSphere Portlet
Factory</span> and images are all
in this directory. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">genjsp</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">All the JSPs from
your models get stored in this directory according to the directory
path and model name to which the page belongs. For example, <samp class="ph codeph">com/acme/insurance_portal/UserRegistration_RegistrationPage.jsp</samp>. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Nonservable content
root, containing all the Java classes, profile sets, and other nonservable
resources for <span class="ph"> WebSphere Portlet
Factory</span> itself
and all Web applications that you create. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/builders</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Builder definition
files used in <span class="ph"> WebSphere Portlet
Factory</span>. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/classes</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Part of <span class="ph"> WebSphere Portlet
Factory</span> classpath. Contains
the deployable Java classes used by your Web applications. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/clientLibs</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Part of <span class="ph"> WebSphere Portlet
Factory</span> classpath. Stores
the deployable JAR files used by your Web applications. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/config</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Contains the property
files used by <span class="ph"> WebSphere Portlet
Factory</span>. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/factory/generated</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Contains the <span class="ph filepath">genjava</span> directory
that contains all the Java classes that the Automation Engine generates
for the methods in your models. </td>
</tr>
<tr class="row"><td class="entry" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/factory/themes</span></td>
<td class="entry" valign="top" headers="d52e59058 ">Contains the default and sample theme files
for use by your Web applications. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/lib</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Part of the <span class="ph"> WebSphere Portlet
Factory</span> classpath. Contains
all the JAR files used by <span class="ph"> WebSphere Portlet
Factory</span>. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/logs</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Contains files that
record activity under <span class="ph"> WebSphere Portlet
Factory</span>. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/models</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Contains all the
models installed as part of <span class="ph"> WebSphere Portlet
Factory</span> and
the models that you create. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/temp</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">IBM Rational Development
Environment compiles Java source files to this directory and uses
Ant to copy them to the <span class="ph filepath">WEB-INF/work/classes</span> directory. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/work</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Contains sample Java
source files and classes. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/work/classes</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Part of <span class="ph"> WebSphere Portlet
Factory</span> classpath. All classes
in this directory get dynamically loaded by <span class="ph"> WebSphere Portlet
Factory</span>. </td>
</tr>
<tr class="row" valign="top"><td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59056 "><span class="ph filepath">WEB-INF/work/source</span> </td>
<td class="entry" rowspan="1" colspan="1" valign="top" headers="d52e59058 ">Contains sample code
and serves as a convenient place to store Java source files for your
Web applications. </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="devenv_genned_files"><a name="devenv_genned_files"><!-- --></a><h3 class="title topictitle3">File names and limitations</h3>
<div class="body conbody"><p class="shortdesc">Some application servers have restrictions on file names
or a limit on the length of a path name. </p>
<div class="section"><h4 class="title sectiontitle">Non-ASCII characters used in file names</h4><p class="p">If
you use non-ASCII characters in the names that you assign to style
sheets or images, you possibly cannot load these files by a URL, depending
on your application server settings. For example, the Image builder
and Image Button builder do not load image files (for example, <span class="ph filepath">.gif</span> files)
that are named with non-ASCII characters.</p>
</div>
<div class="section"><h4 class="title sectiontitle">Generated file names and path length</h4><p class="p">On
some application servers, there is a limit of 255 characters on the
length of path names (including the file name). In <span class="ph">IBM WebSphere Portlet Factory</span>, JSP files and Java
classes are generated based on the model name and any profiles applied
to the model. Typically, the file name lengths are under 255 characters. </p>
<p class="p">However, when you use the model as a portlet in nested
portals, the generated file name could cause the path length limitation
to be exceeded.</p>
<p class="p">To prevent the generation of file names that
are too long, the profile names are converted to a unique ID. You
can control the file name length at which the <span class="ph"> WebSphere Portlet
Factory</span> converts the profile
name portion of a generated file name to an ID by setting the following
property in the <span class="ph filepath">WEB-INF/config/cluster.properties</span> file. </p>
<pre class="pre codeblock">bowstreet.profiles.maxKeyLength</pre>
<p class="p">The
default value for this property is 60.</p>
<div class="note note"><span class="notetitle">Note:</span> The <samp class="ph codeph">maxKeyLength</samp> value
does not include the length of the whole file name, just the length
of the profile name portion. As a result, set the <samp class="ph codeph">maxKeyLength</samp> value
low enough to account for the <span class="ph">portlet name, </span>widget
name, model name, and any other parts of the path to the generated
file.</div>
<div class="p">For example, the <samp class="ph codeph">datatablepage</samp> that
is used as a portlet in a nested portal can have the following file
name. <pre class="pre codeblock">dataviewportlet_main_external_partners_premium_techsource_personalizationroot_techuser_pressreleases_datatabletablepage.java</pre>
</div>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> checks
the length of the profile names embedded in the name. If the length
exceeds the value of the <span class="ph">maxKeyLength</span> property, the profile
names are converted to an ID. </p>
<div class="p">The following is
the result of converting the profile name in the previous example
to an ID.<pre class="pre codeblock">dataviewportlet_160568228_datatabletablepage.java</pre>
</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_overview_security"><a name="c_overview_security"><!-- --></a><h2 class="title topictitle2">Overview: security methodologies</h2>
<div class="body conbody"><p class="shortdesc">Maintaining a secure environment is critical when you publish
or export a Web application.</p>
<p class="p">This topic discusses security within the context of the J2EE environment.
The strategies and approaches described are designed to allow you
to publish an application in as secure a manner as possible while
making use of the inherent security mechanisms provided by your server.</p>
<p class="p"><span class="ph">IBM WebSphere Portlet Factory</span> relies upon
standards-based security mechanisms provided by the J2EE application<span class="ph"> and portal servers</span>. Rather than using proprietary
security mechanisms and adapting other external mechanisms, <span class="ph"> WebSphere Portlet
Factory</span> relies on J2EE application
server mechanisms to provide security and to integrate with external
security products.</p>
<p class="p"><span class="ph"> WebSphere Portlet
Factory</span> security includes:</p>
<ul class="ul"><li class="li">The use of J2EE Deployment Descriptor (web.xml-based) Security
Constraints and Security Roles. </li>
<li class="li">Optional use of callouts to third-party security systems (for
auditing or additional custom authorization checks) on model requests.
These are often implemented by onRequest handlers. </li>
</ul>
<p class="p">To protect your widgets from being accessed directly using a URL
without the user having logged into a target server, put security
constraints in your project <span class="ph filepath">WEB-INF/bin/deployment/standalone.web.xml</span> template.
The security constraints are set in the <span class="ph filepath">web.xml</span> for
the WAR, limiting access to folders of models (for example, <span class="ph filepath">/factory/*</span> and
one for <span class="ph filepath">yourmodels/*</span>). After you publish the WAR, you can use the WebSphere administrative console
to navigate to your application and associate security role mappings
with users and groups.</p>
<div class="section"><h3 class="title sectiontitle">Benefits of J2EE security approach</h3><p class="p"><span class="ph"> WebSphere Portlet
Factory</span> enjoys several benefits
from using standard J2EE security mechanisms. These benefits include:</p>
<ul class="ul"><li class="li">Better integration with what application servers and value added
components provide and rely on. You can also more easily integrate
a <span class="ph"> WebSphere Portlet
Factory</span> WebApp with
other J2EE-based components. </li>
<li class="li">Better integration with other features of the application servers
that rely on the server's authentication mechanisms<span class="ph"> and
J2EE Application Roles by means of the EJB deployment descriptor and
security constraints</span>. </li>
</ul>
<p class="p">In general, application server tools are used to create and
manage roles and to map those roles to users associated with the application
server. (See the Java 2 Platform Enterprise Edition Specification
for additional information about roles in a J2EE environment.)</p>
<p class="p">The
following semantics apply to J2EE application security used by <span class="ph"> WebSphere Portlet
Factory</span>:</p>
<ul class="ul"><li class="li"> Authorization is based on URL path components </li>
<li class="li"> URLs to Web applications include the folder hierarchy and model
name </li>
<li class="li"> Similarly protected models should be grouped under common sub-folders
protected by security constraints </li>
<li class="li"> Only protected (by security constraint) resources such as models
and JSPs can retrieve security information from the application server
servlet container (for example, user name, request, and <samp class="ph codeph">isUserInRole()</samp>.) </li>
</ul>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_security_best_practices"><a name="c_security_best_practices"><!-- --></a><h3 class="title topictitle3">Security best practices</h3>
<div class="body conbody"><p class="shortdesc">Review these security-related tips, tricks, and best practices
for <span class="ph"> WebSphere Portlet
Factory</span> WebApp model-based
publishing and exporting.</p>
<p class="p">For application server publishing and exporting recommendations
concerning security in various scenarios, refer to your server documentation
and its vendor recommendations.</p>
<ul class="ul"><li class="li">On all test and production servers, make sure that the property <samp class="ph codeph">bowstreet.server.type=</samp> is
set to the value <samp class="ph codeph">deployment</samp> rather than to the value <samp class="ph codeph">development</samp>.<div class="note note"><span class="notetitle">Note:</span> This
property is located in the <span class="ph filepath">WEB-INF/config/bowstreet.properties</span> file.</div>
</li>
<li class="li">Do not put publishing and administration tools that are not absolutely
necessary for that project on end-user application servers. This practice
is observed throughout the web application industry as a common sense
measure to limit the number of components that an attacker has to
work with. It is a good idea in any web application project (using
any technology) to provide on development test servers accessible
to end-users only those resources necessary for the end-user application. <p class="p">Make
sure that the <span class="ph filepath"><var class="keyword varname">servable content root</var>/factory/designer</span> folder
and its contents (<span class="ph filepath">logout_redirect.jsp</span>) are not
included or installed on any development test servers. These tools
are for development use only.</p>
</li>
<li class="li">Protect servers hosting admin tools with secure network firewalls
that allow access only to those users that should be allowed to run
the tools hosted on those servers. </li>
<li class="li">Make security changes such as defining new roles and changing
protections of both JSP and static pages and <span class="ph"> WebSphere Portlet
Factory</span> models on a staging
or administrative system first. Test them there and then roll them
out to the servers (cluster) only after qualifying the changes against
your security requirements. </li>
<li class="li">Keep you application software up to date by installing all vendor-supplied
patches and security enhancements. </li>
<li class="li">Security Constraints are URL based and act like a locked front
door. Once you are in, they do not apply to additional functionality
that the resource protected by that security constraint protects.
For instance, if you protect access to model A via security constraint
URL and model A uses resources B, C, D and model F (as a multi-instance
linked model), then the protection by security constraint is still
just applied to model A and it is up to model A not to provide access
to sensitive information behind the scenes that should be protected
more securely than the model A security constraint was intended for. </li>
<li class="li">If you add more ways (models) of getting at sensitive backend
systems currently protected by existing security constraints, remember
to add new security constraints (or make sure the existing ones also
apply to these new WebApp models, based on a URL to a folder of models
or similar). Think of it as adding more doors to get into a house,
and make sure each door has a lock. It does no good to lock the front
door if the side and back doors are then left wide open. </li>
<li class="li">Similar to the above warning, J2EE Servlet security constraints
DO NOT apply to JSP <samp class="ph codeph">forward()</samp> or <samp class="ph codeph">include()</samp> calls.
For example, if you protect resource A by security constraint, but
it then does a <samp class="ph codeph">forward()</samp> or <samp class="ph codeph">include()</samp> to
resource (JSP) B or C, the security constraint is NOT rechecked for
applicability to B or C. Do not provide access from within resource
A to things that are more sensitive than the resource A security constraint
applies to. </li>
<li class="li">J2EE Servlet security constraints are based on URL. This security
includes the webengine servlet name used by <span class="ph"> WebSphere Portlet
Factory</span>. If you change the
name or mapping of the webengine servlet for any reason, you MUST
make sure that you perform any updates to the security constraints
to ensure that they still apply to any servlets allowed to execute
WebApp models. </li>
<li class="li">Use dynamic cookies (the default in most cases) rather than persistent
cookies. Since dynamic cookies exist only in memory in the browser
process, it is less likely that a session will be left around accessible
if someone closes their browser and walks away from their desk assuming
that they are logged out. It also improves integration with external
security such as <span class="ph">IBM WebSphere Application
Server</span> LTPA
based SSO and other components that may themselves use dynamic cookies
(so that they all go away at the same time when the browser is closed). </li>
<li class="li">Provide <span class="ph uicontrol">LOGOUT</span> buttons to kill the session,
and any security related cookies if using external security, to make
it less likely that someone will leave themselves logged in and vulnerable
to a "walk-up" attack. On Logout Screens, recommend that users close
their browser, to remove any security related cookies and/or HTTP
Basic Auth passwords cached in memory by the browser, after logging
out. </li>
<li class="li">If possible, have your application logout window attempt to close
the browser by JavaScript after logout. (The browser will prompt the
user asking if that is ok with them first.) Closing the browser helps
ensure that any security related cookies are cleaned up and not left
around if the user then walks away from their desk. </li>
<li class="li">Host nothing more than is absolutely required for your web applications
on your production servers. No test models, development tools or other
components unrelated to the actual web applications being hosted should
be available (and thus provide additional hacker attack points) on
the production servers. </li>
<li class="li">Use SSL/HTTPS where necessary and possible to insure the privacy
of sensitive data (passwords and any sensitive application data) being
transmitted over the network between the browser and the servers. </li>
<li class="li">Combine models and JSPs with common functionality and sensitivity
levels into common subfolders with recognizable and useful names.
Then provide a small number of security constraints that can easily
be managed for a large number of similarly protected models and JSP
or HTML content. </li>
<li class="li">Name your subfolders for models consistently with your subfolders
for JSP or HTML content, so that you can provide consistent and manageable
security constraints for both and more easily keep synchronized any
changes that apply to both. </li>
<li class="li">Profile selection by J2EE role is possible with the J2EE Profile
Selection handler described in the Profile Selection discussion. <div class="note note"><span class="notetitle">Note:</span> This
might not be best choice for most scenarios. J2EE Roles tend to be
more security related <span class="ph">(for example, are you a portal
user or not) </span> and not typically oriented to granular preferences.
You will achieve the value of profile based mass customization (many
planes of variability) by using profile selection based on more granular
user and group preference data than the small number of J2EE Security
Roles typically used with any J2EE based web application. </div>
</li>
<li class="li">Do not try to work with <span class="ph"> WebSphere Portlet
Factory</span> WebApp
functionality that requires application server security (J2EE based
roles for authorization or profile selection) without first ensuring
that your server is properly configured for this use. This includes
knowing that roles are properly mapped and security is turned on. </li>
<li class="li">Test, test and then test some more to make sure your security
constraints are doing what you expect them to do. Do both positive
testing (can the right users/roles get in) and negative testing (are
other users and roles and anonymous requests properly blocked from
accessing resources you believe you have protected). </li>
<li class="li">Testing Productivity Trick – When doing iterative development
and testing of models that require a security constraint and application
server security provided information, logging in over and over again
can become cumbersome. Automate that process by switching from using
FORM based security to HTTP BASIC auth (change <samp class="ph codeph">FORM</samp> to <samp class="ph codeph">BASIC</samp> in
the login-config element of the <span class="ph filepath">WEB-INF/web.xml</span> configuration
file and restart your AppServer). <p class="p">Using BASIC auth, your browser
will submit the same username and password on each request to that
URL/realm. If you include a logout button in your application and
continue to use the same browser (instead of <span class="ph"> WebSphere Portlet
Factory</span> Designer), you may
be able to rerun the application without manually logging in.</p>
<p class="p">A
variation on this tip is to send the username and password in the
URL (see below). For example: <span class="ph filepath">http://user:password@host:port/appContext/servlet/path/to/protected/Model</span></p>
<p class="p">This
should force a basic auth login for you on the application server.
(Support for this is up to the application server. This technique
might not work on all application servers or all future versions of
those servers.)</p>
<p class="p">Using this technique you can create multiple
shortcuts or a page with multiple links, to test multiple users and
roles with a single click.</p>
</li>
<li class="li">If your web application really does not rely on security related
user information (such as the username or isUserInRole functionality
from the AppServer), an easier approach is to not enable security
until you have developed and tested the rest of the functionality
that is not dependent on security or application server-provided user
information. </li>
</ul>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_security_close_browser"><a name="c_security_close_browser"><!-- --></a><h3 class="title topictitle3">Security trick: encourage closing the browser</h3>
<div class="body conbody"><p class="shortdesc">Closing the browser window would not be acceptable behavior for
most public web sites, as users typically browse from one site to another.</p>
<div class="section">But in many cases with <span class="ph">IBM WebSphere Portlet Factory</span>,
you are building sensitive/secure web applications, not web sites. And sensitive
web applications should be treated differently for business/security reasons.<p class="p">When
possible, your sensitive applications logout page should include JavaScript
that attempts to close the browser window after logging the user out. The
browser will typically prompt the user (via a popup dialog) if they really
want to do that. In most cases the user will have a chance to decide not to
close the browser if they need to continue to use that same browser process
for other work. But displaying this popup makes it more likely that a user
will not leave the browser window open with possible cached (in memory) data,
dynamic session/security cookies and possible HTTP Basic Auth credentials
stored in memory.</p>
<p class="p">Here is some sample JavaScript that you can use. Remember
to test it in your environment and for the types/versions of browsers you
intend to support before relying on it. This particular JavaScript function
relies on a hidden form input to determine whether to close the window, since
the page it came from was used for other purposes, not just as a logout page.
The <samp class="ph codeph">if (window._LOGOUT_CLOSE_WINDOW)</samp> statement can be removed
if you do not need to use the page for multiple purposes.</p>
<pre class="pre codeblock">&lt;script&gt;
function _LOGOUT_closeWindow()
{
if(window._LOGOUT_CLOSE_WINDOW == "true")
{
window.close();
}
}
_LOGOUT_closeWindow()
&lt;/script&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_security_custom_login_pages"><a name="c_security_custom_login_pages"><!-- --></a><h3 class="title topictitle3">Custom login pages</h3>
<div class="body conbody"><p class="shortdesc">When using J2EE/Servlet-based Declarative Security with security
constraints in the web.xml deployment descriptor, there are certain limitations
in the current version of the J2EE/Servlet specs that you need to work within.</p>
<div class="section"><p class="p">In particular, the J2EE Servlet specification (and various implementations
of it), appears to assume one web application per deployed WAR (web archive
file), such as the one <span class="ph"> WebSphere Portlet
Factory</span> is
installed as. (The WAR root is the folder just above WEB-INF, in your installation,
where web.xml is located).</p>
<p class="p">As a result of this, each WAR/web.xml deployment
descriptor limits you to exactly one login-config block, which configures
how login should be performed for that particular J2EE Web Application.</p>
<p class="p">If
you want one Web application to login using a particular form, and another
to login via HTTP Basic Auth or Certificates (such as you might do for authenticating
during a SOAP service call), you need to have each web application in a separate
WAR (web application archive as defined by the J2EE specs). In the case of
the <span class="ph"> WebSphere Portlet
Factory</span> WAR, that
would mean two installations of the <span class="ph"> WebSphere Portlet
Factory</span> WAR,
each hosting one of those above mentioned applications with different types
of login requirements.</p>
<p class="p">For example, <span class="ph"> WebSphere Portlet
Factory</span> installs
the following default login-config:</p>
<pre class="pre codeblock">&lt;login-config id="LoginConfig_1"&gt;
&lt;!--
Login configuration to use if security constraint forces
requestor to login before proceeding to a protected URL.
To change to HTTP Basic Auth, eg for use with SOAP services,
change FORM to BASIC in the &lt;auth-method&gt; element below.
--&gt;
&lt;auth-method&gt;FORM&lt;/auth-method&gt;
&lt;realm-name&gt;WebAppAuthentication&lt;/realm-name&gt;
&lt;form-login-config id="FormLoginConfig_1"&gt;
&lt;form-login-page&gt;/factory/login/login.jsp&lt;/form-login-page&gt;
&lt;form-error-page&gt;/factory/login/error.jsp&lt;/form-error-page&gt;
&lt;/form-login-config&gt;
&lt;/login-config&gt;</pre>
<p class="p">To change your login mechanism for a Web
application to HTTP Basic Auth, you would change the above <samp class="ph codeph">&lt;auth-method&gt;</samp> value
from <samp class="ph codeph">FORM</samp> to <samp class="ph codeph">BASIC</samp>.</p>
<p class="p">If you have multiple <span class="ph"> WebSphere Portlet
Factory</span> WebApp model-based
applications within one J2EE Web Application Archive (WAR), that both require
FORM based login, then they will all be redirected by the application server
to the configured login URL (<span class="ph filepath">/factory/login/login.jsp</span> in
the above example, which is relative to the application context of the installed
enterprise application. For example, <span class="ph filepath">http://server:port/myproject/factory/login/login.jsp</span> if
the application context is "myproject").</p>
<p class="p">However, just because all form
login requests go to the same URL, does not mean that the look and feel of
that form-based login page must be the same for all <span class="ph"> WebSphere Portlet
Factory</span> model-based
WebApps running in that WAR as defined by this web.xml file. The login page
in this case is a JSP page, and JSP pages are dynamic by design. Thus you
can customize the look and feel of the login page as needed.</p>
<p class="p">The default
login.jsp shipped with <span class="ph"> WebSphere Portlet
Factory</span> has
just such flexibility built into it. You can use this page to
customize form-based login pages. The entire login.jsp page contents are shown
below:</p>
<pre class="pre codeblock">&lt; -- See if a public WebApp or JSP set a custom login page before the user hit a protected resource --&gt;
&lt;
String customLoginPage = (String)session.getAttribute("bowstreet.security.login.custom");
if ((customLoginPage == null) || (customLoginPage.length()==0))
customLoginPage = "default_login.jsp";
%&gt;
&lt;jsp:include page="&lt;=customLoginPage&gt;" flush="true" /&gt;</pre>
<p class="p">That
login.jsp does not look much like a login page, because it really is not "the"
login form page. Instead, it is a wrapper page that includes the actual login
page look and feel. If a public part of one of your <span class="ph"> WebSphere Portlet
Factory</span> model-based
WebApps has run first (before hitting a URL protected by security constraint),
and it has put a login page filename path in your HTTP Session (as in the
example below), then this login.jsp wrapper will use that login page for the
actual login form HTML returned to the browser. If no such setting has been
put in your session, then the login.jsp wrapper will include the default login
page in default_login.jsp in its response to the browser, which contains the
default <span class="ph"> WebSphere Portlet
Factory</span> look and
feel for login.</p>
<p class="p">The sample "public" model at <span class="ph filepath">WEB-INF/models/factory/samples/login/sampleLoginAppMainEntry.model</span> provides
an example of the public application portion of the above described mechanism.
It puts the path name to a custom login form in the user's session with the
well known key: "<samp class="ph codeph">bowstreet.security.login.custom</samp>" which the
above login.jsp looks for. This public model then displays a page with a button
that will submit a request to the protected (by security constraint) model
that is located in: <span class="ph filepath">WEB-INF/models/factory/samples/protectedSamples/sampleLoginAppProtectedPart.model</span>.</p>
<p class="p">Because <span class="ph filepath">/webengine/factory/samples/protectedSamples/*</span> URL is protected
by security constraint, you will be forced to log in (by the application server)
and match the role in that security constraint, before being passed off to
this protected model. In this example, the protected model does nothing but
display a page stating that you should have been logged in before getting
to that point.</p>
<p class="p">To access the sample, use an account associated with
one of the roles (for example, FactoryAdministrators) in the samples/protectedSamples
security constraint in the <span class="ph filepath">WEB-INF/web.xml</span> deployment
descriptor. You should have mapped users/groups to roles during the installation/configuration
process as described in the <span class="ph"> WebSphere Portlet
Factory</span> 5
Installation Guide for your AppServer.</p>
<p class="p">Here is the Java code that the
public model (sampleLoginAppMainEntry.model) calls, so that if/when you are
redirected to login by security constraint, the login.jsp will be able to
give you a custom looking login page rather than the default.</p>
<pre class="pre codeblock">// Get a reference to the session
javax.servlet.http.HttpSession session = webAppAccess.getHttpServletRequest().getSession();
session.setAttribute("bowstreet.security.login.custom", "/factory/login/my_custom_login_sample.jsp");</pre>
<p class="p">When
the login.jsp page (shown earlier in this section) checks the session, it
finds this custom path to a login page and includes this custom login page
in its response page to the browser, rather than default_login.jsp.</p>
<p class="p">If
the above customization tricks seem like too much work for your particular
scenario requirements, you can always fall back to what the J2EE/Servlet specs
appear to have intended, which is one Web application per WAR and deployment
descriptor (web.xml). Using this approach you completely customize the login-config
URL and login page for each application, and then deploy each application
in a separate EAR/WAR (each with their own web.xml and application archive
installation) on your application server(s).</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_security_dummy_jsp"><a name="c_security_dummy_jsp"><!-- --></a><h3 class="title topictitle3">Security trick: dummy JSP page</h3>
<div class="body conbody"><p class="shortdesc">There is no standard way for a J2EE application to decide
itself when to forward the user to a login page. </p>
<div class="section"><p class="p">Nor is there an easy way for an application to know where
to send the request back to on successful authentication. However,
a possible work around for this lack of capability might include:</p>
<dl class="dl"><dt class="dt dlterm"> Creating a dummy JSP page</dt>
<dd class="dd">This page does nothing but redirect to where you typically want
to go after a successful login either hardwired or passed as input<span class="ph">, for example, a portal main page</span>.
(See the following file for an example: <span class="ph filepath"><var class="keyword varname">installed-root</var>/factory/webapp/auhtorizationloginhandler.jsp</span> and
also the associated security constraint in the web.xml file.)</dd>
<dt class="dt dlterm">Making that dummy page a protected resource using a security constraint</dt>
<dd class="dd"><pre class="pre codeblock">&lt;security-constraint id="SecurityConstraint_3"&gt;
&lt;!--
Back door means of redirecting someone to a protected page
(i.e., the JSP listed in the url pattern here) to force them
to login, even if your app is mostly public. The OPTIONAL
J2EE Role based authorization handler may also force a user
to this protected page if you inadvertently forgot to protect
a model with a security constraint, but still specified optional
model security property based list of roles via the Designer.
View the source of this JSP page to see how it works and what
it does after the user has been logged in and gets to this
page, which should do nothing other than redirect you to where
you were trying to go before.
--&gt;
&lt;web-resource-collection id="WebResourceCollection_3"&gt;
&lt;web-resource-name&gt;ForceLogin&lt;/web-resource-name&gt;
&lt;url-pattern&gt;/factory/webapp/authorizationloginhandler.jsp&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint id="AuthConstraint_3"&gt;
&lt;description&gt;Roles allowed through forced login redirect page (typically all roles)&lt;/description&gt;
&lt;role-name&gt;FactoryAdministrators&lt;/role-name&gt;
&lt;role-name&gt;AllAuthenticatedUsers&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;</pre>
</dd>
</dl>
<ul class="ul"><li class="li"> When you want a user to log in and then go to the main public
entry page (or to the page you specify as a request parameter to the
dummy JSP page), send them to the protected dummy page. Since this
page is protected, the application server Servlet Container will force
the login at that point and send the user back to the dummy page.
The dummy page can then forward the user on as appropriate. </li>
</ul>
<div class="p">This trick allows the main model/page to support both unauthenticated
requests (unprotected with anonymous access allowed) and authenticated
users. It also allows your application to decide when the user should
log in before going to that page, instead of the having the application
server always forcing log in, as would be the case if that main model/page
were protected by a Security Constraint. <div class="note note"><span class="notetitle">Note:</span> You should still attempt
to retrieve only user information (user name, role) from the J2EE
servlet APIs, from resources (models, JSPs) protected by security
constraints.</div>
</div>
<p class="p">In most cases, you can use Security Constraints
to protect various models and pages and automatically force login.
Doing so avoids the need for tricks such as the one described above.
This information is provided to give you ideas about how you might
use such tricks to meet particular application requirements not anticipated
or supported by J2EE Declarative Security Constraints.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_security_dynamic_cookies"><a name="c_security_dynamic_cookies"><!-- --></a><h3 class="title topictitle3">Using dynamic cookies</h3>
<div class="body conbody"><p class="shortdesc">All of your session and security related cookies should be dynamic
cookies associated with a single browser session, and not persistent cookies
(with a &gt;0 lifetime) stored on disk.</p>
<div class="section">Dynamic cookies go away when you close the browser window/process.
This means that someone cannot walk up to your machine after you have closed
the browser, start up another browser, and continue using your process. (This
is entirely possible with persistent cookies when a user forgets to log out,
merely closing the browser instead.)</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_security_gather_user_info"><a name="c_security_gather_user_info"><!-- --></a><h3 class="title topictitle3">Gathering user information</h3>
<div class="body conbody"><p class="shortdesc"><span class="ph"> WebSphere Portlet
Factory</span> allows
you to use whatever custom user information you need (such as the full power
of the user registry in use for each deployment scenario) rather than try
to force use of a least common denominator by trying to map every possible
third party user security/registration system into a common user profile.</p>
<div class="section">There is not much in the way of widely used standards in the area
of user profile information. As a result, the<span class="ph"> WebSphere Portlet
Factory</span> core
is built to allow solutions built on top of it to make best use of whatever
mechanism is deemed appropriate for its particular domain.<p class="p">It is expected
that such solutions might provide their own mapping from multiple possible
third party security systems to their own store (for example, XML mapping
file or RDBMS.) of user attributes particular to the applications themselves.</p>
<p class="p">For
instance, the core makes use of J2EE Servlet API by default. The least common
denominator is thus the Servlet API calls: <samp class="ph codeph">getRemoteUser()</samp> and <samp class="ph codeph">getUserPrincipal()</samp>.
Both calls result in a string-based username. Solutions built on <span class="ph"> WebSphere Portlet
Factory</span> would
likely allow for use of this default to return the username, but then may
have their own database of user attributes keyed by such users names and configured
to additional user attributes from backend systems where the user information
exists. These backend systems might include LDAP, a legacy RDBMS, or a third-party
security system such as WAS UserProfile APIs.</p>
<p class="p">J2EE AppServers are required
to give you actual username and/or J2EE Application role information, for
and within protected (by security constraint) resources. You should not rely
on the J2EE security APIs such as <samp class="ph codeph">request.getRemoteUser()</samp>, <samp class="ph codeph">request.getUserPrincipal()</samp>, <samp class="ph codeph">request.isUserInRole()</samp> from non-protected (public) models/JSPs. Also, any <span class="ph"> WebSphere Portlet
Factory</span> code
that relies on these underlying J2EE Servlet security APIs, such as <samp class="ph codeph">webAppAccess.getUserInfo()</samp>,
and/or J2EE Role based profile selection, should ONLY be used within protected
(by security constraint) models.</p>
<p class="p">The number, name, and type of user
attributes available via each of these systems can vary. It is up to the solutions
themselves to determine which types of attributes are necessary, and when
and how to retrieve the attributes.</p>
<p class="p">For example, to retrieve UserInfo
data for use in your WebApp, use the following calls, in a Java Method or
Java based LJO:</p>
<pre class="pre codeblock">// Get a reference to a WebApp Variable XML value that we are going to store user info in for later use in this model
IXml userInfoVar = webAppAccess.getVariables().getXmlElement("userInfoVar", "UserInfo");
// Get a reference to the configured UserInfo implementation
com.bowstreet.webapp.util.UserInfo userInfo = webAppAccess.getUserInfo();
// Retrieve the user id of the logged in user
String username = userInfo.getUserID();
// If there are any additional user attributes for this user, get those too
// There are no other user attributes for the default J2EE UserInfo handler
// other than username/user id, but a custom handler could supply anything it wants.
java.util.Iterator i = userInfo.getKnownAttributeNames();
while (i.hasNext()) {
String attrName = (String)i.next();
// Note - for typical handlers these vals are all strings
// but you could conceivably write a UserInfo handler that returned
// a more complex Java object than a string for a particular user atrr value.
String attrValue = (String)userInfo.getAttribute(attrName);
IXml tmpElem = userInfoVar.addChildElement("UserAttribute");
tmpElem.addChildWithText("Name", attrName);
tmpElem.addChildWithText("Value", attrValue);
}</pre>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested3" xml:lang="en-us" id="c_security_userinfo_handlers"><a name="c_security_userinfo_handlers"><!-- --></a><h4 class="title topictitle4">UserInfo handlers</h4>
<div class="body conbody"><p class="shortdesc">UserInfo handlers provide a common API for retrieving user information
even when external security is used instead of the default J2EE-based security.</p>
<div class="section">The default UserInfo handler is configured by a property in the bowstreet.properties
file. This property is:<pre class="pre codeblock"> bowstreet.webapp.UserInfoHandler=com.bowstreet.webapp.util.WebAppUserInfoHandler</pre>
<p class="p">This
default handler is based on J2EE servlet security and it provides access to
only the logged in user's id/username. To get more information about a user,
you can provide a custom implementation of a UserInfo handler that integrates
with an external user store to retrieve additional user attributes.</p>
<p class="p">If
you supply your own UserInfoHandler, you can change this property to use your
implementation by default, or you can specify that a particular UserInfoHandler
(and its associated UserInfo implementation) be used for the lifetime of a
particular session. You do this by setting this same property in the session
instead of installation-wide in the property file. For example, a session-specific
setting might look as follows:</p>
<pre class="pre codeblock">session.setAttribute("p.webapp.UserInfoHandler", "com.acme.MyRDBMSbasedUserInfoHandler");</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_security_userinfo_interfaces"><a name="c_security_userinfo_interfaces"><!-- --></a><h4 class="title topictitle4">UserInfo interfaces</h4>
<div class="body conbody"><p class="shortdesc">There are two Java interfaces related to UserInfo support that
you would need to implement to provide your own custom implementation of UserInfo.</p>
<div class="section">JavaDoc is included in <span class="ph">IBM WebSphere Portlet Factory</span> product
API documentation for both the following interfaces: UserInfoHandler.java
and UserInfo.java.</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_userinfo_interface"><a name="c_userinfo_interface"><!-- --></a><h4 class="title topictitle4">The UserInfo.java interface</h4>
<div class="body conbody"><p class="shortdesc">The UserInfo.java interface is the one you implement to provide
access to additional/custom user attributes.</p>
<div class="section"><p class="p">The interface itself is shown in the Javadoc documentation supplied
with the <span class="ph">IBM WebSphere Portlet Factory</span> API documentation.
A default implementation for J2EE security, which provides nothing but the
username/user id, is shown below:</p>
<pre class="pre codeblock">public class WebAppUserInfo implements UserInfo
{
private HttpServletRequest request = null;
private static final String[] supportedAttrs = {UserInfo.USER_ID};
private static final List supportedAttrList= Arrays.asList(supportedAttrs);
/**
* getUserID
*
* Get a String representation of the userID/username - the primary
* identity key that the caller is authenticated with.
*
* @return String username / userid or null if user not authenticated
*/
public String getUserID()
{
return request.getRemoteUser();
}
/**
* getKnownAttributeNames
*
* Return an iterator over a list of strings representing the known
* (to the particular custom instance of the handler) attribute
* types/names to be used with getAttribute(String attributeName) below.
*
* The list will likely be specific to each custom handler, but should
* always include at least "username" (which can represent a requestor id
* if this is a server to server scenario with no users), so modelers can
* rely on at least one common piece of information across all user
* registries and all UserInfo handlers.
*
* @return java.util.Iterator
*/
public Iterator getKnownAttributeNames()
{
return supportedAttrList.iterator();
}
/**
* getAttribute
*
* Return the attribute value for the specified attribute name.
*
* In most cases, the return value will always be a java.lang.String,
* but the interface allows for the return value to be any Object
* derivation, to allow for custom handlers to pass back custom objects
* (eg, X509Certificate object in a PKI implementation) where callers
* can make use of such data.
*
* @param String attribute name (eg, "username")
* @return java.lang.Object usually a string value but may be a custom object
*/
public Object getAttribute(String attributeName)
{
// Only username supported in the default handler
if (attributeName.equals(UserInfo.USER_ID))
return getUserID();
else
return null;
}
/**
* setRequest
*
* Allow calling infrastructure to give the handler a reference to the
* HttpServletRequest, from which user info, session info and other
* related info may be obtained by the above methods.
*/
public void setRequest(HttpServletRequest request)
{
this.request = request;
}
}</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested3" xml:lang="en-us" id="c_userinfohandler_interface"><a name="c_userinfohandler_interface"><!-- --></a><h4 class="title topictitle4">The UserInfoHandler.java interface</h4>
<div class="body conbody"><p class="shortdesc">UserInfoHandler.java basically has a single method you must implement
in your UserInfoHandler.</p>
<div class="section"><pre class="pre codeblock">public interface UserInfoHandler
{
/**
* getUserInfo
*
* Custom handler based method to return a UserInfo for the specified
* request. UserInfoHandlers know which UserInfo implementation class
* they are associated with, for instantiating/retrieving the UserInfo.
*
* @return UserInfo - a reference to a custom UserInfo implementation
* associated with the custom UserInfoHandler implementing this interface.
*/
public UserInfo getUserInfo(HttpServletRequest request);
}</pre>
<p class="p">Its main purpose is to determine which UserInfo class to load,
how to load it and then passing/saving the HttpServletRequest as needed to
retrieve additional information for this particular set of handler classes.</p>
<p class="p">The
default <span class="ph">IBM WebSphere Portlet Factory</span> supplied
J2EE security implementation of this UserInfoHandler interface, for use with
the WebAppUserInfo implementation of the UserInfo interface, is fairly simple
as shown here:</p>
<pre class="pre codeblock">public class WebAppUserInfoHandler implements UserInfoHandler
{
...
public UserInfo getUserInfo(HttpServletRequest request)
{
WebAppUserInfo userInfo = new WebAppUserInfo();
userInfo.setRequest(request);
return userInfo;
}
}</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested2" xml:lang="en-us" id="c_security_logout"><a name="c_security_logout"><!-- --></a><h3 class="title topictitle3">Logout – session cleanup</h3>
<div class="body conbody"><p class="shortdesc">It is always a good idea to put a Logout button in an obvious place
in your application to encourage users to log out when they are done, rather
than just closing their browser and allowing their session data to persist
until their session times out.</p>
<div class="section"> Logging out is more secure (nobody can walk up to your system after
you leave and continue using your session) and it also frees up resources
more quickly for use by other sessions/requests.<p class="p">To clean up J2EE Servlet
Session data, whether you are authenticated (logged in) to the application
server or not, you can call the <samp class="ph codeph">invalidate()</samp> method on the
HttpSession API.</p>
<p class="p">In a JSP Page, there is a "session" variable (unless
the JSP page has a directive indicating that it is not a session related page)
and you may call:</p>
<pre class="pre codeblock">&lt; session.invalidate(); &gt;</pre>
<p class="p">In
an LJO or Java Method from within a model with access to a WebAppAccess instance
for the WebApp, you can call:</p>
<pre class="pre codeblock">HttpServletRequest request = webAppAccess.getHttpServletRequest();
HttpSession session = request.getSession(false);
if (session != null)
session.invalidate();</pre>
</div>
<div class="section"><h4 class="title sectiontitle">Logged out page</h4><p class="p">If you are going to process a logged
out page to return for this request that is logging out, you should process
the page before invalidating the session, in case the act of processing the
page requires data stored or referenced in the session. Static pages are not
likely to reference the session, but dynamic pages (with any builders applied
to them) may need to reference session data.</p>
<pre class="pre codeblock">webAppAccess.processPage("LoggedOutPage");</pre>
<p class="p">Unless
you are explicitly attempting to close the browser window, and even sometimes
when you are, your Logged Out page should display a message recommending that
the user close the browser after logging out. This will remove
dynamic session artifacts such as session cookies, security-related session
cookies, and in memory cached pages with sensitive data on them.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_security_example_appserver"><a name="r_security_example_appserver"><!-- --></a><h3 class="title topictitle3">Example application server security scenario</h3>
<div class="body refbody"><p class="shortdesc">This is an application server security scenario.</p>
<div class="section"><p class="p">URL: <span class="ph filepath">http://server:port/myproject/webengine/mysubfolder/MyModel</span></p>
<p class="p">Resolves
to the model stored in <span class="ph filepath">.../WEB-INF/models/mysubfolder/MyModel</span></p>
<p class="p">Model
Id: "mysubfolder/MyModel"</p>
<p class="p">AppContext (where the <span class="ph">IBM WebSphere Portlet Factory</span> WAR
is installed): "myproject"</p>
<p class="p">Servlet within the <span class="ph"> WebSphere Portlet
Factory</span> WAR
that executes WebApp-based models: "webengine"</p>
<p class="p">Example Security Constraint
(would be in WEB-INF/web.xml):</p>
<pre class="pre codeblock">&lt;security-constraint id="SecurityConstraint_n"&gt;
&lt;web-resource-collection id="WebResourceCollection_1"&gt;
&lt;web-resource-name&gt;My Protected models&lt;/web-resource-name&gt;
&lt;url-pattern&gt;/webengine/mysubfolder/*&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint id="AuthConstraint_1"&gt;
&lt;description&gt;Roles allowed to execute models via webengine, under mysubfolder.&lt;/description&gt;
&lt;role-name&gt;FactoryAdministrators&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_security_example_j2ee"><a name="r_security_example_j2ee"><!-- --></a><h3 class="title topictitle3">Security example – J2EE</h3>
<div class="body refbody"><p class="shortdesc">The following example illustrates security implemented for a <span class="ph">IBM WebSphere Portlet Factory</span> web application composed
of several WebApp models.</p>
<div class="section">For this example, it is assumed that we have a model-based Web application
with a fairly simple division of public and protected models organized in
the following directory structure:<p class="p"><span class="ph filepath">.../WEB-INF/models/MyPortal/public/...{entryPage.model,
contactUS.model}</span></p>
<p class="p"> <span class="ph filepath">.../WEB-INF/models/MyPortal/protected/portalUserPreferences.model</span></p>
<p class="p"><span class="ph filepath">.../WEB-INF/models/MyPortal/Admin/portalAdmin.model</span></p>
<p class="p"><span class="ph filepath">.../viewLogs.model</span></p>
<p class="p">Here is how the structure
works:</p>
<dl class="dl"><dt class="dt dlterm">Public models</dt>
<dd class="dd">All users should be able to see this particular portal entry model/page
which introduces users to the site, allows them to log in for access to protected
portions of the portal (to set or update user preferences). For these models,
you need do nothing. Access should be allowed.</dd>
<dt class="dt dlterm">Protected models</dt>
<dd class="dd">You want to make sure the requestor is authenticated (logged in) first
and that they are a member of the PortalUsers J2EE role. The below web.xml
fragments describe how you would construct a J2EE Security Constraint for
such protection. Likewise, to access the administrative model based tools,
you must also be a member of the PortalAdmin J2EE role.<pre class="pre codeblock">security-constraint id="SecurityConstraint_1"&gt;
&lt;web-resource-collection id="WebResourceCollection_1"&gt;
&lt;web-resource-name&gt;myProtectedPortal&lt;/web-resource-name&gt;
&lt;url-pattern&gt;/webengine/MyPortal/protectedModels/*&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint id="AuthConstraint_1"&gt;
&lt;role-name&gt;PortalUsers&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;
&lt;security-constraint id="SecurityConstraint_2"&gt;
&lt;web-resource-collection id="WebResourceCollection_2"&gt;
&lt;web-resource-name&gt;myPortalAdminModels&lt;/web-resource-name&gt;
&lt;url-pattern&gt;/webengine/MyPortal/Admin/*&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint id="AuthConstraint_2"&gt;
&lt;role-name&gt;PortalAdmins&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;</pre>
<div class="note note"><span class="notetitle">Note:</span> If your servlet name and/or mappings
are different, the above URL patterns would need to be changed accordingly.</div>
</dd>
</dl>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_security_example_loginrole"><a name="r_security_example_loginrole"><!-- --></a><h3 class="title topictitle3">Configuration Example – Login/Role</h3>
<div class="body refbody"><p class="shortdesc">For requests to models under the above protected models, where
a user is not already authenticated, the application server's servlet container
will itself force the request to perform a login before sending
the request on to the original URL destination (if authenticated and authorized
based on the specified role(s)).</p>
<div class="section">The following example illustrates Login Configuration from a J2EE
standard web.xml configuration file for use with the above security constraints. <div class="note note"><span class="notetitle">Note:</span> The
login.html page referenced must contain the following items that the Servlet
Container's login handling code will look for:<ul class="ul"><li class="li"> Form tag with an action of j_security_check (a well known J2EE standard
action for login) </li>
<li class="li"> Two inputs: <ul class="ul"><li class="li"> j_username </li>
<li class="li"> j_password </li>
</ul>
</li>
<li class="li"> JSP Error Page<div class="p">The error page is where the user is sent upon failed
authentication (bad login) or authorization (not a member of a role allowed
by the Security Constraint that triggered this login). This page might have
a "Back" link to allow a user to try again.<pre class="pre codeblock">&lt;login-config id="LoginConfig_1"&gt;
&lt;auth-method&gt;FORM&lt;/auth-method&gt;
&lt;realm-name&gt;Form Authentication&lt;/realm-name&gt;
&lt;form-login-config id="FormLoginConfig_1"&gt;
&lt;form-login-page&gt;/login.jsp&lt;/form-login-page&gt;
&lt;form-error-page&gt;/error.jsp&lt;/form-error-page&gt;
&lt;/form-login-config&gt;
&lt;/login-config&gt;</pre>
</div>
</li>
</ul>
</div>
<p class="p">For use of roles across multiple WARs in an EAR, roles can
be defined in an EAR file's <span class="ph filepath">META-INF/application.xml</span> file.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_security_example_webxml"><a name="r_security_example_webxml"><!-- --></a><h3 class="title topictitle3">Example WEB.XML security components</h3>
<div class="body refbody"><p class="shortdesc">The following configuration information represents the
security portions of the <span class="ph filepath">WEB-INF/web.xml</span> J2EE
Web Application Deployment Descriptor that ships with <span class="ph">IBM WebSphere Portlet Factory</span>.</p>
<div class="section">This example includes comments as to what the various items
are. Typically, you would manage this information with an application
server's administration and application management tools. This information
is provided here to give you a better understanding of what you are
managing and what management can do for you.<pre class="pre codeblock">&lt;!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN" "http://java.sun.com/j2ee/dtds/web-app_2.2.dtd"&gt;
&lt;web-app&gt;
&lt;display-name&gt;Factory Automation Engine 5.0&lt;/display-name&gt;
&lt;description&gt;IBM Automation Engine 5.0&lt;/description&gt;
&lt;servlet&gt;
&lt;!-- The Primary WebApp Engine Servlet that model/WebApp requests go through --&gt;
&lt;servlet-name&gt;WebEngineServlet&lt;/servlet-name&gt;
&lt;servlet-class&gt;com.bowstreet.webapp.engine.WebAppServlet&lt;/servlet-class&gt;
&lt;init-param&gt;
&lt;param-name&gt;bowstreet.URLMapper&lt;/param-name&gt;
&lt;param-value&gt;com.bowstreet.webapp.util.WebAppURLMapper&lt;/param-value&gt;
&lt;/init-param&gt;
&lt;!--
If you change this load-on-startup order number, make sure it comes
AFTER J2EEDeployment servlet's load-on-startup value defined below.
--&gt;
&lt;load-on-startup&gt;2&lt;/load-on-startup&gt;
&lt;security-role-ref id="SecurityRoleRef_1"&gt;
&lt;!--
This links the name used for programmatic role checks, as is the case
with J2EE Role based profile selection and OPTIONAL J2EE Role based WebApp
authorization checks, if roles are optionally added to model properties
(in addition to the recommended use of security constraints shown below).
For some current servers, you MUST have this reference from programmatic
name to definition name (WebSphere). For others you could
leave this out if you only ever run on that brand AppServer. In the
next release of the J2EE Servlet Spec (2.3), the spec is more clear that you
should be able to leave this out and the name mapping should be implicit.
For simplicity and to prevent mistakes, we recommend that you use the same
value for role-name and role-link
--&gt;
&lt;role-name&gt;FactoryAdministrators&lt;/role-name&gt;
&lt;role-link&gt;FactoryAdministrators&lt;/role-link&gt;
&lt;/security-role-ref&gt;
&lt;security-role-ref id="SecurityRoleRef_2"&gt;
&lt;role-name&gt;SOAPUsers&lt;/role-name&gt;
&lt;role-link&gt;SOAPUsers&lt;/role-link&gt;
&lt;/security-role-ref&gt;
&lt;/servlet&gt;
&lt;servlet&gt;
&lt;!-- For internal use only - no URL mapping defined --&gt;
&lt;servlet-name&gt;J2EEDeploymentHandler&lt;/servlet-name&gt;
&lt;servlet-class&gt;com.bowstreet.servlet.J2EEDeploymentHandler&lt;/servlet-class&gt;
&lt;init-param&gt;
&lt;param-name&gt;bowstreet.rootDirectory&lt;/param-name&gt;
&lt;param-value&gt;extractedfactory4&lt;/param-value&gt;
&lt;/init-param&gt;
&lt;init-param&gt;
&lt;param-name&gt;bowstreet.archiveVersion&lt;/param-name&gt;
&lt;param-value&gt;1&lt;/param-value&gt;
&lt;/init-param&gt;
&lt;init-param&gt;
&lt;param-name&gt;bowstreet.extractionDirectory.1&lt;/param-name&gt;
&lt;param-value&gt;WEB-INF&lt;/param-value&gt;
&lt;/init-param&gt;
&lt;init-param&gt;
&lt;param-name&gt;bowstreet.extractionDirectory.2&lt;/param-name&gt;
&lt;param-value&gt;[html]&lt;/param-value&gt;
&lt;/init-param&gt;
&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
&lt;!--
Mapping from URL path to the WebEngine Servlet defined above.
NOTE: If you change this, you must ensure you update security constraints
associated with this URL path.
--&gt;
&lt;servlet-name&gt;WebEngineServlet&lt;/servlet-name&gt;
&lt;url-pattern&gt;/webengine/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
...
&lt;security-constraint id="SecurityConstraint_1"&gt;
&lt;!-- Nobody should really need to directly hit auto-generated WebApp genjsp JSP pages --&gt;
&lt;web-resource-collection id="WebResourceCollection_1"&gt;
&lt;web-resource-name&gt;Generated JSP pages&lt;/web-resource-name&gt;
&lt;url-pattern&gt;/webengine/genjsp/*&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint id="AuthConstraint_1"&gt;
&lt;description&gt;Roles allowed to execute generated pages under genjsp directory.&lt;/description&gt;
&lt;role-name&gt;FactoryAdministrators&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;
&lt;security-constraint id="SecurityConstraint_100"&gt;
&lt;web-resource-collection id="WebResourceCollection_100"&gt;
&lt;web-resource-name&gt;SOAPRequests&lt;/web-resource-name&gt;
&lt;url-pattern&gt;/AxisServlet/*&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint id="AuthConstraint_100"&gt;
&lt;description&gt;Roles allowed to execute SOAP based incoming service requests&lt;/description&gt;
&lt;role-name&gt;SOAPUsers&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;
--&gt;
&lt;login-config id="LoginConfig_1"&gt;
&lt;!--
Login configuration to use if security constraint forces
requestor to login before proceeding to a protected URL.
To change to HTTP Basic Auth, for example, for use with SOAP services,
change FORM to BASIC in the &lt;auth-method&gt; element below.
--&gt;
&lt;auth-method&gt;FORM&lt;/auth-method&gt;
&lt;realm-name&gt;WebAppAuthentication&lt;/realm-name&gt;
&lt;form-login-config id="FormLoginConfig_1"&gt;
&lt;form-login-page&gt;/factory/login/login.jsp&lt;/form-login-page&gt;
&lt;form-error-page&gt;/factory/login/error.jsp&lt;/form-error-page&gt;
&lt;/form-login-config&gt;
&lt;/login-config&gt;
&lt;security-role id="SecurityRole_1"&gt;
&lt;!--
Out of the box role for Factory Admins, used for admin models above.
Map this to users/groups via your AppServer's administration tools.
--&gt;
&lt;description&gt;Factory Administrators&lt;/description&gt;
&lt;role-name&gt;FactoryAdministrators&lt;/role-name&gt;
&lt;/security-role&gt;
&lt;security-role id="SecurityRole_2"&gt;
&lt;description&gt;Example SOAP Users Role&lt;/description&gt;
&lt;role-name&gt;SOAPUsers&lt;/role-name&gt;
&lt;/security-role&gt;
&lt;/web-app&gt;</pre>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_wps_anonyms_mode"><a name="c_wps_anonyms_mode"><!-- --></a><h2 class="title topictitle2">Using <span class="ph">IBM WebSphere Portlet Factory</span> portlets
in an anonymous <span class="ph">IBM WebSphere Portal</span> page</h2>
<div class="body conbody"><p class="shortdesc"><span class="ph"> WebSphere Portlet
Factory</span>  portlets
require sessions, but <span class="ph">IBM WebSphere Portal</span> anonymous
pages by default do not create sessions. If you want to use <span class="ph"> WebSphere Portlet
Factory</span>  portlets on anonymous
portal pages, you must enable public sessions by setting the <samp class="ph codeph">public.session</samp> parameter
in <samp class="ph codeph">NavigatorService.properties</samp> to <samp class="ph codeph">true</samp> of
the <span class="ph">WebSphere Portal</span> server. </p>
<div class="section"><p class="p">For more information about anonymous user operation, see
the <span class="ph">WebSphere Portal</span> documentation
about the <samp class="ph codeph">public.session</samp> property of the <samp class="ph codeph">NavigatorService</samp>. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested1" xml:lang="en-us" id="r_wpf_additional_sources"><a name="r_wpf_additional_sources"><!-- --></a><h2 class="title topictitle2">Additional information sources</h2>
<div class="body refbody"><p class="shortdesc">More information about <span class="ph">IBM WebSphere Portlet Factory</span> and related products is available.</p>
<div class="section"><p class="p">On developerWorks, you have access to interactive web forums, wikis, resources for information concerning the current version or previous versions, and much more. You can also access the self-help support site for the product. You also have available information about <span class="ph">WebSphere Portal</span> Server administration and portlet publishing and management. </p>
<p class="p">To access some of this information, you need to register a unique id and establish a password. </p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_infosource_devworks_forums"><a name="c_infosource_devworks_forums"><!-- --></a><h3 class="title topictitle3">wiki and developerWorks forums</h3>
<div class="body conbody"><p class="shortdesc">You can access interactive web forums on developerWorks
and a best practices and samples wiki.</p>
<div class="section"><p class="p">The following location provides access to interactive
web forums on developerWorks. </p>
<p class="p"><a class="xref" href="http://www.ibm.com/developerworks/forums/wsdd_forums.jsp" target="_blank">http://www.ibm.com/developerworks/forums/wsdd_forums.jsp</a></p>
<p class="p">These
forums provide a place to ask questions about and discuss various
IBM WebSphere products including <span class="ph">IBM WebSphere Portlet Factory</span>. The forums are intended
to address technology- and product-related issues. At this site, you
can access multiple forums in which you can post questions and provide
commentary on the product. Included are forums on topics such as best
practices, databases and data sources, and various extensions (for
example, PeopleSoft, SAP, and Lotus Collaboration).</p>
<p class="p">The following
location provides access to a wiki for sharing best practices and
samples for <span class="ph"> WebSphere Portlet
Factory</span> and
related products.</p>
<p class="p"><a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf</a></p>
<p class="p">This
site showcases resources that can help you get the most out of <span class="ph"> WebSphere Portlet
Factory</span> and related products,
such as IBM WebSphere Dashboard Framework. You can find and contribute
information about the best ways to use these products, instructions
for common development and application publishing scenarios, samples,
techniques, and troubleshooting information.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_infosource_devworks_resources"><a name="c_infosource_devworks_resources"><!-- --></a><h3 class="title topictitle3"><span class="ph">IBM WebSphere Portlet Factory</span> resources
on developerWorks</h3>
<div class="body conbody"><p class="shortdesc">You have available the ability to access to developerWorks® resources for <span class="ph"> WebSphere Portlet
Factory</span>.</p>
<div class="section"><p class="p">At the following location, you can access information
concerning the current version or previous versions that are still
supported. </p>
<a class="xref" href="http://www.ibm.com/developerworks/websphere/zones/portal/portletfactory/proddoc.html" target="_blank">http://www.ibm.com/developerworks/websphere/zones/portal/portletfactory/proddoc.html</a><p class="p">Included
is a link to the release notes for previous versions. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_infosource_infocenter"><a name="c_infosource_infocenter"><!-- --></a><h3 class="title topictitle3">Product documentation on the Web</h3>
<div class="body conbody"><p class="shortdesc">Information that you access in the <span class="ph">IBM WebSphere Portlet Factory</span> product is available on the Web. </p>
<div class="section"><p class="p">While working in <span class="ph"> WebSphere Portlet
Factory</span> Designer, you can access the full help system by clicking <span class="ph menucascade"><span class="ph uicontrol">Help</span> &gt; <span class="ph uicontrol">Help Contents</span></span> and opening the <span class="ph"> WebSphere Portlet
Factory</span> help. The same information is available in the <span class="ph"> WebSphere Portlet
Factory</span> product wiki at the following location. </p>
<p class="p"><a class="xref" href="http://www-10.lotus.com/ldd/pfwiki.nsf" target="_blank">http://www-10.lotus.com/ldd/pfwiki.nsf</a></p>
<p class="p">Look for the Product documentation category. In the wiki, you can comment on and contribute to information about using the product. You can also view an non-editable form of the information as it delivered in the product. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_infosource_prodinfo"><a name="c_infosource_prodinfo"><!-- --></a><h3 class="title topictitle3"><span class="ph">IBM WebSphere Portlet Factory</span> product
information</h3>
<div class="body conbody"><p class="shortdesc">You can access a location that publishes information about the
product.</p>
<div class="section"><p class="p">At the following site, you can find information about product
pricing, system requirements, and support. </p>
<p class="p"><a class="xref" href="http://www.ibm.com/software/genservers/portletfactory/" target="_blank">http://www.ibm.com/software/genservers/portletfactory/</a></p>
<p class="p">You
also can communicate by email with a product specialist. You have access to
the product information library. You can obtain information about technical
conferences and related white papers that become available.</p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_infosource_prodsupppage"><a name="c_infosource_prodsupppage"><!-- --></a><h3 class="title topictitle3">Product support page</h3>
<div class="body conbody"><p class="shortdesc">You can access <span class="ph">IBM WebSphere Portlet Factory</span> support
resources like Fix Central.</p>
<div class="section"><p class="p">At the following site, you can find access to primary
support resources, the support handbook, and other support sites. </p>
<p class="p"><a class="xref" href="http://www.ibm.com/software/genservers/portletfactory/support" target="_blank">http://www.ibm.com/software/genservers/portletfactory/support</a></p>
<p class="p">There
are also links to problem solutions, TechNotes, APARs, fixpacks, and
downloads. Under <span class="ph uicontrol">Support tools</span>, click <span class="ph uicontrol">Fix
central</span>.</p>
<p class="p"><a class="xref" href="http://www.ibm.com/support/fixcentral" target="_blank">http://www.ibm.com/support/fixcentral</a></p>
<p class="p">Fix
Central provides fixes and updates for your system's software, hardware,
and operating system and lets you search, select, order, and download
fixes to your system with a choice of delivery options. </p>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested2" xml:lang="en-us" id="c_infosource_wp_infocenter"><a name="c_infosource_wp_infocenter"><!-- --></a><h3 class="title topictitle3"><span class="ph">IBM WebSphere Portal</span> information
center</h3>
<div class="body conbody"><p class="shortdesc">For information about <span class="ph">WebSphere Portal</span> Server administration
and portlet publishing and management, you can access an information
center. </p>
<div class="section"><p class="p">The <span class="ph">WebSphere Portal</span> information
center is on the Web at one of the following locations. </p>
<dl class="dl"><dt class="dt dlterm">6.1</dt>
<dd class="dd"><a class="xref" href="http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1/index.jsp" target="_blank">http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1/index.jsp</a></dd>
<dt class="dt dlterm">6.0</dt>
<dd class="dd"><a class="xref" href="http://publib.boulder.ibm.com/infocenter/wpdoc/v6r0/index.jsp" target="_blank">http://publib.boulder.ibm.com/infocenter/wpdoc/v6r0/index.jsp</a></dd>
</dl>
<p class="p"></p>
</div>
</div>
<div class="related-links"></div></div>
</div>
<div class="topic concept nested1" xml:lang="en-us" id="c_overview_admin"><a name="c_overview_admin"><!-- --></a><h2 class="title topictitle2">Overview: administration and statistics</h2>
<div class="body conbody"><p class="shortdesc">The <span class="ph">IBM WebSphere Portlet Factory</span> provides
statistics and allows you to manage your models.</p>
<div class="section"><p class="p">You can set up dynamic class loading in the designer. You can
use the J2EEDeployment servlet to deploy your models to the J2EE environment.
And you can get information about widget performance and statistics about
the server.</p>
</div>
</div>
<div class="related-links"></div><div class="topic concept nested2" xml:lang="en-us" id="c_j2ee_deployment_handler"><a name="c_j2ee_deployment_handler"><!-- --></a><h3 class="title topictitle3">J2EEDeploymentHandler servlet</h3>
<div class="body conbody"><p class="shortdesc">The <samp class="ph codeph">J2EEDeploymentHandler</samp> is a servlet that bootstraps
the initialization of several <span class="ph">IBM WebSphere Portlet Factory</span> run-time
properties.</p>
<p class="p">The servlet runs one time when <span class="ph"> WebSphere Portlet
Factory</span>'s
web application is first initialized by the J2EE application server. This
servlet is not designed to handle end-user requests, therefore it has no URL
mappings in the default <span class="ph filepath">web.xml</span> file that ships with <span class="ph"> WebSphere Portlet
Factory</span>.</p>
<p class="p">If you make changes to <span class="ph"> WebSphere Portlet
Factory</span>'s <span class="ph filepath">web.xml</span> deployment
descriptor please be careful to preserve the order in which <span class="ph"> WebSphere Portlet
Factory</span>'s
servlets are initialized by the application server. The <samp class="ph codeph">J2EEDeploymentHandler</samp> must
always be initialized before any other <span class="ph"> WebSphere Portlet
Factory</span> servlets.
If this requirement is violated, <span class="ph"> WebSphere Portlet
Factory</span> is
not initialized correctly and it most likely results in errors while processing
end-user requests.</p>
<p class="p">If you need to add custom servlets to <span class="ph"> WebSphere Portlet
Factory</span>'s <span class="ph filepath">web.xml</span> descriptor,
then it is recommended that these new servlets be initialized after all of <span class="ph"> WebSphere Portlet
Factory</span>'s servlets have been
initialized. This approach guarantees that all <span class="ph"> WebSphere Portlet
Factory</span> resources
are correctly initialized before being used by your custom servlets. If your
custom servlets do not make use of any <span class="ph"> WebSphere Portlet
Factory</span> resources,
then it is safe to initialize them in whatever order makes sense for your
application.</p>
</div>
<div class="related-links"></div></div>
<div class="topic reference nested2" xml:lang="en-us" id="r_server_statistics"><a name="r_server_statistics"><!-- --></a><h3 class="title topictitle3">Server statistics and performance analysis</h3>
<div class="body refbody"><p class="shortdesc">Use the statistics described in this topic to analyze the
performance of your <span class="ph">IBM WebSphere Portlet Factory</span> application. </p>
<div class="section"><p class="p">As a server runs, statistics are recorded in a log file
in the deployed WAR file, <span class="ph filepath">WEB-INF/logs/serverStats.txt</span>.
Every snapshot interval (the default is five minutes), statistics
are logged about requests to the <span class="ph"> WebSphere Portlet
Factory</span> application. This
information can provide valuable data about the health and performance
of the application.</p>
</div>
<div class="section" id="r_server_statistics__keystats"><a name="r_server_statistics__keystats"><!-- --></a><h4 class="title sectiontitle">Key server statistics</h4><p class="p">The
following are some key things to look for in server statistics to
help analyze application performance.</p>
<dl class="dl"><dt class="dt dlterm">Sessions</dt>
<dd class="dd">If the application runs standalone (that is, as a servlet), this
entry shows the number of <span class="ph"> WebSphere Portlet
Factory</span> user
sessions in memory for this web application when the log entry was
written.  <p class="p">If the application runs as a portlet in <span class="ph">IBM WebSphere Portal</span> server, this entry
is the number of portlet sessions, because each portlet has its own
session data.  To find the number of user sessions, divide the number
of portlet sessions by the number of portlets in use. </p>
<div class="note note"><span class="notetitle">Note:</span> In
some situations, the sessions count can be incorrect. For example,
if the application runs in a cluster with failover enabled, the count
may be incorrect.</div>
<dl class="dl"><dt class="dt dlterm"><span class="ph" id="r_server_statistics__exmpl_ph"><a name="r_server_statistics__exmpl_ph"><!-- --></a>Example</span></dt>
<dd class="dd"><samp class="ph codeph">Sessions: 3</samp><p class="p">If the application
runs as a portlet, there are three application sessions in memory.
If the application runs as a servlet, there are three user sessions
active in this web application. </p>
<p class="p">If the application
runs as a widget, there are three application sessions in memory. </p>
</dd>
<dt class="dt dlterm"><span class="ph" id="r_server_statistics__lookfor_ph"><a name="r_server_statistics__lookfor_ph"><!-- --></a>Indications</span></dt>
<dd class="dd">This number gives a picture of how many applications are in memory
at the end of the snapshot interval.   You can also get an approximation
of how many user sessions are in memory, as described above.</dd>
</dl>
</dd>
<dd class="dd">This number has one of the following meanings:<ul class="ul"><li class="li">If the application runs locally, this entry shows the number of
widget user sessions in memory for this web application when the log
entry was written.  </li>
<li class="li">If the application runs on a <span class="ph">IBM Lotus Mashups</span> server, this
entry is the number of widget sessions, because each widget has its
own session data.  To find the number of user sessions, divide the
number of widget sessions by the number of widgets in use. </li>
</ul>
<div class="note note"><span class="notetitle">Note:</span> In some situations, the sessions count can be incorrect.
For example, if the application runs in a cluster with failover enabled,
the count may be incorrect.</div>
</dd>
<dt class="dt dlterm">Regens</dt>
<dt class="dt dlterm">RegensFromCache</dt>
<dd class="dd">The number of times a model was first requested for a session.
It is not the number of actual regens (regenerations), because most
regens get the result of a regen from cache.   <samp class="ph codeph">RegensFromCache</samp> shows
how many of the total <samp class="ph codeph">Regens</samp> were available from
the regen cache. To find the number of actual number of regens, subtract
the <samp class="ph codeph">RegensFromCache</samp> number from the <samp class="ph codeph">Regens</samp> number.<dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><pre class="pre codeblock">Regens: 21
RegensFromCache: 15</pre>
<p class="p">These lines show that 21 new requests for models were
made.    15 of the requests were taken from cache; there were 6 actual
regens during the snapshot interval.</p>
</dd>
<dt class="dt dlterm"><span class="ph">Indications</span></dt>
<dd class="dd">The <samp class="ph codeph">RegensFromCache</samp> number should be close to
the <samp class="ph codeph">Regens</samp> number.    If there are many more <samp class="ph codeph">Regens</samp> than <samp class="ph codeph">RegensFromCache</samp>,
an excessive number of regens is occurring.</dd>
</dl>
</dd>
<dt class="dt dlterm">MemTotal</dt>
<dt class="dt dlterm">MemFree</dt>
<dt class="dt dlterm">MemInUse</dt>
<dd class="dd">These values show information about the Java heap when the log
entry was written. <dl class="dl"><dt class="dt dlterm"><samp class="ph codeph">MemTotal</samp></dt>
<dd class="dd">The total heap size (in bytes) reported by <samp class="ph codeph">Runtime.getRuntime().totalMemory()</samp></dd>
<dt class="dt dlterm"><samp class="ph codeph">MemFree</samp></dt>
<dd class="dd">The amount of free memory reported by <samp class="ph codeph">Runtime.getRuntime().freeMemory()</samp></dd>
<dt class="dt dlterm"><samp class="ph codeph">MemInUse</samp></dt>
<dd class="dd"><samp class="ph codeph">MemTotal</samp> minus <samp class="ph codeph">MemFree</samp></dd>
</dl>
<dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><pre class="pre codeblock">MemTotal: 759495168
MemFree: 111456936
MemInUse: 648038232</pre>
</dd>
<dt class="dt dlterm"><span class="ph">Indications</span></dt>
<dd class="dd">If <samp class="ph codeph">MemFree</samp> becomes low, there is insufficient
memory for the application and probably a high level of garbage collection. <div class="note note"><span class="notetitle">Note:</span> For
more detailed heap-use information, use the verbose GC feature of
the JVM of the application server.</div>
</dd>
</dl>
</dd>
<dt class="dt dlterm">ErrorsLogged</dt>
<dt class="dt dlterm">SevereErrorsLogged</dt>
<dt class="dt dlterm">WarningsLogged</dt>
<dd class="dd">The number of errors or warnings in the <span class="ph"> WebSphere Portlet
Factory</span> application that were
reported during the snapshot interval.<dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><pre class="pre codeblock">ErrorsLogged: 0
SevereErrorsLogged: 0
WarningsLogged: 0</pre>
</dd>
<dt class="dt dlterm"><span class="ph">Indications</span></dt>
<dd class="dd">Look for any errors or severe errors. These types of errors can
indicate application problems and should be investigated. The error
details are logged in the <span class="ph filepath">event.log</span> file in the
same logs folder as <span class="ph filepath">serverStats.txt</span>.</dd>
</dl>
</dd>
<dt class="dt dlterm">WebAppRequests</dt>
<dd class="dd">Information about all top-level requests to <span class="ph"> WebSphere Portlet
Factory</span>  models. The log includes
the number of requests and the average latency in milliseconds for
those requests. The log entries include a total for all requests,
and a breakdown for each model and each top-level action in the model.<dl class="dl"><dt class="dt dlterm"><span class="ph">Indications</span></dt>
<dd class="dd">Look for long latency times. If latencies occur, see what model
and action they are associated with.  You can get system traces for
those models and actions, and see what part of the execution is taking
excessive time.</dd>
</dl>
</dd>
<dt class="dt dlterm">WebAppSOAPRequests</dt>
<dd class="dd">Information about all top-level requests to <span class="ph"> WebSphere Portlet
Factory</span>  models for SOAP requests
(if a model is being used as a WSDL web service provider).  The log
includes the number of requests and the average latency in milliseconds
for those requests. The log entries include a total for all requests,
and a breakdown for each model and each top-level action in the model. <dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><pre class="pre codeblock">WebAppRequests: 19 Latency: 772
WebAppRequests/employees_demo/portlets/Summary: 6 Latency: 720
WebAppRequests/employees_demo/portlets/Summary/_bowstreet_show_current_page: 4 Latency: 1077
WebAppRequests/employees_demo/portlets/Summary/_gen_call_pbAction_EmployeeDetail: 2 Latency: 7
WebAppRequests/employees_demo/portlets/EmployeeDepartmentsSummary: 1 Latency: 1593
WebAppRequests/employees_demo/portlets/EmployeeDepartmentsSummary/_bowstreet_show_current_page: 1 Latency: 1593
WebAppRequests/employees_demo/portlets/Detail: 6 Latency: 130
WebAppRequests/employees_demo/portlets/Detail/_bowstreet_show_current_page: 4 Latency: 148
WebAppRequests/employees_demo/portlets/Detail/EmployeeDetail: 2 Latency: 94
WebAppRequests/employees_demo/portlets/EmployeePortlet: 6 Latency: 1330
WebAppRequests/employees_demo/portlets/EmployeePortlet/_bowstreet_show_current_page: 6 Latency: 1330</pre>
<p class="p">The log entries show that there were a total of 19
requests to <span class="ph"> WebSphere Portlet
Factory</span>. The
average latency for all widget requests was 772 milliseconds. </p>
<p class="p">The
entry lines following <samp class="ph codeph">WebAppRequests</samp> show the numbers
for each model, and for each top-level action within a model.   You
can see that the 19 total requests are broken down by model, with
6 for the Summary model, 1 for EmployeeDepartmentsSummary, 6 for Detail,
and 6 for EmployeePortlet.</p>
<p class="p"> For each model, you can see what
top-level actions were called. The render requests in <span class="ph">WebSphere Portal</span> server show up
with an action of <samp class="ph codeph">_bowstreet_show_current_page</samp>. </p>
</dd>
<dt class="dt dlterm"><span class="ph">Indications</span></dt>
<dd class="dd">Look for long latency times. If latencies occur, see what model
and action they are associated with.  You can get system traces for
those models and actions, and see what part of the execution is taking
excessive time.</dd>
</dl>
</dd>
<dt class="dt dlterm">DominoViewRequests</dt>
<dd class="dd"></dd>
<dt class="dt dlterm">SAPFunctionCalls </dt>
<dt class="dt dlterm">SqlDataSource</dt>
<dt class="dt dlterm">SqlStatement</dt>
<dt class="dt dlterm">SqlTransformToXml</dt>
<dd class="dd"></dd>
<dt class="dt dlterm">ContentModelFindDocuments</dt>
<dt class="dt dlterm">ContentModelGetDocument</dt>
<dd class="dd">These entries are used to track information about calls to external
systems, for SAP, <span class="ph">IBM Lotus Domino</span>, <span class="ph">WebSphere Portal</span> <span class="ph">Document Manager</span>, and SQL (relational
database).   <p class="p">Similar to <samp class="ph codeph">WebAppRequests</samp>, these
entries show a breakdown for different instances of servers, and latency
on the server. The latency is the average for the number of requests
in milliseconds.  </p>
<div class="note note"><span class="notetitle">Note:</span> The SQL statistics are not logged by default.
  To enable them, select the <span class="ph uicontrol">Log Server Stats</span> option
in the SQL Call builder.</div>
<dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><pre class="pre codeblock">DominoViewRequests: 7 Latency: 187
DominoViewRequests/localhost:80: 7 Latency: 187
DominoViewRequests/localhost:80/DominoTutorialEmployees.nsf: 7 Latency: 187</pre>
<p class="p">These lines show that there were 7 calls made to get
data from <span class="ph">Domino</span>.
The average latency for those calls was 187 milliseconds.  In this
example, all <span class="ph">Domino</span> data
came from the same server (<samp class="ph codeph">localhost:80</samp>), and from
the same <span class="ph">Domino</span> database
(<span class="ph filepath">DominoTutorialEmployees.nsf</span>).</p>
</dd>
<dt class="dt dlterm"><span class="ph">Indications</span></dt>
<dd class="dd">Look for long latency times or an excessive number of calls. 
 </dd>
</dl>
</dd>
</dl>
</div>
<div class="section"><h4 class="title sectiontitle">Other server statistics</h4><p class="p">The following entries
are described for reference and are often less useful than the key
server statistics.</p>
<dl class="dl"><dt class="dt dlterm">RestoredSessions</dt>
<dd class="dd">The number of times that sessions were restored from a failover.
This value is zero unless failover is enabled and there have been
actual failover events (where it was necessary to reconstruct a session
from one machine on another machine).<dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><samp class="ph codeph">RestoredSessions: 0</samp></dd>
</dl>
</dd>
<dt class="dt dlterm">ModelCacheRegenEntries</dt>
<dd class="dd">The number of entries currently in the regen cache of the server
application.   The default cache size is 2000, set with the following
property in <span class="ph filepath">bowstreet.properties</span>: <samp class="ph codeph">bowstreet.cache.model.size=2000</samp><dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><samp class="ph codeph">ModelCacheRegenEntries: 7</samp><p class="p">This line indicates
that there are 7 entries in the regen cache.  If multiple profiles
are in use, there is an entry for each profile.</p>
</dd>
</dl>
</dd>
<dt class="dt dlterm">OutputCacheHits</dt>
<dt class="dt dlterm">OutputCacheMisses</dt>
<dd class="dd">These values show one of the following:<ul class="ul"><li class="li">If cache control is not used, these values show just the caching
statistics for schemas. </li>
<li class="li">If the Cache Control builder and related functionality (for example,
the <span class="ph uicontrol">Caching</span> input in the Service Operation
and Lookup Table builders) is used,  these values are a combination
of schema caching information and caching used. </li>
</ul>
<dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><pre class="pre codeblock">OutputCacheHits: 304
OutputCacheMisses: 2</pre>
<p class="p">Because cache control was not being
used in this example, these values show that there were 306 times
when a schema was requested from source, and all but two of those
came from cache.</p>
</dd>
</dl>
</dd>
<dt class="dt dlterm">PeakSessions</dt>
<dd class="dd">This value is usually the same as the <samp class="ph codeph">Sessions</samp> statistic.<dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><samp class="ph codeph">PeakSessions:3</samp></dd>
</dl>
</dd>
<dt class="dt dlterm">ParallelModelRequests</dt>
<dd class="dd">This value shows information related to the number of times portlets
are loaded simultaneously. <dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><samp class="ph codeph">ParallelModelRequests: 0</samp></dd>
</dl>
</dd>
<dt class="dt dlterm">WebAppMethodClassWritten</dt>
<dt class="dt dlterm">WebAppJSPSourceWritten</dt>
<dd class="dd">These values show the number of times that Java source files and
JSP files were written to disk.  Java and JSP files generated by <span class="ph"> WebSphere Portlet
Factory</span> are written to disk
only when needed, and are not written if the current file on disk
matches the requested or generated file contents.<dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><pre class="pre codeblock">WebAppMethodClassWritten: 1
WebAppJSPSourceWritten: 1</pre>
<p class="p">These lines show that during the snapshot interval,
one Java class was written and compiled, and one JSP file was written
and compiled. </p>
</dd>
</dl>
</dd>
<dt class="dt dlterm">ProfileSet cache hits</dt>
<dt class="dt dlterm">ProfileSet cache misses</dt>
<dt class="dt dlterm">Profile cache hits</dt>
<dt class="dt dlterm">Profile cache misses</dt>
<dt class="dt dlterm">Profile Set cache hits</dt>
<dt class="dt dlterm">Profile Set cache misses</dt>
<dd class="dd">These entries show information about cache hits and misses in
the <span class="ph"> WebSphere Portlet
Factory</span> profiling
system.  Normally these values show a very good ratio of hits to misses,
unless profile values are being updated very frequently. <dl class="dl"><dt class="dt dlterm"><span class="ph">Example</span></dt>
<dd class="dd"><pre class="pre codeblock">ProfileSet cache hits: 0
ProfileSet cache misses: 0
Profile cache hits: 6
Profile cache misses: 1
Profile Set cache hits: 18
Profile Set cache misses: 0</pre>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="example"><h4 class="title sectiontitle">Sample</h4><p class="p">The following sample
shows entries from a <span class="ph filepath">serverStats.txt</span> log. </p>
<pre class="pre">*-- TIME: [2007-07-19 11:07:48,641] --* 
Category: bowstreet.system.server.logging.serverStats.default
Priority: INFO
Thread:   ServerStatsThread
Msg:      Sessions: 3
RestoredSessions: 0
ModelCacheRegenEntries: 7
Regens: 21
RegensFromCache: 15
OutputCacheHits: 304
OutputCacheMisses: 2
MemTotal: 759495168
MemFree: 111456936
MemInUse: 648038232
ErrorsLogged: 0
SevereErrorsLogged: 0
WarningsLogged: 0
PeakSessions: 3
ParallelModelRequests: 0
WebAppRequests: 19 Latency: 772
WebAppRequests/employees_demo/portlets/Summary: 6 Latency: 720
WebAppRequests/employees_demo/portlets/Summary/_bowstreet_show_current_page: 4 Latency: 1077
WebAppRequests/employees_demo/portlets/Summary/_gen_call_pbAction_EmployeeDetail: 2 Latency: 7
WebAppRequests/employees_demo/portlets/EmployeeDepartmentsSummary: 1 Latency: 1593
WebAppRequests/employees_demo/portlets/EmployeeDepartmentsSummary/_bowstreet_show_current_page: 1 Latency: 1593
WebAppRequests/employees_demo/portlets/Detail: 6 Latency: 130
WebAppRequests/employees_demo/portlets/Detail/_bowstreet_show_current_page: 4 Latency: 148
WebAppRequests/employees_demo/portlets/Detail/EmployeeDetail: 2 Latency: 94
WebAppRequests/employees_demo/portlets/EmployeePortlet: 6 Latency: 1330
WebAppRequests/employees_demo/portlets/EmployeePortlet/_bowstreet_show_current_page: 6 Latency: 1330
WebAppSOAPRequests: 0
WebAppMethodClassWritten: 1
WebAppJSPSourceWritten: 1
WebAppsInstantiated: 15
ProfileSet cache hits: 0
ProfileSet cache misses: 0
Profile cache hits: 6
Profile cache misses: 1
Profile Set cache hits: 18
Profile Set cache misses: 0
SAPFunctionCalls: 0
ContentModelFindDocuments: 0
ContentModelGetDocument: 0
DominoViewRequests: 7 Latency: 187
DominoViewRequests/localhost:80: 7 Latency: 187
DominoViewRequests/localhost:80/DominoTutorialEmployees.nsf: 7 Latency: 187</pre>
</div>
</div>
<div class="related-links"></div><div class="topic reference nested3" xml:lang="en-us" id="r_models_and_methods_status"><a name="r_models_and_methods_status"><!-- --></a><h4 class="title topictitle4">Models/Methods status</h4>
<div class="body refbody"><p class="shortdesc">The Models/Methods section of the Statistics screen presents information
that can be used to judge the activity level of <span class="ph">IBM WebSphere Portlet Factory</span> and
its efficiency in delivering models to users.</p>
<div class="section"><p class="p">One critical ratio to monitor is Runtime Model Requests divided
by Runtime Model Requests from Cache. A number much larger than 1 indicates
either that the <span class="ph"> WebSphere Portlet
Factory</span> servlet
is delivering a high number of customized pages (perhaps customized for each
user) or that the runtime model caching feature for the models being used
has been disabled.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" valign="bottom" id="d52e61569">Screen Field</th>
<th class="entry" valign="bottom" id="d52e61571">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" headers="d52e61569 ">Cached Builder Models</td>
<td class="entry" valign="top" headers="d52e61571 ">The <span class="ph uicontrol">Cached Builder Models</span> records the number
of models in cache memory at the time the screen was last updated.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e61569 ">Cached Runtime Models</td>
<td class="entry" valign="top" headers="d52e61571 ">The <span class="ph uicontrol">Cached Runtime Models</span> shows the number of
regenerated models in cache memory at the time the screen was last updated.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e61569 ">Models Instantiated</td>
<td class="entry" valign="top" headers="d52e61571 ">The <span class="ph uicontrol">Models Instantiated</span> field records the accumulated
number of model instances created since the last set of entries were logged.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e61569 ">Runtime Model Requests</td>
<td class="entry" valign="top" headers="d52e61571 ">The <span class="ph uicontrol">Runtime Model Requests</span> field shows the total
number of requests for regenerated models since the last set of entries were
logged.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d52e61569 ">Runtime Model Requests From Cache</td>
<td class="entry" valign="top" headers="d52e61571 ">The <span class="ph uicontrol">Runtime Model Requests from Cache</span> field
shows the total number of requests for regenerated models satisfied by cached
copies of the models since the last set of entries were logged.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links"></div></div>
</div>
</div>
</div>
<div class="topic reference nested0" xml:lang="en-us" id="r_glossary"><a name="r_glossary"><!-- --></a><h1 class="title topictitle1">Glossary</h1>
<div class="body refbody"><p class="shortdesc">This topic presents a glossary of terms.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><thead class="thead" align="left"><tr class="row" valign="bottom"><th class="entry" colspan="2" valign="bottom" id="d52e61643">A</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Aggregation</td>
<td class="entry" valign="middle" headers="d52e61643 ">Aggregation is a composition
technique for building a new object from one or more existing objects
that support some or all the required interfaces of the new object.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">AJAX</td>
<td class="entry" valign="middle" headers="d52e61643 ">Asynchronous JavaScript and
XML. AJAX is a group of technologies used to create interactive web
pages that respond quickly to requests through the exchange of smaller
chunks of data. AJAX uses a combination of existing technologies and
protocols including XHTML, CSS, XML, client-side scripting languages
such as JavaScript, Document
Object Model, and an asynchronous data retrieval mechanism such as
XMLHttpRequest.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Ant</td>
<td class="entry" valign="middle" headers="d52e61643 ">Apache Ant is a software tool
for automating software build processes. It is similar to make but
is implemented using the Java language,
requires the Java platform,
and is best suited to building Java projects. </td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">B</strong></td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Breadcrumbs</td>
<td class="entry" valign="middle" headers="d52e61643 ">Breadcrumbs provide a visual
path that allows users to see where they are in the interface and
to retrace their steps if needed.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder</td>
<td class="entry" valign="middle" headers="d52e61643 ">A builder is a reusable component that generates Java and JSP code based on the context in which
it is called. A builder might add a button to a JSP page, link up
all of the fields in a form to an XML variable, or help you to create
or consume a web service. Think of a builder as a virtual programmer
that can dynamically write code. The builder can write different code
in different situations based on different profiles.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder Call</td>
<td class="entry" valign="middle" headers="d52e61643 ">A builder call is a particular invocation of a builder. When
you add a builder to a model, you are adding a call to that builder
(builder call), not the builder itself. A model is made up of an ordered
list of builder calls.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder Call Argument</td>
<td class="entry" valign="middle" headers="d52e61643 ">A builder call argument is a value passed to a builder when
it is invoked programmatically. In many situations, the arguments
are similar to the builder call inputs.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e61643 ">Builder Call Editor</td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e61643 ">In <span class="ph"> WebSphere Portlet
Factory</span> Designer, each builder
has an associated user interface called a builder call editor. These
wizard-like editors help developers create and edit builder calls
during the implementation of the model. </td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder Call List</td>
<td class="entry" valign="middle" headers="d52e61643 ">The builder call list describes the overall generation behavior
of a model through an ordered sequence of builder calls. In <span class="ph"> WebSphere Portlet
Factory</span> Designer, a builder
call list is opened in the Outline view.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder Call Name</td>
<td class="entry" valign="middle" headers="d52e61643 ">The builder call name is the name of the builder call. This
is different than the name of the builder being called. For instance,
you can have two calls to the same builder in the builder call list,
but easily tell them apart because you can give each its own, unique
builder call name. See also Builder Name.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder Definition (Bdef)</td>
<td class="entry" valign="middle" headers="d52e61643 ">The builder definition describes both the generation behavior
and user interface of a builder. This file is used to create the builder
call editor dialog. It contains constraints and default values for
the arguments in the builder call being constructed.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder input</td>
<td class="entry" valign="middle" headers="d52e61643 ">Builder input is the set of parameters that the builder takes
as inputs. These builder inputs allow a builder to be configured to
produce a specific result or output. For example, most builder have
a Name input whose value appears in the builder call list. .</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder Name</td>
<td class="entry" valign="middle" headers="d52e61643 ">A builder name is the name of the entire component. Should
not be confused with the builder call name.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder picker</td>
<td class="entry" valign="middle" headers="d52e61643 ">The builder picker is a dialog in <span class="ph"> WebSphere Portlet
Factory</span> Designer that lists
the available builders by category or in an alphabetically-ordered
list. The primary purpose of the builder picker is to provide developers
with a convenient way to select a new builder to add to a model. Launches
the builder call editor.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Builder picker category</td>
<td class="entry" valign="middle" headers="d52e61643 ">The builder picker category is a grouping of available builders
within the builder picker according to function.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">C</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Catalog</td>
<td class="entry" valign="middle" headers="d52e61643 ">In <span class="ph">Lotus Mashups</span>,
the catalog is a common repository for sharing and discovering widgets,
feeds, mashups, and pages, with built-in community features like rating,
tagging, and commenting.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Cheatsheet</td>
<td class="entry" valign="middle" headers="d52e61643 ">Cheatsheets are part of the
Eclipse Help system. They provide step-by-step instructions for completing
developer tasks.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Credentials</td>
<td class="entry" valign="middle" headers="d52e61643 ">Credentials are personal identification
information that allows you to access software, such as a user name
and password.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Customization</td>
<td class="entry" valign="middle" headers="d52e61643 ">Customization is the functionality
that allows certain aspects of the <span class="ph">portlets and </span>widgets
to be modified by the user.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">D</strong></td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Deploy</td>
<td class="entry" valign="middle" headers="d52e61643 ">In <span class="ph"> WebSphere Portlet
Factory</span>, deploy refers to
creating a WAR file for an application and installing the WAR on the
target server for execution by end users.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Designer</td>
<td class="entry" valign="middle" headers="d52e61643 ">The Designer is a <span class="ph"> WebSphere Portlet
Factory</span> development
tool which is used to assemble builders into applications and widgets. <span class="ph"> WebSphere Portlet
Factory</span> Designer plugs into
Eclipse, and IBM Rational Development Environments. </td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Dojo</td>
<td class="entry" valign="middle" headers="d52e61643 ">The Dojo Toolkit is a modular
open source JavaScript toolkit
(or library), designed to ease the rapid development of JavaScript-
or Ajax-based applications and web sites. </td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">DOM</td>
<td class="entry" valign="middle" headers="d52e61643 ">Document Object Model. DOM is an interface within XML that
defines mechanisms for accessing data within a document. It enables
programs and scripts to manipulate the content, structure and style
of a document. </td>
</tr>
<tr class="row" valign="middle"><td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e61643 ">Domain</td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e61643 ">A domain is a software
archetype upon which an application is based and within which it exists.
Typical domains include WebApp, JSP, ASP, and STRUTS. Because of its
unique generation capabilities, <span class="ph"> WebSphere Portlet
Factory</span> can produce code and
objects for multiple domains.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Drawer</td>
<td class="entry" valign="middle" headers="d52e61643 ">In <span class="ph">IBM Lotus Mashups</span>, in edit mode,
a drawer is a category of widgets in the toolbox. As you create mashups,
you drag widgets directly onto pages from drawers. You can move widgets
from drawer to drawer and change the names of drawers.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">E</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">EJB</td>
<td class="entry" valign="middle" headers="d52e61643 ">Enterprise Java Bean.
EJB is a software component that encapsulates business process and
logic. A Web application can interact with an EJB through an optional <span class="ph"> WebSphere Portlet
Factory</span> builder.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">F</strong></td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Factory</td>
<td class="entry" valign="middle" headers="d52e61643 ">The <span class="ph"> WebSphere Portlet
Factory</span> is a developer kit
that provides the ability to create and assemble <span class="ph">portlets
or </span>widgets into web-based user interfaces.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Failover</td>
<td class="entry" valign="middle" headers="d52e61643 ">Failover is the ability of a Web application to automatically
transfer operation from one WebEngine to another without loss of data
or state information.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">G</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Group</td>
<td class="entry" valign="middle" headers="d52e61643 ">A group, often referred to as a J2EE group, is a category of
users classified by common traits, such as job title or customer profile.
Categorizing users into groups makes it easier to control the access
of large numbers of users.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">H</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">I</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">IDE</td>
<td class="entry" valign="middle" headers="d52e61643 ">Integrated Development Environment. An IDE is a developer-friendly
environment designed to facilitate the creation of complex software
components. <span class="ph"> WebSphere Portlet
Factory</span> is
a plug-in for Eclipse-based IDEs, including the IBM Rational Application
Developer family of products.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Inheritance (profile)</td>
<td class="entry" valign="middle" headers="d52e61643 ">Profile inheritance allows the values from one profile to be
inherited by a child profile, allowing you to easily set up a hierarchy
of profiles.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">J</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">JAR file</td>
<td class="entry" valign="middle" headers="d52e61643 ">Java Archive file. A
JAR file is used for aggregating many files into one. It is generally
used to distribute Java classes
and associated metadata.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">JDBC</td>
<td class="entry" valign="middle" headers="d52e61643 ">Java Database Connectivity.
JDBC is an application programming interface specification connecting
programs written in Java to
databases that support structured query language (SQL).</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">L</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Linked Java Object</td>
<td class="entry" valign="middle" headers="d52e61643 ">A linked Java object
(LJO) is a builder that enables the direct integration of Java classes and their associated methods into
a model. Developers can use the Linked Java Object
builder to incorporate existing Java code
or you can create new Java classes
to be used with Linked Java Object
builder calls to consolidate commonly used methods into a single,
easily reused Java class. </td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Linked Model</td>
<td class="entry" valign="middle" headers="d52e61643 ">A linked model provides modularity for an application. Linked
models are analogous to classes in Java.
They contain methods and state data, and support the distinction between
public and private access. From a host or container model, you can
directly access any public methods, Linked Java Objects (LJOs), action lists, and pages
in a linked model.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">M</strong></td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Mashup</td>
<td class="entry" valign="middle" headers="d52e61643 ">A mashup is a lightweight Web
application that blends together information from two or more existing
widgets into an integrated and new experience. In a business environment,
a mashup typically combines enterprise and Web-based data from an
assembly of widgets into a single, dynamic application to address
a specific situation or problem. Widgets do not need to be aware of
each other before the mashing occurs.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Model</td>
<td class="entry" valign="middle" headers="d52e61643 ">In <span class="ph"> WebSphere Portlet
Factory</span>, a model
holds the ordered list of builder calls.<span class="ph"> WebSphere Portlet
Factory</span> Designer is used to
create models.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">P</strong></td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Page</td>
<td class="entry" valign="middle" headers="d52e61643 ">In <span class="ph">Lotus Mashups</span>, the page
is the canvas area on which you view, create, and personalize mashups.
In edit mode, you can customize page layouts to achieve a unique look
for your mashups.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Palette</td>
<td class="entry" valign="middle" headers="d52e61643 ">A dialog that appears in the
Design panel that lets you drag and drop new design elements into
your model. </td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Panel</td>
<td class="entry" valign="middle" headers="d52e61643 ">A panel is a discrete section
of the view that presents a specific type of information.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Picker</td>
<td class="entry" valign="middle" headers="d52e61643 ">See Builder Picker. </td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 "><span class="ph">Portlet</span></td>
<td class="entry" valign="middle" headers="d52e61643 "><span class="ph">A portlet
is a pluggable user interface component that is managed and displayed
in a web portal. Portlets produce fragments of markup code that are
aggregated into a portal page. </span></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Profile</td>
<td class="entry" valign="middle" headers="d52e61643 ">A profile is a set of parameters that vary the way an application
behaves. A profile feeds values into builders based on user identity
or other contextual information, such as language. Using profiles,
you can automatically generate different variations of an application <span class="ph">or portlet </span>(from the same model) for different
users, customers, or situations.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Profile-Enable</td>
<td class="entry" valign="middle" headers="d52e61643 ">Profile Enable is the process of exposing a builder input so
it can get its value from an external source, such as a profile.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Profile Set</td>
<td class="entry" valign="middle" headers="d52e61643 ">A profile set is a collection of profiles. For example, you
might have a profile set called <samp class="ph codeph">Country</samp> that contains
profiles for several countries in which you do business (France, Spain,
Germany, or USA, for example). One profile set can be applied to more
than one model.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Project</td>
<td class="entry" valign="middle" headers="d52e61643 ">A project is the top level of organization of your resources
in your IDE. A project contains files and folders. Projects are used
for building, version management, sharing, and organizing resources.
A project can contain session and persistent properties, settings
for environment variables, and references to other projects.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Publish</td>
<td class="entry" valign="middle" headers="d52e61643 ">Publishing is the act of making
a new widget available for use in the web application or web page.
In <span class="ph"> WebSphere Portlet
Factory</span>, the Publish
action is used to make widgets known to the <span class="ph">Lotus Mashups</span> toolbox so
that they are available for use.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">Q</strong></td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Quick Start</td>
<td class="entry" valign="middle" headers="d52e61643 ">The <span class="ph"> WebSphere Portlet
Factory</span> Quick Start Guides
provide fast and easy instructions for creating and publishing a widget.</td>
</tr>
<tr class="row"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">R</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Regeneration</td>
<td class="entry" valign="middle" headers="d52e61643 ">Regeneration is the process of dynamically generating application
code from a model. When a model is regenerated, each builder in the
model executes in sequence and creates pieces of your application,
such as JSP pages or Java methods.
During regeneration, profiles can feed different inputs to builders
based on the user or situation, automatically creating custom applications.<p class="p">Regeneration
is similar to the process of recalculating a spreadsheet, the difference
being that <span class="ph"> WebSphere Portlet
Factory</span> regenerates
code, rather than a set of numbers.</p>
</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Result Set</td>
<td class="entry" valign="middle" headers="d52e61643 ">The result set is the information returned to a model by a
call to a back-end data source, like a service call or database query. </td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Role</td>
<td class="entry" valign="middle" headers="d52e61643 ">A role is also typically referred to as a J2EE role or a security
role, which is an abstract logical grouping of users that is defined
by the person who assembles the J2EE application. When an application
is deployed, the administrator will map the roles to security identities
in the operational environment.<div class="note note"><span class="notetitle">Note:</span> A J2EE group also represents
a category of users, but it has a different scope from a role. A J2EE
group is designated for the entire J2EE server, whereas a role covers
only a specific application in a J2EE server.</div>
</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">S</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Service Call</td>
<td class="entry" valign="middle" headers="d52e61643 ">Service calls, which are associated with web-service requests,
involve making a SOAP request at runtime in accordance with an operation
defined in a WSDL document.<p class="p">The Web Service Call builder parses
a WSDL document and presents operations to the builder user interface
(UI) based on it. At runtime, it prompts for the variables or method
calls that will fulfill the required inputs.</p>
<p class="p">The Profiled Service
Call builder can parse a WSDL during web application regeneration
at runtime, rather than design time.</p>
</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Singleton</td>
<td class="entry" valign="middle" headers="d52e61643 ">The singleton pattern is a design
pattern that is used to restrict instantiation of a class to one object.
This is useful when exactly one object is needed to coordinate actions
across the system. Sometimes it is generalized to systems that operate
more efficiently when only one or a few objects exist.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">SOAP</td>
<td class="entry" valign="middle" headers="d52e61643 ">SOAP is a W3C Recommendation as a protocol for exchanging structured
information and provides an extensible message construct that can
be exchanged over a variety of underlying protocols. For example,
a SOAP message is a XML document that can be sent over HTTP, put on
a message queue, or passed in a Java call. <p class="p">A
SOAP message takes the form of a SOAP envelope which contains headers
and a body. The body typically contains the application data content,
either as a single XML element (looking like a single document), or
multiple XML elements (looking more like parameters analogous to the
RPC world). See <span class="ph filepath">http://www.w3.org/TR/soap12-part0/</span>.</p>
<p class="p">SOAP
with Attachments is another specification that describes how to add
extra non-text attachments into a SOAP envelope.</p>
</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">T</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Toolbox</td>
<td class="entry" valign="middle" headers="d52e61643 ">A toolbox is a set of software functions that you can use to
accomplish a task. In <span class="ph">Lotus Mashups</span>, the toolbox
provides an organized view of all the published widgets.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Tutorial</td>
<td class="entry" valign="middle" headers="d52e61643 ">A tutorial provides step-by-step
information on how to complete a specific task.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Twisty (sometimes twistie)</td>
<td class="entry" valign="middle" headers="d52e61643 ">A twisty is an arrow that points
right until it is clicked, and then it points down. A twisty is usually
used to expand and collapse a list of choices.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">V</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Variable Builder</td>
<td class="entry" valign="middle" headers="d52e61643 ">A Variable builder produces for the web application a component
analogous to a programming variable. Within the Variable builder,
you can declare the type of variable, based on the variable content.
For example, you might declare a variable type as string, XML data,
generic object, or even schema typed by reference to an element or
type defined in a schema in the web application. That variable (or
a subelement of it, if it is schema-typed) can be referenced in other
builders that assign values to it or take values from it at runtime.<p class="p">Many
higher-level builders such as Service Call and SQL Call builders create
variables automatically, declared with the content type (usually schema-typed)
to match the content type expected at runtime.</p>
</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Views (model)</td>
<td class="entry" valign="middle" headers="d52e61643 ">The views in <span class="ph"> WebSphere Portlet
Factory</span> Designer
enable developers to visualize a model in a number of different ways. </td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">W</strong></td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">WAR file</td>
<td class="entry" valign="middle" headers="d52e61643 ">Web Application Archive file.
A WAR file is a JAR file used to distribute a collection of JavaServer
Pages, servlets, Java classes,
XML files, tag libraries and static Web pages (HTML and related files)
that together constitute a Web application.  In <span class="ph"> WebSphere Portlet
Factory</span>, the WAR also contains
models, any applicable profile sets, and the runtime support JAR files.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">WAS CE</td>
<td class="entry" valign="middle" headers="d52e61643 "><span class="ph">IBM WebSphere Application
Server</span> Community Edition
(CE). <span class="ph">WebSphere Application
Server</span> CE software
is provided free with <span class="ph"> WebSphere Portlet
Factory</span> and
can be used as a local development server for testing <span class="ph">portlets
in a stand alone environment or </span>widgets.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">WebApp</td>
<td class="entry" valign="middle" headers="d52e61643 ">The WebApp is a profile-specific instance of an application
that is dynamically created by <span class="ph"> WebSphere Portlet
Factory</span> regeneration engine.
Each builder, when called during regeneration, creates the artifacts
that make up this WebApp or run-time application, such as pages, forms,
variables, Java objects, and
methods. The regeneration engine creates the WebApp by regenerating
a model with a unique instance of profile data. The generated WebApp
code is then processed by <span class="ph"> WebSphere Portlet
Factory</span> execution
engine to instantiate the executable J2EE application sessions. </td>
</tr>
<tr class="row" valign="middle"><td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e61643 ">WebApp Instance</td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e61643 ">The WebApp instance
is the execution time object generated when a user accesses a WebApp.
Once a WebApp has been regenerated and accessed by the user, a web
application instance is created. It maintains its state for as long
as is needed by the web application. </td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Web Application Project</td>
<td class="entry" valign="middle" headers="d52e61643 ">A web application project is
a collection of models that work together.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 "><span class="ph">WebSphere Application
Server</span></td>
<td class="entry" valign="middle" headers="d52e61643 "><span class="ph">WebSphere Application
Server</span> is designed to
set up, operate, and integrate e-business applications across multiple
computing platforms using Web technologies. It includes both the run-time
components and the tools to develop applications that will run on <span class="ph">WebSphere Application
Server</span>. </td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">Web Service</td>
<td class="entry" valign="middle" headers="d52e61643 ">A web service is something that can be invoked across the web
to return a result. For example, an HTTP request that results in HTML
or XML being returned is a web service. Recently, the term web services
has taken on larger connotations. It implies a service described by
a WSDL document, invoked by a SOAP message over some transport, usually
HTTP, which results in a SOAP response containing the reply. The SOAP
messages are XML and are underpinned by an XML Schema.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Widget</td>
<td class="entry" valign="middle" headers="d52e61643 ">A widget is a small, portable
application or piece of dynamic content that can easily be placed
into a Web page or an embedded browser within a rich client such as <span class="ph">Lotus
Notes</span>. </td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Widget Adapter</td>
<td class="entry" valign="middle" headers="d52e61643 ">A widget adapter is a required
component of a widget created by <span class="ph"> WebSphere Portlet
Factory</span>. It specifies the
name of the widget and the drawer in <span class="ph">Lotus Mashups</span> where it is
made available.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Wiring</td>
<td class="entry" valign="middle" headers="d52e61643 ">In <span class="ph">Lotus Mashups</span>, wiring enables
widgets to communicate with one another.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Wizard</td>
<td class="entry" valign="middle" headers="d52e61643 ">A wizard is a software tool
that guides the user through the steps necessary to accomplish a task.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">Workspace</td>
<td class="entry" valign="middle" headers="d52e61643 ">In <span class="ph"> WebSphere Portlet
Factory</span>, the workspace is
the directory where your project and model files are stored.</td>
</tr>
<tr class="row"><td class="entry" valign="middle" headers="d52e61643 ">WSDL</td>
<td class="entry" valign="middle" headers="d52e61643 ">Web Services Description Language.
WSDL is an XML-based language that provides a model for describing
web services.</td>
</tr>
<tr class="row" valign="middle"><td class="entry" colspan="2" valign="middle" headers="d52e61643 "><strong class="ph b">X</strong></td>
</tr>
<tr class="row" valign="middle"><td class="entry" valign="middle" headers="d52e61643 ">XML</td>
<td class="entry" valign="middle" headers="d52e61643 ">XML (Extensible Markup Language) is a markup language much
like HTML. XML was designed to describe data. XML was derived from
SGML (ISO 8879) using start and end tags to surround element names
and associated text, designed as a simple machine and human-readable
syntax for the interchange of data. See <span class="ph filepath">http://www.w3.org/XML/Activity.html</span>.<p class="p">An
XML document is generally associated with an XML Schema that provides
specific declarations of the allowed element and attribute names in
that document and their content.</p>
</td>
</tr>
<tr class="row" valign="middle"><td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e61643 ">XML Namespace</td>
<td class="entry" rowspan="1" colspan="1" valign="middle" headers="d52e61643 ">XML namespaces provide
the means to qualify element and attribute names used in XML documents.<p class="p">Typically
an XML Schema defines the elements and attributes that might be used
in an XML document in terms of a <samp class="ph codeph">targetNamespace</samp>,
which is a unique URI. This allows a schema to import and reference
elements from other schemas, with namespace prefixes being specified
on elements to avoid any ambiguity about whether they are, for example,
a PO from schema 1 or a PO from schema 2. Similarly elements or attributes
in XML documents can define the namespace that they conform to with
an XML namespace declaration. See <span class="ph filepath">http://www.w3.org/TR/xml-names11/</span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="related-links"></div></div>
<div class="topic concept nested0" xml:lang="en-us" id="notices"><a name="notices"><!-- --></a><h1 class="title topictitle1">Notices</h1>
<div class="body conbody"><p class="p">This information was developed for products and services offered
in the U.S.A. </p>
<p class="p">IBM may
not offer the products, services, or features discussed in this document
in other countries. Consult your local IBM representative for information on the products
and services currently available in your area. Any reference to an IBM product, program,
or service is not intended to state or imply that only that IBM product, program,
or service may be used. Any functionally equivalent product, program,
or service that does not infringe any IBM intellectual property right may be used instead.
However, it is the user's responsibility to evaluate and verify the
operation of any non-IBM product, program, or service.  </p>
<div class="p">IBM may
have patents or pending patent applications covering subject matter
described in this document. The furnishing of this document does not
grant you any license to these patents. You can send license inquiries,
in writing, to:  <p class="lines">IBM Director of Licensing<br />
IBM Corporation<br />
North Castle Drive<br />
Armonk, NY 10504-1785<br />
U.S.A. </p>
</div>
<div class="p">For license inquiries regarding double-byte (DBCS) information,
contact the IBM Intellectual
Property Department in your country or send inquiries, in writing,
to: <p class="lines">Intellectual Property Licensing<br />
Legal and Intellectual Property Law<br />
IBM Japan Ltd.<br />
1623-14, Shimotsuruma, Yamato-shi<br />
Kanagawa 242-8502 Japan</p>
</div>
<p class="p"><span class="ph">The following paragraph does not apply to the United Kingdom
or any other country where such provisions are inconsistent with local
law:</span> INTERNATIONAL BUSINESS MACHINES CORPORATION PROVIDES THIS
PUBLICATION "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR
IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
NON-INFRINGEMENT, MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
Some states do not allow disclaimer of express or implied warranties
in certain transactions, therefore, this statement may not apply to
you. </p>
<p class="p">This information could include technical inaccuracies or typographical
errors. Changes are periodically made to the information herein; these
changes will be incorporated in new editions of the publication. IBM may make improvements
and/or changes in the product(s) and/or the program(s) described in
this publication at any time without notice. </p>
<p class="p">Any references in this information to non-IBM Web sites are provided
for convenience only and do not in any manner serve as an endorsement
of those Web sites. The materials at those Web sites are not part
of the materials for this IBM product and use of those Web sites is at
your own risk. </p>
<p class="p">IBM may
use or distribute any of the information you supply in any way it
believes appropriate without incurring any obligation to you.</p>
<div class="p">Licensees of this program who wish to have information about it
for the purpose of enabling: (i) the exchange of information between
independently created programs and other programs (including this
one) and (ii) the mutual use of the information which has been exchanged,
should contact: <p class="lines">IBM Corporation<br />
5 Technology Park Drive<br />
Westford Technology Park<br />
Westford, MA 01886<br />
U.S.A.</p>
</div>
<p class="p">Such information may be available, subject to appropriate terms
and conditions, including in some cases, payment of a fee. </p>
<p class="p">The licensed program described in this document and all licensed
material available for it are provided by IBM under terms of the IBM Customer Agreement, IBM International
Program License Agreement or any equivalent agreement between us.</p>
<p class="p">Any performance data contained herein was determined in a controlled
environment. Therefore, the results obtained in other operating environments
may vary significantly. Some measurements may have been made on development-level
systems and there is no guarantee that these measurements will be
the same on generally available systems. Furthermore, some measurements
may have been estimated through extrapolation. Actual results may
vary. Users of this document should verify the applicable data for
their specific environment. </p>
<p class="p">Information concerning non-IBM products was obtained from the suppliers
of those products, their published announcements or other publicly
available sources. IBM has
not tested those products and cannot confirm the accuracy of performance,
compatibility or any other claims related to non-IBM products. Questions
on the capabilities of non-IBM products should be addressed to the
suppliers of those products. </p>
<p class="p">This information contains examples of data and reports used in
daily business operations. To illustrate them as completely as possible,
the examples include the names of individuals, companies, brands,
and products. All of these names are fictitious and any similarity
to the names and addresses used by an actual business enterprise is
entirely coincidental. </p>
<p class="p">COPYRIGHT LICENSE: </p>
<p class="p">This information contains sample application programs in source
language, which illustrate programming techniques on various operating
platforms. You may copy, modify, and distribute these sample programs
in any form without payment to IBM, for the purposes of developing, using, marketing
or distributing application programs conforming to the application
programming interface for the operating platform for which the sample
programs are written. These examples have not been thoroughly tested
under all conditions. IBM,
therefore, cannot guarantee or imply reliability, serviceability,
or function of these programs. The sample programs are provided "AS
IS", without warranty of any kind. IBM shall not be liable for any damages arising
out of your use of the sample programs.</p>
</div>
<div class="related-links"></div><div class="topic concept nested1" xml:lang="en-us" id="d10e94"><a name="d10e94"><!-- --></a><h2 class="title topictitle2">Trademarks</h2>
<div class="body conbody"><p class="p">IBM, the IBM logo, and ibm.com are
trademarks or registered trademarks of International Business Machines
Corp., registered in many jurisdictions worldwide. Other product and
service names might be trademarks of IBM or other companies. A current list of IBM trademarks
is available on the Web at <span class="q">"<a class="xref" href="http://www.ibm.com/legal/copytrade.shtml" target="_blank">Copyright
and trademark information</a>"</span> at www.ibm.com/legal/copytrade.shtml.</p>
<p class="p">Linux is a registered trademark
of Linus Torvalds in the United States, other countries, or both. </p>
<p class="p">Microsoft, Windows, Windows NT®, and the Windows logo are trademarks of Microsoft Corporation in the United States,
other countries, or both. </p>
<p class="p">UNIX is a registered trademark
of The Open Group in the United States and other countries. </p>
<p class="p">Java and all Java-based trademarks
and logos are trademarks of Sun Microsystems, Inc. in the United States,
other countries, or both. </p>
<p class="p">Other product and service names might be trademarks of IBM or other companies. </p>
</div>
</div>
</div>
<div class="topic nested0" xml:lang="en-us" id="endofdocument"><a name="endofdocument"><!-- --></a><h1 class="title topictitle1 eof">End of document</h1>
<div class="body"><div class="image"><img class="image swoosh" src="designer/images/swoosh_websphere_bottom.jpg" alt="" /></div></div>
</div>
</body>
</html>
