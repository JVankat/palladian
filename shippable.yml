# Language setting
language: java

# Version number
jdk:
  - oraclejdk8

env:
  global:
    - OSSRH_USERNAME=palladian GPG_KEYNAME=4DA31497
    - secure: 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

build:
  ci:
    # fix for error “trustAnchors parameter must be non-empty”; see here:
    # https://stackoverflow.com/a/50103533
    - /usr/bin/printf '\xfe\xed\xfe\xed\x00\x00\x00\x02\x00\x00\x00\x00\xe2\x68\x6e\x45\xfb\x43\xdf\xa4\xd9\x92\xdd\x41\xce\xb6\xb2\x1c\x63\x30\xd7\x92' > /etc/ssl/certs/java/cacerts
    - /var/lib/dpkg/info/ca-certificates-java.postinst configure

    - echo "$GPG_SECRET_KEY_BASE64" | base64 --decode | gpg --import -

    # only use -P release when (1) on master branch, (2) no pull request
    - if [ "$BRANCH" == "master" ] && [ "$IS_PULL_REQUEST" == false ]; then MAVEN_PROFILE="-P release"; fi

    - mvn -V -B -s settings.xml clean deploy $MAVEN_PROFILE
    
  on_success:
    - cp */target/surefire-reports/* shippable/testresults

  on_failure:
    - cp */target/surefire-reports/* shippable/testresults
